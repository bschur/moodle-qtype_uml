var ZM=Object.create;var Ma=Object.defineProperty,UM=Object.defineProperties,HM=Object.getOwnPropertyDescriptor,WM=Object.getOwnPropertyDescriptors,YM=Object.getOwnPropertyNames,$y=Object.getOwnPropertySymbols,XM=Object.getPrototypeOf,qy=Object.prototype.hasOwnProperty,$M=Object.prototype.propertyIsEnumerable;var Jy=(e,t,n)=>t in e?Ma(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jr=(e,t)=>{for(var n in t||={})qy.call(t,n)&&Jy(e,n,t[n]);if($y)for(var n of $y(t))$M.call(t,n)&&Jy(e,n,t[n]);return e},Kr=(e,t)=>UM(e,WM(t));var $=(e,t)=>()=>(e&&(t=e(e=0)),t);var Qy=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Dt=(e,t)=>{for(var n in t)Ma(e,n,{get:t[n],enumerable:!0})},Ky=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of YM(t))!qy.call(e,i)&&i!==n&&Ma(e,i,{get:()=>t[i],enumerable:!(r=HM(t,i))||r.enumerable});return e};var Cr=(e,t,n)=>(n=e!=null?ZM(XM(e)):{},Ky(t||!e||!e.__esModule?Ma(n,"default",{value:e,enumerable:!0}):n,e)),JM=e=>Ky(Ma({},"__esModule",{value:!0}),e);var eI=(e,t,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(e,t)).next())});var tu,Kg,nu,Ol,ep,FA,Xr,ui,jA,tp,BA,zA,np,rp,ip,VA,GA,Ll,op,ZA,Rt=$(()=>{"use strict";tu="1.13.6",Kg=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},nu=Array.prototype,Ol=Object.prototype,ep=typeof Symbol<"u"?Symbol.prototype:null,FA=nu.push,Xr=nu.slice,ui=Ol.toString,jA=Ol.hasOwnProperty,tp=typeof ArrayBuffer<"u",BA=typeof DataView<"u",zA=Array.isArray,np=Object.keys,rp=Object.create,ip=tp&&ArrayBuffer.isView,VA=isNaN,GA=isFinite,Ll=!{toString:null}.propertyIsEnumerable("toString"),op=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ZA=Math.pow(2,53)-1});function yt(e,t){return t=t==null?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}}var Un=$(()=>{"use strict"});function wn(e){var t=typeof e;return t==="function"||t==="object"&&!!e}var Mi=$(()=>{"use strict"});function kl(e){return e===null}var UA=$(()=>{"use strict"});function ys(e){return e===void 0}var sp=$(()=>{"use strict"});function Is(e){return e===!0||e===!1||ui.call(e)==="[object Boolean]"}var ap=$(()=>{"use strict";Rt()});function Rl(e){return!!(e&&e.nodeType===1)}var HA=$(()=>{"use strict"});function at(e){var t="[object "+e+"]";return function(n){return ui.call(n)===t}}var hn=$(()=>{"use strict";Rt()});var go,_l=$(()=>{"use strict";hn();go=at("String")});var ru,up=$(()=>{"use strict";hn();ru=at("Number")});var cp,WA=$(()=>{"use strict";hn();cp=at("Date")});var lp,YA=$(()=>{"use strict";hn();lp=at("RegExp")});var fp,XA=$(()=>{"use strict";hn();fp=at("Error")});var iu,dp=$(()=>{"use strict";hn();iu=at("Symbol")});var ou,hp=$(()=>{"use strict";hn();ou=at("ArrayBuffer")});var $A,sP,bt,nr=$(()=>{"use strict";hn();Rt();$A=at("Function"),sP=Kg.document&&Kg.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof sP!="function"&&($A=function(e){return typeof e=="function"||!1});bt=$A});var gp,JA=$(()=>{"use strict";hn();gp=at("Object")});var Fl,Cs,As=$(()=>{"use strict";Rt();JA();Fl=BA&&gp(new DataView(new ArrayBuffer(8))),Cs=typeof Map<"u"&&gp(new Map)});function uP(e){return e!=null&&bt(e.getInt8)&&ou(e.buffer)}var aP,Ni,jl=$(()=>{"use strict";hn();nr();hp();As();aP=at("DataView");Ni=Fl?uP:aP});var On,Ei=$(()=>{"use strict";Rt();hn();On=zA||at("Array")});function gn(e,t){return e!=null&&jA.call(e,t)}var ci=$(()=>{"use strict";Rt()});var pp,po,Bl=$(()=>{"use strict";hn();ci();pp=at("Arguments");(function(){pp(arguments)||(pp=function(e){return gn(e,"callee")})})();po=pp});function zl(e){return!iu(e)&&GA(e)&&!isNaN(parseFloat(e))}var qA=$(()=>{"use strict";Rt();dp()});function ws(e){return ru(e)&&VA(e)}var mp=$(()=>{"use strict";Rt();up()});function bs(e){return function(){return e}}var vp=$(()=>{"use strict"});function su(e){return function(t){var n=e(t);return typeof n=="number"&&n>=0&&n<=ZA}}var yp=$(()=>{"use strict";Rt()});function au(e){return function(t){return t?.[e]}}var Ip=$(()=>{"use strict"});var mo,Vl=$(()=>{"use strict";Ip();mo=au("byteLength")});var QA,KA=$(()=>{"use strict";yp();Vl();QA=su(mo)});function lP(e){return ip?ip(e)&&!Ni(e):QA(e)&&cP.test(ui.call(e))}var cP,uu,Cp=$(()=>{"use strict";Rt();jl();vp();KA();cP=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;uu=tp?lP:bs(!1)});var Tt,rr=$(()=>{"use strict";Ip();Tt=au("length")});function fP(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(i){return t[i]===!0},push:function(i){return t[i]=!0,e.push(i)}}}function cu(e,t){t=fP(t);var n=op.length,r=e.constructor,i=bt(r)&&r.prototype||Ol,o="constructor";for(gn(e,o)&&!t.contains(o)&&t.push(o);n--;)o=op[n],o in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}var Ap=$(()=>{"use strict";Rt();nr();ci()});function Je(e){if(!wn(e))return[];if(np)return np(e);var t=[];for(var n in e)gn(e,n)&&t.push(n);return Ll&&cu(e,t),t}var en=$(()=>{"use strict";Mi();Rt();ci();Ap()});function Gl(e){if(e==null)return!0;var t=Tt(e);return typeof t=="number"&&(On(e)||go(e)||po(e))?t===0:Tt(Je(e))===0}var ew=$(()=>{"use strict";rr();Ei();_l();Bl();en()});function xs(e,t){var n=Je(t),r=n.length;if(e==null)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0}var wp=$(()=>{"use strict";en()});function Be(e){if(e instanceof Be)return e;if(!(this instanceof Be))return new Be(e);this._wrapped=e}var Hn=$(()=>{"use strict";Rt();Be.VERSION=tu;Be.prototype.value=function(){return this._wrapped};Be.prototype.valueOf=Be.prototype.toJSON=Be.prototype.value;Be.prototype.toString=function(){return String(this._wrapped)}});function Zl(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,mo(e))}var tw=$(()=>{"use strict";Vl()});function bp(e,t,n,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;return i!=="function"&&i!=="object"&&typeof t!="object"?!1:rw(e,t,n,r)}function rw(e,t,n,r){e instanceof Be&&(e=e._wrapped),t instanceof Be&&(t=t._wrapped);var i=ui.call(e);if(i!==ui.call(t))return!1;if(Fl&&i=="[object Object]"&&Ni(e)){if(!Ni(t))return!1;i=nw}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return ep.valueOf.call(e)===ep.valueOf.call(t);case"[object ArrayBuffer]":case nw:return rw(Zl(e),Zl(t),n,r)}var o=i==="[object Array]";if(!o&&uu(e)){var s=mo(e);if(s!==mo(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if(typeof e!="object"||typeof t!="object")return!1;var a=e.constructor,u=t.constructor;if(a!==u&&!(bt(a)&&a instanceof a&&bt(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),o){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!bp(e[l],t[l],n,r))return!1}else{var h=Je(e),f;if(l=h.length,Je(t).length!==l)return!1;for(;l--;)if(f=h[l],!(gn(t,f)&&bp(e[f],t[f],n,r)))return!1}return n.pop(),r.pop(),!0}function Ul(e,t){return bp(e,t)}var nw,iw=$(()=>{"use strict";Hn();Rt();Vl();Cp();nr();As();jl();en();ci();tw();nw="[object DataView]"});function fr(e){if(!wn(e))return[];var t=[];for(var n in e)t.push(n);return Ll&&cu(e,t),t}var Ds=$(()=>{"use strict";Mi();Rt();Ap()});function Ms(e){var t=Tt(e);return function(n){if(n==null)return!1;var r=fr(n);if(Tt(r))return!1;for(var i=0;i<t;i++)if(!bt(n[e[i]]))return!1;return e!==Mp||!bt(n[xp])}}var xp,ow,Dp,sw,aw,Mp,uw,Hl=$(()=>{"use strict";rr();nr();Ds();xp="forEach",ow="has",Dp=["clear","delete"],sw=["get",ow,"set"],aw=Dp.concat(xp,sw),Mp=Dp.concat(sw),uw=["add"].concat(Dp,xp,ow)});var Np,cw=$(()=>{"use strict";hn();As();Hl();Np=Cs?Ms(aw):at("Map")});var Ep,lw=$(()=>{"use strict";hn();As();Hl();Ep=Cs?Ms(Mp):at("WeakMap")});var Tp,fw=$(()=>{"use strict";hn();As();Hl();Tp=Cs?Ms(uw):at("Set")});var Sp,dw=$(()=>{"use strict";hn();Sp=at("WeakSet")});function Wn(e){for(var t=Je(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}var vo=$(()=>{"use strict";en()});function Wl(e){for(var t=Je(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r}var hw=$(()=>{"use strict";en()});function Ns(e){for(var t={},n=Je(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}var Pp=$(()=>{"use strict";en()});function yo(e){var t=[];for(var n in e)bt(e[n])&&t.push(n);return t.sort()}var Op=$(()=>{"use strict";nr()});function Io(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,u=0;u<a;u++){var l=s[u];(!t||n[l]===void 0)&&(n[l]=o[l])}return n}}var Yl=$(()=>{"use strict"});var lu,Lp=$(()=>{"use strict";Yl();Ds();lu=Io(fr)});var Ti,Xl=$(()=>{"use strict";Yl();en();Ti=Io(Je)});var fu,kp=$(()=>{"use strict";Yl();Ds();fu=Io(fr,!0)});function dP(){return function(){}}function du(e){if(!wn(e))return{};if(rp)return rp(e);var t=dP();t.prototype=e;var n=new t;return t.prototype=null,n}var Rp=$(()=>{"use strict";Mi();Rt()});function $l(e,t){var n=du(e);return t&&Ti(n,t),n}var gw=$(()=>{"use strict";Rp();Xl()});function Jl(e){return wn(e)?On(e)?e.slice():lu({},e):e}var pw=$(()=>{"use strict";Mi();Ei();Lp()});function ql(e,t){return t(e),e}var mw=$(()=>{"use strict"});function hu(e){return On(e)?e:[e]}var _p=$(()=>{"use strict";Hn();Ei();Be.toPath=hu});function Nr(e){return Be.toPath(e)}var Es=$(()=>{"use strict";Hn();_p()});function Co(e,t){for(var n=t.length,r=0;r<n;r++){if(e==null)return;e=e[t[r]]}return n?e:void 0}var Ql=$(()=>{"use strict"});function Ts(e,t,n){var r=Co(e,Nr(t));return ys(r)?n:r}var Fp=$(()=>{"use strict";Es();Ql();sp()});function Kl(e,t){t=Nr(t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(!gn(e,i))return!1;e=e[i]}return!!n}var vw=$(()=>{"use strict";ci();Es()});function Si(e){return e}var ef=$(()=>{"use strict"});function Er(e){return e=Ti({},e),function(t){return xs(t,e)}}var gu=$(()=>{"use strict";Xl();wp()});function Pi(e){return e=Nr(e),function(t){return Co(t,e)}}var tf=$(()=>{"use strict";Ql();Es()});function Tr(e,t,n){if(t===void 0)return e;switch(n??3){case 1:return function(r){return e.call(t,r)};case 3:return function(r,i,o){return e.call(t,r,i,o)};case 4:return function(r,i,o,s){return e.call(t,r,i,o,s)}}return function(){return e.apply(t,arguments)}}var Ss=$(()=>{"use strict"});function pu(e,t,n){return e==null?Si:bt(e)?Tr(e,t,n):wn(e)&&!On(e)?Er(e):Pi(e)}var jp=$(()=>{"use strict";ef();nr();Mi();Ei();gu();tf();Ss()});function Ao(e,t){return pu(e,t,1/0)}var Bp=$(()=>{"use strict";Hn();jp();Be.iteratee=Ao});function It(e,t,n){return Be.iteratee!==Ao?Be.iteratee(e,t):pu(e,t,n)}var Ln=$(()=>{"use strict";Hn();jp();Bp()});function nf(e,t,n){t=It(t,n);for(var r=Je(e),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=t(e[a],a,e)}return o}var yw=$(()=>{"use strict";Ln();en()});function Ps(){}var zp=$(()=>{"use strict"});function rf(e){return e==null?Ps:function(t){return Ts(e,t)}}var Iw=$(()=>{"use strict";zp();Fp()});function of(e,t,n){var r=Array(Math.max(0,e));t=Tr(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r}var Cw=$(()=>{"use strict";Ss()});function wo(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}var Vp=$(()=>{"use strict"});var li,sf=$(()=>{"use strict";li=Date.now||function(){return new Date().getTime()}});function mu(e){var t=function(o){return e[o]},n="(?:"+Je(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(o){return o=o==null?"":""+o,r.test(o)?o.replace(i,t):o}}var Gp=$(()=>{"use strict";en()});var af,Zp=$(()=>{"use strict";af={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}});var Up,Aw=$(()=>{"use strict";Gp();Zp();Up=mu(af)});var ww,bw=$(()=>{"use strict";Pp();Zp();ww=Ns(af)});var Hp,xw=$(()=>{"use strict";Gp();bw();Hp=mu(ww)});var Wp,Yp=$(()=>{"use strict";Hn();Wp=Be.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g}});function pP(e){return"\\"+hP[e]}function uf(e,t,n){!t&&n&&(t=n),t=fu({},t,Be.templateSettings);var r=RegExp([(t.escape||Xp).source,(t.interpolate||Xp).source,(t.evaluate||Xp).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(l,h,f,y,I){return o+=e.slice(i,I).replace(gP,pP),i=I+l.length,h?o+=`'+
((__t=(`+h+`))==null?'':_.escape(__t))+
'`:f?o+=`'+
((__t=(`+f+`))==null?'':__t)+
'`:y&&(o+=`';
`+y+`
__p+='`),l}),o+=`';
`;var s=t.variable;if(s){if(!mP.test(s))throw new Error("variable is not a bare identifier: "+s)}else o=`with(obj||{}){
`+o+`}
`,s="obj";o=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+o+`return __p;
`;var a;try{a=new Function(s,"_",o)}catch(l){throw l.source=o,l}var u=function(l){return a.call(this,l,Be)};return u.source="function("+s+`){
`+o+"}",u}var Xp,hP,gP,mP,Dw=$(()=>{"use strict";kp();Hn();Yp();Xp=/(.)^/,hP={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},gP=/\\|'|\r|\n|\u2028|\u2029/g;mP=/^\s*(\w|\$)+\s*$/});function cf(e,t,n){t=Nr(t);var r=t.length;if(!r)return bt(n)?n.call(e):n;for(var i=0;i<r;i++){var o=e?.[t[i]];o===void 0&&(o=n,i=r),e=bt(o)?o.call(e):o}return e}var Mw=$(()=>{"use strict";nr();Es()});function lf(e){var t=++vP+"";return e?e+t:t}var vP,Nw=$(()=>{"use strict";vP=0});function ff(e){var t=Be(e);return t._chain=!0,t}var Ew=$(()=>{"use strict";Hn()});function vu(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=du(e.prototype),s=e.apply(o,i);return wn(s)?s:o}var $p=$(()=>{"use strict";Rp();Mi()});var Jp,fi,yu=$(()=>{"use strict";Un();$p();Hn();Jp=yt(function(e,t){var n=Jp.placeholder,r=function(){for(var i=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===n?arguments[i++]:t[a];for(;i<arguments.length;)s.push(arguments[i++]);return vu(e,r,this,this,s)};return r});Jp.placeholder=Be;fi=Jp});var Iu,qp=$(()=>{"use strict";Un();nr();$p();Iu=yt(function(e,t,n){if(!bt(e))throw new TypeError("Bind must be called on a function");var r=yt(function(i){return vu(e,r,t,this,n.concat(i))});return r})});var St,Yn=$(()=>{"use strict";yp();rr();St=su(Tt)});function Xn(e,t,n,r){if(r=r||[],!t&&t!==0)t=1/0;else if(t<=0)return r.concat(e);for(var i=r.length,o=0,s=Tt(e);o<s;o++){var a=e[o];if(St(a)&&(On(a)||po(a)))if(t>1)Xn(a,t-1,n,r),i=r.length;else for(var u=0,l=a.length;u<l;)r[i++]=a[u++];else n||(r[i++]=a)}return r}var bo=$(()=>{"use strict";rr();Yn();Ei();Bl()});var Qp,Tw=$(()=>{"use strict";Un();bo();qp();Qp=yt(function(e,t){t=Xn(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=Iu(e[r],e)}return e})});function df(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return gn(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n}var Sw=$(()=>{"use strict";ci()});var Cu,Kp=$(()=>{"use strict";Un();Cu=yt(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)})});var em,Pw=$(()=>{"use strict";yu();Kp();Hn();em=fi(Cu,Be,1)});function hf(e,t,n){var r,i,o,s,a=0;n||(n={});var u=function(){a=n.leading===!1?0:li(),r=null,s=e.apply(i,o),r||(i=o=null)},l=function(){var h=li();!a&&n.leading===!1&&(a=h);var f=t-(h-a);return i=this,o=arguments,f<=0||f>t?(r&&(clearTimeout(r),r=null),a=h,s=e.apply(i,o),r||(i=o=null)):!r&&n.trailing!==!1&&(r=setTimeout(u,f)),s};return l.cancel=function(){clearTimeout(r),a=0,r=i=o=null},l}var Ow=$(()=>{"use strict";sf()});function gf(e,t,n){var r,i,o,s,a,u=function(){var h=li()-i;t>h?r=setTimeout(u,t-h):(r=null,n||(s=e.apply(a,o)),r||(o=a=null))},l=yt(function(h){return a=this,o=h,i=li(),r||(r=setTimeout(u,t),n&&(s=e.apply(a,o))),s});return l.cancel=function(){clearTimeout(r),r=o=a=null},l}var Lw=$(()=>{"use strict";Un();sf()});function pf(e,t){return fi(t,e)}var kw=$(()=>{"use strict";yu()});function Oi(e){return function(){return!e.apply(this,arguments)}}var mf=$(()=>{"use strict"});function vf(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}var Rw=$(()=>{"use strict"});function yf(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}var _w=$(()=>{"use strict"});function Os(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var tm=$(()=>{"use strict"});var nm,Fw=$(()=>{"use strict";yu();tm();nm=fi(Os,2)});function Ls(e,t,n){t=It(t,n);for(var r=Je(e),i,o=0,s=r.length;o<s;o++)if(i=r[o],t(e[i],i,e))return i}var rm=$(()=>{"use strict";Ln();en()});function Au(e){return function(t,n,r){n=It(n,r);for(var i=Tt(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}var im=$(()=>{"use strict";Ln();rr()});var xo,If=$(()=>{"use strict";im();xo=Au(1)});var wu,om=$(()=>{"use strict";im();wu=Au(-1)});function ks(e,t,n,r){n=It(n,r,1);for(var i=n(t),o=0,s=Tt(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o}var sm=$(()=>{"use strict";Ln();rr()});function bu(e,t,n){return function(r,i,o){var s=0,a=Tt(r);if(typeof o=="number")e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(Xr.call(r,s,a),ws),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(r[o]===i)return o;return-1}}var am=$(()=>{"use strict";rr();Rt();mp()});var xu,um=$(()=>{"use strict";sm();If();am();xu=bu(1,xo,ks)});var cm,jw=$(()=>{"use strict";om();am();cm=bu(-1,wu)});function Do(e,t,n){var r=St(e)?xo:Ls,i=r(e,t,n);if(i!==void 0&&i!==-1)return e[i]}var lm=$(()=>{"use strict";Yn();If();rm()});function Cf(e,t){return Do(e,Er(t))}var Bw=$(()=>{"use strict";lm();gu()});function tn(e,t,n){t=Tr(t,n);var r,i;if(St(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=Je(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e}var Li=$(()=>{"use strict";Ss();Yn();en()});function kn(e,t,n){t=It(t,n);for(var r=!St(e)&&Je(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o}var Mo=$(()=>{"use strict";Ln();Yn();en()});function Du(e){var t=function(n,r,i,o){var s=!St(n)&&Je(n),a=(s||n).length,u=e>0?0:a-1;for(o||(i=n[s?s[u]:u],u+=e);u>=0&&u<a;u+=e){var l=s?s[u]:u;i=r(i,n[l],l,n)}return i};return function(n,r,i,o){var s=arguments.length>=3;return t(n,Tr(r,o,4),i,s)}}var fm=$(()=>{"use strict";Yn();en();Ss()});var Mu,zw=$(()=>{"use strict";fm();Mu=Du(1)});var Af,Vw=$(()=>{"use strict";fm();Af=Du(-1)});function ir(e,t,n){var r=[];return t=It(t,n),tn(e,function(i,o,s){t(i,o,s)&&r.push(i)}),r}var Rs=$(()=>{"use strict";Ln();Li()});function wf(e,t,n){return ir(e,Oi(It(t)),n)}var Gw=$(()=>{"use strict";Rs();mf();Ln()});function Nu(e,t,n){t=It(t,n);for(var r=!St(e)&&Je(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0}var Zw=$(()=>{"use strict";Ln();Yn();en()});function Eu(e,t,n){t=It(t,n);for(var r=!St(e)&&Je(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1}var Uw=$(()=>{"use strict";Ln();Yn();en()});function bn(e,t,n,r){return St(e)||(e=Wn(e)),(typeof n!="number"||r)&&(n=0),xu(e,t,n)>=0}var _s=$(()=>{"use strict";Yn();vo();um()});var dm,Hw=$(()=>{"use strict";Un();nr();Mo();Ql();Es();dm=yt(function(e,t,n){var r,i;return bt(t)?i=t:(t=Nr(t),r=t.slice(0,-1),t=t[t.length-1]),kn(e,function(o){var s=i;if(!s){if(r&&r.length&&(o=Co(o,r)),o==null)return;s=o[t]}return s==null?s:s.apply(o,n)})})});function ki(e,t){return kn(e,Pi(t))}var bf=$(()=>{"use strict";Mo();tf()});function xf(e,t){return ir(e,Er(t))}var Ww=$(()=>{"use strict";Rs();gu()});function Fs(e,t,n){var r=-1/0,i=-1/0,o,s;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=St(e)?e:Wn(e);for(var a=0,u=e.length;a<u;a++)o=e[a],o!=null&&o>r&&(r=o)}else t=It(t,n),tn(e,function(l,h,f){s=t(l,h,f),(s>i||s===-1/0&&r===-1/0)&&(r=l,i=s)});return r}var hm=$(()=>{"use strict";Yn();vo();Ln();Li()});function Df(e,t,n){var r=1/0,i=1/0,o,s;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=St(e)?e:Wn(e);for(var a=0,u=e.length;a<u;a++)o=e[a],o!=null&&o<r&&(r=o)}else t=It(t,n),tn(e,function(l,h,f){s=t(l,h,f),(s<i||s===1/0&&r===1/0)&&(r=l,i=s)});return r}var Yw=$(()=>{"use strict";Yn();vo();Ln();Li()});function js(e){return e?On(e)?Xr.call(e):go(e)?e.match(yP):St(e)?kn(e,Si):Wn(e):[]}var yP,gm=$(()=>{"use strict";Ei();Rt();_l();Yn();Mo();ef();vo();yP=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g});function Bs(e,t,n){if(t==null||n)return St(e)||(e=Wn(e)),e[wo(e.length-1)];var r=js(e),i=Tt(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=wo(s,o),u=r[s];r[s]=r[a],r[a]=u}return r.slice(0,t)}var pm=$(()=>{"use strict";Yn();vo();rr();Vp();gm()});function Mf(e){return Bs(e,1/0)}var Xw=$(()=>{"use strict";pm()});function Nf(e,t,n){var r=0;return t=It(t,n),ki(kn(e,function(i,o,s){return{value:i,index:r++,criteria:t(i,o,s)}}).sort(function(i,o){var s=i.criteria,a=o.criteria;if(s!==a){if(s>a||s===void 0)return 1;if(s<a||a===void 0)return-1}return i.index-o.index}),"value")}var $w=$(()=>{"use strict";Ln();bf();Mo()});function di(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=It(r,i),tn(n,function(s,a){var u=r(s,a,n);e(o,s,u)}),o}}var Tu=$(()=>{"use strict";Ln();Li()});var mm,Jw=$(()=>{"use strict";Tu();ci();mm=di(function(e,t,n){gn(e,n)?e[n].push(t):e[n]=[t]})});var vm,qw=$(()=>{"use strict";Tu();vm=di(function(e,t,n){e[n]=t})});var ym,Qw=$(()=>{"use strict";Tu();ci();ym=di(function(e,t,n){gn(e,n)?e[n]++:e[n]=1})});var Im,Kw=$(()=>{"use strict";Tu();Im=di(function(e,t,n){e[n?0:1].push(t)},!0)});function Ef(e){return e==null?0:St(e)?e.length:Je(e).length}var eb=$(()=>{"use strict";Yn();en()});function Cm(e,t,n){return t in n}var tb=$(()=>{"use strict"});var Su,Am=$(()=>{"use strict";Un();nr();Ss();Ds();tb();bo();Su=yt(function(e,t){var n={},r=t[0];if(e==null)return n;bt(r)?(t.length>1&&(r=Tr(r,t[1])),t=fr(e)):(r=Cm,t=Xn(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];r(a,s,e)&&(n[s]=a)}return n})});var wm,nb=$(()=>{"use strict";Un();nr();mf();Mo();bo();_s();Am();wm=yt(function(e,t){var n=t[0],r;return bt(n)?(n=Oi(n),t.length>1&&(r=t[1])):(t=kn(Xn(t,!1,!1),String),n=function(i,o){return!bn(t,o)}),Su(e,n,r)})});function zs(e,t,n){return Xr.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))}var bm=$(()=>{"use strict";Rt()});function Vs(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[0]:zs(e,e.length-t)}var rb=$(()=>{"use strict";bm()});function Ri(e,t,n){return Xr.call(e,t==null||n?1:t)}var xm=$(()=>{"use strict";Rt()});function Tf(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[e.length-1]:Ri(e,Math.max(0,e.length-t))}var ib=$(()=>{"use strict";xm()});function Sf(e){return ir(e,Boolean)}var ob=$(()=>{"use strict";Rs()});function Pf(e,t){return Xn(e,t,!1)}var sb=$(()=>{"use strict";bo()});var Pu,Dm=$(()=>{"use strict";Un();bo();Rs();_s();Pu=yt(function(e,t){return t=Xn(t,!0,!0),ir(e,function(n){return!bn(t,n)})})});var Mm,ab=$(()=>{"use strict";Un();Dm();Mm=yt(function(e,t){return Pu(e,t)})});function No(e,t,n,r){Is(t)||(r=n,n=t,t=!1),n!=null&&(n=It(n,r));for(var i=[],o=[],s=0,a=Tt(e);s<a;s++){var u=e[s],l=n?n(u,s,e):u;t&&!n?((!s||o!==l)&&i.push(u),o=l):n?bn(o,l)||(o.push(l),i.push(u)):bn(i,u)||i.push(u)}return i}var Nm=$(()=>{"use strict";ap();Ln();rr();_s()});var Em,ub=$(()=>{"use strict";Un();Nm();bo();Em=yt(function(e){return No(Xn(e,!0,!0))})});function Of(e){for(var t=[],n=arguments.length,r=0,i=Tt(e);r<i;r++){var o=e[r];if(!bn(t,o)){var s;for(s=1;s<n&&bn(arguments[s],o);s++);s===n&&t.push(o)}}return t}var cb=$(()=>{"use strict";rr();_s()});function Eo(e){for(var t=e&&Fs(e,Tt).length||0,n=Array(t),r=0;r<t;r++)n[r]=ki(e,r);return n}var Tm=$(()=>{"use strict";hm();rr();bf()});var Sm,lb=$(()=>{"use strict";Un();Tm();Sm=yt(Eo)});function Lf(e,t){for(var n={},r=0,i=Tt(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}var fb=$(()=>{"use strict";rr()});function kf(e,t,n){t==null&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i}var db=$(()=>{"use strict"});function Rf(e,t){if(t==null||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(Xr.call(e,r,r+=t));return n}var hb=$(()=>{"use strict";Rt()});function Gs(e,t){return e._chain?Be(t).chain():t}var Pm=$(()=>{"use strict";Hn()});function Zs(e){return tn(yo(e),function(t){var n=Be[t]=e[t];Be.prototype[t]=function(){var r=[this._wrapped];return FA.apply(r,arguments),Gs(this,n.apply(Be,r))}}),Be}var gb=$(()=>{"use strict";Hn();Li();Op();Rt();Pm()});var pb,mb=$(()=>{"use strict";Hn();Li();Rt();Pm();tn(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=nu[e];Be.prototype[e]=function(){var n=this._wrapped;return n!=null&&(t.apply(n,arguments),(e==="shift"||e==="splice")&&n.length===0&&delete n[0]),Gs(this,n)}});tn(["concat","join","slice"],function(e){var t=nu[e];Be.prototype[e]=function(){var n=this._wrapped;return n!=null&&(n=t.apply(n,arguments)),Gs(this,n)}});pb=Be});var Om={};Dt(Om,{VERSION:()=>tu,after:()=>yf,all:()=>Nu,allKeys:()=>fr,any:()=>Eu,assign:()=>Ti,before:()=>Os,bind:()=>Iu,bindAll:()=>Qp,chain:()=>ff,chunk:()=>Rf,clone:()=>Jl,collect:()=>kn,compact:()=>Sf,compose:()=>vf,constant:()=>bs,contains:()=>bn,countBy:()=>ym,create:()=>$l,debounce:()=>gf,default:()=>pb,defaults:()=>fu,defer:()=>em,delay:()=>Cu,detect:()=>Do,difference:()=>Pu,drop:()=>Ri,each:()=>tn,escape:()=>Up,every:()=>Nu,extend:()=>lu,extendOwn:()=>Ti,filter:()=>ir,find:()=>Do,findIndex:()=>xo,findKey:()=>Ls,findLastIndex:()=>wu,findWhere:()=>Cf,first:()=>Vs,flatten:()=>Pf,foldl:()=>Mu,foldr:()=>Af,forEach:()=>tn,functions:()=>yo,get:()=>Ts,groupBy:()=>mm,has:()=>Kl,head:()=>Vs,identity:()=>Si,include:()=>bn,includes:()=>bn,indexBy:()=>vm,indexOf:()=>xu,initial:()=>zs,inject:()=>Mu,intersection:()=>Of,invert:()=>Ns,invoke:()=>dm,isArguments:()=>po,isArray:()=>On,isArrayBuffer:()=>ou,isBoolean:()=>Is,isDataView:()=>Ni,isDate:()=>cp,isElement:()=>Rl,isEmpty:()=>Gl,isEqual:()=>Ul,isError:()=>fp,isFinite:()=>zl,isFunction:()=>bt,isMap:()=>Np,isMatch:()=>xs,isNaN:()=>ws,isNull:()=>kl,isNumber:()=>ru,isObject:()=>wn,isRegExp:()=>lp,isSet:()=>Tp,isString:()=>go,isSymbol:()=>iu,isTypedArray:()=>uu,isUndefined:()=>ys,isWeakMap:()=>Ep,isWeakSet:()=>Sp,iteratee:()=>Ao,keys:()=>Je,last:()=>Tf,lastIndexOf:()=>cm,map:()=>kn,mapObject:()=>nf,matcher:()=>Er,matches:()=>Er,max:()=>Fs,memoize:()=>df,methods:()=>yo,min:()=>Df,mixin:()=>Zs,negate:()=>Oi,noop:()=>Ps,now:()=>li,object:()=>Lf,omit:()=>wm,once:()=>nm,pairs:()=>Wl,partial:()=>fi,partition:()=>Im,pick:()=>Su,pluck:()=>ki,property:()=>Pi,propertyOf:()=>rf,random:()=>wo,range:()=>kf,reduce:()=>Mu,reduceRight:()=>Af,reject:()=>wf,rest:()=>Ri,restArguments:()=>yt,result:()=>cf,sample:()=>Bs,select:()=>ir,shuffle:()=>Mf,size:()=>Ef,some:()=>Eu,sortBy:()=>Nf,sortedIndex:()=>ks,tail:()=>Ri,take:()=>Vs,tap:()=>ql,template:()=>uf,templateSettings:()=>Wp,throttle:()=>hf,times:()=>of,toArray:()=>js,toPath:()=>hu,transpose:()=>Eo,unescape:()=>Hp,union:()=>Em,uniq:()=>No,unique:()=>No,uniqueId:()=>lf,unzip:()=>Eo,values:()=>Wn,where:()=>xf,without:()=>Mm,wrap:()=>pf,zip:()=>Sm});var _f=$(()=>{"use strict";Rt();Un();Mi();UA();sp();ap();HA();_l();up();WA();YA();XA();dp();hp();jl();Ei();nr();Bl();qA();mp();Cp();ew();wp();iw();cw();lw();fw();dw();en();Ds();vo();hw();Pp();Op();Lp();Xl();kp();gw();pw();mw();Fp();vw();yw();ef();vp();zp();_p();tf();Iw();gu();Cw();Vp();sf();Aw();xw();Yp();Dw();Mw();Nw();Ew();Bp();yu();qp();Tw();Sw();Kp();Pw();Ow();Lw();kw();mf();Rw();_w();tm();Fw();rm();If();om();sm();um();jw();lm();Bw();Li();Mo();zw();Vw();Rs();Gw();Zw();Uw();_s();Hw();bf();Ww();hm();Yw();Xw();pm();$w();Jw();qw();Qw();Kw();gm();eb();Am();nb();rb();bm();ib();xm();ob();sb();ab();Nm();ub();cb();Dm();Tm();lb();fb();db();hb();gb();mb()});var Lm,vb,yb=$(()=>{"use strict";_f();_f();Lm=Zs(Om);Lm._=Lm;vb=Lm});var Ib={};Dt(Ib,{VERSION:()=>tu,after:()=>yf,all:()=>Nu,allKeys:()=>fr,any:()=>Eu,assign:()=>Ti,before:()=>Os,bind:()=>Iu,bindAll:()=>Qp,chain:()=>ff,chunk:()=>Rf,clone:()=>Jl,collect:()=>kn,compact:()=>Sf,compose:()=>vf,constant:()=>bs,contains:()=>bn,countBy:()=>ym,create:()=>$l,debounce:()=>gf,default:()=>vb,defaults:()=>fu,defer:()=>em,delay:()=>Cu,detect:()=>Do,difference:()=>Pu,drop:()=>Ri,each:()=>tn,escape:()=>Up,every:()=>Nu,extend:()=>lu,extendOwn:()=>Ti,filter:()=>ir,find:()=>Do,findIndex:()=>xo,findKey:()=>Ls,findLastIndex:()=>wu,findWhere:()=>Cf,first:()=>Vs,flatten:()=>Pf,foldl:()=>Mu,foldr:()=>Af,forEach:()=>tn,functions:()=>yo,get:()=>Ts,groupBy:()=>mm,has:()=>Kl,head:()=>Vs,identity:()=>Si,include:()=>bn,includes:()=>bn,indexBy:()=>vm,indexOf:()=>xu,initial:()=>zs,inject:()=>Mu,intersection:()=>Of,invert:()=>Ns,invoke:()=>dm,isArguments:()=>po,isArray:()=>On,isArrayBuffer:()=>ou,isBoolean:()=>Is,isDataView:()=>Ni,isDate:()=>cp,isElement:()=>Rl,isEmpty:()=>Gl,isEqual:()=>Ul,isError:()=>fp,isFinite:()=>zl,isFunction:()=>bt,isMap:()=>Np,isMatch:()=>xs,isNaN:()=>ws,isNull:()=>kl,isNumber:()=>ru,isObject:()=>wn,isRegExp:()=>lp,isSet:()=>Tp,isString:()=>go,isSymbol:()=>iu,isTypedArray:()=>uu,isUndefined:()=>ys,isWeakMap:()=>Ep,isWeakSet:()=>Sp,iteratee:()=>Ao,keys:()=>Je,last:()=>Tf,lastIndexOf:()=>cm,map:()=>kn,mapObject:()=>nf,matcher:()=>Er,matches:()=>Er,max:()=>Fs,memoize:()=>df,methods:()=>yo,min:()=>Df,mixin:()=>Zs,negate:()=>Oi,noop:()=>Ps,now:()=>li,object:()=>Lf,omit:()=>wm,once:()=>nm,pairs:()=>Wl,partial:()=>fi,partition:()=>Im,pick:()=>Su,pluck:()=>ki,property:()=>Pi,propertyOf:()=>rf,random:()=>wo,range:()=>kf,reduce:()=>Mu,reduceRight:()=>Af,reject:()=>wf,rest:()=>Ri,restArguments:()=>yt,result:()=>cf,sample:()=>Bs,select:()=>ir,shuffle:()=>Mf,size:()=>Ef,some:()=>Eu,sortBy:()=>Nf,sortedIndex:()=>ks,tail:()=>Ri,take:()=>Vs,tap:()=>ql,template:()=>uf,templateSettings:()=>Wp,throttle:()=>hf,times:()=>of,toArray:()=>js,toPath:()=>hu,transpose:()=>Eo,unescape:()=>Hp,union:()=>Em,uniq:()=>No,unique:()=>No,uniqueId:()=>lf,unzip:()=>Eo,values:()=>Wn,where:()=>xf,without:()=>Mm,wrap:()=>pf,zip:()=>Sm});var Cb=$(()=>{"use strict";yb();_f()});var hi=Qy((Ab,Ff)=>{"use strict";(function(e,t){"use strict";typeof Ff=="object"&&typeof Ff.exports=="object"?Ff.exports=e.document?t(e,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(e)})(typeof window<"u"?window:Ab,function(e,t){"use strict";var n=[],r=Object.getPrototypeOf,i=n.slice,o=n.flat?function(c){return n.flat.call(c)}:function(c){return n.concat.apply([],c)},s=n.push,a=n.indexOf,u={},l=u.toString,h=u.hasOwnProperty,f=h.toString,y=f.call(Object),I={},b=function(d){return typeof d=="function"&&typeof d.nodeType!="number"&&typeof d.item!="function"},D=function(d){return d!=null&&d===d.window},E=e.document,P={type:!0,src:!0,nonce:!0,noModule:!0};function z(c,d,g){g=g||E;var m,C,w=g.createElement("script");if(w.text=c,d)for(m in P)C=d[m]||d.getAttribute&&d.getAttribute(m),C&&w.setAttribute(m,C);g.head.appendChild(w).parentNode.removeChild(w)}function H(c){return c==null?c+"":typeof c=="object"||typeof c=="function"?u[l.call(c)]||"object":typeof c}var X="3.7.1",ne=/HTML$/i,p=function(c,d){return new p.fn.init(c,d)};p.fn=p.prototype={jquery:X,constructor:p,length:0,toArray:function(){return i.call(this)},get:function(c){return c==null?i.call(this):c<0?this[c+this.length]:this[c]},pushStack:function(c){var d=p.merge(this.constructor(),c);return d.prevObject=this,d},each:function(c){return p.each(this,c)},map:function(c){return this.pushStack(p.map(this,function(d,g){return c.call(d,g,d)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(p.grep(this,function(c,d){return(d+1)%2}))},odd:function(){return this.pushStack(p.grep(this,function(c,d){return d%2}))},eq:function(c){var d=this.length,g=+c+(c<0?d:0);return this.pushStack(g>=0&&g<d?[this[g]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},p.extend=p.fn.extend=function(){var c,d,g,m,C,w,M=arguments[0]||{},_=1,R=arguments.length,U=!1;for(typeof M=="boolean"&&(U=M,M=arguments[_]||{},_++),typeof M!="object"&&!b(M)&&(M={}),_===R&&(M=this,_--);_<R;_++)if((c=arguments[_])!=null)for(d in c)m=c[d],!(d==="__proto__"||M===m)&&(U&&m&&(p.isPlainObject(m)||(C=Array.isArray(m)))?(g=M[d],C&&!Array.isArray(g)?w=[]:!C&&!p.isPlainObject(g)?w={}:w=g,C=!1,M[d]=p.extend(U,w,m)):m!==void 0&&(M[d]=m));return M},p.extend({expando:"jQuery"+(X+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw new Error(c)},noop:function(){},isPlainObject:function(c){var d,g;return!c||l.call(c)!=="[object Object]"?!1:(d=r(c),d?(g=h.call(d,"constructor")&&d.constructor,typeof g=="function"&&f.call(g)===y):!0)},isEmptyObject:function(c){var d;for(d in c)return!1;return!0},globalEval:function(c,d,g){z(c,{nonce:d&&d.nonce},g)},each:function(c,d){var g,m=0;if(v(c))for(g=c.length;m<g&&d.call(c[m],m,c[m])!==!1;m++);else for(m in c)if(d.call(c[m],m,c[m])===!1)break;return c},text:function(c){var d,g="",m=0,C=c.nodeType;if(!C)for(;d=c[m++];)g+=p.text(d);return C===1||C===11?c.textContent:C===9?c.documentElement.textContent:C===3||C===4?c.nodeValue:g},makeArray:function(c,d){var g=d||[];return c!=null&&(v(Object(c))?p.merge(g,typeof c=="string"?[c]:c):s.call(g,c)),g},inArray:function(c,d,g){return d==null?-1:a.call(d,c,g)},isXMLDoc:function(c){var d=c&&c.namespaceURI,g=c&&(c.ownerDocument||c).documentElement;return!ne.test(d||g&&g.nodeName||"HTML")},merge:function(c,d){for(var g=+d.length,m=0,C=c.length;m<g;m++)c[C++]=d[m];return c.length=C,c},grep:function(c,d,g){for(var m,C=[],w=0,M=c.length,_=!g;w<M;w++)m=!d(c[w],w),m!==_&&C.push(c[w]);return C},map:function(c,d,g){var m,C,w=0,M=[];if(v(c))for(m=c.length;w<m;w++)C=d(c[w],w,g),C!=null&&M.push(C);else for(w in c)C=d(c[w],w,g),C!=null&&M.push(C);return o(M)},guid:1,support:I}),typeof Symbol=="function"&&(p.fn[Symbol.iterator]=n[Symbol.iterator]),p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,d){u["[object "+d+"]"]=d.toLowerCase()});function v(c){var d=!!c&&"length"in c&&c.length,g=H(c);return b(c)||D(c)?!1:g==="array"||d===0||typeof d=="number"&&d>0&&d-1 in c}function x(c,d){return c.nodeName&&c.nodeName.toLowerCase()===d.toLowerCase()}var N=n.pop,S=n.sort,j=n.splice,B="[\\x20\\t\\r\\n\\f]",W=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g");p.contains=function(c,d){var g=d&&d.parentNode;return c===g||!!(g&&g.nodeType===1&&(c.contains?c.contains(g):c.compareDocumentPosition&&c.compareDocumentPosition(g)&16))};var ae=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function de(c,d){return d?c==="\0"?"\uFFFD":c.slice(0,-1)+"\\"+c.charCodeAt(c.length-1).toString(16)+" ":"\\"+c}p.escapeSelector=function(c){return(c+"").replace(ae,de)};var G=E,q=s;(function(){var c,d,g,m,C,w=q,M,_,R,U,re,ce=p.expando,ee=0,he=0,Re=pc(),ot=pc(),Ze=pc(),an=pc(),Jt=function(O,V){return O===V&&(C=!0),0},Lr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",kr="(?:\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ke="\\["+B+"*("+kr+")(?:"+B+"*([*^$|!~]?=)"+B+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+kr+"))|)"+B+"*\\]",Ji=":("+kr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ke+")*)|.*)\\)|)",st=new RegExp(B+"+","g"),Zt=new RegExp("^"+B+"*,"+B+"*"),ba=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),Jd=new RegExp(B+"|>"),Rr=new RegExp(Ji),xa=new RegExp("^"+kr+"$"),_r={ID:new RegExp("^#("+kr+")"),CLASS:new RegExp("^\\.("+kr+")"),TAG:new RegExp("^("+kr+"|[*])"),ATTR:new RegExp("^"+Ke),PSEUDO:new RegExp("^"+Ji),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+Lr+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},yi=/^(?:input|select|textarea|button)$/i,Ii=/^h\d$/i,sr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,qd=/[+~]/,qr=new RegExp("\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\([^\\r\\n\\f])","g"),Qr=function(O,V){var K="0x"+O.slice(1)-65536;return V||(K<0?String.fromCharCode(K+65536):String.fromCharCode(K>>10|55296,K&1023|56320))},_M=function(){Ci()},FM=vc(function(O){return O.disabled===!0&&x(O,"fieldset")},{dir:"parentNode",next:"legend"});function jM(){try{return M.activeElement}catch{}}try{w.apply(n=i.call(G.childNodes),G.childNodes),n[G.childNodes.length].nodeType}catch{w={apply:function(V,K){q.apply(V,i.call(K))},call:function(V){q.apply(V,i.call(arguments,1))}}}function mt(O,V,K,te){var ue,ve,Ae,xe,we,Xe,Le,Fe=V&&V.ownerDocument,$e=V?V.nodeType:9;if(K=K||[],typeof O!="string"||!O||$e!==1&&$e!==9&&$e!==11)return K;if(!te&&(Ci(V),V=V||M,R)){if($e!==11&&(we=sr.exec(O)))if(ue=we[1]){if($e===9)if(Ae=V.getElementById(ue)){if(Ae.id===ue)return w.call(K,Ae),K}else return K;else if(Fe&&(Ae=Fe.getElementById(ue))&&mt.contains(V,Ae)&&Ae.id===ue)return w.call(K,Ae),K}else{if(we[2])return w.apply(K,V.getElementsByTagName(O)),K;if((ue=we[3])&&V.getElementsByClassName)return w.apply(K,V.getElementsByClassName(ue)),K}if(!an[O+" "]&&(!U||!U.test(O))){if(Le=O,Fe=V,$e===1&&(Jd.test(O)||ba.test(O))){for(Fe=qd.test(O)&&Qd(V.parentNode)||V,(Fe!=V||!I.scope)&&((xe=V.getAttribute("id"))?xe=p.escapeSelector(xe):V.setAttribute("id",xe=ce)),Xe=Da(O),ve=Xe.length;ve--;)Xe[ve]=(xe?"#"+xe:":scope")+" "+mc(Xe[ve]);Le=Xe.join(",")}try{return w.apply(K,Fe.querySelectorAll(Le)),K}catch{an(O,!0)}finally{xe===ce&&V.removeAttribute("id")}}}return Xy(O.replace(W,"$1"),V,K,te)}function pc(){var O=[];function V(K,te){return O.push(K+" ")>d.cacheLength&&delete V[O.shift()],V[K+" "]=te}return V}function Ir(O){return O[ce]=!0,O}function Uo(O){var V=M.createElement("fieldset");try{return!!O(V)}catch{return!1}finally{V.parentNode&&V.parentNode.removeChild(V),V=null}}function BM(O){return function(V){return x(V,"input")&&V.type===O}}function zM(O){return function(V){return(x(V,"input")||x(V,"button"))&&V.type===O}}function Wy(O){return function(V){return"form"in V?V.parentNode&&V.disabled===!1?"label"in V?"label"in V.parentNode?V.parentNode.disabled===O:V.disabled===O:V.isDisabled===O||V.isDisabled!==!O&&FM(V)===O:V.disabled===O:"label"in V?V.disabled===O:!1}}function qi(O){return Ir(function(V){return V=+V,Ir(function(K,te){for(var ue,ve=O([],K.length,V),Ae=ve.length;Ae--;)K[ue=ve[Ae]]&&(K[ue]=!(te[ue]=K[ue]))})})}function Qd(O){return O&&typeof O.getElementsByTagName<"u"&&O}function Ci(O){var V,K=O?O.ownerDocument||O:G;return K==M||K.nodeType!==9||!K.documentElement||(M=K,_=M.documentElement,R=!p.isXMLDoc(M),re=_.matches||_.webkitMatchesSelector||_.msMatchesSelector,_.msMatchesSelector&&G!=M&&(V=M.defaultView)&&V.top!==V&&V.addEventListener("unload",_M),I.getById=Uo(function(te){return _.appendChild(te).id=p.expando,!M.getElementsByName||!M.getElementsByName(p.expando).length}),I.disconnectedMatch=Uo(function(te){return re.call(te,"*")}),I.scope=Uo(function(){return M.querySelectorAll(":scope")}),I.cssHas=Uo(function(){try{return M.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),I.getById?(d.filter.ID=function(te){var ue=te.replace(qr,Qr);return function(ve){return ve.getAttribute("id")===ue}},d.find.ID=function(te,ue){if(typeof ue.getElementById<"u"&&R){var ve=ue.getElementById(te);return ve?[ve]:[]}}):(d.filter.ID=function(te){var ue=te.replace(qr,Qr);return function(ve){var Ae=typeof ve.getAttributeNode<"u"&&ve.getAttributeNode("id");return Ae&&Ae.value===ue}},d.find.ID=function(te,ue){if(typeof ue.getElementById<"u"&&R){var ve,Ae,xe,we=ue.getElementById(te);if(we){if(ve=we.getAttributeNode("id"),ve&&ve.value===te)return[we];for(xe=ue.getElementsByName(te),Ae=0;we=xe[Ae++];)if(ve=we.getAttributeNode("id"),ve&&ve.value===te)return[we]}return[]}}),d.find.TAG=function(te,ue){return typeof ue.getElementsByTagName<"u"?ue.getElementsByTagName(te):ue.querySelectorAll(te)},d.find.CLASS=function(te,ue){if(typeof ue.getElementsByClassName<"u"&&R)return ue.getElementsByClassName(te)},U=[],Uo(function(te){var ue;_.appendChild(te).innerHTML="<a id='"+ce+"' href='' disabled='disabled'></a><select id='"+ce+"-\r\\' disabled='disabled'><option selected=''></option></select>",te.querySelectorAll("[selected]").length||U.push("\\["+B+"*(?:value|"+Lr+")"),te.querySelectorAll("[id~="+ce+"-]").length||U.push("~="),te.querySelectorAll("a#"+ce+"+*").length||U.push(".#.+[+~]"),te.querySelectorAll(":checked").length||U.push(":checked"),ue=M.createElement("input"),ue.setAttribute("type","hidden"),te.appendChild(ue).setAttribute("name","D"),_.appendChild(te).disabled=!0,te.querySelectorAll(":disabled").length!==2&&U.push(":enabled",":disabled"),ue=M.createElement("input"),ue.setAttribute("name",""),te.appendChild(ue),te.querySelectorAll("[name='']").length||U.push("\\["+B+"*name"+B+"*="+B+`*(?:''|"")`)}),I.cssHas||U.push(":has"),U=U.length&&new RegExp(U.join("|")),Jt=function(te,ue){if(te===ue)return C=!0,0;var ve=!te.compareDocumentPosition-!ue.compareDocumentPosition;return ve||(ve=(te.ownerDocument||te)==(ue.ownerDocument||ue)?te.compareDocumentPosition(ue):1,ve&1||!I.sortDetached&&ue.compareDocumentPosition(te)===ve?te===M||te.ownerDocument==G&&mt.contains(G,te)?-1:ue===M||ue.ownerDocument==G&&mt.contains(G,ue)?1:m?a.call(m,te)-a.call(m,ue):0:ve&4?-1:1)}),M}mt.matches=function(O,V){return mt(O,null,null,V)},mt.matchesSelector=function(O,V){if(Ci(O),R&&!an[V+" "]&&(!U||!U.test(V)))try{var K=re.call(O,V);if(K||I.disconnectedMatch||O.document&&O.document.nodeType!==11)return K}catch{an(V,!0)}return mt(V,M,null,[O]).length>0},mt.contains=function(O,V){return(O.ownerDocument||O)!=M&&Ci(O),p.contains(O,V)},mt.attr=function(O,V){(O.ownerDocument||O)!=M&&Ci(O);var K=d.attrHandle[V.toLowerCase()],te=K&&h.call(d.attrHandle,V.toLowerCase())?K(O,V,!R):void 0;return te!==void 0?te:O.getAttribute(V)},mt.error=function(O){throw new Error("Syntax error, unrecognized expression: "+O)},p.uniqueSort=function(O){var V,K=[],te=0,ue=0;if(C=!I.sortStable,m=!I.sortStable&&i.call(O,0),S.call(O,Jt),C){for(;V=O[ue++];)V===O[ue]&&(te=K.push(ue));for(;te--;)j.call(O,K[te],1)}return m=null,O},p.fn.uniqueSort=function(){return this.pushStack(p.uniqueSort(i.apply(this)))},d=p.expr={cacheLength:50,createPseudo:Ir,match:_r,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(O){return O[1]=O[1].replace(qr,Qr),O[3]=(O[3]||O[4]||O[5]||"").replace(qr,Qr),O[2]==="~="&&(O[3]=" "+O[3]+" "),O.slice(0,4)},CHILD:function(O){return O[1]=O[1].toLowerCase(),O[1].slice(0,3)==="nth"?(O[3]||mt.error(O[0]),O[4]=+(O[4]?O[5]+(O[6]||1):2*(O[3]==="even"||O[3]==="odd")),O[5]=+(O[7]+O[8]||O[3]==="odd")):O[3]&&mt.error(O[0]),O},PSEUDO:function(O){var V,K=!O[6]&&O[2];return _r.CHILD.test(O[0])?null:(O[3]?O[2]=O[4]||O[5]||"":K&&Rr.test(K)&&(V=Da(K,!0))&&(V=K.indexOf(")",K.length-V)-K.length)&&(O[0]=O[0].slice(0,V),O[2]=K.slice(0,V)),O.slice(0,3))}},filter:{TAG:function(O){var V=O.replace(qr,Qr).toLowerCase();return O==="*"?function(){return!0}:function(K){return x(K,V)}},CLASS:function(O){var V=Re[O+" "];return V||(V=new RegExp("(^|"+B+")"+O+"("+B+"|$)"))&&Re(O,function(K){return V.test(typeof K.className=="string"&&K.className||typeof K.getAttribute<"u"&&K.getAttribute("class")||"")})},ATTR:function(O,V,K){return function(te){var ue=mt.attr(te,O);return ue==null?V==="!=":V?(ue+="",V==="="?ue===K:V==="!="?ue!==K:V==="^="?K&&ue.indexOf(K)===0:V==="*="?K&&ue.indexOf(K)>-1:V==="$="?K&&ue.slice(-K.length)===K:V==="~="?(" "+ue.replace(st," ")+" ").indexOf(K)>-1:V==="|="?ue===K||ue.slice(0,K.length+1)===K+"-":!1):!0}},CHILD:function(O,V,K,te,ue){var ve=O.slice(0,3)!=="nth",Ae=O.slice(-4)!=="last",xe=V==="of-type";return te===1&&ue===0?function(we){return!!we.parentNode}:function(we,Xe,Le){var Fe,$e,Te,Et,Gn,An=ve!==Ae?"nextSibling":"previousSibling",ar=we.parentNode,Fr=xe&&we.nodeName.toLowerCase(),Ho=!Le&&!xe,Tn=!1;if(ar){if(ve){for(;An;){for(Te=we;Te=Te[An];)if(xe?x(Te,Fr):Te.nodeType===1)return!1;Gn=An=O==="only"&&!Gn&&"nextSibling"}return!0}if(Gn=[Ae?ar.firstChild:ar.lastChild],Ae&&Ho){for($e=ar[ce]||(ar[ce]={}),Fe=$e[O]||[],Et=Fe[0]===ee&&Fe[1],Tn=Et&&Fe[2],Te=Et&&ar.childNodes[Et];Te=++Et&&Te&&Te[An]||(Tn=Et=0)||Gn.pop();)if(Te.nodeType===1&&++Tn&&Te===we){$e[O]=[ee,Et,Tn];break}}else if(Ho&&($e=we[ce]||(we[ce]={}),Fe=$e[O]||[],Et=Fe[0]===ee&&Fe[1],Tn=Et),Tn===!1)for(;(Te=++Et&&Te&&Te[An]||(Tn=Et=0)||Gn.pop())&&!((xe?x(Te,Fr):Te.nodeType===1)&&++Tn&&(Ho&&($e=Te[ce]||(Te[ce]={}),$e[O]=[ee,Tn]),Te===we)););return Tn-=ue,Tn===te||Tn%te===0&&Tn/te>=0}}},PSEUDO:function(O,V){var K,te=d.pseudos[O]||d.setFilters[O.toLowerCase()]||mt.error("unsupported pseudo: "+O);return te[ce]?te(V):te.length>1?(K=[O,O,"",V],d.setFilters.hasOwnProperty(O.toLowerCase())?Ir(function(ue,ve){for(var Ae,xe=te(ue,V),we=xe.length;we--;)Ae=a.call(ue,xe[we]),ue[Ae]=!(ve[Ae]=xe[we])}):function(ue){return te(ue,0,K)}):te}},pseudos:{not:Ir(function(O){var V=[],K=[],te=nh(O.replace(W,"$1"));return te[ce]?Ir(function(ue,ve,Ae,xe){for(var we,Xe=te(ue,null,xe,[]),Le=ue.length;Le--;)(we=Xe[Le])&&(ue[Le]=!(ve[Le]=we))}):function(ue,ve,Ae){return V[0]=ue,te(V,null,Ae,K),V[0]=null,!K.pop()}}),has:Ir(function(O){return function(V){return mt(O,V).length>0}}),contains:Ir(function(O){return O=O.replace(qr,Qr),function(V){return(V.textContent||p.text(V)).indexOf(O)>-1}}),lang:Ir(function(O){return xa.test(O||"")||mt.error("unsupported lang: "+O),O=O.replace(qr,Qr).toLowerCase(),function(V){var K;do if(K=R?V.lang:V.getAttribute("xml:lang")||V.getAttribute("lang"))return K=K.toLowerCase(),K===O||K.indexOf(O+"-")===0;while((V=V.parentNode)&&V.nodeType===1);return!1}}),target:function(O){var V=e.location&&e.location.hash;return V&&V.slice(1)===O.id},root:function(O){return O===_},focus:function(O){return O===jM()&&M.hasFocus()&&!!(O.type||O.href||~O.tabIndex)},enabled:Wy(!1),disabled:Wy(!0),checked:function(O){return x(O,"input")&&!!O.checked||x(O,"option")&&!!O.selected},selected:function(O){return O.parentNode&&O.parentNode.selectedIndex,O.selected===!0},empty:function(O){for(O=O.firstChild;O;O=O.nextSibling)if(O.nodeType<6)return!1;return!0},parent:function(O){return!d.pseudos.empty(O)},header:function(O){return Ii.test(O.nodeName)},input:function(O){return yi.test(O.nodeName)},button:function(O){return x(O,"input")&&O.type==="button"||x(O,"button")},text:function(O){var V;return x(O,"input")&&O.type==="text"&&((V=O.getAttribute("type"))==null||V.toLowerCase()==="text")},first:qi(function(){return[0]}),last:qi(function(O,V){return[V-1]}),eq:qi(function(O,V,K){return[K<0?K+V:K]}),even:qi(function(O,V){for(var K=0;K<V;K+=2)O.push(K);return O}),odd:qi(function(O,V){for(var K=1;K<V;K+=2)O.push(K);return O}),lt:qi(function(O,V,K){var te;for(K<0?te=K+V:K>V?te=V:te=K;--te>=0;)O.push(te);return O}),gt:qi(function(O,V,K){for(var te=K<0?K+V:K;++te<V;)O.push(te);return O})}},d.pseudos.nth=d.pseudos.eq;for(c in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[c]=BM(c);for(c in{submit:!0,reset:!0})d.pseudos[c]=zM(c);function Yy(){}Yy.prototype=d.filters=d.pseudos,d.setFilters=new Yy;function Da(O,V){var K,te,ue,ve,Ae,xe,we,Xe=ot[O+" "];if(Xe)return V?0:Xe.slice(0);for(Ae=O,xe=[],we=d.preFilter;Ae;){(!K||(te=Zt.exec(Ae)))&&(te&&(Ae=Ae.slice(te[0].length)||Ae),xe.push(ue=[])),K=!1,(te=ba.exec(Ae))&&(K=te.shift(),ue.push({value:K,type:te[0].replace(W," ")}),Ae=Ae.slice(K.length));for(ve in d.filter)(te=_r[ve].exec(Ae))&&(!we[ve]||(te=we[ve](te)))&&(K=te.shift(),ue.push({value:K,type:ve,matches:te}),Ae=Ae.slice(K.length));if(!K)break}return V?Ae.length:Ae?mt.error(O):ot(O,xe).slice(0)}function mc(O){for(var V=0,K=O.length,te="";V<K;V++)te+=O[V].value;return te}function vc(O,V,K){var te=V.dir,ue=V.next,ve=ue||te,Ae=K&&ve==="parentNode",xe=he++;return V.first?function(we,Xe,Le){for(;we=we[te];)if(we.nodeType===1||Ae)return O(we,Xe,Le);return!1}:function(we,Xe,Le){var Fe,$e,Te=[ee,xe];if(Le){for(;we=we[te];)if((we.nodeType===1||Ae)&&O(we,Xe,Le))return!0}else for(;we=we[te];)if(we.nodeType===1||Ae)if($e=we[ce]||(we[ce]={}),ue&&x(we,ue))we=we[te]||we;else{if((Fe=$e[ve])&&Fe[0]===ee&&Fe[1]===xe)return Te[2]=Fe[2];if($e[ve]=Te,Te[2]=O(we,Xe,Le))return!0}return!1}}function Kd(O){return O.length>1?function(V,K,te){for(var ue=O.length;ue--;)if(!O[ue](V,K,te))return!1;return!0}:O[0]}function VM(O,V,K){for(var te=0,ue=V.length;te<ue;te++)mt(O,V[te],K);return K}function yc(O,V,K,te,ue){for(var ve,Ae=[],xe=0,we=O.length,Xe=V!=null;xe<we;xe++)(ve=O[xe])&&(!K||K(ve,te,ue))&&(Ae.push(ve),Xe&&V.push(xe));return Ae}function eh(O,V,K,te,ue,ve){return te&&!te[ce]&&(te=eh(te)),ue&&!ue[ce]&&(ue=eh(ue,ve)),Ir(function(Ae,xe,we,Xe){var Le,Fe,$e,Te,Et=[],Gn=[],An=xe.length,ar=Ae||VM(V||"*",we.nodeType?[we]:we,[]),Fr=O&&(Ae||!V)?yc(ar,Et,O,we,Xe):ar;if(K?(Te=ue||(Ae?O:An||te)?[]:xe,K(Fr,Te,we,Xe)):Te=Fr,te)for(Le=yc(Te,Gn),te(Le,[],we,Xe),Fe=Le.length;Fe--;)($e=Le[Fe])&&(Te[Gn[Fe]]=!(Fr[Gn[Fe]]=$e));if(Ae){if(ue||O){if(ue){for(Le=[],Fe=Te.length;Fe--;)($e=Te[Fe])&&Le.push(Fr[Fe]=$e);ue(null,Te=[],Le,Xe)}for(Fe=Te.length;Fe--;)($e=Te[Fe])&&(Le=ue?a.call(Ae,$e):Et[Fe])>-1&&(Ae[Le]=!(xe[Le]=$e))}}else Te=yc(Te===xe?Te.splice(An,Te.length):Te),ue?ue(null,xe,Te,Xe):w.apply(xe,Te)})}function th(O){for(var V,K,te,ue=O.length,ve=d.relative[O[0].type],Ae=ve||d.relative[" "],xe=ve?1:0,we=vc(function(Fe){return Fe===V},Ae,!0),Xe=vc(function(Fe){return a.call(V,Fe)>-1},Ae,!0),Le=[function(Fe,$e,Te){var Et=!ve&&(Te||$e!=g)||((V=$e).nodeType?we(Fe,$e,Te):Xe(Fe,$e,Te));return V=null,Et}];xe<ue;xe++)if(K=d.relative[O[xe].type])Le=[vc(Kd(Le),K)];else{if(K=d.filter[O[xe].type].apply(null,O[xe].matches),K[ce]){for(te=++xe;te<ue&&!d.relative[O[te].type];te++);return eh(xe>1&&Kd(Le),xe>1&&mc(O.slice(0,xe-1).concat({value:O[xe-2].type===" "?"*":""})).replace(W,"$1"),K,xe<te&&th(O.slice(xe,te)),te<ue&&th(O=O.slice(te)),te<ue&&mc(O))}Le.push(K)}return Kd(Le)}function GM(O,V){var K=V.length>0,te=O.length>0,ue=function(ve,Ae,xe,we,Xe){var Le,Fe,$e,Te=0,Et="0",Gn=ve&&[],An=[],ar=g,Fr=ve||te&&d.find.TAG("*",Xe),Ho=ee+=ar==null?1:Math.random()||.1,Tn=Fr.length;for(Xe&&(g=Ae==M||Ae||Xe);Et!==Tn&&(Le=Fr[Et])!=null;Et++){if(te&&Le){for(Fe=0,!Ae&&Le.ownerDocument!=M&&(Ci(Le),xe=!R);$e=O[Fe++];)if($e(Le,Ae||M,xe)){w.call(we,Le);break}Xe&&(ee=Ho)}K&&((Le=!$e&&Le)&&Te--,ve&&Gn.push(Le))}if(Te+=Et,K&&Et!==Te){for(Fe=0;$e=V[Fe++];)$e(Gn,An,Ae,xe);if(ve){if(Te>0)for(;Et--;)Gn[Et]||An[Et]||(An[Et]=N.call(we));An=yc(An)}w.apply(we,An),Xe&&!ve&&An.length>0&&Te+V.length>1&&p.uniqueSort(we)}return Xe&&(ee=Ho,g=ar),Gn};return K?Ir(ue):ue}function nh(O,V){var K,te=[],ue=[],ve=Ze[O+" "];if(!ve){for(V||(V=Da(O)),K=V.length;K--;)ve=th(V[K]),ve[ce]?te.push(ve):ue.push(ve);ve=Ze(O,GM(ue,te)),ve.selector=O}return ve}function Xy(O,V,K,te){var ue,ve,Ae,xe,we,Xe=typeof O=="function"&&O,Le=!te&&Da(O=Xe.selector||O);if(K=K||[],Le.length===1){if(ve=Le[0]=Le[0].slice(0),ve.length>2&&(Ae=ve[0]).type==="ID"&&V.nodeType===9&&R&&d.relative[ve[1].type]){if(V=(d.find.ID(Ae.matches[0].replace(qr,Qr),V)||[])[0],V)Xe&&(V=V.parentNode);else return K;O=O.slice(ve.shift().value.length)}for(ue=_r.needsContext.test(O)?0:ve.length;ue--&&(Ae=ve[ue],!d.relative[xe=Ae.type]);)if((we=d.find[xe])&&(te=we(Ae.matches[0].replace(qr,Qr),qd.test(ve[0].type)&&Qd(V.parentNode)||V))){if(ve.splice(ue,1),O=te.length&&mc(ve),!O)return w.apply(K,te),K;break}}return(Xe||nh(O,Le))(te,V,!R,K,!V||qd.test(O)&&Qd(V.parentNode)||V),K}I.sortStable=ce.split("").sort(Jt).join("")===ce,Ci(),I.sortDetached=Uo(function(O){return O.compareDocumentPosition(M.createElement("fieldset"))&1}),p.find=mt,p.expr[":"]=p.expr.pseudos,p.unique=p.uniqueSort,mt.compile=nh,mt.select=Xy,mt.setDocument=Ci,mt.tokenize=Da,mt.escape=p.escapeSelector,mt.getText=p.text,mt.isXML=p.isXMLDoc,mt.selectors=p.expr,mt.support=p.support,mt.uniqueSort=p.uniqueSort})();var J=function(c,d,g){for(var m=[],C=g!==void 0;(c=c[d])&&c.nodeType!==9;)if(c.nodeType===1){if(C&&p(c).is(g))break;m.push(c)}return m},Q=function(c,d){for(var g=[];c;c=c.nextSibling)c.nodeType===1&&c!==d&&g.push(c);return g},Ee=p.expr.match.needsContext,De=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ut(c,d,g){return b(d)?p.grep(c,function(m,C){return!!d.call(m,C,m)!==g}):d.nodeType?p.grep(c,function(m){return m===d!==g}):typeof d!="string"?p.grep(c,function(m){return a.call(d,m)>-1!==g}):p.filter(d,c,g)}p.filter=function(c,d,g){var m=d[0];return g&&(c=":not("+c+")"),d.length===1&&m.nodeType===1?p.find.matchesSelector(m,c)?[m]:[]:p.find.matches(c,p.grep(d,function(C){return C.nodeType===1}))},p.fn.extend({find:function(c){var d,g,m=this.length,C=this;if(typeof c!="string")return this.pushStack(p(c).filter(function(){for(d=0;d<m;d++)if(p.contains(C[d],this))return!0}));for(g=this.pushStack([]),d=0;d<m;d++)p.find(c,C[d],g);return m>1?p.uniqueSort(g):g},filter:function(c){return this.pushStack(ut(this,c||[],!1))},not:function(c){return this.pushStack(ut(this,c||[],!0))},is:function(c){return!!ut(this,typeof c=="string"&&Ee.test(c)?p(c):c||[],!1).length}});var Ct,be=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Me=p.fn.init=function(c,d,g){var m,C;if(!c)return this;if(g=g||Ct,typeof c=="string")if(c[0]==="<"&&c[c.length-1]===">"&&c.length>=3?m=[null,c,null]:m=be.exec(c),m&&(m[1]||!d))if(m[1]){if(d=d instanceof p?d[0]:d,p.merge(this,p.parseHTML(m[1],d&&d.nodeType?d.ownerDocument||d:E,!0)),De.test(m[1])&&p.isPlainObject(d))for(m in d)b(this[m])?this[m](d[m]):this.attr(m,d[m]);return this}else return C=E.getElementById(m[2]),C&&(this[0]=C,this.length=1),this;else return!d||d.jquery?(d||g).find(c):this.constructor(d).find(c);else{if(c.nodeType)return this[0]=c,this.length=1,this;if(b(c))return g.ready!==void 0?g.ready(c):c(p)}return p.makeArray(c,this)};Me.prototype=p.fn,Ct=p(E);var oe=/^(?:parents|prev(?:Until|All))/,ie={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({has:function(c){var d=p(c,this),g=d.length;return this.filter(function(){for(var m=0;m<g;m++)if(p.contains(this,d[m]))return!0})},closest:function(c,d){var g,m=0,C=this.length,w=[],M=typeof c!="string"&&p(c);if(!Ee.test(c)){for(;m<C;m++)for(g=this[m];g&&g!==d;g=g.parentNode)if(g.nodeType<11&&(M?M.index(g)>-1:g.nodeType===1&&p.find.matchesSelector(g,c))){w.push(g);break}}return this.pushStack(w.length>1?p.uniqueSort(w):w)},index:function(c){return c?typeof c=="string"?a.call(p(c),this[0]):a.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,d){return this.pushStack(p.uniqueSort(p.merge(this.get(),p(c,d))))},addBack:function(c){return this.add(c==null?this.prevObject:this.prevObject.filter(c))}});function pe(c,d){for(;(c=c[d])&&c.nodeType!==1;);return c}p.each({parent:function(c){var d=c.parentNode;return d&&d.nodeType!==11?d:null},parents:function(c){return J(c,"parentNode")},parentsUntil:function(c,d,g){return J(c,"parentNode",g)},next:function(c){return pe(c,"nextSibling")},prev:function(c){return pe(c,"previousSibling")},nextAll:function(c){return J(c,"nextSibling")},prevAll:function(c){return J(c,"previousSibling")},nextUntil:function(c,d,g){return J(c,"nextSibling",g)},prevUntil:function(c,d,g){return J(c,"previousSibling",g)},siblings:function(c){return Q((c.parentNode||{}).firstChild,c)},children:function(c){return Q(c.firstChild)},contents:function(c){return c.contentDocument!=null&&r(c.contentDocument)?c.contentDocument:(x(c,"template")&&(c=c.content||c),p.merge([],c.childNodes))}},function(c,d){p.fn[c]=function(g,m){var C=p.map(this,d,g);return c.slice(-5)!=="Until"&&(m=g),m&&typeof m=="string"&&(C=p.filter(m,C)),this.length>1&&(ie[c]||p.uniqueSort(C),oe.test(c)&&C.reverse()),this.pushStack(C)}});var _e=/[^\x20\t\r\n\f]+/g;function Qe(c){var d={};return p.each(c.match(_e)||[],function(g,m){d[m]=!0}),d}p.Callbacks=function(c){c=typeof c=="string"?Qe(c):p.extend({},c);var d,g,m,C,w=[],M=[],_=-1,R=function(){for(C=C||c.once,m=d=!0;M.length;_=-1)for(g=M.shift();++_<w.length;)w[_].apply(g[0],g[1])===!1&&c.stopOnFalse&&(_=w.length,g=!1);c.memory||(g=!1),d=!1,C&&(g?w=[]:w="")},U={add:function(){return w&&(g&&!d&&(_=w.length-1,M.push(g)),function re(ce){p.each(ce,function(ee,he){b(he)?(!c.unique||!U.has(he))&&w.push(he):he&&he.length&&H(he)!=="string"&&re(he)})}(arguments),g&&!d&&R()),this},remove:function(){return p.each(arguments,function(re,ce){for(var ee;(ee=p.inArray(ce,w,ee))>-1;)w.splice(ee,1),ee<=_&&_--}),this},has:function(re){return re?p.inArray(re,w)>-1:w.length>0},empty:function(){return w&&(w=[]),this},disable:function(){return C=M=[],w=g="",this},disabled:function(){return!w},lock:function(){return C=M=[],!g&&!d&&(w=g=""),this},locked:function(){return!!C},fireWith:function(re,ce){return C||(ce=ce||[],ce=[re,ce.slice?ce.slice():ce],M.push(ce),d||R()),this},fire:function(){return U.fireWith(this,arguments),this},fired:function(){return!!m}};return U};function Ne(c){return c}function it(c){throw c}function A(c,d,g,m){var C;try{c&&b(C=c.promise)?C.call(c).done(d).fail(g):c&&b(C=c.then)?C.call(c,d,g):d.apply(void 0,[c].slice(m))}catch(w){g.apply(void 0,[w])}}p.extend({Deferred:function(c){var d=[["notify","progress",p.Callbacks("memory"),p.Callbacks("memory"),2],["resolve","done",p.Callbacks("once memory"),p.Callbacks("once memory"),0,"resolved"],["reject","fail",p.Callbacks("once memory"),p.Callbacks("once memory"),1,"rejected"]],g="pending",m={state:function(){return g},always:function(){return C.done(arguments).fail(arguments),this},catch:function(w){return m.then(null,w)},pipe:function(){var w=arguments;return p.Deferred(function(M){p.each(d,function(_,R){var U=b(w[R[4]])&&w[R[4]];C[R[1]](function(){var re=U&&U.apply(this,arguments);re&&b(re.promise)?re.promise().progress(M.notify).done(M.resolve).fail(M.reject):M[R[0]+"With"](this,U?[re]:arguments)})}),w=null}).promise()},then:function(w,M,_){var R=0;function U(re,ce,ee,he){return function(){var Re=this,ot=arguments,Ze=function(){var Jt,Lr;if(!(re<R)){if(Jt=ee.apply(Re,ot),Jt===ce.promise())throw new TypeError("Thenable self-resolution");Lr=Jt&&(typeof Jt=="object"||typeof Jt=="function")&&Jt.then,b(Lr)?he?Lr.call(Jt,U(R,ce,Ne,he),U(R,ce,it,he)):(R++,Lr.call(Jt,U(R,ce,Ne,he),U(R,ce,it,he),U(R,ce,Ne,ce.notifyWith))):(ee!==Ne&&(Re=void 0,ot=[Jt]),(he||ce.resolveWith)(Re,ot))}},an=he?Ze:function(){try{Ze()}catch(Jt){p.Deferred.exceptionHook&&p.Deferred.exceptionHook(Jt,an.error),re+1>=R&&(ee!==it&&(Re=void 0,ot=[Jt]),ce.rejectWith(Re,ot))}};re?an():(p.Deferred.getErrorHook?an.error=p.Deferred.getErrorHook():p.Deferred.getStackHook&&(an.error=p.Deferred.getStackHook()),e.setTimeout(an))}}return p.Deferred(function(re){d[0][3].add(U(0,re,b(_)?_:Ne,re.notifyWith)),d[1][3].add(U(0,re,b(w)?w:Ne)),d[2][3].add(U(0,re,b(M)?M:it))}).promise()},promise:function(w){return w!=null?p.extend(w,m):m}},C={};return p.each(d,function(w,M){var _=M[2],R=M[5];m[M[1]]=_.add,R&&_.add(function(){g=R},d[3-w][2].disable,d[3-w][3].disable,d[0][2].lock,d[0][3].lock),_.add(M[3].fire),C[M[0]]=function(){return C[M[0]+"With"](this===C?void 0:this,arguments),this},C[M[0]+"With"]=_.fireWith}),m.promise(C),c&&c.call(C,C),C},when:function(c){var d=arguments.length,g=d,m=Array(g),C=i.call(arguments),w=p.Deferred(),M=function(_){return function(R){m[_]=this,C[_]=arguments.length>1?i.call(arguments):R,--d||w.resolveWith(m,C)}};if(d<=1&&(A(c,w.done(M(g)).resolve,w.reject,!d),w.state()==="pending"||b(C[g]&&C[g].then)))return w.then();for(;g--;)A(C[g],M(g),w.reject);return w.promise()}});var T=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;p.Deferred.exceptionHook=function(c,d){e.console&&e.console.warn&&c&&T.test(c.name)&&e.console.warn("jQuery.Deferred exception: "+c.message,c.stack,d)},p.readyException=function(c){e.setTimeout(function(){throw c})};var L=p.Deferred();p.fn.ready=function(c){return L.then(c).catch(function(d){p.readyException(d)}),this},p.extend({isReady:!1,readyWait:1,ready:function(c){(c===!0?--p.readyWait:p.isReady)||(p.isReady=!0,!(c!==!0&&--p.readyWait>0)&&L.resolveWith(E,[p]))}}),p.ready.then=L.then;function F(){E.removeEventListener("DOMContentLoaded",F),e.removeEventListener("load",F),p.ready()}E.readyState==="complete"||E.readyState!=="loading"&&!E.documentElement.doScroll?e.setTimeout(p.ready):(E.addEventListener("DOMContentLoaded",F),e.addEventListener("load",F));var Z=function(c,d,g,m,C,w,M){var _=0,R=c.length,U=g==null;if(H(g)==="object"){C=!0;for(_ in g)Z(c,d,_,g[_],!0,w,M)}else if(m!==void 0&&(C=!0,b(m)||(M=!0),U&&(M?(d.call(c,m),d=null):(U=d,d=function(re,ce,ee){return U.call(p(re),ee)})),d))for(;_<R;_++)d(c[_],g,M?m:m.call(c[_],_,d(c[_],g)));return C?c:U?d.call(c):R?d(c[0],g):w},se=/^-ms-/,ye=/-([a-z])/g;function Pe(c,d){return d.toUpperCase()}function Ue(c){return c.replace(se,"ms-").replace(ye,Pe)}var jt=function(c){return c.nodeType===1||c.nodeType===9||!+c.nodeType};function Bt(){this.expando=p.expando+Bt.uid++}Bt.uid=1,Bt.prototype={cache:function(c){var d=c[this.expando];return d||(d={},jt(c)&&(c.nodeType?c[this.expando]=d:Object.defineProperty(c,this.expando,{value:d,configurable:!0}))),d},set:function(c,d,g){var m,C=this.cache(c);if(typeof d=="string")C[Ue(d)]=g;else for(m in d)C[Ue(m)]=d[m];return C},get:function(c,d){return d===void 0?this.cache(c):c[this.expando]&&c[this.expando][Ue(d)]},access:function(c,d,g){return d===void 0||d&&typeof d=="string"&&g===void 0?this.get(c,d):(this.set(c,d,g),g!==void 0?g:d)},remove:function(c,d){var g,m=c[this.expando];if(m!==void 0){if(d!==void 0)for(Array.isArray(d)?d=d.map(Ue):(d=Ue(d),d=d in m?[d]:d.match(_e)||[]),g=d.length;g--;)delete m[d[g]];(d===void 0||p.isEmptyObject(m))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){var d=c[this.expando];return d!==void 0&&!p.isEmptyObject(d)}};var me=new Bt,lt=new Bt,At=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Pt=/[A-Z]/g;function Ot(c){return c==="true"?!0:c==="false"?!1:c==="null"?null:c===+c+""?+c:At.test(c)?JSON.parse(c):c}function Yt(c,d,g){var m;if(g===void 0&&c.nodeType===1)if(m="data-"+d.replace(Pt,"-$&").toLowerCase(),g=c.getAttribute(m),typeof g=="string"){try{g=Ot(g)}catch{}lt.set(c,d,g)}else g=void 0;return g}p.extend({hasData:function(c){return lt.hasData(c)||me.hasData(c)},data:function(c,d,g){return lt.access(c,d,g)},removeData:function(c,d){lt.remove(c,d)},_data:function(c,d,g){return me.access(c,d,g)},_removeData:function(c,d){me.remove(c,d)}}),p.fn.extend({data:function(c,d){var g,m,C,w=this[0],M=w&&w.attributes;if(c===void 0){if(this.length&&(C=lt.get(w),w.nodeType===1&&!me.get(w,"hasDataAttrs"))){for(g=M.length;g--;)M[g]&&(m=M[g].name,m.indexOf("data-")===0&&(m=Ue(m.slice(5)),Yt(w,m,C[m])));me.set(w,"hasDataAttrs",!0)}return C}return typeof c=="object"?this.each(function(){lt.set(this,c)}):Z(this,function(_){var R;if(w&&_===void 0)return R=lt.get(w,c),R!==void 0||(R=Yt(w,c),R!==void 0)?R:void 0;this.each(function(){lt.set(this,c,_)})},null,d,arguments.length>1,null,!0)},removeData:function(c){return this.each(function(){lt.remove(this,c)})}}),p.extend({queue:function(c,d,g){var m;if(c)return d=(d||"fx")+"queue",m=me.get(c,d),g&&(!m||Array.isArray(g)?m=me.access(c,d,p.makeArray(g)):m.push(g)),m||[]},dequeue:function(c,d){d=d||"fx";var g=p.queue(c,d),m=g.length,C=g.shift(),w=p._queueHooks(c,d),M=function(){p.dequeue(c,d)};C==="inprogress"&&(C=g.shift(),m--),C&&(d==="fx"&&g.unshift("inprogress"),delete w.stop,C.call(c,M,w)),!m&&w&&w.empty.fire()},_queueHooks:function(c,d){var g=d+"queueHooks";return me.get(c,g)||me.access(c,g,{empty:p.Callbacks("once memory").add(function(){me.remove(c,[d+"queue",g])})})}}),p.fn.extend({queue:function(c,d){var g=2;return typeof c!="string"&&(d=c,c="fx",g--),arguments.length<g?p.queue(this[0],c):d===void 0?this:this.each(function(){var m=p.queue(this,c,d);p._queueHooks(this,c),c==="fx"&&m[0]!=="inprogress"&&p.dequeue(this,c)})},dequeue:function(c){return this.each(function(){p.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,d){var g,m=1,C=p.Deferred(),w=this,M=this.length,_=function(){--m||C.resolveWith(w,[w])};for(typeof c!="string"&&(d=c,c=void 0),c=c||"fx";M--;)g=me.get(w[M],c+"queueHooks"),g&&g.empty&&(m++,g.empty.add(_));return _(),C.promise(d)}});var En=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,mr=new RegExp("^(?:([+-])=|)("+En+")([a-z%]*)$","i"),Bn=["Top","Right","Bottom","Left"],vr=E.documentElement,Or=function(c){return p.contains(c.ownerDocument,c)},ga={composed:!0};vr.getRootNode&&(Or=function(c){return p.contains(c.ownerDocument,c)||c.getRootNode(ga)===c.ownerDocument});var Yi=function(c,d){return c=d||c,c.style.display==="none"||c.style.display===""&&Or(c)&&p.css(c,"display")==="none"};function pa(c,d,g,m){var C,w,M=20,_=m?function(){return m.cur()}:function(){return p.css(c,d,"")},R=_(),U=g&&g[3]||(p.cssNumber[d]?"":"px"),re=c.nodeType&&(p.cssNumber[d]||U!=="px"&&+R)&&mr.exec(p.css(c,d));if(re&&re[3]!==U){for(R=R/2,U=U||re[3],re=+R||1;M--;)p.style(c,d,re+U),(1-w)*(1-(w=_()/R||.5))<=0&&(M=0),re=re/w;re=re*2,p.style(c,d,re+U),g=g||[]}return g&&(re=+re||+R||0,C=g[1]?re+(g[1]+1)*g[2]:+g[2],m&&(m.unit=U,m.start=re,m.end=C)),C}var ma={};function lc(c){var d,g=c.ownerDocument,m=c.nodeName,C=ma[m];return C||(d=g.body.appendChild(g.createElement(m)),C=p.css(d,"display"),d.parentNode.removeChild(d),C==="none"&&(C="block"),ma[m]=C,C)}function Jn(c,d){for(var g,m,C=[],w=0,M=c.length;w<M;w++)m=c[w],m.style&&(g=m.style.display,d?(g==="none"&&(C[w]=me.get(m,"display")||null,C[w]||(m.style.display="")),m.style.display===""&&Yi(m)&&(C[w]=lc(m))):g!=="none"&&(C[w]="none",me.set(m,"display",g)));for(w=0;w<M;w++)C[w]!=null&&(c[w].style.display=C[w]);return c}p.fn.extend({show:function(){return Jn(this,!0)},hide:function(){return Jn(this)},toggle:function(c){return typeof c=="boolean"?c?this.show():this.hide():this.each(function(){Yi(this)?p(this).show():p(this).hide()})}});var vi=/^(?:checkbox|radio)$/i,va=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ya=/^$|^module$|\/(?:java|ecma)script/i;(function(){var c=E.createDocumentFragment(),d=c.appendChild(E.createElement("div")),g=E.createElement("input");g.setAttribute("type","radio"),g.setAttribute("checked","checked"),g.setAttribute("name","t"),d.appendChild(g),I.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,d.innerHTML="<textarea>x</textarea>",I.noCloneChecked=!!d.cloneNode(!0).lastChild.defaultValue,d.innerHTML="<option></option>",I.option=!!d.lastChild})();var zn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};zn.tbody=zn.tfoot=zn.colgroup=zn.caption=zn.thead,zn.th=zn.td,I.option||(zn.optgroup=zn.option=[1,"<select multiple='multiple'>","</select>"]);function Vt(c,d){var g;return typeof c.getElementsByTagName<"u"?g=c.getElementsByTagName(d||"*"):typeof c.querySelectorAll<"u"?g=c.querySelectorAll(d||"*"):g=[],d===void 0||d&&x(c,d)?p.merge([c],g):g}function _d(c,d){for(var g=0,m=c.length;g<m;g++)me.set(c[g],"globalEval",!d||me.get(d[g],"globalEval"))}var nM=/<|&#?\w+;/;function Ay(c,d,g,m,C){for(var w,M,_,R,U,re,ce=d.createDocumentFragment(),ee=[],he=0,Re=c.length;he<Re;he++)if(w=c[he],w||w===0)if(H(w)==="object")p.merge(ee,w.nodeType?[w]:w);else if(!nM.test(w))ee.push(d.createTextNode(w));else{for(M=M||ce.appendChild(d.createElement("div")),_=(va.exec(w)||["",""])[1].toLowerCase(),R=zn[_]||zn._default,M.innerHTML=R[1]+p.htmlPrefilter(w)+R[2],re=R[0];re--;)M=M.lastChild;p.merge(ee,M.childNodes),M=ce.firstChild,M.textContent=""}for(ce.textContent="",he=0;w=ee[he++];){if(m&&p.inArray(w,m)>-1){C&&C.push(w);continue}if(U=Or(w),M=Vt(ce.appendChild(w),"script"),U&&_d(M),g)for(re=0;w=M[re++];)ya.test(w.type||"")&&g.push(w)}return ce}var wy=/^([^.]*)(?:\.(.+)|)/;function zo(){return!0}function Vo(){return!1}function Fd(c,d,g,m,C,w){var M,_;if(typeof d=="object"){typeof g!="string"&&(m=m||g,g=void 0);for(_ in d)Fd(c,_,g,m,d[_],w);return c}if(m==null&&C==null?(C=g,m=g=void 0):C==null&&(typeof g=="string"?(C=m,m=void 0):(C=m,m=g,g=void 0)),C===!1)C=Vo;else if(!C)return c;return w===1&&(M=C,C=function(R){return p().off(R),M.apply(this,arguments)},C.guid=M.guid||(M.guid=p.guid++)),c.each(function(){p.event.add(this,d,C,m,g)})}p.event={global:{},add:function(c,d,g,m,C){var w,M,_,R,U,re,ce,ee,he,Re,ot,Ze=me.get(c);if(jt(c))for(g.handler&&(w=g,g=w.handler,C=w.selector),C&&p.find.matchesSelector(vr,C),g.guid||(g.guid=p.guid++),(R=Ze.events)||(R=Ze.events=Object.create(null)),(M=Ze.handle)||(M=Ze.handle=function(an){return typeof p<"u"&&p.event.triggered!==an.type?p.event.dispatch.apply(c,arguments):void 0}),d=(d||"").match(_e)||[""],U=d.length;U--;)_=wy.exec(d[U])||[],he=ot=_[1],Re=(_[2]||"").split(".").sort(),he&&(ce=p.event.special[he]||{},he=(C?ce.delegateType:ce.bindType)||he,ce=p.event.special[he]||{},re=p.extend({type:he,origType:ot,data:m,handler:g,guid:g.guid,selector:C,needsContext:C&&p.expr.match.needsContext.test(C),namespace:Re.join(".")},w),(ee=R[he])||(ee=R[he]=[],ee.delegateCount=0,(!ce.setup||ce.setup.call(c,m,Re,M)===!1)&&c.addEventListener&&c.addEventListener(he,M)),ce.add&&(ce.add.call(c,re),re.handler.guid||(re.handler.guid=g.guid)),C?ee.splice(ee.delegateCount++,0,re):ee.push(re),p.event.global[he]=!0)},remove:function(c,d,g,m,C){var w,M,_,R,U,re,ce,ee,he,Re,ot,Ze=me.hasData(c)&&me.get(c);if(!(!Ze||!(R=Ze.events))){for(d=(d||"").match(_e)||[""],U=d.length;U--;){if(_=wy.exec(d[U])||[],he=ot=_[1],Re=(_[2]||"").split(".").sort(),!he){for(he in R)p.event.remove(c,he+d[U],g,m,!0);continue}for(ce=p.event.special[he]||{},he=(m?ce.delegateType:ce.bindType)||he,ee=R[he]||[],_=_[2]&&new RegExp("(^|\\.)"+Re.join("\\.(?:.*\\.|)")+"(\\.|$)"),M=w=ee.length;w--;)re=ee[w],(C||ot===re.origType)&&(!g||g.guid===re.guid)&&(!_||_.test(re.namespace))&&(!m||m===re.selector||m==="**"&&re.selector)&&(ee.splice(w,1),re.selector&&ee.delegateCount--,ce.remove&&ce.remove.call(c,re));M&&!ee.length&&((!ce.teardown||ce.teardown.call(c,Re,Ze.handle)===!1)&&p.removeEvent(c,he,Ze.handle),delete R[he])}p.isEmptyObject(R)&&me.remove(c,"handle events")}},dispatch:function(c){var d,g,m,C,w,M,_=new Array(arguments.length),R=p.event.fix(c),U=(me.get(this,"events")||Object.create(null))[R.type]||[],re=p.event.special[R.type]||{};for(_[0]=R,d=1;d<arguments.length;d++)_[d]=arguments[d];if(R.delegateTarget=this,!(re.preDispatch&&re.preDispatch.call(this,R)===!1)){for(M=p.event.handlers.call(this,R,U),d=0;(C=M[d++])&&!R.isPropagationStopped();)for(R.currentTarget=C.elem,g=0;(w=C.handlers[g++])&&!R.isImmediatePropagationStopped();)(!R.rnamespace||w.namespace===!1||R.rnamespace.test(w.namespace))&&(R.handleObj=w,R.data=w.data,m=((p.event.special[w.origType]||{}).handle||w.handler).apply(C.elem,_),m!==void 0&&(R.result=m)===!1&&(R.preventDefault(),R.stopPropagation()));return re.postDispatch&&re.postDispatch.call(this,R),R.result}},handlers:function(c,d){var g,m,C,w,M,_=[],R=d.delegateCount,U=c.target;if(R&&U.nodeType&&!(c.type==="click"&&c.button>=1)){for(;U!==this;U=U.parentNode||this)if(U.nodeType===1&&!(c.type==="click"&&U.disabled===!0)){for(w=[],M={},g=0;g<R;g++)m=d[g],C=m.selector+" ",M[C]===void 0&&(M[C]=m.needsContext?p(C,this).index(U)>-1:p.find(C,this,null,[U]).length),M[C]&&w.push(m);w.length&&_.push({elem:U,handlers:w})}}return U=this,R<d.length&&_.push({elem:U,handlers:d.slice(R)}),_},addProp:function(c,d){Object.defineProperty(p.Event.prototype,c,{enumerable:!0,configurable:!0,get:b(d)?function(){if(this.originalEvent)return d(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},set:function(g){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:g})}})},fix:function(c){return c[p.expando]?c:new p.Event(c)},special:{load:{noBubble:!0},click:{setup:function(c){var d=this||c;return vi.test(d.type)&&d.click&&x(d,"input")&&fc(d,"click",!0),!1},trigger:function(c){var d=this||c;return vi.test(d.type)&&d.click&&x(d,"input")&&fc(d,"click"),!0},_default:function(c){var d=c.target;return vi.test(d.type)&&d.click&&x(d,"input")&&me.get(d,"click")||x(d,"a")}},beforeunload:{postDispatch:function(c){c.result!==void 0&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}};function fc(c,d,g){if(!g){me.get(c,d)===void 0&&p.event.add(c,d,zo);return}me.set(c,d,!1),p.event.add(c,d,{namespace:!1,handler:function(m){var C,w=me.get(this,d);if(m.isTrigger&1&&this[d]){if(w)(p.event.special[d]||{}).delegateType&&m.stopPropagation();else if(w=i.call(arguments),me.set(this,d,w),this[d](),C=me.get(this,d),me.set(this,d,!1),w!==C)return m.stopImmediatePropagation(),m.preventDefault(),C}else w&&(me.set(this,d,p.event.trigger(w[0],w.slice(1),this)),m.stopPropagation(),m.isImmediatePropagationStopped=zo)}})}p.removeEvent=function(c,d,g){c.removeEventListener&&c.removeEventListener(d,g)},p.Event=function(c,d){if(!(this instanceof p.Event))return new p.Event(c,d);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||c.defaultPrevented===void 0&&c.returnValue===!1?zo:Vo,this.target=c.target&&c.target.nodeType===3?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,this.relatedTarget=c.relatedTarget):this.type=c,d&&p.extend(this,d),this.timeStamp=c&&c.timeStamp||Date.now(),this[p.expando]=!0},p.Event.prototype={constructor:p.Event,isDefaultPrevented:Vo,isPropagationStopped:Vo,isImmediatePropagationStopped:Vo,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=zo,c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=zo,c&&!this.isSimulated&&c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=zo,c&&!this.isSimulated&&c.stopImmediatePropagation(),this.stopPropagation()}},p.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},p.event.addProp),p.each({focus:"focusin",blur:"focusout"},function(c,d){function g(m){if(E.documentMode){var C=me.get(this,"handle"),w=p.event.fix(m);w.type=m.type==="focusin"?"focus":"blur",w.isSimulated=!0,C(m),w.target===w.currentTarget&&C(w)}else p.event.simulate(d,m.target,p.event.fix(m))}p.event.special[c]={setup:function(){var m;if(fc(this,c,!0),E.documentMode)m=me.get(this,d),m||this.addEventListener(d,g),me.set(this,d,(m||0)+1);else return!1},trigger:function(){return fc(this,c),!0},teardown:function(){var m;if(E.documentMode)m=me.get(this,d)-1,m?me.set(this,d,m):(this.removeEventListener(d,g),me.remove(this,d));else return!1},_default:function(m){return me.get(m.target,c)},delegateType:d},p.event.special[d]={setup:function(){var m=this.ownerDocument||this.document||this,C=E.documentMode?this:m,w=me.get(C,d);w||(E.documentMode?this.addEventListener(d,g):m.addEventListener(c,g,!0)),me.set(C,d,(w||0)+1)},teardown:function(){var m=this.ownerDocument||this.document||this,C=E.documentMode?this:m,w=me.get(C,d)-1;w?me.set(C,d,w):(E.documentMode?this.removeEventListener(d,g):m.removeEventListener(c,g,!0),me.remove(C,d))}}}),p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,d){p.event.special[c]={delegateType:d,bindType:d,handle:function(g){var m,C=this,w=g.relatedTarget,M=g.handleObj;return(!w||w!==C&&!p.contains(C,w))&&(g.type=M.origType,m=M.handler.apply(this,arguments),g.type=d),m}}}),p.fn.extend({on:function(c,d,g,m){return Fd(this,c,d,g,m)},one:function(c,d,g,m){return Fd(this,c,d,g,m,1)},off:function(c,d,g){var m,C;if(c&&c.preventDefault&&c.handleObj)return m=c.handleObj,p(c.delegateTarget).off(m.namespace?m.origType+"."+m.namespace:m.origType,m.selector,m.handler),this;if(typeof c=="object"){for(C in c)this.off(C,d,c[C]);return this}return(d===!1||typeof d=="function")&&(g=d,d=void 0),g===!1&&(g=Vo),this.each(function(){p.event.remove(this,c,g,d)})}});var rM=/<script|<style|<link/i,iM=/checked\s*(?:[^=]|=\s*.checked.)/i,oM=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function by(c,d){return x(c,"table")&&x(d.nodeType!==11?d:d.firstChild,"tr")&&p(c).children("tbody")[0]||c}function sM(c){return c.type=(c.getAttribute("type")!==null)+"/"+c.type,c}function aM(c){return(c.type||"").slice(0,5)==="true/"?c.type=c.type.slice(5):c.removeAttribute("type"),c}function xy(c,d){var g,m,C,w,M,_,R;if(d.nodeType===1){if(me.hasData(c)&&(w=me.get(c),R=w.events,R)){me.remove(d,"handle events");for(C in R)for(g=0,m=R[C].length;g<m;g++)p.event.add(d,C,R[C][g])}lt.hasData(c)&&(M=lt.access(c),_=p.extend({},M),lt.set(d,_))}}function uM(c,d){var g=d.nodeName.toLowerCase();g==="input"&&vi.test(c.type)?d.checked=c.checked:(g==="input"||g==="textarea")&&(d.defaultValue=c.defaultValue)}function Go(c,d,g,m){d=o(d);var C,w,M,_,R,U,re=0,ce=c.length,ee=ce-1,he=d[0],Re=b(he);if(Re||ce>1&&typeof he=="string"&&!I.checkClone&&iM.test(he))return c.each(function(ot){var Ze=c.eq(ot);Re&&(d[0]=he.call(this,ot,Ze.html())),Go(Ze,d,g,m)});if(ce&&(C=Ay(d,c[0].ownerDocument,!1,c,m),w=C.firstChild,C.childNodes.length===1&&(C=w),w||m)){for(M=p.map(Vt(C,"script"),sM),_=M.length;re<ce;re++)R=C,re!==ee&&(R=p.clone(R,!0,!0),_&&p.merge(M,Vt(R,"script"))),g.call(c[re],R,re);if(_)for(U=M[M.length-1].ownerDocument,p.map(M,aM),re=0;re<_;re++)R=M[re],ya.test(R.type||"")&&!me.access(R,"globalEval")&&p.contains(U,R)&&(R.src&&(R.type||"").toLowerCase()!=="module"?p._evalUrl&&!R.noModule&&p._evalUrl(R.src,{nonce:R.nonce||R.getAttribute("nonce")},U):z(R.textContent.replace(oM,""),R,U))}return c}function Dy(c,d,g){for(var m,C=d?p.filter(d,c):c,w=0;(m=C[w])!=null;w++)!g&&m.nodeType===1&&p.cleanData(Vt(m)),m.parentNode&&(g&&Or(m)&&_d(Vt(m,"script")),m.parentNode.removeChild(m));return c}p.extend({htmlPrefilter:function(c){return c},clone:function(c,d,g){var m,C,w,M,_=c.cloneNode(!0),R=Or(c);if(!I.noCloneChecked&&(c.nodeType===1||c.nodeType===11)&&!p.isXMLDoc(c))for(M=Vt(_),w=Vt(c),m=0,C=w.length;m<C;m++)uM(w[m],M[m]);if(d)if(g)for(w=w||Vt(c),M=M||Vt(_),m=0,C=w.length;m<C;m++)xy(w[m],M[m]);else xy(c,_);return M=Vt(_,"script"),M.length>0&&_d(M,!R&&Vt(c,"script")),_},cleanData:function(c){for(var d,g,m,C=p.event.special,w=0;(g=c[w])!==void 0;w++)if(jt(g)){if(d=g[me.expando]){if(d.events)for(m in d.events)C[m]?p.event.remove(g,m):p.removeEvent(g,m,d.handle);g[me.expando]=void 0}g[lt.expando]&&(g[lt.expando]=void 0)}}}),p.fn.extend({detach:function(c){return Dy(this,c,!0)},remove:function(c){return Dy(this,c)},text:function(c){return Z(this,function(d){return d===void 0?p.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=d)})},null,c,arguments.length)},append:function(){return Go(this,arguments,function(c){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var d=by(this,c);d.appendChild(c)}})},prepend:function(){return Go(this,arguments,function(c){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var d=by(this,c);d.insertBefore(c,d.firstChild)}})},before:function(){return Go(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return Go(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,d=0;(c=this[d])!=null;d++)c.nodeType===1&&(p.cleanData(Vt(c,!1)),c.textContent="");return this},clone:function(c,d){return c=c??!1,d=d??c,this.map(function(){return p.clone(this,c,d)})},html:function(c){return Z(this,function(d){var g=this[0]||{},m=0,C=this.length;if(d===void 0&&g.nodeType===1)return g.innerHTML;if(typeof d=="string"&&!rM.test(d)&&!zn[(va.exec(d)||["",""])[1].toLowerCase()]){d=p.htmlPrefilter(d);try{for(;m<C;m++)g=this[m]||{},g.nodeType===1&&(p.cleanData(Vt(g,!1)),g.innerHTML=d);g=0}catch{}}g&&this.empty().append(d)},null,c,arguments.length)},replaceWith:function(){var c=[];return Go(this,arguments,function(d){var g=this.parentNode;p.inArray(this,c)<0&&(p.cleanData(Vt(this)),g&&g.replaceChild(d,this))},c)}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,d){p.fn[c]=function(g){for(var m,C=[],w=p(g),M=w.length-1,_=0;_<=M;_++)m=_===M?this:this.clone(!0),p(w[_])[d](m),s.apply(C,m.get());return this.pushStack(C)}});var jd=new RegExp("^("+En+")(?!px)[a-z%]+$","i"),Bd=/^--/,dc=function(c){var d=c.ownerDocument.defaultView;return(!d||!d.opener)&&(d=e),d.getComputedStyle(c)},My=function(c,d,g){var m,C,w={};for(C in d)w[C]=c.style[C],c.style[C]=d[C];m=g.call(c);for(C in d)c.style[C]=w[C];return m},cM=new RegExp(Bn.join("|"),"i");(function(){function c(){if(U){R.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",U.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",vr.appendChild(R).appendChild(U);var re=e.getComputedStyle(U);g=re.top!=="1%",_=d(re.marginLeft)===12,U.style.right="60%",w=d(re.right)===36,m=d(re.width)===36,U.style.position="absolute",C=d(U.offsetWidth/3)===12,vr.removeChild(R),U=null}}function d(re){return Math.round(parseFloat(re))}var g,m,C,w,M,_,R=E.createElement("div"),U=E.createElement("div");U.style&&(U.style.backgroundClip="content-box",U.cloneNode(!0).style.backgroundClip="",I.clearCloneStyle=U.style.backgroundClip==="content-box",p.extend(I,{boxSizingReliable:function(){return c(),m},pixelBoxStyles:function(){return c(),w},pixelPosition:function(){return c(),g},reliableMarginLeft:function(){return c(),_},scrollboxSize:function(){return c(),C},reliableTrDimensions:function(){var re,ce,ee,he;return M==null&&(re=E.createElement("table"),ce=E.createElement("tr"),ee=E.createElement("div"),re.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ce.style.cssText="box-sizing:content-box;border:1px solid",ce.style.height="1px",ee.style.height="9px",ee.style.display="block",vr.appendChild(re).appendChild(ce).appendChild(ee),he=e.getComputedStyle(ce),M=parseInt(he.height,10)+parseInt(he.borderTopWidth,10)+parseInt(he.borderBottomWidth,10)===ce.offsetHeight,vr.removeChild(re)),M}}))})();function Ia(c,d,g){var m,C,w,M,_=Bd.test(d),R=c.style;return g=g||dc(c),g&&(M=g.getPropertyValue(d)||g[d],_&&M&&(M=M.replace(W,"$1")||void 0),M===""&&!Or(c)&&(M=p.style(c,d)),!I.pixelBoxStyles()&&jd.test(M)&&cM.test(d)&&(m=R.width,C=R.minWidth,w=R.maxWidth,R.minWidth=R.maxWidth=R.width=M,M=g.width,R.width=m,R.minWidth=C,R.maxWidth=w)),M!==void 0?M+"":M}function Ny(c,d){return{get:function(){if(c()){delete this.get;return}return(this.get=d).apply(this,arguments)}}}var Ey=["Webkit","Moz","ms"],Ty=E.createElement("div").style,Sy={};function lM(c){for(var d=c[0].toUpperCase()+c.slice(1),g=Ey.length;g--;)if(c=Ey[g]+d,c in Ty)return c}function zd(c){var d=p.cssProps[c]||Sy[c];return d||(c in Ty?c:Sy[c]=lM(c)||c)}var fM=/^(none|table(?!-c[ea]).+)/,dM={position:"absolute",visibility:"hidden",display:"block"},Py={letterSpacing:"0",fontWeight:"400"};function Oy(c,d,g){var m=mr.exec(d);return m?Math.max(0,m[2]-(g||0))+(m[3]||"px"):d}function Vd(c,d,g,m,C,w){var M=d==="width"?1:0,_=0,R=0,U=0;if(g===(m?"border":"content"))return 0;for(;M<4;M+=2)g==="margin"&&(U+=p.css(c,g+Bn[M],!0,C)),m?(g==="content"&&(R-=p.css(c,"padding"+Bn[M],!0,C)),g!=="margin"&&(R-=p.css(c,"border"+Bn[M]+"Width",!0,C))):(R+=p.css(c,"padding"+Bn[M],!0,C),g!=="padding"?R+=p.css(c,"border"+Bn[M]+"Width",!0,C):_+=p.css(c,"border"+Bn[M]+"Width",!0,C));return!m&&w>=0&&(R+=Math.max(0,Math.ceil(c["offset"+d[0].toUpperCase()+d.slice(1)]-w-R-_-.5))||0),R+U}function Ly(c,d,g){var m=dc(c),C=!I.boxSizingReliable()||g,w=C&&p.css(c,"boxSizing",!1,m)==="border-box",M=w,_=Ia(c,d,m),R="offset"+d[0].toUpperCase()+d.slice(1);if(jd.test(_)){if(!g)return _;_="auto"}return(!I.boxSizingReliable()&&w||!I.reliableTrDimensions()&&x(c,"tr")||_==="auto"||!parseFloat(_)&&p.css(c,"display",!1,m)==="inline")&&c.getClientRects().length&&(w=p.css(c,"boxSizing",!1,m)==="border-box",M=R in c,M&&(_=c[R])),_=parseFloat(_)||0,_+Vd(c,d,g||(w?"border":"content"),M,m,_)+"px"}p.extend({cssHooks:{opacity:{get:function(c,d){if(d){var g=Ia(c,"opacity");return g===""?"1":g}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(c,d,g,m){if(!(!c||c.nodeType===3||c.nodeType===8||!c.style)){var C,w,M,_=Ue(d),R=Bd.test(d),U=c.style;if(R||(d=zd(_)),M=p.cssHooks[d]||p.cssHooks[_],g!==void 0){if(w=typeof g,w==="string"&&(C=mr.exec(g))&&C[1]&&(g=pa(c,d,C),w="number"),g==null||g!==g)return;w==="number"&&!R&&(g+=C&&C[3]||(p.cssNumber[_]?"":"px")),!I.clearCloneStyle&&g===""&&d.indexOf("background")===0&&(U[d]="inherit"),(!M||!("set"in M)||(g=M.set(c,g,m))!==void 0)&&(R?U.setProperty(d,g):U[d]=g)}else return M&&"get"in M&&(C=M.get(c,!1,m))!==void 0?C:U[d]}},css:function(c,d,g,m){var C,w,M,_=Ue(d),R=Bd.test(d);return R||(d=zd(_)),M=p.cssHooks[d]||p.cssHooks[_],M&&"get"in M&&(C=M.get(c,!0,g)),C===void 0&&(C=Ia(c,d,m)),C==="normal"&&d in Py&&(C=Py[d]),g===""||g?(w=parseFloat(C),g===!0||isFinite(w)?w||0:C):C}}),p.each(["height","width"],function(c,d){p.cssHooks[d]={get:function(g,m,C){if(m)return fM.test(p.css(g,"display"))&&(!g.getClientRects().length||!g.getBoundingClientRect().width)?My(g,dM,function(){return Ly(g,d,C)}):Ly(g,d,C)},set:function(g,m,C){var w,M=dc(g),_=!I.scrollboxSize()&&M.position==="absolute",R=_||C,U=R&&p.css(g,"boxSizing",!1,M)==="border-box",re=C?Vd(g,d,C,U,M):0;return U&&_&&(re-=Math.ceil(g["offset"+d[0].toUpperCase()+d.slice(1)]-parseFloat(M[d])-Vd(g,d,"border",!1,M)-.5)),re&&(w=mr.exec(m))&&(w[3]||"px")!=="px"&&(g.style[d]=m,m=p.css(g,d)),Oy(g,m,re)}}}),p.cssHooks.marginLeft=Ny(I.reliableMarginLeft,function(c,d){if(d)return(parseFloat(Ia(c,"marginLeft"))||c.getBoundingClientRect().left-My(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"}),p.each({margin:"",padding:"",border:"Width"},function(c,d){p.cssHooks[c+d]={expand:function(g){for(var m=0,C={},w=typeof g=="string"?g.split(" "):[g];m<4;m++)C[c+Bn[m]+d]=w[m]||w[m-2]||w[0];return C}},c!=="margin"&&(p.cssHooks[c+d].set=Oy)}),p.fn.extend({css:function(c,d){return Z(this,function(g,m,C){var w,M,_={},R=0;if(Array.isArray(m)){for(w=dc(g),M=m.length;R<M;R++)_[m[R]]=p.css(g,m[R],!1,w);return _}return C!==void 0?p.style(g,m,C):p.css(g,m)},c,d,arguments.length>1)}});function Vn(c,d,g,m,C){return new Vn.prototype.init(c,d,g,m,C)}p.Tween=Vn,Vn.prototype={constructor:Vn,init:function(c,d,g,m,C,w){this.elem=c,this.prop=g,this.easing=C||p.easing._default,this.options=d,this.start=this.now=this.cur(),this.end=m,this.unit=w||(p.cssNumber[g]?"":"px")},cur:function(){var c=Vn.propHooks[this.prop];return c&&c.get?c.get(this):Vn.propHooks._default.get(this)},run:function(c){var d,g=Vn.propHooks[this.prop];return this.options.duration?this.pos=d=p.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):this.pos=d=c,this.now=(this.end-this.start)*d+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),g&&g.set?g.set(this):Vn.propHooks._default.set(this),this}},Vn.prototype.init.prototype=Vn.prototype,Vn.propHooks={_default:{get:function(c){var d;return c.elem.nodeType!==1||c.elem[c.prop]!=null&&c.elem.style[c.prop]==null?c.elem[c.prop]:(d=p.css(c.elem,c.prop,""),!d||d==="auto"?0:d)},set:function(c){p.fx.step[c.prop]?p.fx.step[c.prop](c):c.elem.nodeType===1&&(p.cssHooks[c.prop]||c.elem.style[zd(c.prop)]!=null)?p.style(c.elem,c.prop,c.now+c.unit):c.elem[c.prop]=c.now}}},Vn.propHooks.scrollTop=Vn.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}},p.easing={linear:function(c){return c},swing:function(c){return .5-Math.cos(c*Math.PI)/2},_default:"swing"},p.fx=Vn.prototype.init,p.fx.step={};var Zo,hc,hM=/^(?:toggle|show|hide)$/,gM=/queueHooks$/;function Gd(){hc&&(E.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(Gd):e.setTimeout(Gd,p.fx.interval),p.fx.tick())}function ky(){return e.setTimeout(function(){Zo=void 0}),Zo=Date.now()}function gc(c,d){var g,m=0,C={height:c};for(d=d?1:0;m<4;m+=2-d)g=Bn[m],C["margin"+g]=C["padding"+g]=c;return d&&(C.opacity=C.width=c),C}function Ry(c,d,g){for(var m,C=(yr.tweeners[d]||[]).concat(yr.tweeners["*"]),w=0,M=C.length;w<M;w++)if(m=C[w].call(g,d,c))return m}function pM(c,d,g){var m,C,w,M,_,R,U,re,ce="width"in d||"height"in d,ee=this,he={},Re=c.style,ot=c.nodeType&&Yi(c),Ze=me.get(c,"fxshow");g.queue||(M=p._queueHooks(c,"fx"),M.unqueued==null&&(M.unqueued=0,_=M.empty.fire,M.empty.fire=function(){M.unqueued||_()}),M.unqueued++,ee.always(function(){ee.always(function(){M.unqueued--,p.queue(c,"fx").length||M.empty.fire()})}));for(m in d)if(C=d[m],hM.test(C)){if(delete d[m],w=w||C==="toggle",C===(ot?"hide":"show"))if(C==="show"&&Ze&&Ze[m]!==void 0)ot=!0;else continue;he[m]=Ze&&Ze[m]||p.style(c,m)}if(R=!p.isEmptyObject(d),!(!R&&p.isEmptyObject(he))){ce&&c.nodeType===1&&(g.overflow=[Re.overflow,Re.overflowX,Re.overflowY],U=Ze&&Ze.display,U==null&&(U=me.get(c,"display")),re=p.css(c,"display"),re==="none"&&(U?re=U:(Jn([c],!0),U=c.style.display||U,re=p.css(c,"display"),Jn([c]))),(re==="inline"||re==="inline-block"&&U!=null)&&p.css(c,"float")==="none"&&(R||(ee.done(function(){Re.display=U}),U==null&&(re=Re.display,U=re==="none"?"":re)),Re.display="inline-block")),g.overflow&&(Re.overflow="hidden",ee.always(function(){Re.overflow=g.overflow[0],Re.overflowX=g.overflow[1],Re.overflowY=g.overflow[2]})),R=!1;for(m in he)R||(Ze?"hidden"in Ze&&(ot=Ze.hidden):Ze=me.access(c,"fxshow",{display:U}),w&&(Ze.hidden=!ot),ot&&Jn([c],!0),ee.done(function(){ot||Jn([c]),me.remove(c,"fxshow");for(m in he)p.style(c,m,he[m])})),R=Ry(ot?Ze[m]:0,m,ee),m in Ze||(Ze[m]=R.start,ot&&(R.end=R.start,R.start=0))}}function mM(c,d){var g,m,C,w,M;for(g in c)if(m=Ue(g),C=d[m],w=c[g],Array.isArray(w)&&(C=w[1],w=c[g]=w[0]),g!==m&&(c[m]=w,delete c[g]),M=p.cssHooks[m],M&&"expand"in M){w=M.expand(w),delete c[m];for(g in w)g in c||(c[g]=w[g],d[g]=C)}else d[m]=C}function yr(c,d,g){var m,C,w=0,M=yr.prefilters.length,_=p.Deferred().always(function(){delete R.elem}),R=function(){if(C)return!1;for(var ce=Zo||ky(),ee=Math.max(0,U.startTime+U.duration-ce),he=ee/U.duration||0,Re=1-he,ot=0,Ze=U.tweens.length;ot<Ze;ot++)U.tweens[ot].run(Re);return _.notifyWith(c,[U,Re,ee]),Re<1&&Ze?ee:(Ze||_.notifyWith(c,[U,1,0]),_.resolveWith(c,[U]),!1)},U=_.promise({elem:c,props:p.extend({},d),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},g),originalProperties:d,originalOptions:g,startTime:Zo||ky(),duration:g.duration,tweens:[],createTween:function(ce,ee){var he=p.Tween(c,U.opts,ce,ee,U.opts.specialEasing[ce]||U.opts.easing);return U.tweens.push(he),he},stop:function(ce){var ee=0,he=ce?U.tweens.length:0;if(C)return this;for(C=!0;ee<he;ee++)U.tweens[ee].run(1);return ce?(_.notifyWith(c,[U,1,0]),_.resolveWith(c,[U,ce])):_.rejectWith(c,[U,ce]),this}}),re=U.props;for(mM(re,U.opts.specialEasing);w<M;w++)if(m=yr.prefilters[w].call(U,c,re,U.opts),m)return b(m.stop)&&(p._queueHooks(U.elem,U.opts.queue).stop=m.stop.bind(m)),m;return p.map(re,Ry,U),b(U.opts.start)&&U.opts.start.call(c,U),U.progress(U.opts.progress).done(U.opts.done,U.opts.complete).fail(U.opts.fail).always(U.opts.always),p.fx.timer(p.extend(R,{elem:c,anim:U,queue:U.opts.queue})),U}p.Animation=p.extend(yr,{tweeners:{"*":[function(c,d){var g=this.createTween(c,d);return pa(g.elem,c,mr.exec(d),g),g}]},tweener:function(c,d){b(c)?(d=c,c=["*"]):c=c.match(_e);for(var g,m=0,C=c.length;m<C;m++)g=c[m],yr.tweeners[g]=yr.tweeners[g]||[],yr.tweeners[g].unshift(d)},prefilters:[pM],prefilter:function(c,d){d?yr.prefilters.unshift(c):yr.prefilters.push(c)}}),p.speed=function(c,d,g){var m=c&&typeof c=="object"?p.extend({},c):{complete:g||!g&&d||b(c)&&c,duration:c,easing:g&&d||d&&!b(d)&&d};return p.fx.off?m.duration=0:typeof m.duration!="number"&&(m.duration in p.fx.speeds?m.duration=p.fx.speeds[m.duration]:m.duration=p.fx.speeds._default),(m.queue==null||m.queue===!0)&&(m.queue="fx"),m.old=m.complete,m.complete=function(){b(m.old)&&m.old.call(this),m.queue&&p.dequeue(this,m.queue)},m},p.fn.extend({fadeTo:function(c,d,g,m){return this.filter(Yi).css("opacity",0).show().end().animate({opacity:d},c,g,m)},animate:function(c,d,g,m){var C=p.isEmptyObject(c),w=p.speed(d,g,m),M=function(){var _=yr(this,p.extend({},c),w);(C||me.get(this,"finish"))&&_.stop(!0)};return M.finish=M,C||w.queue===!1?this.each(M):this.queue(w.queue,M)},stop:function(c,d,g){var m=function(C){var w=C.stop;delete C.stop,w(g)};return typeof c!="string"&&(g=d,d=c,c=void 0),d&&this.queue(c||"fx",[]),this.each(function(){var C=!0,w=c!=null&&c+"queueHooks",M=p.timers,_=me.get(this);if(w)_[w]&&_[w].stop&&m(_[w]);else for(w in _)_[w]&&_[w].stop&&gM.test(w)&&m(_[w]);for(w=M.length;w--;)M[w].elem===this&&(c==null||M[w].queue===c)&&(M[w].anim.stop(g),C=!1,M.splice(w,1));(C||!g)&&p.dequeue(this,c)})},finish:function(c){return c!==!1&&(c=c||"fx"),this.each(function(){var d,g=me.get(this),m=g[c+"queue"],C=g[c+"queueHooks"],w=p.timers,M=m?m.length:0;for(g.finish=!0,p.queue(this,c,[]),C&&C.stop&&C.stop.call(this,!0),d=w.length;d--;)w[d].elem===this&&w[d].queue===c&&(w[d].anim.stop(!0),w.splice(d,1));for(d=0;d<M;d++)m[d]&&m[d].finish&&m[d].finish.call(this);delete g.finish})}}),p.each(["toggle","show","hide"],function(c,d){var g=p.fn[d];p.fn[d]=function(m,C,w){return m==null||typeof m=="boolean"?g.apply(this,arguments):this.animate(gc(d,!0),m,C,w)}}),p.each({slideDown:gc("show"),slideUp:gc("hide"),slideToggle:gc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,d){p.fn[c]=function(g,m,C){return this.animate(d,g,m,C)}}),p.timers=[],p.fx.tick=function(){var c,d=0,g=p.timers;for(Zo=Date.now();d<g.length;d++)c=g[d],!c()&&g[d]===c&&g.splice(d--,1);g.length||p.fx.stop(),Zo=void 0},p.fx.timer=function(c){p.timers.push(c),p.fx.start()},p.fx.interval=13,p.fx.start=function(){hc||(hc=!0,Gd())},p.fx.stop=function(){hc=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(c,d){return c=p.fx&&p.fx.speeds[c]||c,d=d||"fx",this.queue(d,function(g,m){var C=e.setTimeout(g,c);m.stop=function(){e.clearTimeout(C)}})},function(){var c=E.createElement("input"),d=E.createElement("select"),g=d.appendChild(E.createElement("option"));c.type="checkbox",I.checkOn=c.value!=="",I.optSelected=g.selected,c=E.createElement("input"),c.value="t",c.type="radio",I.radioValue=c.value==="t"}();var _y,Ca=p.expr.attrHandle;p.fn.extend({attr:function(c,d){return Z(this,p.attr,c,d,arguments.length>1)},removeAttr:function(c){return this.each(function(){p.removeAttr(this,c)})}}),p.extend({attr:function(c,d,g){var m,C,w=c.nodeType;if(!(w===3||w===8||w===2)){if(typeof c.getAttribute>"u")return p.prop(c,d,g);if((w!==1||!p.isXMLDoc(c))&&(C=p.attrHooks[d.toLowerCase()]||(p.expr.match.bool.test(d)?_y:void 0)),g!==void 0){if(g===null){p.removeAttr(c,d);return}return C&&"set"in C&&(m=C.set(c,g,d))!==void 0?m:(c.setAttribute(d,g+""),g)}return C&&"get"in C&&(m=C.get(c,d))!==null?m:(m=p.find.attr(c,d),m??void 0)}},attrHooks:{type:{set:function(c,d){if(!I.radioValue&&d==="radio"&&x(c,"input")){var g=c.value;return c.setAttribute("type",d),g&&(c.value=g),d}}}},removeAttr:function(c,d){var g,m=0,C=d&&d.match(_e);if(C&&c.nodeType===1)for(;g=C[m++];)c.removeAttribute(g)}}),_y={set:function(c,d,g){return d===!1?p.removeAttr(c,g):c.setAttribute(g,g),g}},p.each(p.expr.match.bool.source.match(/\w+/g),function(c,d){var g=Ca[d]||p.find.attr;Ca[d]=function(m,C,w){var M,_,R=C.toLowerCase();return w||(_=Ca[R],Ca[R]=M,M=g(m,C,w)!=null?R:null,Ca[R]=_),M}});var vM=/^(?:input|select|textarea|button)$/i,yM=/^(?:a|area)$/i;p.fn.extend({prop:function(c,d){return Z(this,p.prop,c,d,arguments.length>1)},removeProp:function(c){return this.each(function(){delete this[p.propFix[c]||c]})}}),p.extend({prop:function(c,d,g){var m,C,w=c.nodeType;if(!(w===3||w===8||w===2))return(w!==1||!p.isXMLDoc(c))&&(d=p.propFix[d]||d,C=p.propHooks[d]),g!==void 0?C&&"set"in C&&(m=C.set(c,g,d))!==void 0?m:c[d]=g:C&&"get"in C&&(m=C.get(c,d))!==null?m:c[d]},propHooks:{tabIndex:{get:function(c){var d=p.find.attr(c,"tabindex");return d?parseInt(d,10):vM.test(c.nodeName)||yM.test(c.nodeName)&&c.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),I.optSelected||(p.propHooks.selected={get:function(c){var d=c.parentNode;return d&&d.parentNode&&d.parentNode.selectedIndex,null},set:function(c){var d=c.parentNode;d&&(d.selectedIndex,d.parentNode&&d.parentNode.selectedIndex)}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){p.propFix[this.toLowerCase()]=this});function Xi(c){var d=c.match(_e)||[];return d.join(" ")}function $i(c){return c.getAttribute&&c.getAttribute("class")||""}function Zd(c){return Array.isArray(c)?c:typeof c=="string"?c.match(_e)||[]:[]}p.fn.extend({addClass:function(c){var d,g,m,C,w,M;return b(c)?this.each(function(_){p(this).addClass(c.call(this,_,$i(this)))}):(d=Zd(c),d.length?this.each(function(){if(m=$i(this),g=this.nodeType===1&&" "+Xi(m)+" ",g){for(w=0;w<d.length;w++)C=d[w],g.indexOf(" "+C+" ")<0&&(g+=C+" ");M=Xi(g),m!==M&&this.setAttribute("class",M)}}):this)},removeClass:function(c){var d,g,m,C,w,M;return b(c)?this.each(function(_){p(this).removeClass(c.call(this,_,$i(this)))}):arguments.length?(d=Zd(c),d.length?this.each(function(){if(m=$i(this),g=this.nodeType===1&&" "+Xi(m)+" ",g){for(w=0;w<d.length;w++)for(C=d[w];g.indexOf(" "+C+" ")>-1;)g=g.replace(" "+C+" "," ");M=Xi(g),m!==M&&this.setAttribute("class",M)}}):this):this.attr("class","")},toggleClass:function(c,d){var g,m,C,w,M=typeof c,_=M==="string"||Array.isArray(c);return b(c)?this.each(function(R){p(this).toggleClass(c.call(this,R,$i(this),d),d)}):typeof d=="boolean"&&_?d?this.addClass(c):this.removeClass(c):(g=Zd(c),this.each(function(){if(_)for(w=p(this),C=0;C<g.length;C++)m=g[C],w.hasClass(m)?w.removeClass(m):w.addClass(m);else(c===void 0||M==="boolean")&&(m=$i(this),m&&me.set(this,"__className__",m),this.setAttribute&&this.setAttribute("class",m||c===!1?"":me.get(this,"__className__")||""))}))},hasClass:function(c){var d,g,m=0;for(d=" "+c+" ";g=this[m++];)if(g.nodeType===1&&(" "+Xi($i(g))+" ").indexOf(d)>-1)return!0;return!1}});var IM=/\r/g;p.fn.extend({val:function(c){var d,g,m,C=this[0];return arguments.length?(m=b(c),this.each(function(w){var M;this.nodeType===1&&(m?M=c.call(this,w,p(this).val()):M=c,M==null?M="":typeof M=="number"?M+="":Array.isArray(M)&&(M=p.map(M,function(_){return _==null?"":_+""})),d=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],(!d||!("set"in d)||d.set(this,M,"value")===void 0)&&(this.value=M))})):C?(d=p.valHooks[C.type]||p.valHooks[C.nodeName.toLowerCase()],d&&"get"in d&&(g=d.get(C,"value"))!==void 0?g:(g=C.value,typeof g=="string"?g.replace(IM,""):g??"")):void 0}}),p.extend({valHooks:{option:{get:function(c){var d=p.find.attr(c,"value");return d??Xi(p.text(c))}},select:{get:function(c){var d,g,m,C=c.options,w=c.selectedIndex,M=c.type==="select-one",_=M?null:[],R=M?w+1:C.length;for(w<0?m=R:m=M?w:0;m<R;m++)if(g=C[m],(g.selected||m===w)&&!g.disabled&&(!g.parentNode.disabled||!x(g.parentNode,"optgroup"))){if(d=p(g).val(),M)return d;_.push(d)}return _},set:function(c,d){for(var g,m,C=c.options,w=p.makeArray(d),M=C.length;M--;)m=C[M],(m.selected=p.inArray(p.valHooks.option.get(m),w)>-1)&&(g=!0);return g||(c.selectedIndex=-1),w}}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(c,d){if(Array.isArray(d))return c.checked=p.inArray(p(c).val(),d)>-1}},I.checkOn||(p.valHooks[this].get=function(c){return c.getAttribute("value")===null?"on":c.value})});var Aa=e.location,Fy={guid:Date.now()},Ud=/\?/;p.parseXML=function(c){var d,g;if(!c||typeof c!="string")return null;try{d=new e.DOMParser().parseFromString(c,"text/xml")}catch{}return g=d&&d.getElementsByTagName("parsererror")[0],(!d||g)&&p.error("Invalid XML: "+(g?p.map(g.childNodes,function(m){return m.textContent}).join(`
`):c)),d};var jy=/^(?:focusinfocus|focusoutblur)$/,By=function(c){c.stopPropagation()};p.extend(p.event,{trigger:function(c,d,g,m){var C,w,M,_,R,U,re,ce,ee=[g||E],he=h.call(c,"type")?c.type:c,Re=h.call(c,"namespace")?c.namespace.split("."):[];if(w=ce=M=g=g||E,!(g.nodeType===3||g.nodeType===8)&&!jy.test(he+p.event.triggered)&&(he.indexOf(".")>-1&&(Re=he.split("."),he=Re.shift(),Re.sort()),R=he.indexOf(":")<0&&"on"+he,c=c[p.expando]?c:new p.Event(he,typeof c=="object"&&c),c.isTrigger=m?2:3,c.namespace=Re.join("."),c.rnamespace=c.namespace?new RegExp("(^|\\.)"+Re.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=g),d=d==null?[c]:p.makeArray(d,[c]),re=p.event.special[he]||{},!(!m&&re.trigger&&re.trigger.apply(g,d)===!1))){if(!m&&!re.noBubble&&!D(g)){for(_=re.delegateType||he,jy.test(_+he)||(w=w.parentNode);w;w=w.parentNode)ee.push(w),M=w;M===(g.ownerDocument||E)&&ee.push(M.defaultView||M.parentWindow||e)}for(C=0;(w=ee[C++])&&!c.isPropagationStopped();)ce=w,c.type=C>1?_:re.bindType||he,U=(me.get(w,"events")||Object.create(null))[c.type]&&me.get(w,"handle"),U&&U.apply(w,d),U=R&&w[R],U&&U.apply&&jt(w)&&(c.result=U.apply(w,d),c.result===!1&&c.preventDefault());return c.type=he,!m&&!c.isDefaultPrevented()&&(!re._default||re._default.apply(ee.pop(),d)===!1)&&jt(g)&&R&&b(g[he])&&!D(g)&&(M=g[R],M&&(g[R]=null),p.event.triggered=he,c.isPropagationStopped()&&ce.addEventListener(he,By),g[he](),c.isPropagationStopped()&&ce.removeEventListener(he,By),p.event.triggered=void 0,M&&(g[R]=M)),c.result}},simulate:function(c,d,g){var m=p.extend(new p.Event,g,{type:c,isSimulated:!0});p.event.trigger(m,null,d)}}),p.fn.extend({trigger:function(c,d){return this.each(function(){p.event.trigger(c,d,this)})},triggerHandler:function(c,d){var g=this[0];if(g)return p.event.trigger(c,d,g,!0)}});var CM=/\[\]$/,zy=/\r?\n/g,AM=/^(?:submit|button|image|reset|file)$/i,wM=/^(?:input|select|textarea|keygen)/i;function Hd(c,d,g,m){var C;if(Array.isArray(d))p.each(d,function(w,M){g||CM.test(c)?m(c,M):Hd(c+"["+(typeof M=="object"&&M!=null?w:"")+"]",M,g,m)});else if(!g&&H(d)==="object")for(C in d)Hd(c+"["+C+"]",d[C],g,m);else m(c,d)}p.param=function(c,d){var g,m=[],C=function(w,M){var _=b(M)?M():M;m[m.length]=encodeURIComponent(w)+"="+encodeURIComponent(_??"")};if(c==null)return"";if(Array.isArray(c)||c.jquery&&!p.isPlainObject(c))p.each(c,function(){C(this.name,this.value)});else for(g in c)Hd(g,c[g],d,C);return m.join("&")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=p.prop(this,"elements");return c?p.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!p(this).is(":disabled")&&wM.test(this.nodeName)&&!AM.test(c)&&(this.checked||!vi.test(c))}).map(function(c,d){var g=p(this).val();return g==null?null:Array.isArray(g)?p.map(g,function(m){return{name:d.name,value:m.replace(zy,`\r
`)}}):{name:d.name,value:g.replace(zy,`\r
`)}}).get()}});var bM=/%20/g,xM=/#.*$/,DM=/([?&])_=[^&]*/,MM=/^(.*?):[ \t]*([^\r\n]*)$/mg,NM=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,EM=/^(?:GET|HEAD)$/,TM=/^\/\//,Vy={},Wd={},Gy="*/".concat("*"),Yd=E.createElement("a");Yd.href=Aa.href;function Zy(c){return function(d,g){typeof d!="string"&&(g=d,d="*");var m,C=0,w=d.toLowerCase().match(_e)||[];if(b(g))for(;m=w[C++];)m[0]==="+"?(m=m.slice(1)||"*",(c[m]=c[m]||[]).unshift(g)):(c[m]=c[m]||[]).push(g)}}function Uy(c,d,g,m){var C={},w=c===Wd;function M(_){var R;return C[_]=!0,p.each(c[_]||[],function(U,re){var ce=re(d,g,m);if(typeof ce=="string"&&!w&&!C[ce])return d.dataTypes.unshift(ce),M(ce),!1;if(w)return!(R=ce)}),R}return M(d.dataTypes[0])||!C["*"]&&M("*")}function Xd(c,d){var g,m,C=p.ajaxSettings.flatOptions||{};for(g in d)d[g]!==void 0&&((C[g]?c:m||(m={}))[g]=d[g]);return m&&p.extend(!0,c,m),c}function SM(c,d,g){for(var m,C,w,M,_=c.contents,R=c.dataTypes;R[0]==="*";)R.shift(),m===void 0&&(m=c.mimeType||d.getResponseHeader("Content-Type"));if(m){for(C in _)if(_[C]&&_[C].test(m)){R.unshift(C);break}}if(R[0]in g)w=R[0];else{for(C in g){if(!R[0]||c.converters[C+" "+R[0]]){w=C;break}M||(M=C)}w=w||M}if(w)return w!==R[0]&&R.unshift(w),g[w]}function PM(c,d,g,m){var C,w,M,_,R,U={},re=c.dataTypes.slice();if(re[1])for(M in c.converters)U[M.toLowerCase()]=c.converters[M];for(w=re.shift();w;)if(c.responseFields[w]&&(g[c.responseFields[w]]=d),!R&&m&&c.dataFilter&&(d=c.dataFilter(d,c.dataType)),R=w,w=re.shift(),w){if(w==="*")w=R;else if(R!=="*"&&R!==w){if(M=U[R+" "+w]||U["* "+w],!M){for(C in U)if(_=C.split(" "),_[1]===w&&(M=U[R+" "+_[0]]||U["* "+_[0]],M)){M===!0?M=U[C]:U[C]!==!0&&(w=_[0],re.unshift(_[1]));break}}if(M!==!0)if(M&&c.throws)d=M(d);else try{d=M(d)}catch(ce){return{state:"parsererror",error:M?ce:"No conversion from "+R+" to "+w}}}}return{state:"success",data:d}}p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Aa.href,type:"GET",isLocal:NM.test(Aa.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gy,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,d){return d?Xd(Xd(c,p.ajaxSettings),d):Xd(p.ajaxSettings,c)},ajaxPrefilter:Zy(Vy),ajaxTransport:Zy(Wd),ajax:function(c,d){typeof c=="object"&&(d=c,c=void 0),d=d||{};var g,m,C,w,M,_,R,U,re,ce,ee=p.ajaxSetup({},d),he=ee.context||ee,Re=ee.context&&(he.nodeType||he.jquery)?p(he):p.event,ot=p.Deferred(),Ze=p.Callbacks("once memory"),an=ee.statusCode||{},Jt={},Lr={},kr="canceled",Ke={readyState:0,getResponseHeader:function(st){var Zt;if(R){if(!w)for(w={};Zt=MM.exec(C);)w[Zt[1].toLowerCase()+" "]=(w[Zt[1].toLowerCase()+" "]||[]).concat(Zt[2]);Zt=w[st.toLowerCase()+" "]}return Zt==null?null:Zt.join(", ")},getAllResponseHeaders:function(){return R?C:null},setRequestHeader:function(st,Zt){return R==null&&(st=Lr[st.toLowerCase()]=Lr[st.toLowerCase()]||st,Jt[st]=Zt),this},overrideMimeType:function(st){return R==null&&(ee.mimeType=st),this},statusCode:function(st){var Zt;if(st)if(R)Ke.always(st[Ke.status]);else for(Zt in st)an[Zt]=[an[Zt],st[Zt]];return this},abort:function(st){var Zt=st||kr;return g&&g.abort(Zt),Ji(0,Zt),this}};if(ot.promise(Ke),ee.url=((c||ee.url||Aa.href)+"").replace(TM,Aa.protocol+"//"),ee.type=d.method||d.type||ee.method||ee.type,ee.dataTypes=(ee.dataType||"*").toLowerCase().match(_e)||[""],ee.crossDomain==null){_=E.createElement("a");try{_.href=ee.url,_.href=_.href,ee.crossDomain=Yd.protocol+"//"+Yd.host!=_.protocol+"//"+_.host}catch{ee.crossDomain=!0}}if(ee.data&&ee.processData&&typeof ee.data!="string"&&(ee.data=p.param(ee.data,ee.traditional)),Uy(Vy,ee,d,Ke),R)return Ke;U=p.event&&ee.global,U&&p.active++===0&&p.event.trigger("ajaxStart"),ee.type=ee.type.toUpperCase(),ee.hasContent=!EM.test(ee.type),m=ee.url.replace(xM,""),ee.hasContent?ee.data&&ee.processData&&(ee.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ee.data=ee.data.replace(bM,"+")):(ce=ee.url.slice(m.length),ee.data&&(ee.processData||typeof ee.data=="string")&&(m+=(Ud.test(m)?"&":"?")+ee.data,delete ee.data),ee.cache===!1&&(m=m.replace(DM,"$1"),ce=(Ud.test(m)?"&":"?")+"_="+Fy.guid+++ce),ee.url=m+ce),ee.ifModified&&(p.lastModified[m]&&Ke.setRequestHeader("If-Modified-Since",p.lastModified[m]),p.etag[m]&&Ke.setRequestHeader("If-None-Match",p.etag[m])),(ee.data&&ee.hasContent&&ee.contentType!==!1||d.contentType)&&Ke.setRequestHeader("Content-Type",ee.contentType),Ke.setRequestHeader("Accept",ee.dataTypes[0]&&ee.accepts[ee.dataTypes[0]]?ee.accepts[ee.dataTypes[0]]+(ee.dataTypes[0]!=="*"?", "+Gy+"; q=0.01":""):ee.accepts["*"]);for(re in ee.headers)Ke.setRequestHeader(re,ee.headers[re]);if(ee.beforeSend&&(ee.beforeSend.call(he,Ke,ee)===!1||R))return Ke.abort();if(kr="abort",Ze.add(ee.complete),Ke.done(ee.success),Ke.fail(ee.error),g=Uy(Wd,ee,d,Ke),!g)Ji(-1,"No Transport");else{if(Ke.readyState=1,U&&Re.trigger("ajaxSend",[Ke,ee]),R)return Ke;ee.async&&ee.timeout>0&&(M=e.setTimeout(function(){Ke.abort("timeout")},ee.timeout));try{R=!1,g.send(Jt,Ji)}catch(st){if(R)throw st;Ji(-1,st)}}function Ji(st,Zt,ba,Jd){var Rr,xa,_r,yi,Ii,sr=Zt;R||(R=!0,M&&e.clearTimeout(M),g=void 0,C=Jd||"",Ke.readyState=st>0?4:0,Rr=st>=200&&st<300||st===304,ba&&(yi=SM(ee,Ke,ba)),!Rr&&p.inArray("script",ee.dataTypes)>-1&&p.inArray("json",ee.dataTypes)<0&&(ee.converters["text script"]=function(){}),yi=PM(ee,yi,Ke,Rr),Rr?(ee.ifModified&&(Ii=Ke.getResponseHeader("Last-Modified"),Ii&&(p.lastModified[m]=Ii),Ii=Ke.getResponseHeader("etag"),Ii&&(p.etag[m]=Ii)),st===204||ee.type==="HEAD"?sr="nocontent":st===304?sr="notmodified":(sr=yi.state,xa=yi.data,_r=yi.error,Rr=!_r)):(_r=sr,(st||!sr)&&(sr="error",st<0&&(st=0))),Ke.status=st,Ke.statusText=(Zt||sr)+"",Rr?ot.resolveWith(he,[xa,sr,Ke]):ot.rejectWith(he,[Ke,sr,_r]),Ke.statusCode(an),an=void 0,U&&Re.trigger(Rr?"ajaxSuccess":"ajaxError",[Ke,ee,Rr?xa:_r]),Ze.fireWith(he,[Ke,sr]),U&&(Re.trigger("ajaxComplete",[Ke,ee]),--p.active||p.event.trigger("ajaxStop")))}return Ke},getJSON:function(c,d,g){return p.get(c,d,g,"json")},getScript:function(c,d){return p.get(c,void 0,d,"script")}}),p.each(["get","post"],function(c,d){p[d]=function(g,m,C,w){return b(m)&&(w=w||C,C=m,m=void 0),p.ajax(p.extend({url:g,type:d,dataType:w,data:m,success:C},p.isPlainObject(g)&&g))}}),p.ajaxPrefilter(function(c){var d;for(d in c.headers)d.toLowerCase()==="content-type"&&(c.contentType=c.headers[d]||"")}),p._evalUrl=function(c,d,g){return p.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(m){p.globalEval(m,d,g)}})},p.fn.extend({wrapAll:function(c){var d;return this[0]&&(b(c)&&(c=c.call(this[0])),d=p(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&d.insertBefore(this[0]),d.map(function(){for(var g=this;g.firstElementChild;)g=g.firstElementChild;return g}).append(this)),this},wrapInner:function(c){return b(c)?this.each(function(d){p(this).wrapInner(c.call(this,d))}):this.each(function(){var d=p(this),g=d.contents();g.length?g.wrapAll(c):d.append(c)})},wrap:function(c){var d=b(c);return this.each(function(g){p(this).wrapAll(d?c.call(this,g):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){p(this).replaceWith(this.childNodes)}),this}}),p.expr.pseudos.hidden=function(c){return!p.expr.pseudos.visible(c)},p.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)},p.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var OM={0:200,1223:204},wa=p.ajaxSettings.xhr();I.cors=!!wa&&"withCredentials"in wa,I.ajax=wa=!!wa,p.ajaxTransport(function(c){var d,g;if(I.cors||wa&&!c.crossDomain)return{send:function(m,C){var w,M=c.xhr();if(M.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(w in c.xhrFields)M[w]=c.xhrFields[w];c.mimeType&&M.overrideMimeType&&M.overrideMimeType(c.mimeType),!c.crossDomain&&!m["X-Requested-With"]&&(m["X-Requested-With"]="XMLHttpRequest");for(w in m)M.setRequestHeader(w,m[w]);d=function(_){return function(){d&&(d=g=M.onload=M.onerror=M.onabort=M.ontimeout=M.onreadystatechange=null,_==="abort"?M.abort():_==="error"?typeof M.status!="number"?C(0,"error"):C(M.status,M.statusText):C(OM[M.status]||M.status,M.statusText,(M.responseType||"text")!=="text"||typeof M.responseText!="string"?{binary:M.response}:{text:M.responseText},M.getAllResponseHeaders()))}},M.onload=d(),g=M.onerror=M.ontimeout=d("error"),M.onabort!==void 0?M.onabort=g:M.onreadystatechange=function(){M.readyState===4&&e.setTimeout(function(){d&&g()})},d=d("abort");try{M.send(c.hasContent&&c.data||null)}catch(_){if(d)throw _}},abort:function(){d&&d()}}}),p.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(c){return p.globalEval(c),c}}}),p.ajaxPrefilter("script",function(c){c.cache===void 0&&(c.cache=!1),c.crossDomain&&(c.type="GET")}),p.ajaxTransport("script",function(c){if(c.crossDomain||c.scriptAttrs){var d,g;return{send:function(m,C){d=p("<script>").attr(c.scriptAttrs||{}).prop({charset:c.scriptCharset,src:c.url}).on("load error",g=function(w){d.remove(),g=null,w&&C(w.type==="error"?404:200,w.type)}),E.head.appendChild(d[0])},abort:function(){g&&g()}}}});var Hy=[],$d=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=Hy.pop()||p.expando+"_"+Fy.guid++;return this[c]=!0,c}}),p.ajaxPrefilter("json jsonp",function(c,d,g){var m,C,w,M=c.jsonp!==!1&&($d.test(c.url)?"url":typeof c.data=="string"&&(c.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&$d.test(c.data)&&"data");if(M||c.dataTypes[0]==="jsonp")return m=c.jsonpCallback=b(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,M?c[M]=c[M].replace($d,"$1"+m):c.jsonp!==!1&&(c.url+=(Ud.test(c.url)?"&":"?")+c.jsonp+"="+m),c.converters["script json"]=function(){return w||p.error(m+" was not called"),w[0]},c.dataTypes[0]="json",C=e[m],e[m]=function(){w=arguments},g.always(function(){C===void 0?p(e).removeProp(m):e[m]=C,c[m]&&(c.jsonpCallback=d.jsonpCallback,Hy.push(m)),w&&b(C)&&C(w[0]),w=C=void 0}),"script"}),I.createHTMLDocument=function(){var c=E.implementation.createHTMLDocument("").body;return c.innerHTML="<form></form><form></form>",c.childNodes.length===2}(),p.parseHTML=function(c,d,g){if(typeof c!="string")return[];typeof d=="boolean"&&(g=d,d=!1);var m,C,w;return d||(I.createHTMLDocument?(d=E.implementation.createHTMLDocument(""),m=d.createElement("base"),m.href=E.location.href,d.head.appendChild(m)):d=E),C=De.exec(c),w=!g&&[],C?[d.createElement(C[1])]:(C=Ay([c],d,w),w&&w.length&&p(w).remove(),p.merge([],C.childNodes))},p.fn.load=function(c,d,g){var m,C,w,M=this,_=c.indexOf(" ");return _>-1&&(m=Xi(c.slice(_)),c=c.slice(0,_)),b(d)?(g=d,d=void 0):d&&typeof d=="object"&&(C="POST"),M.length>0&&p.ajax({url:c,type:C||"GET",dataType:"html",data:d}).done(function(R){w=arguments,M.html(m?p("<div>").append(p.parseHTML(R)).find(m):R)}).always(g&&function(R,U){M.each(function(){g.apply(this,w||[R.responseText,U,R])})}),this},p.expr.pseudos.animated=function(c){return p.grep(p.timers,function(d){return c===d.elem}).length},p.offset={setOffset:function(c,d,g){var m,C,w,M,_,R,U,re=p.css(c,"position"),ce=p(c),ee={};re==="static"&&(c.style.position="relative"),_=ce.offset(),w=p.css(c,"top"),R=p.css(c,"left"),U=(re==="absolute"||re==="fixed")&&(w+R).indexOf("auto")>-1,U?(m=ce.position(),M=m.top,C=m.left):(M=parseFloat(w)||0,C=parseFloat(R)||0),b(d)&&(d=d.call(c,g,p.extend({},_))),d.top!=null&&(ee.top=d.top-_.top+M),d.left!=null&&(ee.left=d.left-_.left+C),"using"in d?d.using.call(c,ee):ce.css(ee)}},p.fn.extend({offset:function(c){if(arguments.length)return c===void 0?this:this.each(function(C){p.offset.setOffset(this,c,C)});var d,g,m=this[0];if(m)return m.getClientRects().length?(d=m.getBoundingClientRect(),g=m.ownerDocument.defaultView,{top:d.top+g.pageYOffset,left:d.left+g.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var c,d,g,m=this[0],C={top:0,left:0};if(p.css(m,"position")==="fixed")d=m.getBoundingClientRect();else{for(d=this.offset(),g=m.ownerDocument,c=m.offsetParent||g.documentElement;c&&(c===g.body||c===g.documentElement)&&p.css(c,"position")==="static";)c=c.parentNode;c&&c!==m&&c.nodeType===1&&(C=p(c).offset(),C.top+=p.css(c,"borderTopWidth",!0),C.left+=p.css(c,"borderLeftWidth",!0))}return{top:d.top-C.top-p.css(m,"marginTop",!0),left:d.left-C.left-p.css(m,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&p.css(c,"position")==="static";)c=c.offsetParent;return c||vr})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,d){var g=d==="pageYOffset";p.fn[c]=function(m){return Z(this,function(C,w,M){var _;if(D(C)?_=C:C.nodeType===9&&(_=C.defaultView),M===void 0)return _?_[d]:C[w];_?_.scrollTo(g?_.pageXOffset:M,g?M:_.pageYOffset):C[w]=M},c,m,arguments.length)}}),p.each(["top","left"],function(c,d){p.cssHooks[d]=Ny(I.pixelPosition,function(g,m){if(m)return m=Ia(g,d),jd.test(m)?p(g).position()[d]+"px":m})}),p.each({Height:"height",Width:"width"},function(c,d){p.each({padding:"inner"+c,content:d,"":"outer"+c},function(g,m){p.fn[m]=function(C,w){var M=arguments.length&&(g||typeof C!="boolean"),_=g||(C===!0||w===!0?"margin":"border");return Z(this,function(R,U,re){var ce;return D(R)?m.indexOf("outer")===0?R["inner"+c]:R.document.documentElement["client"+c]:R.nodeType===9?(ce=R.documentElement,Math.max(R.body["scroll"+c],ce["scroll"+c],R.body["offset"+c],ce["offset"+c],ce["client"+c])):re===void 0?p.css(R,U,_):p.style(R,U,re,_)},d,M?C:void 0,M)}})}),p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(c,d){p.fn[d]=function(g){return this.on(d,g)}}),p.fn.extend({bind:function(c,d,g){return this.on(c,null,d,g)},unbind:function(c,d){return this.off(c,null,d)},delegate:function(c,d,g,m){return this.on(d,c,g,m)},undelegate:function(c,d,g){return arguments.length===1?this.off(c,"**"):this.off(d,c||"**",g)},hover:function(c,d){return this.on("mouseenter",c).on("mouseleave",d||c)}}),p.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(c,d){p.fn[d]=function(g,m){return arguments.length>0?this.on(d,null,g,m):this.trigger(d)}});var LM=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;p.proxy=function(c,d){var g,m,C;if(typeof d=="string"&&(g=c[d],d=c,c=g),!!b(c))return m=i.call(arguments,2),C=function(){return c.apply(d||this,m.concat(i.call(arguments)))},C.guid=c.guid=c.guid||p.guid++,C},p.holdReady=function(c){c?p.readyWait++:p.ready(!0)},p.isArray=Array.isArray,p.parseJSON=JSON.parse,p.nodeName=x,p.isFunction=b,p.isWindow=D,p.camelCase=Ue,p.type=H,p.now=Date.now,p.isNumeric=function(c){var d=p.type(c);return(d==="number"||d==="string")&&!isNaN(c-parseFloat(c))},p.trim=function(c){return c==null?"":(c+"").replace(LM,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return p});var kM=e.jQuery,RM=e.$;return p.noConflict=function(c){return e.$===p&&(e.$=RM),c&&e.jQuery===p&&(e.jQuery=kM),p},typeof t>"u"&&(e.jQuery=e.$=p),p})});var Ou=Qy(km=>{"use strict";(function(e){var t=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global;if(typeof define=="function"&&define.amd)define(["underscore","jquery","exports"],function(i,o,s){t.Backbone=e(t,s,i,o)});else if(typeof km<"u"){var n=(Cb(),JM(Ib)),r;try{r=hi()}catch{}e(t,km,n,r)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)})(function(e,t,n,r){var i=e.Backbone,o=Array.prototype.slice;t.VERSION="1.4.1",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=t.Events={},a=/\s+/,u,l=function(A,T,L,F,Z){var se=0,ye;if(L&&typeof L=="object")for(F!==void 0&&("context"in Z)&&Z.context===void 0&&(Z.context=F),ye=n.keys(L);se<ye.length;se++)T=l(A,T,ye[se],L[ye[se]],Z);else if(L&&a.test(L))for(ye=L.split(a);se<ye.length;se++)T=A(T,ye[se],F,Z);else T=A(T,L,F,Z);return T};s.on=function(A,T,L){if(this._events=l(h,this._events||{},A,T,{context:L,ctx:this,listening:u}),u){var F=this._listeners||(this._listeners={});F[u.id]=u,u.interop=!1}return this},s.listenTo=function(A,T,L){if(!A)return this;var F=A._listenId||(A._listenId=n.uniqueId("l")),Z=this._listeningTo||(this._listeningTo={}),se=u=Z[F];se||(this._listenId||(this._listenId=n.uniqueId("l")),se=u=Z[F]=new E(this,A));var ye=f(A,T,L,this);if(u=void 0,ye)throw ye;return se.interop&&se.on(T,L),this};var h=function(A,T,L,F){if(L){var Z=A[T]||(A[T]=[]),se=F.context,ye=F.ctx,Pe=F.listening;Pe&&Pe.count++,Z.push({callback:L,context:se,ctx:se||ye,listening:Pe})}return A},f=function(A,T,L,F){try{A.on(T,L,F)}catch(Z){return Z}};s.off=function(A,T,L){return this._events?(this._events=l(y,this._events,A,T,{context:L,listeners:this._listeners}),this):this},s.stopListening=function(A,T,L){var F=this._listeningTo;if(!F)return this;for(var Z=A?[A._listenId]:n.keys(F),se=0;se<Z.length;se++){var ye=F[Z[se]];if(!ye)break;ye.obj.off(T,L,this),ye.interop&&ye.off(T,L)}return n.isEmpty(F)&&(this._listeningTo=void 0),this};var y=function(A,T,L,F){if(A){var Z=F.context,se=F.listeners,ye=0,Pe;if(!T&&!Z&&!L){for(Pe=n.keys(se);ye<Pe.length;ye++)se[Pe[ye]].cleanup();return}for(Pe=T?[T]:n.keys(A);ye<Pe.length;ye++){T=Pe[ye];var Ue=A[T];if(!Ue)break;for(var jt=[],Bt=0;Bt<Ue.length;Bt++){var me=Ue[Bt];if(L&&L!==me.callback&&L!==me.callback._callback||Z&&Z!==me.context)jt.push(me);else{var lt=me.listening;lt&&lt.off(T,L)}}jt.length?A[T]=jt:delete A[T]}return A}};s.once=function(A,T,L){var F=l(I,{},A,T,this.off.bind(this));return typeof A=="string"&&L==null&&(T=void 0),this.on(F,T,L)},s.listenToOnce=function(A,T,L){var F=l(I,{},T,L,this.stopListening.bind(this,A));return this.listenTo(A,F)};var I=function(A,T,L,F){if(L){var Z=A[T]=n.once(function(){F(T,Z),L.apply(this,arguments)});Z._callback=L}return A};s.trigger=function(A){if(!this._events)return this;for(var T=Math.max(0,arguments.length-1),L=Array(T),F=0;F<T;F++)L[F]=arguments[F+1];return l(b,this._events,A,void 0,L),this};var b=function(A,T,L,F){if(A){var Z=A[T],se=A.all;Z&&se&&(se=se.slice()),Z&&D(Z,F),se&&D(se,[T].concat(F))}return A},D=function(A,T){var L,F=-1,Z=A.length,se=T[0],ye=T[1],Pe=T[2];switch(T.length){case 0:for(;++F<Z;)(L=A[F]).callback.call(L.ctx);return;case 1:for(;++F<Z;)(L=A[F]).callback.call(L.ctx,se);return;case 2:for(;++F<Z;)(L=A[F]).callback.call(L.ctx,se,ye);return;case 3:for(;++F<Z;)(L=A[F]).callback.call(L.ctx,se,ye,Pe);return;default:for(;++F<Z;)(L=A[F]).callback.apply(L.ctx,T);return}},E=function(A,T){this.id=A._listenId,this.listener=A,this.obj=T,this.interop=!0,this.count=0,this._events=void 0};E.prototype.on=s.on,E.prototype.off=function(A,T){var L;this.interop?(this._events=l(y,this._events,A,T,{context:void 0,listeners:void 0}),L=!this._events):(this.count--,L=this.count===0),L&&this.cleanup()},E.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},s.bind=s.on,s.unbind=s.off,n.extend(t,s);var P=t.Model=function(A,T){var L=A||{};T||(T={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},T.collection&&(this.collection=T.collection),T.parse&&(L=this.parse(L,T)||{});var F=n.result(this,"defaults");L=n.defaults(n.extend({},F,L),F),this.set(L,T),this.changed={},this.initialize.apply(this,arguments)};n.extend(P.prototype,s,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(A){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(A){return this.attributes[A]},escape:function(A){return n.escape(this.get(A))},has:function(A){return this.get(A)!=null},matches:function(A){return!!n.iteratee(A,this)(this.attributes)},set:function(A,T,L){if(A==null)return this;var F;if(typeof A=="object"?(F=A,L=T):(F={})[A]=T,L||(L={}),!this._validate(F,L))return!1;var Z=L.unset,se=L.silent,ye=[],Pe=this._changing;this._changing=!0,Pe||(this._previousAttributes=n.clone(this.attributes),this.changed={});var Ue=this.attributes,jt=this.changed,Bt=this._previousAttributes;for(var me in F)T=F[me],n.isEqual(Ue[me],T)||ye.push(me),n.isEqual(Bt[me],T)?delete jt[me]:jt[me]=T,Z?delete Ue[me]:Ue[me]=T;if(this.idAttribute in F){var lt=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,lt,L)}if(!se){ye.length&&(this._pending=L);for(var At=0;At<ye.length;At++)this.trigger("change:"+ye[At],this,Ue[ye[At]],L)}if(Pe)return this;if(!se)for(;this._pending;)L=this._pending,this._pending=!1,this.trigger("change",this,L);return this._pending=!1,this._changing=!1,this},unset:function(A,T){return this.set(A,void 0,n.extend({},T,{unset:!0}))},clear:function(A){var T={};for(var L in this.attributes)T[L]=void 0;return this.set(T,n.extend({},A,{unset:!0}))},hasChanged:function(A){return A==null?!n.isEmpty(this.changed):n.has(this.changed,A)},changedAttributes:function(A){if(!A)return this.hasChanged()?n.clone(this.changed):!1;var T=this._changing?this._previousAttributes:this.attributes,L={},F;for(var Z in A){var se=A[Z];n.isEqual(T[Z],se)||(L[Z]=se,F=!0)}return F?L:!1},previous:function(A){return A==null||!this._previousAttributes?null:this._previousAttributes[A]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(A){A=n.extend({parse:!0},A);var T=this,L=A.success;return A.success=function(F){var Z=A.parse?T.parse(F,A):F;if(!T.set(Z,A))return!1;L&&L.call(A.context,T,F,A),T.trigger("sync",T,F,A)},it(this,A),this.sync("read",this,A)},save:function(A,T,L){var F;A==null||typeof A=="object"?(F=A,L=T):(F={})[A]=T,L=n.extend({validate:!0,parse:!0},L);var Z=L.wait;if(F&&!Z){if(!this.set(F,L))return!1}else if(!this._validate(F,L))return!1;var se=this,ye=L.success,Pe=this.attributes;L.success=function(Bt){se.attributes=Pe;var me=L.parse?se.parse(Bt,L):Bt;if(Z&&(me=n.extend({},F,me)),me&&!se.set(me,L))return!1;ye&&ye.call(L.context,se,Bt,L),se.trigger("sync",se,Bt,L)},it(this,L),F&&Z&&(this.attributes=n.extend({},Pe,F));var Ue=this.isNew()?"create":L.patch?"patch":"update";Ue==="patch"&&!L.attrs&&(L.attrs=F);var jt=this.sync(Ue,this,L);return this.attributes=Pe,jt},destroy:function(A){A=A?n.clone(A):{};var T=this,L=A.success,F=A.wait,Z=function(){T.stopListening(),T.trigger("destroy",T,T.collection,A)};A.success=function(ye){F&&Z(),L&&L.call(A.context,T,ye,A),T.isNew()||T.trigger("sync",T,ye,A)};var se=!1;return this.isNew()?n.defer(A.success):(it(this,A),se=this.sync("delete",this,A)),F||Z(),se},url:function(){var A=n.result(this,"urlRoot")||n.result(this.collection,"url")||Ne();if(this.isNew())return A;var T=this.get(this.idAttribute);return A.replace(/[^\/]$/,"$&/")+encodeURIComponent(T)},parse:function(A,T){return A},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(A){return this._validate({},n.extend({},A,{validate:!0}))},_validate:function(A,T){if(!T.validate||!this.validate)return!0;A=n.extend({},this.attributes,A);var L=this.validationError=this.validate(A,T)||null;return L?(this.trigger("invalid",this,L,n.extend(T,{validationError:L})),!1):!0}});var z=t.Collection=function(A,T){T||(T={}),this.preinitialize.apply(this,arguments),T.model&&(this.model=T.model),T.comparator!==void 0&&(this.comparator=T.comparator),this._reset(),this.initialize.apply(this,arguments),A&&this.reset(A,n.extend({silent:!0},T))},H={add:!0,remove:!0,merge:!0},X={add:!0,remove:!1},ne=function(A,T,L){L=Math.min(Math.max(L,0),A.length);var F=Array(A.length-L),Z=T.length,se;for(se=0;se<F.length;se++)F[se]=A[se+L];for(se=0;se<Z;se++)A[se+L]=T[se];for(se=0;se<F.length;se++)A[se+Z+L]=F[se]};n.extend(z.prototype,s,{model:P,preinitialize:function(){},initialize:function(){},toJSON:function(A){return this.map(function(T){return T.toJSON(A)})},sync:function(){return t.sync.apply(this,arguments)},add:function(A,T){return this.set(A,n.extend({merge:!1},T,X))},remove:function(A,T){T=n.extend({},T);var L=!n.isArray(A);A=L?[A]:A.slice();var F=this._removeModels(A,T);return!T.silent&&F.length&&(T.changes={added:[],merged:[],removed:F},this.trigger("update",this,T)),L?F[0]:F},set:function(A,T){if(A!=null){T=n.extend({},H,T),T.parse&&!this._isModel(A)&&(A=this.parse(A,T)||[]);var L=!n.isArray(A);A=L?[A]:A.slice();var F=T.at;F!=null&&(F=+F),F>this.length&&(F=this.length),F<0&&(F+=this.length+1);var Z=[],se=[],ye=[],Pe=[],Ue={},jt=T.add,Bt=T.merge,me=T.remove,lt=!1,At=this.comparator&&F==null&&T.sort!==!1,Pt=n.isString(this.comparator)?this.comparator:null,Ot,Yt;for(Yt=0;Yt<A.length;Yt++){Ot=A[Yt];var En=this.get(Ot);if(En){if(Bt&&Ot!==En){var mr=this._isModel(Ot)?Ot.attributes:Ot;T.parse&&(mr=En.parse(mr,T)),En.set(mr,T),ye.push(En),At&&!lt&&(lt=En.hasChanged(Pt))}Ue[En.cid]||(Ue[En.cid]=!0,Z.push(En)),A[Yt]=En}else jt&&(Ot=A[Yt]=this._prepareModel(Ot,T),Ot&&(se.push(Ot),this._addReference(Ot,T),Ue[Ot.cid]=!0,Z.push(Ot)))}if(me){for(Yt=0;Yt<this.length;Yt++)Ot=this.models[Yt],Ue[Ot.cid]||Pe.push(Ot);Pe.length&&this._removeModels(Pe,T)}var Bn=!1,vr=!At&&jt&&me;if(Z.length&&vr?(Bn=this.length!==Z.length||n.some(this.models,function(Or,ga){return Or!==Z[ga]}),this.models.length=0,ne(this.models,Z,0),this.length=this.models.length):se.length&&(At&&(lt=!0),ne(this.models,se,F??this.length),this.length=this.models.length),lt&&this.sort({silent:!0}),!T.silent){for(Yt=0;Yt<se.length;Yt++)F!=null&&(T.index=F+Yt),Ot=se[Yt],Ot.trigger("add",Ot,this,T);(lt||Bn)&&this.trigger("sort",this,T),(se.length||Pe.length||ye.length)&&(T.changes={added:se,removed:Pe,merged:ye},this.trigger("update",this,T))}return L?A[0]:A}},reset:function(A,T){T=T?n.clone(T):{};for(var L=0;L<this.models.length;L++)this._removeReference(this.models[L],T);return T.previousModels=this.models,this._reset(),A=this.add(A,n.extend({silent:!0},T)),T.silent||this.trigger("reset",this,T),A},push:function(A,T){return this.add(A,n.extend({at:this.length},T))},pop:function(A){var T=this.at(this.length-1);return this.remove(T,A)},unshift:function(A,T){return this.add(A,n.extend({at:0},T))},shift:function(A){var T=this.at(0);return this.remove(T,A)},slice:function(){return o.apply(this.models,arguments)},get:function(A){if(A!=null)return this._byId[A]||this._byId[this.modelId(this._isModel(A)?A.attributes:A,A.idAttribute)]||A.cid&&this._byId[A.cid]},has:function(A){return this.get(A)!=null},at:function(A){return A<0&&(A+=this.length),this.models[A]},where:function(A,T){return this[T?"find":"filter"](A)},findWhere:function(A){return this.where(A,!0)},sort:function(A){var T=this.comparator;if(!T)throw new Error("Cannot sort a set without a comparator");A||(A={});var L=T.length;return n.isFunction(T)&&(T=T.bind(this)),L===1||n.isString(T)?this.models=this.sortBy(T):this.models.sort(T),A.silent||this.trigger("sort",this,A),this},pluck:function(A){return this.map(A+"")},fetch:function(A){A=n.extend({parse:!0},A);var T=A.success,L=this;return A.success=function(F){var Z=A.reset?"reset":"set";L[Z](F,A),T&&T.call(A.context,L,F,A),L.trigger("sync",L,F,A)},it(this,A),this.sync("read",this,A)},create:function(A,T){T=T?n.clone(T):{};var L=T.wait;if(A=this._prepareModel(A,T),!A)return!1;L||this.add(A,T);var F=this,Z=T.success;return T.success=function(se,ye,Pe){L&&F.add(se,Pe),Z&&Z.call(Pe.context,se,ye,Pe)},A.save(null,T),A},parse:function(A,T){return A},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(A,T){return A[T||this.model.prototype.idAttribute||"id"]},values:function(){return new v(this,x)},keys:function(){return new v(this,N)},entries:function(){return new v(this,S)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(A,T){if(this._isModel(A))return A.collection||(A.collection=this),A;T=T?n.clone(T):{},T.collection=this;var L;return this.model.prototype?L=new this.model(A,T):L=this.model(A,T),L.validationError?(this.trigger("invalid",this,L.validationError,T),!1):L},_removeModels:function(A,T){for(var L=[],F=0;F<A.length;F++){var Z=this.get(A[F]);if(Z){var se=this.indexOf(Z);this.models.splice(se,1),this.length--,delete this._byId[Z.cid];var ye=this.modelId(Z.attributes,Z.idAttribute);ye!=null&&delete this._byId[ye],T.silent||(T.index=se,Z.trigger("remove",Z,this,T)),L.push(Z),this._removeReference(Z,T)}}return L},_isModel:function(A){return A instanceof P},_addReference:function(A,T){this._byId[A.cid]=A;var L=this.modelId(A.attributes,A.idAttribute);L!=null&&(this._byId[L]=A),A.on("all",this._onModelEvent,this)},_removeReference:function(A,T){delete this._byId[A.cid];var L=this.modelId(A.attributes,A.idAttribute);L!=null&&delete this._byId[L],this===A.collection&&delete A.collection,A.off("all",this._onModelEvent,this)},_onModelEvent:function(A,T,L,F){if(T){if((A==="add"||A==="remove")&&L!==this)return;if(A==="destroy"&&this.remove(T,F),A==="changeId"){var Z=this.modelId(T.previousAttributes(),T.idAttribute),se=this.modelId(T.attributes,T.idAttribute);Z!=null&&delete this._byId[Z],se!=null&&(this._byId[se]=T)}}this.trigger.apply(this,arguments)}});var p=typeof Symbol=="function"&&Symbol.iterator;p&&(z.prototype[p]=z.prototype.values);var v=function(A,T){this._collection=A,this._kind=T,this._index=0},x=1,N=2,S=3;p&&(v.prototype[p]=function(){return this}),v.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var A=this._collection.at(this._index);this._index++;var T;if(this._kind===x)T=A;else{var L=this._collection.modelId(A.attributes,A.idAttribute);this._kind===N?T=L:T=[L,A]}return{value:T,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var j=t.View=function(A){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(A,W)),this._ensureElement(),this.initialize.apply(this,arguments)},B=/^(\S+)\s*(.*)$/,W=["model","collection","el","id","attributes","className","tagName","events"];n.extend(j.prototype,s,{tagName:"div",$:function(A){return this.$el.find(A)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(A){return this.undelegateEvents(),this._setElement(A),this.delegateEvents(),this},_setElement:function(A){this.$el=A instanceof t.$?A:t.$(A),this.el=this.$el[0]},delegateEvents:function(A){if(A||(A=n.result(this,"events")),!A)return this;this.undelegateEvents();for(var T in A){var L=A[T];if(n.isFunction(L)||(L=this[L]),!!L){var F=T.match(B);this.delegate(F[1],F[2],L.bind(this))}}return this},delegate:function(A,T,L){return this.$el.on(A+".delegateEvents"+this.cid,T,L),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(A,T,L){return this.$el.off(A+".delegateEvents"+this.cid,T,L),this},_createElement:function(A){return document.createElement(A)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var A=n.extend({},n.result(this,"attributes"));this.id&&(A.id=n.result(this,"id")),this.className&&(A.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(A)}},_setAttributes:function(A){this.$el.attr(A)}});var ae=function(A,T,L,F){switch(T){case 1:return function(){return A[L](this[F])};case 2:return function(Z){return A[L](this[F],Z)};case 3:return function(Z,se){return A[L](this[F],G(Z,this),se)};case 4:return function(Z,se,ye){return A[L](this[F],G(Z,this),se,ye)};default:return function(){var Z=o.call(arguments);return Z.unshift(this[F]),A[L].apply(A,Z)}}},de=function(A,T,L,F){n.each(L,function(Z,se){T[se]&&(A.prototype[se]=ae(T,Z,se,F))})},G=function(A,T){return n.isFunction(A)?A:n.isObject(A)&&!T._isModel(A)?q(A):n.isString(A)?function(L){return L.get(A)}:A},q=function(A){var T=n.matches(A);return function(L){return T(L.attributes)}},J={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},Q={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[z,J,"models"],[P,Q,"attributes"]],function(A){var T=A[0],L=A[1],F=A[2];T.mixin=function(Z){var se=n.reduce(n.functions(Z),function(ye,Pe){return ye[Pe]=0,ye},{});de(T,Z,se,F)},de(T,n,L,F)}),t.sync=function(A,T,L){var F=Ee[A];n.defaults(L||(L={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var Z={type:F,dataType:"json"};if(L.url||(Z.url=n.result(T,"url")||Ne()),L.data==null&&T&&(A==="create"||A==="update"||A==="patch")&&(Z.contentType="application/json",Z.data=JSON.stringify(L.attrs||T.toJSON(L))),L.emulateJSON&&(Z.contentType="application/x-www-form-urlencoded",Z.data=Z.data?{model:Z.data}:{}),L.emulateHTTP&&(F==="PUT"||F==="DELETE"||F==="PATCH")){Z.type="POST",L.emulateJSON&&(Z.data._method=F);var se=L.beforeSend;L.beforeSend=function(Ue){if(Ue.setRequestHeader("X-HTTP-Method-Override",F),se)return se.apply(this,arguments)}}Z.type!=="GET"&&!L.emulateJSON&&(Z.processData=!1);var ye=L.error;L.error=function(Ue,jt,Bt){L.textStatus=jt,L.errorThrown=Bt,ye&&ye.call(L.context,Ue,jt,Bt)};var Pe=L.xhr=t.ajax(n.extend(Z,L));return T.trigger("request",T,Pe,L),Pe};var Ee={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var De=t.Router=function(A){A||(A={}),this.preinitialize.apply(this,arguments),A.routes&&(this.routes=A.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},ut=/\((.*?)\)/g,Ct=/(\(\?)?:\w+/g,be=/\*\w+/g,Me=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(De.prototype,s,{preinitialize:function(){},initialize:function(){},route:function(A,T,L){n.isRegExp(A)||(A=this._routeToRegExp(A)),n.isFunction(T)&&(L=T,T=""),L||(L=this[T]);var F=this;return t.history.route(A,function(Z){var se=F._extractParameters(A,Z);F.execute(L,se,T)!==!1&&(F.trigger.apply(F,["route:"+T].concat(se)),F.trigger("route",T,se),t.history.trigger("route",F,T,se))}),this},execute:function(A,T,L){A&&A.apply(this,T)},navigate:function(A,T){return t.history.navigate(A,T),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var A,T=n.keys(this.routes);(A=T.pop())!=null;)this.route(A,this.routes[A])}},_routeToRegExp:function(A){return A=A.replace(Me,"\\$&").replace(ut,"(?:$1)?").replace(Ct,function(T,L){return L?T:"([^/?]+)"}).replace(be,"([^?]*?)"),new RegExp("^"+A+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(A,T){var L=A.exec(T).slice(1);return n.map(L,function(F,Z){return Z===L.length-1?F||null:F?decodeURIComponent(F):null})}});var oe=t.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},ie=/^[#\/]|\s+$/g,pe=/^\/+|\/+$/g,_e=/#.*$/;oe.started=!1,n.extend(oe.prototype,s,{interval:50,atRoot:function(){var A=this.location.pathname.replace(/[^\/]$/,"$&/");return A===this.root&&!this.getSearch()},matchRoot:function(){var A=this.decodeFragment(this.location.pathname),T=A.slice(0,this.root.length-1)+"/";return T===this.root},decodeFragment:function(A){return decodeURI(A.replace(/%25/g,"%2525"))},getSearch:function(){var A=this.location.href.replace(/#.*/,"").match(/\?.+/);return A?A[0]:""},getHash:function(A){var T=(A||this).location.href.match(/#(.*)$/);return T?T[1]:""},getPath:function(){var A=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return A.charAt(0)==="/"?A.slice(1):A},getFragment:function(A){return A==null&&(this._usePushState||!this._wantsHashChange?A=this.getPath():A=this.getHash()),A.replace(ie,"")},start:function(A){if(oe.started)throw new Error("Backbone.history has already been started");if(oe.started=!0,this.options=n.extend({root:"/"},this.options,A),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(pe,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var T=this.root.slice(0,-1)||"/";return this.location.replace(T+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var L=document.body,F=L.insertBefore(this.iframe,L.firstChild).contentWindow;F.document.open(),F.document.close(),F.location.hash="#"+this.fragment}var Z=window.addEventListener||function(se,ye){return attachEvent("on"+se,ye)};if(this._usePushState?Z("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Z("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var A=window.removeEventListener||function(T,L){return detachEvent("on"+T,L)};this._usePushState?A("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&A("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),oe.started=!1},route:function(A,T){this.handlers.unshift({route:A,callback:T})},checkUrl:function(A){var T=this.getFragment();if(T===this.fragment&&this.iframe&&(T=this.getHash(this.iframe.contentWindow)),T===this.fragment)return!1;this.iframe&&this.navigate(T),this.loadUrl()},loadUrl:function(A){return this.matchRoot()?(A=this.fragment=this.getFragment(A),n.some(this.handlers,function(T){if(T.route.test(A))return T.callback(A),!0})):!1},navigate:function(A,T){if(!oe.started)return!1;(!T||T===!0)&&(T={trigger:!!T}),A=this.getFragment(A||"");var L=this.root;(A===""||A.charAt(0)==="?")&&(L=L.slice(0,-1)||"/");var F=L+A;A=A.replace(_e,"");var Z=this.decodeFragment(A);if(this.fragment!==Z){if(this.fragment=Z,this._usePushState)this.history[T.replace?"replaceState":"pushState"]({},document.title,F);else if(this._wantsHashChange){if(this._updateHash(this.location,A,T.replace),this.iframe&&A!==this.getHash(this.iframe.contentWindow)){var se=this.iframe.contentWindow;T.replace||(se.document.open(),se.document.close()),this._updateHash(se.location,A,T.replace)}}else return this.location.assign(F);if(T.trigger)return this.loadUrl(A)}},_updateHash:function(A,T,L){if(L){var F=A.href.replace(/(javascript:|#).*$/,"");A.replace(F+"#"+T)}else A.hash="#"+T}}),t.history=new oe;var Qe=function(A,T){var L=this,F;return A&&n.has(A,"constructor")?F=A.constructor:F=function(){return L.apply(this,arguments)},n.extend(F,L,T),F.prototype=n.create(L.prototype,A),F.prototype.constructor=F,F.__super__=L.prototype,F};P.extend=z.extend=De.extend=j.extend=oe.extend=Qe;var Ne=function(){throw new Error('A "url" property or function must be specified')},it=function(A,T){var L=T.error;T.error=function(F){L&&L.call(T.context,A,F,T),A.trigger("error",A,F,T)}};return t})});var tI=null;var rh=1;function qn(e){let t=tI;return tI=e,t}var nI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function qM(e){if(!(sh(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===rh)){if(!e.producerMustRecompute(e)&&!ih(e)){e.dirty=!1,e.lastCleanEpoch=rh;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=rh}}function rI(e){return e&&(e.nextProducerIndex=0),qn(e)}function iI(e,t){if(qn(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(sh(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)oh(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function ih(e){Ic(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(qM(n),r!==n.version))return!0}return!1}function oI(e){if(Ic(e),sh(e))for(let t=0;t<e.producerNode.length;t++)oh(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function oh(e,t){if(QM(e),Ic(e),e.liveConsumerNode.length===1)for(let r=0;r<e.producerNode.length;r++)oh(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Ic(i),i.producerIndexOfThis[r]=t}}function sh(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ic(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function QM(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function KM(){throw new Error}var e1=KM;function sI(e){e1=e}function ct(e){return typeof e=="function"}function Cc(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ac=Cc(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Na(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Qn=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ct(r))try{r()}catch(o){t=o instanceof Ac?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{aI(o)}catch(s){t=t??[],s instanceof Ac?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ac(t)}}add(t){var n;if(t&&t!==this)if(this.closed)aI(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Na(n,t)}remove(t){let{_finalizers:n}=this;n&&Na(n,t),t instanceof e&&t._removeParent(this)}};Qn.EMPTY=(()=>{let e=new Qn;return e.closed=!0,e})();var ah=Qn.EMPTY;function wc(e){return e instanceof Qn||e&&"closed"in e&&ct(e.remove)&&ct(e.add)&&ct(e.unsubscribe)}function aI(e){ct(e)?e():e.unsubscribe()}var Ar={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Wo={setTimeout(e,t,...n){let{delegate:r}=Wo;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Wo;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function bc(e){Wo.setTimeout(()=>{let{onUnhandledError:t}=Ar;if(t)t(e);else throw e})}function uh(){}var uI=(()=>ch("C",void 0,void 0))();function cI(e){return ch("E",void 0,e)}function lI(e){return ch("N",e,void 0)}function ch(e,t,n){return{kind:e,value:t,error:n}}var Qi=null;function Yo(e){if(Ar.useDeprecatedSynchronousErrorHandling){let t=!Qi;if(t&&(Qi={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Qi;if(Qi=null,n)throw r}}else e()}function fI(e){Ar.useDeprecatedSynchronousErrorHandling&&Qi&&(Qi.errorThrown=!0,Qi.error=e)}var Ki=class extends Qn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,wc(t)&&t.add(this)):this.destination=r1}static create(t,n,r){return new ei(t,n,r)}next(t){this.isStopped?fh(lI(t),this):this._next(t)}error(t){this.isStopped?fh(cI(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?fh(uI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},t1=Function.prototype.bind;function lh(e,t){return t1.call(e,t)}var dh=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){xc(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){xc(r)}else xc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){xc(n)}}},ei=class extends Ki{constructor(t,n,r){super();let i;if(ct(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ar.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&lh(t.next,o),error:t.error&&lh(t.error,o),complete:t.complete&&lh(t.complete,o)}):i=t}this.destination=new dh(i)}};function xc(e){Ar.useDeprecatedSynchronousErrorHandling?fI(e):bc(e)}function n1(e){throw e}function fh(e,t){let{onStoppedNotification:n}=Ar;n&&Wo.setTimeout(()=>n(e,t))}var r1={closed:!0,next:uh,error:n1,complete:uh};var Xo=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function $o(e){return e}function dI(e){return e.length===0?$o:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var Ut=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=o1(n)?n:new ei(n,r,i);return Yo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=hI(r),new r((i,o)=>{let s=new ei({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Xo](){return this}pipe(...n){return dI(n)(this)}toPromise(n){return n=hI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function hI(e){var t;return(t=e??Ar.Promise)!==null&&t!==void 0?t:Promise}function i1(e){return e&&ct(e.next)&&ct(e.error)&&ct(e.complete)}function o1(e){return e&&e instanceof Ki||i1(e)&&wc(e)}function s1(e){return ct(e?.lift)}function Zn(e){return t=>{if(s1(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ur(e,t,n,r,i){return new hh(e,t,n,r,i)}var hh=class extends Ki{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){t.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var gI=Cc(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Br=(()=>{class e extends Ut{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Dc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new gI}next(n){Yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ah:(this.currentObservers=null,o.push(n),new Qn(()=>{this.currentObservers=null,Na(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Ut;return n.source=this,n}}return e.create=(t,n)=>new Dc(t,n),e})(),Dc=class extends Br{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:ah}};var Ea=class extends Br{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var gh={now(){return(gh.delegate||Date).now()},delegate:void 0};var Ta=class extends Br{constructor(t=1/0,n=1/0,r=gh){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(t),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=r?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}};var pI=new Ut(e=>e.complete());function mI(e){return e&&ct(e.schedule)}function vI(e){return e[e.length-1]}function Mc(e){return mI(vI(e))?e.pop():void 0}function yI(e,t){return typeof vI(e)=="number"?e.pop():t}function CI(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(f){s(f)}}function u(h){try{l(r.throw(h))}catch(f){s(f)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function II(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function eo(e){return this instanceof eo?(this.v=e,this):new eo(e)}function AI(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(y){r[y]&&(i[y]=function(I){return new Promise(function(b,D){o.push([y,I,b,D])>1||a(y,I)})})}function a(y,I){try{u(r[y](I))}catch(b){f(o[0][3],b)}}function u(y){y.value instanceof eo?Promise.resolve(y.value.v).then(l,h):f(o[0][2],y)}function l(y){a("next",y)}function h(y){a("throw",y)}function f(y,I){y(I),o.shift(),o.length&&a(o[0][0],o[0][1])}}function wI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof II=="function"?II(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,u){s=e[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Nc=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ec(e){return ct(e?.then)}function Tc(e){return ct(e[Xo])}function Sc(e){return Symbol.asyncIterator&&ct(e?.[Symbol.asyncIterator])}function Pc(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function a1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Oc=a1();function Lc(e){return ct(e?.[Oc])}function kc(e){return AI(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield eo(n.read());if(i)return yield eo(void 0);yield yield eo(r)}}finally{n.releaseLock()}})}function Rc(e){return ct(e?.getReader)}function un(e){if(e instanceof Ut)return e;if(e!=null){if(Tc(e))return u1(e);if(Nc(e))return c1(e);if(Ec(e))return l1(e);if(Sc(e))return bI(e);if(Lc(e))return f1(e);if(Rc(e))return d1(e)}throw Pc(e)}function u1(e){return new Ut(t=>{let n=e[Xo]();if(ct(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function c1(e){return new Ut(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function l1(e){return new Ut(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,bc)})}function f1(e){return new Ut(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function bI(e){return new Ut(t=>{h1(e,t).catch(n=>t.error(n))})}function d1(e){return bI(kc(e))}function h1(e,t){var n,r,i,o;return CI(this,void 0,void 0,function*(){try{for(n=wI(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function cr(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function _c(e,t=0){return Zn((n,r)=>{n.subscribe(ur(r,i=>cr(r,e,()=>r.next(i),t),()=>cr(r,e,()=>r.complete(),t),i=>cr(r,e,()=>r.error(i),t)))})}function Fc(e,t=0){return Zn((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function xI(e,t){return un(e).pipe(Fc(t),_c(t))}function DI(e,t){return un(e).pipe(Fc(t),_c(t))}function MI(e,t){return new Ut(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function NI(e,t){return new Ut(n=>{let r;return cr(n,t,()=>{r=e[Oc](),cr(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ct(r?.return)&&r.return()})}function jc(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ut(n=>{cr(n,t,()=>{let r=e[Symbol.asyncIterator]();cr(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function EI(e,t){return jc(kc(e),t)}function TI(e,t){if(e!=null){if(Tc(e))return xI(e,t);if(Nc(e))return MI(e,t);if(Ec(e))return DI(e,t);if(Sc(e))return jc(e,t);if(Lc(e))return NI(e,t);if(Rc(e))return EI(e,t)}throw Pc(e)}function Bc(e,t){return t?TI(e,t):un(e)}function ph(...e){let t=Mc(e);return Bc(e,t)}function Sa(e,t){return Zn((n,r)=>{let i=0;n.subscribe(ur(r,o=>{r.next(e.call(t,o,i++))}))})}function SI(e,t,n,r,i,o,s,a){let u=[],l=0,h=0,f=!1,y=()=>{f&&!u.length&&!l&&t.complete()},I=D=>l<r?b(D):u.push(D),b=D=>{o&&t.next(D),l++;let E=!1;un(n(D,h++)).subscribe(ur(t,P=>{i?.(P),o?I(P):t.next(P)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;u.length&&l<r;){let P=u.shift();s?cr(t,s,()=>b(P)):b(P)}y()}catch(P){t.error(P)}}))};return e.subscribe(ur(t,I,()=>{f=!0,y()})),()=>{a?.()}}function mh(e,t,n=1/0){return ct(t)?mh((r,i)=>Sa((o,s)=>t(r,o,i,s))(un(e(r,i))),n):(typeof t=="number"&&(n=t),Zn((r,i)=>SI(r,i,e,n)))}function PI(e=1/0){return mh($o,e)}function Pa(...e){let t=Mc(e),n=yI(e,1/0),r=e;return r.length?r.length===1?un(r[0]):PI(n)(Bc(r,t)):pI}function vh(e,t=$o){return e=e??g1,Zn((n,r)=>{let i,o=!0;n.subscribe(ur(r,s=>{let a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}function g1(e,t){return e===t}function zc(e={}){let{connector:t=()=>new Br,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,u,l=0,h=!1,f=!1,y=()=>{a?.unsubscribe(),a=void 0},I=()=>{y(),s=u=void 0,h=f=!1},b=()=>{let D=s;I(),D?.unsubscribe()};return Zn((D,E)=>{l++,!f&&!h&&y();let P=u=u??t();E.add(()=>{l--,l===0&&!f&&!h&&(a=yh(b,i))}),P.subscribe(E),!s&&l>0&&(s=new ei({next:z=>P.next(z),error:z=>{f=!0,y(),a=yh(I,n,z),P.error(z)},complete:()=>{h=!0,y(),a=yh(I,r),P.complete()}}),un(D).subscribe(s))})(o)}}function yh(e,t,...n){if(t===!0){e();return}if(t===!1)return;let r=new ei({next:()=>{r.unsubscribe(),e()}});return un(t(...n)).subscribe(r)}function Oa(e,t){return Zn((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ur(r,u=>{i?.unsubscribe();let l=0,h=o++;un(e(u,h)).subscribe(i=ur(r,f=>r.next(t?t(u,f,h,l++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Lt(e){for(let t in e)if(e[t]===Lt)return t;throw Error("Could not find renamed property on target object.")}function lr(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(lr).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function OI(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var p1=Lt({__forward_ref__:Lt});function f0(e){return e.__forward_ref__=f0,e.toString=function(){return lr(this())},e}function br(e){return m1(e)?e():e}function m1(e){return typeof e=="function"&&e.hasOwnProperty(p1)&&e.__forward_ref__===f0}function d0(e){return e&&!!e.\u0275providers}var wt=class extends Error{constructor(t,n){super(og(t,n)),this.code=t}};function og(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}var v1=Lt({\u0275cmp:Lt}),y1=Lt({\u0275dir:Lt}),I1=Lt({\u0275pipe:Lt});var LI=Lt({\u0275fac:Lt}),La=Lt({__NG_ELEMENT_ID__:Lt}),kI=Lt({__NG_ENV_ID__:Lt});function C1(e){return typeof e=="string"?e:e==null?"":String(e)}function A1(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():C1(e)}function w1(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new wt(-200,`Circular dependency in DI detected for ${e}${n}`)}function sg(e,t){let n=t?` in ${t}`:"";throw new wt(-201,!1)}function b1(e,t){e==null&&x1(t,e,null,"!=")}function x1(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function cn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ag(e){return RI(e,h0)||RI(e,g0)}function RI(e,t){return e.hasOwnProperty(t)?e[t]:null}function D1(e){let t=e&&(e[h0]||e[g0]);return t||null}function _I(e){return e&&(e.hasOwnProperty(FI)||e.hasOwnProperty(M1))?e[FI]:null}var h0=Lt({\u0275prov:Lt}),FI=Lt({\u0275inj:Lt}),g0=Lt({ngInjectableDef:Lt}),M1=Lt({ngInjectorDef:Lt}),rt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(rt||{}),Th;function N1(){return Th}function zr(e){let t=Th;return Th=e,t}function p0(e,t,n){let r=ag(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&rt.Optional)return null;if(t!==void 0)return t;sg(lr(e),"Injector")}var ka=globalThis;var kt=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=cn({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var E1={},Fa=E1,T1="__NG_DI_FLAG__",Yc="ngTempTokenPath",S1="ngTokenPath",P1=/\n/gm,O1="\u0275",jI="__source",Ra;function Jo(e){let t=Ra;return Ra=e,t}function L1(e,t=rt.Default){if(Ra===void 0)throw new wt(-203,!1);return Ra===null?p0(e,void 0,t):Ra.get(e,t&rt.Optional?null:void 0,t)}function Mt(e,t=rt.Default){return(N1()||L1)(br(e),t)}function Sn(e,t=rt.Default){return Mt(e,ul(t))}function ul(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Sh(e){let t=[];for(let n=0;n<e.length;n++){let r=br(e[n]);if(Array.isArray(r)){if(r.length===0)throw new wt(900,!1);let i,o=rt.Default;for(let s=0;s<r.length;s++){let a=r[s],u=k1(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}t.push(Mt(i,o))}else t.push(Mt(r))}return t}function k1(e){return e[T1]}function R1(e,t,n,r){let i=e[Yc];throw t[jI]&&i.unshift(t[jI]),e.message=_1(`
`+e.message,i,n,r),e[S1]=i,e[Yc]=null,e}function _1(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==O1?e.slice(2):e;let i=lr(t);if(Array.isArray(t))i=t.map(lr).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):lr(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(P1,`
  `)}`}function F1(e){return{toString:e}.toString()}var m0=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(m0||{}),Zr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Zr||{}),ja={},ts=[];function v0(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Ph(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];B1(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function j1(e){return e===3||e===4||e===6}function B1(e){return e.charCodeAt(0)===64}function ug(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?BI(e,n,i,null,t[++r]):BI(e,n,i,null,null))}}return e}function BI(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var y0="ng-template";function z1(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if(typeof o=="string"&&i){let s=e[r++];if(n&&o==="class"&&v0(s.toLowerCase(),t,0)!==-1)return!0}else if(o===1){for(;r<e.length&&typeof(o=e[r++])=="string";)if(o.toLowerCase()===t)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function I0(e){return e.type===4&&e.value!==y0}function V1(e,t,n){let r=e.type===4&&!n?y0:e.value;return t===r}function G1(e,t,n){let r=4,i=e.attrs||[],o=H1(i),s=!1;for(let a=0;a<t.length;a++){let u=t[a];if(typeof u=="number"){if(!s&&!wr(r)&&!wr(u))return!1;if(s&&wr(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!V1(e,u,n)||u===""&&t.length===1){if(wr(r))return!1;s=!0}}else{let l=r&8?u:t[++a];if(r&8&&e.attrs!==null){if(!z1(e.attrs,l,n)){if(wr(r))return!1;s=!0}continue}let h=r&8?"class":u,f=Z1(h,i,I0(e),n);if(f===-1){if(wr(r))return!1;s=!0;continue}if(l!==""){let y;f>o?y="":y=i[f+1].toLowerCase();let I=r&8?y:null;if(I&&v0(I,l,0)!==-1||r&2&&l!==y){if(wr(r))return!1;s=!0}}}}return wr(r)||s}function wr(e){return(e&1)===0}function Z1(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return W1(t,e)}function U1(e,t,n=!1){for(let r=0;r<t.length;r++)if(G1(e,t[r],n))return!0;return!1}function H1(e){for(let t=0;t<e.length;t++){let n=e[t];if(j1(n))return t}return e.length}function W1(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function zI(e,t){return e?":not("+t.trim()+")":t}function Y1(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!wr(s)&&(t+=zI(o,i),i=""),r=s,o=o||!wr(r);n++}return i!==""&&(t+=zI(o,i)),t}function X1(e){return e.map(Y1).join(",")}function $1(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!wr(i))break;i=o}r++}return{attrs:t,classes:n}}function C0(e){return F1(()=>{let t=K1(e),n=Kr(jr({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===m0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Zr.Emulated,styles:e.styles||ts,_:null,schemas:e.schemas||null,tView:null,id:""});eN(n);let r=e.dependencies;return n.directiveDefs=GI(r,!1),n.pipeDefs=GI(r,!0),n.id=tN(n),n})}function J1(e){return ns(e)||A0(e)}function q1(e){return e!==null}function VI(e,t){if(e==null)return ja;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function ns(e){return e[v1]||null}function A0(e){return e[y1]||null}function w0(e){return e[I1]||null}function Q1(e){let t=ns(e)||A0(e)||w0(e);return t!==null?t.standalone:!1}function K1(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||ja,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||ts,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:VI(e.inputs,t),outputs:VI(e.outputs),debugInfo:null}}function eN(e){e.features?.forEach(t=>t(e))}function GI(e,t){if(!e)return null;let n=t?w0:J1;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(q1)}function tN(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483647+1,"c"+t}var ri=0,He=1,Ge=2,Xt=3,xr=4,Mr=5,Oh=6,Xc=7,ti=8,rs=9,Ba=10,Ur=11,za=12,ZI=13,Ha=14,Hr=15,Wa=16,qo=17,Gr=18,cl=19,b0=20,_a=21,Ih=22,ro=23,is=25,x0=1;var io=7,$c=8,os=9,Kn=10,ss=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(ss||{});function to(e){return Array.isArray(e)&&typeof e[x0]=="object"}function Dr(e){return Array.isArray(e)&&e[x0]===!0}function D0(e){return(e.flags&4)!==0}function cg(e){return e.componentOffset>-1}function nN(e){return(e.flags&1)===1}function Ya(e){return!!e.template}function rN(e){return(e[Ge]&512)!==0}function Va(e,t){let n=e.hasOwnProperty(LI);return n?e[LI]:null}var Ga=class{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function iN(){return M0}function M0(e){return e.type.prototype.ngOnChanges&&(e.setInput=sN),oN}iN.ngInherit=!0;function oN(){let e=E0(this),t=e?.current;if(t){let n=e.previous;if(n===ja)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function sN(e,t,n,r){let i=this.declaredInputs[n],o=E0(e)||aN(e,{previous:ja,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new Ga(u&&u.currentValue,t,a===ja),e[r]=t}var N0="__ngSimpleChanges__";function E0(e){return e[N0]||null}function aN(e,t){return e[N0]=t}var UI=null;var Ai=function(e,t,n){UI?.(e,t,n)},uN="svg",cN="math";function bi(e){for(;Array.isArray(e);)e=e[ri];return e}function ii(e,t){return bi(t[e.index])}function lN(e,t){return e.data[t]}function Xa(e,t){let n=t[e];return to(n)?n:n[ri]}function fN(e){return(e[Ge]&4)===4}function lg(e){return(e[Ge]&128)===128}function dN(e){return Dr(e[Xt])}function HI(e,t){return t==null?null:e[t]}function T0(e){e[qo]=0}function hN(e){e[Ge]&1024||(e[Ge]|=1024,lg(e)&&ll(e))}function S0(e){return e[Ge]&9216||e[ro]?.dirty}function P0(e){S0(e)&&ll(e)}function ll(e){let t=e[Xt];for(;t!==null&&!(Dr(t)&&t[Ge]&ss.HasChildViewsToRefresh||to(t)&&t[Ge]&8192);){if(Dr(t))t[Ge]|=ss.HasChildViewsToRefresh;else if(t[Ge]|=8192,!lg(t))break;t=t[Xt]}}function gN(e,t){if((e[Ge]&256)===256)throw new wt(911,!1);e[_a]===null&&(e[_a]=[]),e[_a].push(t)}var vt={lFrame:j0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function pN(){return vt.lFrame.elementDepthCount}function mN(){vt.lFrame.elementDepthCount++}function vN(){vt.lFrame.elementDepthCount--}function O0(){return vt.bindingsEnabled}function yN(){return vt.skipHydrationRootTNode!==null}function IN(e){return vt.skipHydrationRootTNode===e}function CN(){vt.skipHydrationRootTNode=null}function er(){return vt.lFrame.lView}function fl(){return vt.lFrame.tView}function oi(){let e=L0();for(;e!==null&&e.type===64;)e=e.parent;return e}function L0(){return vt.lFrame.currentTNode}function AN(){let e=vt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function fg(e,t){let n=vt.lFrame;n.currentTNode=e,n.isParent=t}function k0(){return vt.lFrame.isParent}function wN(){vt.lFrame.isParent=!1}function bN(e){return vt.lFrame.bindingIndex=e}function xN(){return vt.lFrame.inI18n}function DN(e,t){let n=vt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Lh(t)}function MN(){return vt.lFrame.currentDirectiveIndex}function Lh(e){vt.lFrame.currentDirectiveIndex=e}function R0(){return vt.lFrame.currentQueryIndex}function dg(e){vt.lFrame.currentQueryIndex=e}function NN(e){let t=e[He];return t.type===2?t.declTNode:t.type===1?e[Mr]:null}function _0(e,t,n){if(n&rt.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&rt.Host);)if(i=NN(o),i===null||(o=o[Ha],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=vt.lFrame=F0();return r.currentTNode=t,r.lView=e,!0}function hg(e){let t=F0(),n=e[He];vt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function F0(){let e=vt.lFrame,t=e===null?null:e.child;return t===null?j0(e):t}function j0(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function B0(){let e=vt.lFrame;return vt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var z0=B0;function gg(){let e=B0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function EN(){return vt.lFrame.selectedIndex}function oo(e){vt.lFrame.selectedIndex=e}function TN(){return vt.lFrame.currentNamespace}var V0=!0;function SN(){return V0}function PN(e){V0=e}function ON(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=M0(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function G0(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),u&&(e.viewHooks??=[]).push(-n,u),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),h!=null&&(e.destroyHooks??=[]).push(n,h)}}function Vc(e,t,n){Z0(e,t,3,n)}function Gc(e,t,n,r){(e[Ge]&3)===n&&Z0(e,t,n,r)}function Ch(e,t){let n=e[Ge];(n&3)===t&&(n&=16383,n+=1,e[Ge]=n)}function Z0(e,t,n,r){let i=r!==void 0?e[qo]&65535:0,o=r??-1,s=t.length-1,a=0;for(let u=i;u<s;u++)if(typeof t[u+1]=="number"){if(a=t[u],r!=null&&a>=r)break}else t[u]<0&&(e[qo]+=65536),(a<o||o==-1)&&(LN(e,n,t,u),e[qo]=(e[qo]&4294901760)+u+2),u++}function WI(e,t){Ai(4,e,t);let n=qn(null);try{t.call(e)}finally{qn(n),Ai(5,e,t)}}function LN(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[Ge]>>14<e[qo]>>16&&(e[Ge]&3)===t&&(e[Ge]+=16384,WI(a,o)):WI(a,o)}var es=-1,Za=class{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function kN(e){return e instanceof Za}function RN(e){return(e.flags&8)!==0}function _N(e){return(e.flags&16)!==0}function U0(e){return e!==es}function Jc(e){let t=e&32767;return e&32767}function FN(e){return e>>16}function qc(e,t){let n=FN(e),r=t;for(;n>0;)r=r[Ha],n--;return r}var kh=!0;function YI(e){let t=kh;return kh=e,t}var jN=256,H0=jN-1,W0=5,BN=0,Vr={};function zN(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(La)&&(r=n[La]),r==null&&(r=n[La]=BN++);let i=r&H0,o=1<<i;t.data[e+(i>>W0)]|=o}function Y0(e,t){let n=X0(e,t);if(n!==-1)return n;let r=t[He];r.firstCreatePass&&(e.injectorIndex=t.length,Ah(r.data,e),Ah(t,null),Ah(r.blueprint,null));let i=pg(e,t),o=e.injectorIndex;if(U0(i)){let s=Jc(i),a=qc(i,t),u=a[He].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|u[s+l]}return t[o+8]=i,o}function Ah(e,t){e.push(0,0,0,0,0,0,0,0,t)}function X0(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function pg(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=K0(i),r===null)return es;if(n++,i=i[Ha],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return es}function VN(e,t,n){zN(e,t,n)}function $0(e,t,n){if(n&rt.Optional||e!==void 0)return e;sg(t,"NodeInjector")}function J0(e,t,n,r){if(n&rt.Optional&&r===void 0&&(r=null),!(n&(rt.Self|rt.Host))){let i=e[rs],o=zr(void 0);try{return i?i.get(t,r,n&rt.Optional):p0(t,r,n&rt.Optional)}finally{zr(o)}}return $0(r,t,n)}function q0(e,t,n,r=rt.Default,i){if(e!==null){if(t[Ge]&2048&&!(r&rt.Self)){let s=HN(e,t,n,r,Vr);if(s!==Vr)return s}let o=Q0(e,t,n,r,Vr);if(o!==Vr)return o}return J0(t,n,r,i)}function Q0(e,t,n,r,i){let o=ZN(n);if(typeof o=="function"){if(!_0(t,e,r))return r&rt.Host?$0(i,n,r):J0(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&rt.Optional))sg(n);else return s}finally{z0()}}else if(typeof o=="number"){let s=null,a=X0(e,t),u=es,l=r&rt.Host?t[Hr][Mr]:null;for((a===-1||r&rt.SkipSelf)&&(u=a===-1?pg(e,t):t[a+8],u===es||!$I(r,!1)?a=-1:(s=t[He],a=Jc(u),t=qc(u,t)));a!==-1;){let h=t[He];if(XI(o,a,h.data)){let f=GN(a,t,n,s,r,l);if(f!==Vr)return f}u=t[a+8],u!==es&&$I(r,t[He].data[a+8]===l)&&XI(o,a,t)?(s=h,a=Jc(u),t=qc(u,t)):a=-1}}return i}function GN(e,t,n,r,i,o){let s=t[He],a=s.data[e+8],u=r==null?cg(a)&&kh:r!=s&&(a.type&3)!==0,l=i&rt.Host&&o===a,h=Zc(a,s,n,u,l);return h!==null?as(t,s,h,a):Vr}function Zc(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,u=e.directiveStart,l=e.directiveEnd,h=o>>20,f=r?a:a+h,y=i?a+h:l;for(let I=f;I<y;I++){let b=s[I];if(I<u&&n===b||I>=u&&b.type===n)return I}if(i){let I=s[u];if(I&&Ya(I)&&I.type===n)return u}return null}function as(e,t,n,r){let i=e[n],o=t.data;if(kN(i)){let s=i;s.resolving&&w1(A1(o[n]));let a=YI(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?zr(s.injectImpl):null,h=_0(e,r,rt.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&ON(n,o[n],t)}finally{l!==null&&zr(l),YI(a),s.resolving=!1,z0()}}return i}function ZN(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(La)?e[La]:void 0;return typeof t=="number"?t>=0?t&H0:UN:t}function XI(e,t,n){let r=1<<e;return!!(n[t+(e>>W0)]&r)}function $I(e,t){return!(e&rt.Self)&&!(e&rt.Host&&t)}var no=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return q0(this._tNode,this._lView,t,ul(r),n)}};function UN(){return new no(oi(),er())}function HN(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[Ge]&2048&&!(s[Ge]&512);){let a=Q0(o,s,n,r|rt.Self,Vr);if(a!==Vr)return a;let u=o.parent;if(!u){let l=s[b0];if(l){let h=l.get(n,Vr,r);if(h!==Vr)return h}u=K0(s),s=s[Ha]}o=u}return i}function K0(e){let t=e[He],n=t.type;return n===2?t.declTNode:n===1?e[Mr]:null}function WN(e){return typeof e=="function"}function YN(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function XN(e){return e.flat(Number.POSITIVE_INFINITY)}function mg(e,t){e.forEach(n=>Array.isArray(n)?mg(n,t):t(n))}function eC(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Qc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function $N(e,t){let n=[];for(let r=0;r<e;r++)n.push(t);return n}var dl=new kt("ENVIRONMENT_INITIALIZER"),tC=new kt("INJECTOR",-1),nC=new kt("INJECTOR_DEF_TYPES"),Kc=class{get(t,n=Fa){if(n===Fa){let r=new Error(`NullInjectorError: No provider for ${lr(t)}!`);throw r.name="NullInjectorError",r}return n}};function rC(e){return{\u0275providers:e}}function JN(...e){return{\u0275providers:iC(!0,e),\u0275fromNgModule:!0}}function iC(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return mg(t,s=>{let a=s;Rh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&oC(i,o),n}function oC(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];vg(i,o=>{t(o,r)})}}function Rh(e,t,n,r){if(e=br(e),!e)return!1;let i=null,o=_I(e),s=!o&&ns(e);if(!o&&!s){let u=e.ngModule;if(o=_I(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Rh(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{mg(o.imports,h=>{Rh(h,t,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&oC(l,t)}if(!a){let l=Va(i)||(()=>new i);t({provide:i,useFactory:l,deps:ts},i),t({provide:nC,useValue:i,multi:!0},i),t({provide:dl,useValue:()=>Mt(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=e;vg(u,h=>{t(h,l)})}}else return!1;return i!==e&&e.providers!==void 0}function vg(e,t){for(let n of e)d0(n)&&(n=n.\u0275providers),Array.isArray(n)?vg(n,t):t(n)}var qN=Lt({provide:String,useValue:Lt});function sC(e){return e!==null&&typeof e=="object"&&qN in e}function QN(e){return!!(e&&e.useExisting)}function KN(e){return!!(e&&e.useFactory)}function _h(e){return typeof e=="function"}var hl=new kt("Set Injector scope."),Uc={},eE={},wh;function yg(){return wh===void 0&&(wh=new Kc),wh}var xi=class{},el=class extends xi{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jh(t,s=>this.processProvider(s)),this.records.set(tC,Qo(void 0,this)),i.has("environment")&&this.records.set(xi,Qo(void 0,this));let o=this.records.get(hl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(nC,ts,rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=Jo(this),r=zr(void 0),i;try{return t()}finally{Jo(n),zr(r)}}get(t,n=Fa,r=rt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(kI))return t[kI](this);r=ul(r);let i,o=Jo(this),s=zr(void 0);try{if(!(r&rt.SkipSelf)){let u=this.records.get(t);if(u===void 0){let l=sE(t)&&ag(t);l&&this.injectableDefInScope(l)?u=Qo(Fh(t),Uc):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u)}let a=r&rt.Self?yg():this.parent;return n=r&rt.Optional&&n===Fa?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Yc]=a[Yc]||[]).unshift(lr(t)),o)throw a;return R1(a,t,"R3InjectorError",this.source)}else throw a}finally{zr(s),Jo(o)}}resolveInjectorInitializers(){let t=Jo(this),n=zr(void 0),r;try{let i=this.get(dl,ts,rt.Self);for(let o of i)o()}finally{Jo(t),zr(n)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(lr(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new wt(205,!1)}processProvider(t){t=br(t);let n=_h(t)?t:br(t&&t.provide),r=nE(t);if(!_h(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Qo(void 0,Uc,!0),i.factory=()=>Sh(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}else{let i=this.records.get(n)}this.records.set(n,r)}hydrate(t,n){return n.value===Uc&&(n.value=eE,n.value=n.factory()),typeof n.value=="object"&&n.value&&oE(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;let n=br(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Fh(e){let t=ag(e),n=t!==null?t.factory:Va(e);if(n!==null)return n;if(e instanceof kt)throw new wt(204,!1);if(e instanceof Function)return tE(e);throw new wt(204,!1)}function tE(e){let t=e.length;if(t>0){let r=$N(t,"?");throw new wt(204,!1)}let n=D1(e);return n!==null?()=>n.factory(e):()=>new e}function nE(e){if(sC(e))return Qo(void 0,e.useValue);{let t=rE(e);return Qo(t,Uc)}}function rE(e,t,n){let r;if(_h(e)){let i=br(e);return Va(i)||Fh(i)}else if(sC(e))r=()=>br(e.useValue);else if(KN(e))r=()=>e.useFactory(...Sh(e.deps||[]));else if(QN(e))r=()=>Mt(br(e.useExisting));else{let i=br(e&&(e.useClass||e.provide));if(iE(e))r=()=>new i(...Sh(e.deps));else return Va(i)||Fh(i)}return r}function Qo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function iE(e){return!!e.deps}function oE(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function sE(e){return typeof e=="function"||typeof e=="object"&&e instanceof kt}function jh(e,t){for(let n of e)Array.isArray(n)?jh(n,t):n&&d0(n)?jh(n.\u0275providers,t):t(n)}function JI(e,t=null,n=null,r){let i=aE(e,t,n,r);return i.resolveInjectorInitializers(),i}function aE(e,t=null,n=null,r,i=new Set){let o=[n||ts,JN(e)];return r=r||(typeof e=="object"?void 0:lr(e)),new el(o,t||yg(),r||null,i)}var fs=(()=>{let t=class t{static create(r,i){if(Array.isArray(r))return JI({name:""},i,r,"");{let o=r.name??"";return JI({name:o},r.parent,r.providers,o)}}};t.THROW_IF_NOT_FOUND=Fa,t.NULL=new Kc,t.\u0275prov=cn({token:t,providedIn:"any",factory:()=>Mt(tC)}),t.__NG_ELEMENT_ID__=-1;let e=t;return e})();var Bh;function aC(e){Bh=e}function uE(){if(Bh!==void 0)return Bh;if(typeof document<"u")return document;throw new wt(210,!1)}var Ig=new kt("AppId",{providedIn:"root",factory:()=>cE}),cE="ng",Cg=new kt("Platform Initializer"),ds=new kt("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Ag=new kt("CSP nonce",{providedIn:"root",factory:()=>uE().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function uC(e){return(e.flags&128)===128}var ao=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ao||{});var cC=new Map,lE=0;function fE(){return lE++}function dE(e){cC.set(e[cl],e)}function hE(e){cC.delete(e[cl])}var qI="__ngContext__";function us(e,t){to(t)?(e[qI]=t[cl],dE(t)):e[qI]=t}var gE;function wg(e,t){return gE(e,t)}function bg(e){let t=e[Xt];return Dr(t)?t[Xt]:t}function lC(e){return dC(e[za])}function fC(e){return dC(e[xr])}function dC(e){for(;e!==null&&!Dr(e);)e=e[xr];return e}function Ko(e,t,n,r,i){if(r!=null){let o,s=!1;Dr(r)?o=r:to(r)&&(s=!0,r=r[ri]);let a=bi(r);e===0&&n!==null?i==null?mC(t,n,a):tl(t,n,a,i||null,!0):e===1&&n!==null?tl(t,n,a,i||null,!0):e===2?PE(t,a,s):e===3&&t.destroyNode(a),o!=null&&LE(t,e,o,n,i)}}function hC(e,t,n){return e.createElement(t,n)}function pE(e,t){let n=t[Ur];$a(e,t,n,2,null,null),t[ri]=null,t[Mr]=null}function mE(e,t,n,r,i,o){r[ri]=i,r[Mr]=t,$a(e,r,n,1,i,o)}function vE(e,t){$a(e,t,t[Ur],2,null,null)}function yE(e){let t=e[za];if(!t)return bh(e[He],e);for(;t;){let n=null;if(to(t))n=t[za];else{let r=t[Kn];r&&(n=r)}if(!n){for(;t&&!t[xr]&&t!==e;)to(t)&&bh(t[He],t),t=t[Xt];t===null&&(t=e),to(t)&&bh(t[He],t),n=t&&t[xr]}t=n}}function IE(e,t,n,r){let i=Kn+r,o=n.length;r>0&&(n[i-1][xr]=t),r<o-Kn?(t[xr]=n[i],eC(n,Kn+r,t)):(n.push(t),t[xr]=null),t[Xt]=n;let s=t[Wa];s!==null&&n!==s&&CE(s,t);let a=t[Gr];a!==null&&a.insertView(e),P0(t),t[Ge]|=128}function CE(e,t){let n=e[os],i=t[Xt][Xt][Hr];t[Hr]!==i&&(e[Ge]|=ss.HasTransplantedViews),n===null?e[os]=[t]:n.push(t)}function gC(e,t){let n=e[os],r=n.indexOf(t),i=t[Xt];n.splice(r,1)}function zh(e,t){if(e.length<=Kn)return;let n=Kn+t,r=e[n];if(r){let i=r[Wa];i!==null&&i!==e&&gC(i,r),t>0&&(e[n-1][xr]=r[xr]);let o=Qc(e,Kn+t);pE(r[He],r);let s=o[Gr];s!==null&&s.detachView(o[He]),r[Xt]=null,r[xr]=null,r[Ge]&=-129}return r}function pC(e,t){if(!(t[Ge]&256)){let n=t[Ur];t[ro]&&oI(t[ro]),n.destroyNode&&$a(e,t,n,3,null,null),yE(t)}}function bh(e,t){if(!(t[Ge]&256)){t[Ge]&=-129,t[Ge]|=256,wE(e,t),AE(e,t),t[He].type===1&&t[Ur].destroy();let n=t[Wa];if(n!==null&&Dr(t[Xt])){n!==t[Xt]&&gC(n,t);let r=t[Gr];r!==null&&r.detachView(e)}hE(t)}}function AE(e,t){let n=e.cleanup,r=t[Xc];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(t[Xc]=null);let i=t[_a];if(i!==null){t[_a]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function wE(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Za)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Ai(4,a,u);try{u.call(a)}finally{Ai(5,a,u)}}else{Ai(4,i,o);try{o.call(i)}finally{Ai(5,i,o)}}}}}function bE(e,t,n){return xE(e,t.parent,n)}function xE(e,t,n){let r=t;for(;r!==null&&r.type&40;)t=r,r=t.parent;if(r===null)return n[ri];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=e.data[r.directiveStart+i];if(o===Zr.None||o===Zr.Emulated)return null}return ii(r,n)}}function tl(e,t,n,r,i){e.insertBefore(t,n,r,i)}function mC(e,t,n){e.appendChild(t,n)}function QI(e,t,n,r,i){r!==null?tl(e,t,n,r,i):mC(e,t,n)}function DE(e,t,n,r){e.removeChild(t,n,r)}function xg(e,t){return e.parentNode(t)}function ME(e,t){return e.nextSibling(t)}function NE(e,t,n){return TE(e,t,n)}function EE(e,t,n){return e.type&40?ii(e,n):null}var TE=EE,KI;function SE(e,t,n,r){let i=bE(e,r,t),o=t[Ur],s=r.parent||t[Mr],a=NE(s,r,t);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)QI(o,i,n[u],a,!1);else QI(o,i,n,a,!1);KI!==void 0&&KI(o,r,t,n,i)}function Hc(e,t){if(t!==null){let n=t.type;if(n&3)return ii(t,e);if(n&4)return Vh(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Hc(e,r);{let i=e[t.index];return Dr(i)?Vh(-1,i):bi(i)}}else{if(n&32)return wg(t,e)()||bi(e[t.index]);{let r=vC(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=bg(e[Hr]);return Hc(i,r)}else return Hc(e,t.next)}}}return null}function vC(e,t){if(t!==null){let r=e[Hr][Mr],i=t.projection;return r.projection[i]}return null}function Vh(e,t){let n=Kn+e+1;if(n<t.length){let r=t[n],i=r[He].firstChild;if(i!==null)return Hc(r,i)}return t[io]}function PE(e,t,n){let r=xg(e,t);r&&DE(e,r,t,n)}function Dg(e,t,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&t===0&&(a&&us(bi(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Dg(e,t,n.child,r,i,o,!1),Ko(t,e,i,a,o);else if(u&32){let l=wg(n,r),h;for(;h=l();)Ko(t,e,i,h,o);Ko(t,e,i,a,o)}else u&16?OE(e,t,r,n,i,o):Ko(t,e,i,a,o);n=s?n.projectionNext:n.next}}function $a(e,t,n,r,i,o){Dg(n,r,e.firstChild,t,i,o,!1)}function OE(e,t,n,r,i,o){let s=n[Hr],u=s[Mr].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ko(t,e,i,h,o)}else{let l=u,h=s[Xt];uC(r)&&(l.flags|=128),Dg(e,t,l,h,i,o,!0)}}function LE(e,t,n,r,i){let o=n[io],s=bi(n);o!==s&&Ko(t,e,r,o,i);for(let a=Kn;a<n.length;a++){let u=n[a];$a(u[He],u,e,t,r,o)}}function kE(e,t,n){e.setAttribute(t,"style",n)}function yC(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function IC(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Ph(e,t,r),i!==null&&yC(e,t,i),o!==null&&kE(e,t,o)}var RE="h",_E="b";var FE=(e,t,n)=>null;function Mg(e,t,n=!1){return FE(e,t,n)}var Gh=class{},nl=class{};function jE(e){let t=Error(`No component factory found for ${lr(e)}.`);return t[BE]=e,t}var BE="ngComponent";var Zh=class{resolveComponentFactory(t){throw jE(t)}},hs=(()=>{let t=class t{};t.NULL=new Zh;let e=t;return e})();function zE(){return gs(oi(),er())}function gs(e,t){return new Ja(ii(e,t))}var Ja=(()=>{let t=class t{constructor(r){this.nativeElement=r}};t.__NG_ELEMENT_ID__=zE;let e=t;return e})();function VE(e){return e instanceof Ja?e.nativeElement:e}var Ua=class{};var GE=(()=>{let t=class t{};t.\u0275prov=cn({token:t,providedIn:"root",factory:()=>null});let e=t;return e})(),cs=class{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}},ZE=new cs("17.0.5"),xh={};function rl(e,t,n,r,i=!1){for(;n!==null;){let o=t[n.index];o!==null&&r.push(bi(o)),Dr(o)&&UE(o,r);let s=n.type;if(s&8)rl(e,t,n.child,r);else if(s&32){let a=wg(n,t),u;for(;u=a();)r.push(u)}else if(s&16){let a=vC(t,n);if(Array.isArray(a))r.push(...a);else{let u=bg(t[Hr]);rl(u[He],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function UE(e,t){for(let n=Kn;n<e.length;n++){let r=e[n],i=r[He].firstChild;i!==null&&rl(r[He],r,i,t)}e[io]!==e[ri]&&t.push(e[io])}var CC=[];function HE(e){return e[ro]??WE(e)}function WE(e){let t=CC.pop()??Object.create(XE);return t.lView=e,t}function YE(e){e.lView[ro]!==e&&(e.lView=null,CC.push(e))}var XE=Kr(jr({},nI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ll(e.lView)},consumerOnSignalRead(){this.lView[ro]=this}}),$E="ngOriginalError";function Dh(e){return e[$E]}var ni=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Dh(t);for(;n&&Dh(n);)n=Dh(n);return n||null}};var AC=!1,JE=new kt("",{providedIn:"root",factory:()=>AC});var wC={};function qE(e,t,n,r){if(!r)if((t[Ge]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Vc(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Gc(t,o,0,n)}oo(n)}function QE(e,t=rt.Default){let n=er();if(n===null)return Mt(e,t);let r=oi();return q0(r,n,br(e),t)}function KE(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)oo(~i);else{let o=i,s=n[++r],a=n[++r];DN(s,o);let u=t[o];a(2,u)}}}finally{oo(-1)}}function gl(e,t,n,r,i,o,s,a,u,l,h){let f=t.blueprint.slice();return f[ri]=i,f[Ge]=r|4|128|8,(l!==null||e&&e[Ge]&2048)&&(f[Ge]|=2048),T0(f),f[Xt]=f[Ha]=e,f[ti]=n,f[Ba]=s||e&&e[Ba],f[Ur]=a||e&&e[Ur],f[rs]=u||e&&e[rs]||null,f[Mr]=o,f[cl]=fE(),f[Oh]=h,f[b0]=l,f[Hr]=t.type==2?e[Hr]:f,f}function bC(e,t,n,r,i){let o=e.data[t];if(o===null)o=eT(e,t,n,r,i),xN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=AN();o.injectorIndex=s===null?-1:s.injectorIndex}return fg(o,!0),o}function eT(e,t,n,r,i){let o=L0(),s=k0(),a=s?o:o&&o.parent,u=e.data[t]=uT(e,a,n,t,r,i);return e.firstChild===null&&(e.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function xC(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function DC(e,t,n,r,i){let o=EN(),s=r&2;try{oo(-1),s&&t.length>is&&qE(e,t,is,!1),Ai(s?2:0,i),n(r,i)}finally{oo(o),Ai(s?3:1,i)}}function MC(e,t,n){if(D0(t)){let r=qn(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{qn(r)}}}function tT(e,t,n){O0()&&(hT(e,t,n,ii(n,t)),(n.flags&64)===64&&SC(e,t,n))}function nT(e,t,n=ii){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function NC(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=EC(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function EC(e,t,n,r,i,o,s,a,u,l,h){let f=is+r,y=f+i,I=rT(f,y),b=typeof l=="function"?l():l;return I[He]={type:e,blueprint:I,template:n,queries:null,viewQuery:a,declTNode:t,data:I.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:h}}function rT(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:wC);return n}function iT(e,t,n,r){let o=r.get(JE,AC)||n===Zr.ShadowDom,s=e.selectRootElement(t,o);return oT(s),s}function oT(e){sT(e)}var sT=e=>null;function aT(e,t,n,r){let i=xT(t);i.push(n),e.firstCreatePass&&DT(e).push(r,i.length-1)}function uT(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return yN()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function e0(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=n===null?{}:n;let o=e[i];r===null?t0(n,t,i,o):r.hasOwnProperty(i)&&t0(n,t,r[i],o)}return n}function t0(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function cT(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let f=o[h],y=n?n.get(f):null,I=y?y.inputs:null,b=y?y.outputs:null;u=e0(f.inputs,h,u,I),l=e0(f.outputs,h,l,b);let D=u!==null&&s!==null&&!I0(t)?wT(u,h,s):null;a.push(D)}u!==null&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=u,t.outputs=l}function lT(e,t,n,r){if(O0()){let i=r===null?null:{"":-1},o=pT(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&TC(e,t,n,s,i,a),i&&mT(n,r,i)}n.mergedAttrs=ug(n.mergedAttrs,n.attrs)}function TC(e,t,n,r,i,o){for(let l=0;l<r.length;l++)VN(Y0(n,t),e,r[l].type);yT(n,e.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=xC(e,t,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=ug(n.mergedAttrs,h.hostAttrs),IT(e,n,t,u,h),vT(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let f=h.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}cT(e,n,o)}function fT(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;dT(s)!=a&&s.push(a),s.push(n,r,o)}}function dT(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function hT(e,t,n,r){let i=n.directiveStart,o=n.directiveEnd;cg(n)&&CT(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Y0(n,t),us(r,t);let s=n.initialInputs;for(let a=i;a<o;a++){let u=e.data[a],l=as(t,e,a,n);if(us(l,t),s!==null&&AT(t,a-i,l,u,n,s),Ya(u)){let h=Xa(n.index,t);h[ti]=as(t,e,a,n)}}}function SC(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=MN();try{oo(o);for(let a=r;a<i;a++){let u=e.data[a],l=t[a];Lh(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&gT(u,l)}}finally{oo(-1),Lh(s)}}function gT(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function pT(e,t){let n=e.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(U1(t,s.selectors,!1))if(r||(r=[]),Ya(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Uh(e,t,u)}else r.unshift(s),Uh(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Uh(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function mT(e,t,n){if(t){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new wt(-301,!1);r.push(t[i],o)}}}function vT(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ya(t)&&(n[""]=e)}}function yT(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function IT(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Va(i.type,!0)),s=new Za(o,Ya(i),QE);e.blueprint[r]=s,n[r]=s,fT(e,t,r,xC(e,n,i.hostVars,wC),i)}function CT(e,t,n){let r=ii(t,e),i=NC(n),o=e[Ba].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Ng(e,gl(e,i,null,s,r,t,null,o.createRenderer(r,n),null,null,null));e[t.index]=a}function AT(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++];PC(r,n,u,l,h)}}function PC(e,t,n,r,i){let o=qn(null);try{let s=e.inputTransforms;s!==null&&s.hasOwnProperty(r)&&(i=s[r].call(t,i)),e.setInput!==null?e.setInput(t,i,n,r):t[r]=i}finally{qn(o)}}function wT(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],n[i+1]);break}}i+=2}return r}function bT(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function OC(e,t){let n=e.contentQueries;if(n!==null){let r=qn(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];dg(o),a.contentQueries(2,t[s],s)}}}finally{qn(r)}}}function Ng(e,t){return e[za]?e[ZI][xr]=t:e[za]=t,e[ZI]=t,t}function Hh(e,t,n){dg(0);let r=qn(null);try{t(e,n)}finally{qn(r)}}function xT(e){return e[Xc]||(e[Xc]=[])}function DT(e){return e.cleanup||(e.cleanup=[])}function MT(e,t){let n=e[rs],r=n?n.get(ni,null):null;r&&r.handleError(t)}function LC(e,t,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=t[s],l=e.data[s];PC(l,u,r,a,i)}}var NT=100;function ET(e,t=!0){let n=e[Ba],r=n.rendererFactory,i=n.afterRenderEventManager,o=!1;o||(r.begin?.(),i?.begin());try{let s=e[He],a=e[ti];kC(s,e,s.template,a),TT(e)}catch(s){throw t&&MT(e,s),s}finally{o||(r.end?.(),n.inlineEffectRunner?.flush(),i?.end())}}function TT(e){let t=0;for(;S0(e);){if(t===NT)throw new wt(103,!1);t++,FC(e,1)}}function kC(e,t,n,r){let i=t[Ge];if((i&256)===256)return;let o=!1;!o&&t[Ba].inlineEffectRunner?.flush(),hg(t);let s=null,a=null;!o&&ST(e)&&(a=HE(t),s=rI(a));try{T0(t),bN(e.bindingStartIndex),n!==null&&DC(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&Vc(t,f,null)}else{let f=e.preOrderHooks;f!==null&&Gc(t,f,0,null),Ch(t,0)}if(PT(t),RC(t,0),e.contentQueries!==null&&OC(e,t),!o)if(u){let f=e.contentCheckHooks;f!==null&&Vc(t,f)}else{let f=e.contentHooks;f!==null&&Gc(t,f,1),Ch(t,1)}KE(e,t);let l=e.components;l!==null&&jC(t,l,0);let h=e.viewQuery;if(h!==null&&Hh(2,h,r),!o)if(u){let f=e.viewCheckHooks;f!==null&&Vc(t,f)}else{let f=e.viewHooks;f!==null&&Gc(t,f,2),Ch(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Ih]){for(let f of t[Ih])f();t[Ih]=null}o||(t[Ge]&=-73)}catch(u){throw ll(t),u}finally{a!==null&&(iI(a,s),YE(a)),gg()}}function ST(e){return e.type!==2}function RC(e,t){for(let n=lC(e);n!==null;n=fC(n)){n[Ge]&=~ss.HasChildViewsToRefresh;for(let r=Kn;r<n.length;r++){let i=n[r];_C(i,t)}}}function PT(e){for(let t=lC(e);t!==null;t=fC(t)){if(!(t[Ge]&ss.HasTransplantedViews))continue;let n=t[os];for(let r=0;r<n.length;r++){let i=n[r],o=i[Xt];hN(i)}}}function OT(e,t,n){let r=Xa(t,e);_C(r,n)}function _C(e,t){lg(e)&&FC(e,t)}function FC(e,t){let r=e[He],i=e[Ge],o=e[ro],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&ih(o)),o&&(o.dirty=!1),e[Ge]&=-9217,s)kC(r,e,r.template,e[ti]);else if(i&8192){RC(e,1);let a=r.components;a!==null&&jC(e,a,1)}}function jC(e,t,n){for(let r=0;r<t.length;r++)OT(e,t[r],n)}function BC(e){for(;e;){e[Ge]|=64;let t=bg(e);if(rN(e)&&!t)return e;e=t}return null}var so=class{get rootNodes(){let t=this._lView,n=t[He];return rl(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ti]}set context(t){this._lView[ti]=t}get destroyed(){return(this._lView[Ge]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Xt];if(Dr(t)){let n=t[$c],r=n?n.indexOf(this):-1;r>-1&&(zh(t,r),Qc(n,r))}this._attachedToViewContainer=!1}pC(this._lView[He],this._lView)}onDestroy(t){gN(this._lView,t)}markForCheck(){BC(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ge]&=-129}reattach(){P0(this._lView),this._lView[Ge]|=128}detectChanges(){ET(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new wt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,vE(this._lView[He],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new wt(902,!1);this._appRef=t}},zC=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=LT;let e=t;return e})();function LT(e){return kT(oi(),er(),(e&16)===16)}function kT(e,t,n){if(cg(e)&&!n){let r=Xa(e.index,t);return new so(r,r)}else if(e.type&47){let r=t[Hr];return new so(r,t)}return null}var n0=new Set;function VC(e){n0.has(e)||(n0.add(e),performance?.mark?.("mark_use_counter",{detail:{feature:e}}))}var Wh=class extends Br{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let u=t;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Mh(o),i&&(i=Mh(i)),s&&(s=Mh(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Qn&&t.add(a),a}};function Mh(e){return t=>{setTimeout(e,void 0,t)}}var wi=Wh;function r0(...e){}function RT(){let e=typeof ka.requestAnimationFrame=="function",t=ka[e?"requestAnimationFrame":"setTimeout"],n=ka[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}var Qt=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wi(!1),this.onMicrotaskEmpty=new wi(!1),this.onStable=new wi(!1),this.onError=new wi(!1),typeof Zone>"u")throw new wt(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=RT().nativeRequestAnimationFrame,jT(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new wt(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new wt(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,_T,r0,r0);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},_T={};function Eg(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function FT(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ka,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Yh(e),e.isCheckStableRunning=!0,Eg(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Yh(e))}function jT(e){let t=()=>{FT(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(BT(a))return n.invokeTask(i,o,s,a);try{return i0(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),o0(e)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return i0(e),n.invoke(i,o,s,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),o0(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,Yh(e),Eg(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function Yh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function i0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function o0(e){e._nesting--,Eg(e)}var GC=new kt("",{providedIn:"root",factory:ZC});function ZC(){let e=Sn(Qt),t=!0,n=new Ut(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),r=new Ut(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{Qt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});let s=e.onUnstable.subscribe(()=>{Qt.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}});return Pa(n,r.pipe(zc()))}function BT(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}var zT=(()=>{let t=class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};t.\u0275prov=cn({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();function VT(e,t){let n=Xa(t,e),r=n[He];GT(r,n);let i=n[ri];i!==null&&n[Oh]===null&&(n[Oh]=Mg(i,n[rs])),Tg(r,n,n[ti])}function GT(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Tg(e,t,n){hg(t);try{let r=e.viewQuery;r!==null&&Hh(1,r,n);let i=e.template;i!==null&&DC(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&OC(e,t),e.staticViewQueries&&Hh(2,e.viewQuery,n);let o=e.components;o!==null&&ZT(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Ge]&=-5,gg()}}function ZT(e,t){for(let n=0;n<t.length;n++)VT(e,t[n])}function Xh(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=OI(i,a);else if(o==2){let u=a,l=t[++s];r=OI(r,u+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var $h=class extends hs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=ns(t);return new il(n,this.ngModule)}};function s0(e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push({propName:r,templateName:n})}return t}function UT(e){let t=e.toLowerCase();return t==="svg"?uN:t==="math"?cN:null}var Jh=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ul(r);let i=this.injector.get(t,xh,r);return i!==xh||n===xh?i:this.parentInjector.get(t,n,r)}},il=class extends nl{get inputs(){let t=this.componentDef,n=t.inputTransforms,r=s0(t.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return s0(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=X1(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){i=i||this.ngModule;let o=i instanceof xi?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new Jh(t,o):t,a=s.get(Ua,null);if(a===null)throw new wt(407,!1);let u=s.get(GE,null),l=s.get(zT,null),h={rendererFactory:a,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l},f=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",I=r?iT(f,r,this.componentDef.encapsulation,s):hC(f,y,UT(y)),b=4608,D=this.componentDef.onPush?576:528,E=this.componentDef.signals?b:D,P=null;I!==null&&(P=Mg(I,s,!0));let z=EC(0,null,null,1,0,null,null,null,null,null,null),H=gl(null,z,null,E,null,null,h,f,s,null,P);hg(H);let X,ne;try{let p=this.componentDef,v,x=null;p.findHostDirectiveDefs?(v=[],x=new Map,p.findHostDirectiveDefs(p,v,x),v.push(p)):v=[p];let N=HT(H,I),S=WT(N,I,p,v,H,h,f);ne=lN(z,is),I&&$T(f,p,I,r),n!==void 0&&JT(ne,this.ngContentSelectors,n),X=XT(S,p,v,x,H,[qT]),Tg(z,H,null)}finally{gg()}return new qh(this.componentType,X,gs(ne,H),H,ne)}},qh=class extends Gh{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new so(i,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;LC(o[He],o,i,t,n),this.previousInputValues.set(t,n);let s=Xa(this._tNode.index,o);BC(s)}}get injector(){return new no(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function HT(e,t){let n=e[He],r=is;return e[r]=t,bC(n,r,2,"#host",null)}function WT(e,t,n,r,i,o,s){let a=i[He];YT(r,e,t,s);let u=null;t!==null&&(u=Mg(t,i[rs]));let l=o.rendererFactory.createRenderer(t,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let f=gl(i,NC(n),null,h,i[e.index],e,o,l,null,null,u);return a.firstCreatePass&&Uh(a,e,r.length-1),Ng(i,f),i[e.index]=f}function YT(e,t,n,r){for(let i of e)t.mergedAttrs=ug(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(Xh(t,t.mergedAttrs,!0),n!==null&&IC(r,n,t))}function XT(e,t,n,r,i,o){let s=oi(),a=i[He],u=ii(s,i);TC(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let f=s.directiveStart+h,y=as(i,a,f,s);us(y,i)}SC(a,i,s),u&&us(u,i);let l=as(i,a,s.directiveStart+s.componentOffset,s);if(e[ti]=i[ti]=l,o!==null)for(let h of o)h(l,t);return MC(a,s,e),l}function $T(e,t,n,r){if(r)Ph(e,n,["ng-version",ZE.full]);else{let{attrs:i,classes:o}=$1(t.selectors[0]);i&&Ph(e,n,i),o&&o.length>0&&yC(e,n,o.join(" "))}}function JT(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function qT(){let e=oi();G0(er()[He],e)}function a0(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";LC(e,n,o[s],s,r)}var BB=new RegExp(`^(\\d+)*(${_E}|${RE})*(.*)`);var QT=(e,t)=>null;function u0(e,t){return QT(e,t)}function KT(e,t,n,r){let i=t.tView,s=e[Ge]&4096?4096:16,a=gl(e,i,n,s,null,t,null,null,null,r?.injector??null,r?.dehydratedView??null),u=e[t.index];a[Wa]=u;let l=e[Gr];return l!==null&&(a[Gr]=l.createEmbeddedView(i)),Tg(i,a,n),a}function c0(e,t){return!t||uC(e)}function eS(e,t,n,r=!0){let i=t[He];if(IE(i,t,e,n),r){let o=Vh(n,e),s=t[Ur],a=xg(s,e[io]);a!==null&&mE(i,e[Mr],s,t,a,o)}}var Sg=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=tS;let e=t;return e})();function tS(){let e=oi();return HC(e,er())}var nS=Sg,UC=class extends nS{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return gs(this._hostTNode,this._hostLView)}get injector(){return new no(this._hostTNode,this._hostLView)}get parentInjector(){let t=pg(this._hostTNode,this._hostLView);if(U0(t)){let n=qc(t,this._hostLView),r=Jc(t),i=n[He].data[r+8];return new no(i,n)}else return new no(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=l0(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Kn}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=u0(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,c0(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!WN(t),a;if(s)a=n;else{let b=n||{};a=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}let u=s?t:new il(ns(t)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let D=(s?l:this.parentInjector).get(xi,null);D&&(o=D)}let h=ns(u.componentType??{}),f=u0(this._lContainer,h?.id??null),y=f?.firstChild??null,I=u.create(l,i,y,o);return this.insertImpl(I.hostView,a,c0(this._hostTNode,f)),I}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(dN(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let u=i[Xt],l=new UC(u,u[Mr],u[Xt]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return eS(s,i,o,r),t.attachToViewContainerRef(),eC(Nh(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=l0(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=zh(this._lContainer,n);r&&(Qc(Nh(this._lContainer),n),pC(r[He],r))}detach(t){let n=this._adjustIndex(t,-1),r=zh(this._lContainer,n);return r&&Qc(Nh(this._lContainer),n)!=null?new so(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function l0(e){return e[$c]}function Nh(e){return e[$c]||(e[$c]=[])}function HC(e,t){let n,r=t[e.index];return Dr(r)?n=r:(n=bT(r,t,null,e),t[e.index]=n,Ng(t,n)),iS(n,t,e,r),new UC(n,e,t)}function rS(e,t){let n=e[Ur],r=n.createComment(""),i=ii(t,e),o=xg(n,i);return tl(n,o,r,ME(n,i),!1),r}var iS=oS;function oS(e,t,n,r){if(e[io])return;let i;n.type&8?i=bi(r):i=rS(t,n),e[io]=i}function sS(e,t,n,r,i,o){let s=t.consts,a=HI(s,i),u=bC(t,e,2,r,a);return lT(t,n,u,HI(s,o)),u.attrs!==null&&Xh(u,u.attrs,!1),u.mergedAttrs!==null&&Xh(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function qa(e,t,n,r){let i=er(),o=fl(),s=is+e,a=i[Ur],u=o.firstCreatePass?sS(s,o,i,t,n,r):o.data[s],l=aS(o,i,u,a,t,e);i[s]=l;let h=nN(u);return fg(u,!0),IC(a,l,u),(u.flags&32)!==32&&SN()&&SE(o,i,l,u),pN()===0&&us(l,i),mN(),h&&(tT(o,i,u),MC(o,u,i)),r!==null&&nT(i,u),qa}function Qa(){let e=oi();k0()?wN():(e=e.parent,fg(e,!1));let t=e;IN(t)&&CN(),vN();let n=fl();return n.firstCreatePass&&(G0(n,e),D0(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&RN(t)&&a0(n,t,er(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&_N(t)&&a0(n,t,er(),t.stylesWithoutHost,!1),Qa}function pl(e,t,n,r){return qa(e,t,n,r),Qa(),pl}var aS=(e,t,n,r,i,o)=>(PN(!0),hC(r,i,TN()));var ol="en-US";var uS=ol;function cS(e){b1(e,"Expected localeId to be defined"),typeof e=="string"&&(uS=e.toLowerCase().replace(/_/g,"-"))}function Pg(e){return!!e&&typeof e.then=="function"}function WC(e){return!!e&&typeof e.subscribe=="function"}var ls=class{};var sl=class extends ls{constructor(t){super(),this.componentFactoryResolver=new $h(this),this.instance=null;let n=new el([...t.providers,{provide:ls,useValue:this},{provide:hs,useValue:this.componentFactoryResolver}],t.parent||yg(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function lS(e,t,n=null){return new sl({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var fS=(()=>{let t=class t{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=iC(!1,r.type),o=i.length>0?lS([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};t.\u0275prov=cn({token:t,providedIn:"environment",factory:()=>new t(Mt(xi))});let e=t;return e})();function YC(e){VC("NgStandalone"),e.getStandaloneInjector=t=>t.get(fS).getOrCreateStandaloneInjector(e)}function dS(){return this._results[Symbol.iterator]()}var Qh=class e{get changes(){return this._changes||(this._changes=new wi)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=dS)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=XN(t);(this._changesDetected=!YN(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}},al=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=pS;let e=t;return e})(),hS=al,gS=class extends hS{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=KT(this._declarationLView,this._declarationTContainer,t,{injector:n,dehydratedView:r});return new so(i)}};function pS(){return Og(oi(),er())}function Og(e,t){return e.type&4?new gS(t,e,gs(e,t)):null}var Kh=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},eg=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)$C(t,n).matches!==null&&this.queries[n].setDirty()}},tg=class{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}},ng=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},rg=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,mS(n,o)),this.matchTNodeWithReadOption(t,n,Zc(n,t,o,!1,!1))}else r===al?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Zc(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ja||i===Sg||i===al&&n.type&4)this.addMatch(n.index,-2);else{let o=Zc(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function mS(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function vS(e,t){return e.type&11?gs(e,t):e.type&4?Og(e,t):null}function yS(e,t,n,r){return n===-1?vS(t,e):n===-2?IS(e,t,r):as(e,e[He],n,t)}function IS(e,t,n){if(n===Ja)return gs(t,e);if(n===al)return Og(t,e);if(n===Sg)return HC(t,e)}function XC(e,t,n,r){let i=t[Gr].queries[r];if(i.matches===null){let o=e.data,s=n.matches,a=[];for(let u=0;u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(yS(t,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function ig(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=XC(e,t,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=t[-u];for(let f=Kn;f<h.length;f++){let y=h[f];y[Wa]===y[Xt]&&ig(y[He],y,l,r)}if(h[os]!==null){let f=h[os];for(let y=0;y<f.length;y++){let I=f[y];ig(I[He],I,l,r)}}}}}return r}function Lg(e){let t=er(),n=fl(),r=R0();dg(r+1);let i=$C(n,r);if(e.dirty&&fN(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=i.crossesNgTemplate?ig(n,t,r,[]):XC(n,t,i,r);e.reset(o,VE),e.notifyOnChanges()}return!0}return!1}function kg(e,t,n){let r=fl();r.firstCreatePass&&(wS(r,new tg(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),AS(r,er(),t)}function Rg(){return CS(er(),R0())}function CS(e,t){return e[Gr].queries[t].queryList}function AS(e,t,n){let r=new Qh((n&4)===4);aT(e,t,r,r.destroy),t[Gr]===null&&(t[Gr]=new eg),t[Gr].queries.push(new Kh(r))}function wS(e,t,n){e.queries===null&&(e.queries=new ng),e.queries.track(new rg(t,n))}function $C(e,t){return e.queries.getByIndex(t)}var bS=new kt("Application Initializer"),JC=(()=>{let t=class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=Sn(bS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Pg(s))r.push(s);else if(WC(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=cn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function xS(){return typeof $localize<"u"&&$localize.locale||ol}var _g=new kt("LocaleId",{providedIn:"root",factory:()=>Sn(_g,rt.Optional|rt.SkipSelf)||xS()});var DS=(()=>{let t=class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ea(!1)}add(){this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=cn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var qC=new kt("");var Wc=null;var QC=new kt("PlatformDestroyListeners"),MS=new kt("appBootstrapListener");function NS(){sI(()=>{throw new wt(600,!1)})}function ES(e){return e.isBoundToModule}function TS(e=[]){if(Wc)return Wc;let t=PS(e);return Wc=t,NS(),SS(t),t}function SS(e){e.get(Cg,null)?.forEach(n=>n())}function KC(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=TS(r),o=[FS(),...n||[]],a=new sl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Qt);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(ni,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:I=>{l.handleError(I)}})});let f=()=>a.destroy(),y=i.get(QC);return y.add(f),a.onDestroy(()=>{h.unsubscribe(),y.delete(f)}),LS(l,u,()=>{let I=a.get(JC);return I.runInitializers(),I.donePromise.then(()=>{let b=a.get(_g,ol);cS(b||ol);let D=a.get(Ka);return t!==void 0&&D.bootstrap(t),D})})})}catch(t){return Promise.reject(t)}}function PS(e=[],t){return fs.create({name:t,providers:[{provide:hl,useValue:"platform"},{provide:QC,useValue:new Set([()=>Wc=null])},...e]})}function OS(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}function LS(e,t,n){try{let r=n();return Pg(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var Ka=(()=>{let t=class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Sn(eA),this.zoneIsStable=Sn(GC),this.componentTypes=[],this.components=[],this.isStable=Sn(DS).hasPendingTasks.pipe(Oa(r=>r?ph(!1):this.zoneIsStable),vh(),zc()),this._injector=Sn(xi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof nl;if(!this._injector.get(JC).done){let b="Cannot bootstrap as there are still asynchronous initializers running."+(!o&&Q1(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new wt(405,!1)}let a;o?a=r:a=this._injector.get(hs).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=ES(a)?void 0:this._injector.get(ls),l=i||a.selector,h=a.create(fs.NULL,[],l,u),f=h.location.nativeElement,y=h.injector.get(qC,null);return y?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),Eh(this.components,h),y?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new wt(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Eh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(MS,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Eh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new wt(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=cn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Eh(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var eA=new kt("",{providedIn:"root",factory:()=>Sn(ni).handleError.bind(void 0)});function kS(){let e=Sn(Qt),t=Sn(ni);return n=>e.runOutsideAngular(()=>t.handleError(n))}var RS=(()=>{let t=class t{constructor(){this.zone=Sn(Qt),this.applicationRef=Sn(Ka)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=cn({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function _S(e){return[{provide:Qt,useFactory:e},{provide:dl,multi:!0,useFactory:()=>{let t=Sn(RS,{optional:!0});return()=>t.initialize()}},{provide:eA,useFactory:kS},{provide:GC,useFactory:ZC}]}function FS(e){let t=_S(()=>new Qt(OS(e)));return rC([[],t])}function jS(e){return encodeURIComponent(e).replace(/%20/g," ").replace(/%21/g,"!").replace(/%23/g,"#").replace(/%24/g,"$").replace(/%25/g,"%")}function nA(e){let t=JSON.stringify(e),n=encodeURIComponent(t);return jS(n)}var Av={};Dt(Av,{absolute:()=>AO,bottom:()=>NO,ellipse:()=>TO,ellipseSpread:()=>EO,fn:()=>wO,left:()=>xO,line:()=>bO,right:()=>DO,top:()=>MO});var si={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},BS=Object.keys(si).map(e=>si[e]).join(""),Fg="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",zS=/\s/g,rA=new RegExp(`^(${Fg}\\*)?([${BS}])(/${Fg})?([-+]{1,2}${Fg})?$`,"g");function oA(e){throw new Error(`Invalid calc() expression: ${e}`)}function VS(e,t){let n=rA.exec(e.replace(zS,""));n||oA(e),rA.lastIndex=0;let[,r,i,o,s]=n,{x:a,y:u,width:l,height:h}=t,f=0;switch(i){case si.width:{f=l;break}case si.height:{f=h;break}case si.x:{f=a;break}case si.y:{f=u;break}case si.minimum:{f=Math.min(h,l);break}case si.maximum:{f=Math.max(h,l);break}case si.diagonal:{f=Math.sqrt(h*h+l*l);break}}return r&&(f*=parseFloat(r)),o&&(f/=parseFloat(o.slice(1))),s&&(f+=GS(s)),f}function GS(e){if(!e)return 0;let[t]=e;switch(t){case"+":return parseFloat(e.substr(1));case"-":return-parseFloat(e.substr(1))}return parseFloat(e)}function ln(e){return typeof e=="string"&&e.includes("calc")}var sA="calc(",iA=sA.length;function fn(e,t){let n=e,r=0;do{let i=n.indexOf(sA,r);if(i===-1)return n;let o=i+iA,s=1;e:do{switch(n[o]){case"(":{s++;break}case")":{if(s--,s===0)break e;break}case void 0:oA(n)}o++}while(!0);let a=n.slice(i+iA,o);ln(a)&&(a=fn(a,t));let u=String(VS(a,t));n=n.slice(0,i)+u+n.slice(o+1),r=i+u.length}while(!0)}var zt={};Dt(zt,{Curve:()=>tt,Ellipse:()=>qt,Line:()=>ge,Path:()=>Ce,Point:()=>k,Polygon:()=>Pn,Polyline:()=>et,Rect:()=>fe,bezier:()=>rP,ellipse:()=>JS,intersection:()=>oP,line:()=>ai,normalizeAngle:()=>Kt,point:()=>ms,random:()=>ml,rect:()=>eP,scale:()=>HS,snapToGrid:()=>Wr,toDeg:()=>uo,toRad:()=>Ht,types:()=>Oe});var{round:ZS,floor:US,PI:aA}=Math,HS={linear:function(e,t,n){var r=e[1]-e[0],i=t[1]-t[0];return(n-e[0])/r*i+t[0]||0}},Kt=function(e){return e%360+(e<0?360:0)},Wr=function(e,t){return t*ZS(e/t)},uo=function(e){return 180*e/aA%360},Ht=function(e,t){return t=t||!1,e=t?e:e%360,e*aA/180},ml=function(e,t){if(t===void 0)t=e===void 0?1:e,e=0;else if(t<e){let n=e;e=t,t=n}return US(Math.random()*(t-e+1)+e)};var{cos:vl,sin:jg,atan2:WS}=Math,yl=function(e,t){var n=Ht(e.y),r=Ht(t.y),i=e.x,o=t.x,s=Ht(o-i),a=jg(s)*vl(r),u=vl(n)*jg(r)-jg(n)*vl(r)*vl(s),l=uo(WS(a,u)),h=["NE","E","SE","S","SW","W","NW","N"],f=l-22.5;return f<0&&(f+=360),f=parseInt(f/45),h[f]};var ps=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return(n-=i)*n+(r-=o)*r};var Il=function(e,t){return Math.sqrt(ps(e,t))};var Oe={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8};var{abs:Cl,cos:Bg,sin:zg,sqrt:uA,min:cA,max:lA,atan2:YS,round:fA,pow:XS,PI:dA}=Math,k=function(e,t){if(!(this instanceof k))return new k(e,t);if(typeof e=="string"){var n=e.split(e.indexOf("@")===-1?" ":"@");e=parseFloat(n[0]),t=parseFloat(n[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=e===void 0?0:e,this.y=t===void 0?0:t};k.fromPolar=function(e,t,n){n=new k(n);var r=Cl(e*Bg(t)),i=Cl(e*zg(t)),o=Kt(uo(t));return o<90?i=-i:o<180?(r=-r,i=-i):o<270&&(r=-r),new k(n.x+r,n.y+i)};k.random=function(e,t,n,r){return new k(ml(e,t),ml(n,r))};k.prototype={type:Oe.Point,chooseClosest:function(e){var t=e.length;if(t===1)return new k(e[0]);for(var n=null,r=1/0,i=0;i<t;i++){var o=new k(e[i]),s=this.squaredDistance(o);s<r&&(n=o,r=s)}return n},adhereToRect:function(e){return e.containsPoint(this)?this:(this.x=cA(lA(this.x,e.x),e.x+e.width),this.y=cA(lA(this.y,e.y),e.y+e.height),this)},angleBetween:function(e,t){var n=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return n<0&&(n+=360),n},bearing:function(e){return yl(this,e)},changeInAngle:function(e,t,n){return this.clone().offset(-e,-t).theta(n)-this.theta(n)},clone:function(){return new k(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new k(this.x-(e||0),this.y-(t||0))},distance:function(e){return Il(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){var n=this.x,r=this.y;return new k((1-t)*n+t*e.x,(1-t)*r+t*e.y)},magnitude:function(){return uA(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return Cl(e.x-this.x)+Cl(e.y-this.y)},move:function(e,t){var n=Ht(new k(e).theta(this)),r=this.offset(Bg(n)*t,-zg(n)*t);return r},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new k(e).move(this,this.distance(e))},rotate:function(e,t){if(t===0)return this;e=e||new k(0,0),t=Ht(Kt(-t));var n=Bg(t),r=zg(t),i=n*(this.x-e.x)-r*(this.y-e.y)+e.x,o=r*(this.x-e.x)+n*(this.y-e.y)+e.y;return this.x=i,this.y=o,this},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=XS(10,e);break}return this.x=fA(this.x*t)/t,this.y=fA(this.y*t)/t,this},scale:function(e,t,n){return n=n&&new k(n)||new k(0,0),this.x=n.x+e*(this.x-n.x),this.y=n.y+t*(this.y-n.y),this},snapToGrid:function(e,t){return this.x=Wr(this.x,e),this.y=Wr(this.y,t||e),this},squaredDistance:function(e){return ps(this,e)},theta:function(e){e=new k(e);var t=-(e.y-this.y),n=e.x-this.x,r=YS(t,n);return r<0&&(r=2*dA+r),180*r/dA},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new k(e)||new k(0,0);var t=this.x,n=this.y;return this.x=uA((t-e.x)*(t-e.x)+(n-e.y)*(n-e.y)),this.y=Ht(e.theta(new k(t,n))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){var t=new k(0,0);return t.angleBetween(this,e)}};k.prototype.translate=k.prototype.offset;var ms=k;var{max:Vg,min:Gg}=Math,ge=function(e,t){if(!(this instanceof ge))return new ge(e,t);if(e instanceof ge)return new ge(e.start,e.end);this.start=new k(e),this.end=new k(t)};ge.prototype={type:Oe.Line,angle:function(){var e=new k(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=Gg(this.start.x,this.end.x),t=Gg(this.start.y,this.end.y),n=Vg(this.start.x,this.end.x),r=Vg(this.start.y,this.end.y);return new fe(e,t,n-e,r-t)},bearing:function(){return yl(this.start,this.end)},clone:function(){return new ge(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new ge(this.start,e).vector()),n=Gg(1,Vg(0,t/this.squaredLength()));return n!==n?0:n},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,n=this.end;if(t.cross(e,n)!==0)return!1;var r=this.length();return!(new ge(t,e).length()>r||new ge(e,n).length()>r)},divideAt:function(e){var t=this.pointAt(e);return[new ge(this.start,t),new ge(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new ge(this.start,t),new ge(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var n=e.intersectionWithLine(this,t);return n&&e instanceof ge&&(n=n[0]),n}return null},intersectionWithLine:function(e){var t=new k(this.end.x-this.start.x,this.end.y-this.start.y),n=new k(e.end.x-e.start.x,e.end.y-e.start.y),r=t.x*n.y-t.y*n.x,i=new k(e.start.x-this.start.x,e.start.y-this.start.y),o=i.x*n.y-i.y*n.x,s=i.x*t.y-i.y*t.x;if(r===0||o*r<0||s*r<0)return null;if(r>0){if(o>r||s>r)return null}else if(o<r||s<r)return null;return[new k(this.start.x+o*t.x/r,this.start.y+o*t.y/r)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return Il(this.start,this.end)},midpoint:function(){return new k((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){let t=this.clone();if(!this.isDifferentiable())return t;let{start:n,end:r}=t,i=n.clone().rotate(r,270),o=r.clone().rotate(n,90);return n.move(o,e),r.move(i,e),t},pointAt:function(e){var t=this.start,n=this.end;return e<=0?t.clone():e>=1?n.clone():t.lerp(n,e)},pointAtLength:function(e){var t=this.start,n=this.end,r=!0;e<0&&(r=!1,e=-e);var i=this.length();return e>=i?r?n.clone():t.clone():this.pointAt((r?e:i-e)/i)},pointOffset:function(e){e=new k(e);var t=this.start,n=this.end,r=(n.x-t.x)*(e.y-t.y)-(n.y-t.y)*(e.x-t.x);return r/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.end.scale(e,t,n),this},setLength:function(e){var t=this.length();if(!t)return this;var n=e/t;return this.scale(n,n,this.start)},squaredLength:function(){return ps(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAt(e),i=new ge(t,n);return i.translate(r.x-t.x,r.y-t.y),i},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAtLength(e),i=new ge(t,n);return i.translate(r.x-t.x,r.y-t.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new k(this.end.x-this.start.x,this.end.y-this.start.y)}};ge.prototype.intersection=ge.prototype.intersect;var ai=ge;var{sqrt:hA,round:Al,pow:$S}=Math,qt=function(e,t,n){if(!(this instanceof qt))return new qt(e,t,n);if(e instanceof qt)return new qt(new k(e.x,e.y),e.a,e.b);e=new k(e),this.x=e.x,this.y=e.y,this.a=t,this.b=n};qt.fromRect=function(e){return e=new fe(e),new qt(e.center(),e.width/2,e.height/2)};qt.prototype={type:Oe.Ellipse,bbox:function(){return new fe(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new k(this.x,this.y)},clone:function(){return new qt(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],n=e.start,r=e.end,i=this.a,o=this.b,s=e.vector(),a=n.difference(new k(this)),u=new k(s.x/(i*i),s.y/(o*o)),l=new k(a.x/(i*i),a.y/(o*o)),h=s.dot(u),f=s.dot(l),y=a.dot(l)-1,I=f*f-h*y;if(I<0)return null;if(I>0){var b=hA(I),D=(-f-b)/h,E=(-f+b)/h;if((D<0||1<D)&&(E<0||1<E))return null;0<=D&&D<=1&&t.push(n.lerp(r,D)),0<=E&&E<=1&&t.push(n.lerp(r,E))}else{var P=-f/h;if(0<=P&&P<=1)t.push(n.lerp(r,P));else return null}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new k(e),t&&e.rotate(new k(this.x,this.y),t);var n=e.x-this.x,r=e.y-this.y,i;if(n===0)return i=this.bbox().pointNearestToPoint(e),t?i.rotate(new k(this.x,this.y),-t):i;var o=r/n,s=o*o,a=this.a*this.a,u=this.b*this.b,l=hA(1/(1/a+s/u));l=n<0?-l:l;var h=o*l;return i=new k(this.x+l,this.y+h),t?i.rotate(new k(this.x,this.y),-t):i},normalizedDistance:function(e){var t=e.x,n=e.y,r=this.a,i=this.b,o=this.x,s=this.y;return(t-o)*(t-o)/(r*r)+(n-s)*(n-s)/(i*i)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=$S(10,e);break}return this.x=Al(this.x*t)/t,this.y=Al(this.y*t)/t,this.a=Al(this.a*t)/t,this.b=Al(this.b*t)/t,this},tangentTheta:function(e){var t=30,n=e.x,r=e.y,i=this.a,o=this.b,s=this.bbox().center(),a=s.x,u=s.y,l=n>s.x+i/2,h=n<s.x-i/2,f,y;return l||h?(f=n>s.x?r-t:r+t,y=i*i/(n-a)-i*i*(r-u)*(f-u)/(o*o*(n-a))+a):(y=r>s.y?n+t:n-t,f=o*o/(r-u)-o*o*(n-a)*(y-a)/(i*i*(r-u))+u),new k(y,f).theta(e)},toString:function(){return new k(this.x,this.y).toString()+" "+this.a+" "+this.b}};var JS=qt;var{abs:gA,cos:qS,sin:QS,min:eu,max:pA,round:wl,pow:KS}=Math,fe=function(e,t,n,r){if(!(this instanceof fe))return new fe(e,t,n,r);Object(e)===e&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=e===void 0?0:e,this.y=t===void 0?0:t,this.width=n===void 0?0:n,this.height=r===void 0?0:r};fe.fromEllipse=function(e){return e=new qt(e),new fe(e.x-e.a,e.y-e.b,2*e.a,2*e.b)};fe.fromPointUnion=function(...e){if(e.length===0)return null;let t=new k,n,r,i,o;n=r=1/0,i=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);let a=t.x,u=t.y;a<n&&(n=a),a>i&&(i=a),u<r&&(r=u),u>o&&(o=u)}return new fe(n,r,i-n,o-r)};fe.fromRectUnion=function(...e){if(e.length===0)return null;let t=new fe,n,r,i,o;n=r=1/0,i=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);let a=t.x,u=t.y,l=a+t.width,h=u+t.height;a<n&&(n=a),l>i&&(i=l),u<r&&(r=u),h>o&&(o=h)}return new fe(n,r,i-n,o-r)};fe.prototype={type:Oe.Rect,bbox:function(e){return this.clone().rotateAroundCenter(e)},rotateAroundCenter:function(e){if(!e)return this;let{width:t,height:n}=this,r=Ht(e),i=gA(QS(r)),o=gA(qS(r)),s=t*o+n*i,a=t*i+n*o;return this.x+=(t-s)/2,this.y+=(n-a)/2,this.width=s,this.height=a,this},bottomLeft:function(){return new k(this.x,this.y+this.height)},bottomLine:function(){return new ge(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new k(this.x+this.width/2,this.y+this.height)},center:function(){return new k(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new fe(this)},containsPoint:function(e){return e instanceof k||(e=new k(e)),e.x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},containsRect:function(e){var t=new fe(this).normalize(),n=new fe(e).normalize(),r=t.width,i=t.height,o=n.width,s=n.height;if(!r||!i||!o||!s)return!1;var a=t.x,u=t.y,l=n.x,h=n.y;return o+=l,r+=a,s+=h,i+=u,a<=l&&o<=r&&u<=h&&s<=i},corner:function(){return new k(this.x+this.width,this.y+this.height)},equals:function(e){var t=new fe(this).normalize(),n=new fe(e).normalize();return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),n=this.corner(),r=e.origin(),i=e.corner();if(i.x<=t.x||i.y<=t.y||r.x>=n.x||r.y>=n.y)return null;var o=pA(t.x,r.x),s=pA(t.y,r.y);return new fe(o,s,eu(n.x,i.x)-o,eu(n.y,i.y)-s)},intersectionWithLine:function(e){var t=this,n=[t.topLine(),t.rightLine(),t.bottomLine(),t.leftLine()],r=[],i=[],o,s,a=n.length;for(s=0;s<a;s++)o=e.intersect(n[s]),o!==null&&i.indexOf(o.toString())<0&&(r.push(o),i.push(o.toString()));return r.length>0?r:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new k(e);var n=new k(this.x+this.width/2,this.y+this.height/2),r;t&&e.rotate(n,t);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new ge(n,e),s=i.length-1;s>=0;--s){var a=i[s].intersection(o);if(a!==null){r=a;break}}return r&&t&&r.rotate(n,-t),r},leftLine:function(){return new ge(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new k(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){e=new fe(e),t||(t=e.center());var n,r,i,o,s,a,u,l,h=t.x,f=t.y;n=r=i=o=s=a=u=l=1/0;var y=e.topLeft();y.x<h&&(n=(this.x-h)/(y.x-h)),y.y<f&&(s=(this.y-f)/(y.y-f));var I=e.bottomRight();I.x>h&&(r=(this.x+this.width-h)/(I.x-h)),I.y>f&&(a=(this.y+this.height-f)/(I.y-f));var b=e.topRight();b.x>h&&(i=(this.x+this.width-h)/(b.x-h)),b.y<f&&(u=(this.y-f)/(b.y-f));var D=e.bottomLeft();return D.x<h&&(o=(this.x-h)/(D.x-h)),D.y>f&&(l=(this.y+this.height-f)/(D.y-f)),{sx:eu(n,r,i,o),sy:eu(s,a,u,l)}},maxRectUniformScaleToFit:function(e,t){var n=this.maxRectScaleToFit(e,t);return eu(n.sx,n.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return this.width<0&&(e=this.x+this.width,n=-this.width),this.height<0&&(t=this.y+this.height,r=-this.height),this.x=e,this.y=t,this.width=n,this.height=r,this},offset:function(e,t){return k.prototype.offset.call(this,e,t)},origin:function(){return new k(this.x,this.y)},pointNearestToPoint:function(e){if(e=new k(e),this.containsPoint(e)){var t=this.sideNearestToPoint(e);switch(t){case"right":return new k(this.x+this.width,e.y);case"left":return new k(this.x,e.y);case"bottom":return new k(e.x,this.y+this.height);case"top":return new k(e.x,this.y)}}return e.adhereToRect(this)},rightLine:function(){return new ge(this.topRight(),this.bottomRight())},rightMiddle:function(){return new k(this.x+this.width,this.y+this.height/2)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=KS(10,e);break}return this.x=wl(this.x*t)/t,this.y=wl(this.y*t)/t,this.width=wl(this.width*t)/t,this.height=wl(this.height*t)/t,this},scale:function(e,t,n){return n=this.origin().scale(e,t,n),this.x=n.x,this.y=n.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){e=new k(e);var t=e.x-this.x,n=this.x+this.width-e.x,r=e.y-this.y,i=this.y+this.height-e.y,o=t,s="left";return n<o&&(o=n,s="right"),r<o&&(o=r,s="top"),i<o&&(s="bottom"),s},snapToGrid:function(e,t){var n=this.origin().snapToGrid(e,t),r=this.corner().snapToGrid(e,t);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new ge(this.topLeft(),this.topRight())},topMiddle:function(){return new k(this.x+this.width/2,this.y)},topRight:function(){return new k(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return fe.fromRectUnion(this,e)},update:function(e,t,n,r){return Object(e)===e&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=n||0,this.height=r||0,this}};fe.prototype.bottomRight=fe.prototype.corner;fe.prototype.topLeft=fe.prototype.origin;fe.prototype.translate=fe.prototype.offset;var eP=fe;function bl(e){let t=e.trim();if(t==="")return[];let n=[],r=t.split(/\b\s*,\s*|,\s*|\s+/),i=r.length;for(let o=0;o<i;o+=2)n.push({x:+r[o],y:+r[o+1]});return n}function xl(e){let t=e.length;if(t===0)return[];let n=[];for(let r=0;r<t;r++){let i=e[r].clone();n.push(i)}return n}function Dl(e){let{abs:t}=Math;var n,r,i=e.length;if(i===0)return[];var o;for(n=0;n<i;n++)(o===void 0||e[n].y<o.y||e[n].y===o.y&&e[n].x>o.x)&&(o=e[n]);var s=[];for(n=0;n<i;n++){var a=o.theta(e[n]);a===0&&(a=360);var u=[e[n],n,a];s.push(u)}if(s.sort(function(W,ae){var de=W[2]-ae[2];return de===0&&(de=ae[1]-W[1]),de}),s.length>2){var l=s[s.length-1];s.unshift(l)}for(var h={},f=[],y,I,b,D,E,P;s.length!==0;)if(y=s.pop(),I=y[0],!h.hasOwnProperty(y[0]+"@@"+y[1]))for(var z=!1;!z;)if(f.length<2)f.push(y),z=!0;else{b=f.pop(),D=b[0],E=f.pop(),P=E[0];var H=P.cross(D,I);if(H<0)f.push(E),f.push(b),f.push(y),z=!0;else if(H===0){var X=1e-10,ne=D.angleBetween(P,I);t(ne-180)<X||D.equals(I)||P.equals(D)?(h[b[0]+"@@"+b[1]]=D,f.push(E)):t((ne+1)%360-1)<X&&(f.push(E),s.push(b))}else h[b[0]+"@@"+b[1]]=D,f.push(E)}f.length>2&&f.pop();var p,v=-1;for(r=f.length,n=0;n<r;n++){var x=f[n][1];(p===void 0||x<p)&&(p=x,v=n)}var N=[];if(v>0){var S=f.slice(v),j=f.slice(0,v);N=S.concat(j)}else N=f;var B=[];for(r=N.length,n=0;n<r;n++)B.push(N[n][0]);return B}var et=function(e){if(!(this instanceof et))return new et(e);if(typeof e=="string")return new et.parse(e);this.points=Array.isArray(e)?e.map(k):[]};et.parse=function(e){return new et(bl(e))};et.fromRect=function(e){return new et([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft(),e.topLeft()])};et.prototype={type:Oe.Polyline,bbox:function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=this.points,o=i.length;if(o===0)return null;for(var s=0;s<o;s++){var a=i[s],u=a.x,l=a.y;u<e&&(e=u),u>t&&(t=u),l<n&&(n=l),l>r&&(r=l)}return new fe(e,n,t-e,r-n)},clone:function(){return new et(xl(this.points))},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t=this.lengthPoints(),n=t.length;if(n===0||n===1)return 0;for(var r,i=1/0,o=0,s=n-1,a=0;a<s;a++){var u=new ge(t[a],t[a+1]),l=u.length(),h=u.closestPointNormalizedLength(e),f=u.pointAt(h),y=f.squaredDistance(e);y<i&&(i=y,r=o+h*l),o+=l}return r},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(t===0)return 0;var n=this.length();return n===0?0:t/n},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,n=t.length;if(n===0)return!1;for(var r=e.x,i=e.y,o=n-1,s=0,a=0,u=new ge,l=new ge,h=new k;s<n;s++){var f=t[o],y=t[s];if(e.equals(f)||(u.start=f,u.end=y,u.containsPoint(e)))return!0;if(i<=f.y&&i>y.y||i>f.y&&i<=y.y){var I=f.x-r>y.x-r?f.x-r:y.x-r;I>=0&&(h.x=r+I,h.y=i,l.start=e,l.end=h,u.intersect(l)&&a++)}o=s}return a%2===1},close:function(){let{start:e,end:t,points:n}=this;return e&&t&&!e.equals(t)&&n.push(e.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new et(Dl(this.points))},equals:function(e){if(!e)return!1;var t=this.points,n=e.points,r=t.length;if(n.length!==r)return!1;for(var i=0;i<r;i++){var o=t[i],s=e.points[i];if(!o.equals(s))return!1}return!0},intersectionWithLine:function(e){for(var t=new ge(e),n=[],r=this.lengthPoints(),i=new ge,o=0,s=r.length-1;o<s;o++){i.start=r[o],i.end=r[o+1];var a=t.intersectionWithLine(i);a&&n.push(a[0])}return n.length>0?n:null},isDifferentiable:function(){var e=this.points,t=e.length;if(t===0)return!1;for(var n=new ge,r=t-1,i=0;i<r;i++)if(n.start=e[i],n.end=e[i+1],n.isDifferentiable())return!0;return!1},length:function(){var e=this.lengthPoints(),t=e.length;if(t===0)return 0;for(var n=0,r=t-1,i=0;i<r;i++)n+=e[i].distance(e[i+1]);return n},pointAt:function(e){var t=this.lengthPoints(),n=t.length;if(n===0)return null;if(n===1||e<=0)return t[0].clone();if(e>=1)return t[n-1].clone();var r=this.length(),i=r*e;return this.pointAtLength(i)},pointAtLength:function(e){var t=this.lengthPoints(),n=t.length;if(n===0)return null;if(n===1)return t[0].clone();var r=!0;e<0&&(r=!1,e=-e);for(var i=0,o=n-1,s=0;s<o;s++){var a=r?s:o-1-s,u=t[a],l=t[a+1],h=new ge(u,l),f=u.distance(l);if(e<=i+f)return h.pointAtLength((r?1:-1)*(e-i));i+=f}var y=r?t[n-1]:t[0];return y.clone()},round:function(e){for(var t=this.points,n=t.length,r=0;r<n;r++)t[r].round(e);return this},scale:function(e,t,n){for(var r=this.points,i=r.length,o=0;o<i;o++)r[o].scale(e,t,n);return this},simplify:function(e={}){let t=this.points;if(t.length<3)return this;let n=e.threshold||1e-10,r=0;for(;t[r+2];){let i=r,o=r+1,s=r+2,a=t[i],u=t[o],l=t[s];new ge(a,l).closestPoint(u).distance(u)<=n?t.splice(o,1):r+=1}return this},tangentAt:function(e){var t=this.lengthPoints(),n=t.length;if(n===0||n===1)return null;e<0&&(e=0),e>1&&(e=1);var r=this.length(),i=r*e;return this.tangentAtLength(i)},tangentAtLength:function(e){var t=this.lengthPoints(),n=t.length;if(n===0||n===1)return null;var r=!0;e<0&&(r=!1,e=-e);for(var i,o=0,s=n-1,a=0;a<s;a++){var u=r?a:s-1-a,l=t[u],h=t[u+1],f=new ge(l,h),y=l.distance(h);if(f.isDifferentiable()){if(e<=o+y)return f.tangentAtLength((r?1:-1)*(e-o));i=f}o+=y}if(i){var I=r?1:0;return i.tangentAt(I)}return null},toString:function(){return this.points+""},translate:function(e,t){for(var n=this.points,r=n.length,i=0;i<r;i++)n[i].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(t===0)return"";for(var n="",r=0;r<t;r++){var i=e[r];n+=i.x+","+i.y+" "}return n.trim()}};Object.defineProperty(et.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[0]}});Object.defineProperty(et.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[t-1]}});var{abs:Ml,sqrt:tP,min:mA,max:vA,pow:Zg}=Math,tt=function(e,t,n,r){if(!(this instanceof tt))return new tt(e,t,n,r);if(e instanceof tt)return new tt(e.start,e.controlPoint1,e.controlPoint2,e.end);this.start=new k(e),this.controlPoint1=new k(t),this.controlPoint2=new k(n),this.end=new k(r)};tt.throughPoints=function(){function e(n){var r=[],i=[],o=n.length-1,s;if(o==1)return r[0]=new k((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),i[0]=new k(2*r[0].x-n[0].x,2*r[0].y-n[0].y),[r,i];var a=[];for(s=1;s<o-1;s++)a[s]=4*n[s].x+2*n[s+1].x;a[0]=n[0].x+2*n[1].x,a[o-1]=(8*n[o-1].x+n[o].x)/2;var u=t(a);for(s=1;s<o-1;++s)a[s]=4*n[s].y+2*n[s+1].y;a[0]=n[0].y+2*n[1].y,a[o-1]=(8*n[o-1].y+n[o].y)/2;var l=t(a);for(s=0;s<o;s++)r.push(new k(u[s],l[s])),s<o-1?i.push(new k(2*n[s+1].x-u[s+1],2*n[s+1].y-l[s+1])):i.push(new k((n[o].x+u[o-1])/2,(n[o].y+l[o-1])/2));return[r,i]}function t(n){var r=n.length,i=[],o=[],s=2;i[0]=n[0]/s;for(var a=1;a<r;a++)o[a]=1/s,s=(a<r-1?4:3.5)-o[a],i[a]=(n[a]-i[a-1])/s;for(a=1;a<r;a++)i[r-a-1]-=o[r-a]*i[r-a];return i}return function(n){if(!n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var r=e(n),i=[],o=r[0].length,s=0;s<o;s++){var a=new k(r[0][s].x,r[0][s].y),u=new k(r[1][s].x,r[1][s].y);i.push(new tt(n[s],a,u,n[s+1]))}return i}}();tt.prototype={type:Oe.Curve,bbox:function(){for(var e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end,i=e.x,o=e.y,s=t.x,a=t.y,u=n.x,l=n.y,h=r.x,f=r.y,y=new Array,I=new Array,b=[new Array,new Array],D,E,P,z,H,X,ne,p,v=0;v<2;++v){if(v===0?(E=6*i-12*s+6*u,D=-3*i+9*s-9*u+3*h,P=3*s-3*i):(E=6*o-12*a+6*l,D=-3*o+9*a-9*l+3*f,P=3*a-3*o),Ml(D)<1e-12){if(Ml(E)<1e-12)continue;z=-P/E,0<z&&z<1&&I.push(z);continue}ne=E*E-4*P*D,p=tP(ne),!(ne<0)&&(H=(-E+p)/(2*D),0<H&&H<1&&I.push(H),X=(-E-p)/(2*D),0<X&&X<1&&I.push(X))}for(var x=I.length,N=x,S,j,B;x--;)z=I[x],S=1-z,j=S*S*S*i+3*S*S*z*s+3*S*z*z*u+z*z*z*h,b[0][x]=j,B=S*S*S*o+3*S*S*z*a+3*S*z*z*l+z*z*z*f,b[1][x]=B,y[x]={X:j,Y:B};I[N]=0,I[N+1]=1,y[N]={X:i,Y:o},y[N+1]={X:h,Y:f},b[0][N]=i,b[1][N]=o,b[0][N+1]=h,b[1][N+1]=f,I.length=N+2,b[0].length=N+2,b[1].length=N+2,y.length=N+2;var W=mA.apply(null,b[0]),ae=mA.apply(null,b[1]),de=vA.apply(null,b[0]),G=vA.apply(null,b[1]);return new fe(W,ae,de-W,G-ae)},clone:function(){return new tt(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,i={precision:n,subdivisions:r};return this.lengthAtT(this.closestPointT(e,i),i)},closestPointNormalizedLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,i={precision:n,subdivisions:r},o=this.closestPointLength(e,i);if(!o)return 0;var s=this.length(i);return s===0?0:o/s},closestPointT:function(e,t){t=t||{};for(var n=t.precision===void 0?this.PRECISION:t.precision,r=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,i,o,s,a,u,l,h,f=r.length,y=f?1/f:0,I=0;I<f;I++){var b=r[I],D=b.start.distance(e),E=b.end.distance(e),P=D+E;(!h||P<h)&&(i=b,o=I*y,s=(I+1)*y,a=D,u=E,l=b.start.distance(b.end),h=P)}for(var z=Zg(10,-n);;){var H=a?Ml(a-u)/a:0,X=u?Ml(a-u)/u:0,ne=H<z||X<z,p=a?a<l*z:!0,v=u?u<l*z:!0,x=p||v;if(ne||x)return a<=u?o:s;var N=i.divide(.5);y/=2;var S=N[0].start.distance(e),j=N[0].end.distance(e),B=S+j,W=N[1].start.distance(e),ae=N[1].end.distance(e),de=W+ae;B<=de?(i=N[0],s-=y,a=S,u=j):(i=N[1],o+=y,a=W,u=ae)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){var n=this.toPolyline(t);return n.containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var n=this.tAt(e,t);return this.divideAtT(n)},divideAtLength:function(e,t){var n=this.tAtLength(e,t);return this.divideAtT(n)},divideAtT:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return[new tt(t,t,t,t),new tt(t,n,r,i)];if(e>=1)return[new tt(t,n,r,i),new tt(i,i,i,i)];var o=this.getSkeletonPoints(e),s=o.startControlPoint1,a=o.startControlPoint2,u=o.divider,l=o.dividerControlPoint1,h=o.dividerControlPoint2;return[new tt(t,s,a,u),new tt(u,l,h,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(e>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var o=new ge(t,n).pointAt(e),s=new ge(n,r).pointAt(e),a=new ge(r,i).pointAt(e),u=new ge(o,s).pointAt(e),l=new ge(s,a).pointAt(e),h=new ge(u,l).pointAt(e),f={startControlPoint1:o,startControlPoint2:u,divider:h,dividerControlPoint1:l,dividerControlPoint2:a};return f},getSubdivisions:function(e){e=e||{};var t=e.precision===void 0?this.PRECISION:e.precision,n=this.start,r=this.controlPoint1,i=this.controlPoint2,o=this.end,s=[new tt(n,r,i,o)];if(t===0)return s;var a=!this.isDifferentiable();if(a)return s;var u=this.endpointDistance(),l=Zg(10,-t),h=2,f=r.cross(n,o)===0&&i.cross(n,o)===0;f&&(h=2*t);for(var y=0;;){y+=1;for(var I=[],b=s.length,D=0;D<b;D++){var E=s[D],P=E.divide(.5);I.push(P[0],P[1])}for(var z=0,H=I.length,X=0;X<H;X++){var ne=I[X];z+=ne.endpointDistance()}if(y>=h){var p=z!==0?(z-u)/z:0;if(p<l)return I}s=I,u=z}},isDifferentiable:function(){var e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(e.equals(t)&&t.equals(n)&&n.equals(r))},length:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,n=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,r=0,i=n.length,o=0;o<i;o++){var s=n[o];r+=s.endpointDistance()}return r},lengthAtT:function(e,t){if(e<=0)return 0;t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=this.divide(e)[0],i=r.length({precision:n});return i},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var n=this.tAt(e,t);return this.pointAtT(n)},pointAtLength:function(e,t){var n=this.tAtLength(e,t);return this.pointAtT(n)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var n=this.tAt(e,t);return this.tangentAtT(n)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var n=this.tAtLength(e,t);return this.tangentAtT(n)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),n=t.startControlPoint2,r=t.dividerControlPoint1,i=t.divider,o=new ge(n,r);return o.translate(i.x-n.x,i.y-n.y),o},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,i={precision:n,subdivisions:r},o=this.length(i),s=o*e;return this.tAtLength(s,i)},tAtLength:function(e,t){var n=!0;e<0&&(n=!1,e=-e),t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,o={precision:r,subdivisions:i},s,a,u,l,h,f=0,y=i.length,I=1/y,b=0;b<y;b++){var D=n?b:y-1-b,E=i[b],P=E.endpointDistance();if(e<=f+P){s=E,a=D*I,u=(D+1)*I,l=n?e-f:P+f-e,h=n?P+f-e:e-f;break}f+=P}if(!s)return n?1:0;for(var z=this.length(o),H=Zg(10,-r);;){var X;if(X=z!==0?l/z:0,X<H)return a;if(X=z!==0?h/z:0,X<H)return u;var ne,p,v=s.divide(.5);I/=2;var x=v[0].endpointDistance(),N=v[1].endpointDistance();l<=x?(s=v[0],u-=I,ne=l,p=x-ne):(s=v[1],a+=I,ne=l-x,p=N-ne),l=ne,h=p}},toPoints:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,n=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,r=[n[0].start.clone()],i=n.length,o=0;o<i;o++){var s=n[o];r.push(s.end.clone())}return r},toPolyline:function(e){return new et(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};tt.prototype.divide=tt.prototype.divideAtT;function co(e){var t,n,r=[];for(n=arguments.length,t=1;t<n;t++)r.push(arguments[t]);if(!e)throw new Error("Missing a parent object.");var i=Object.create(e);for(n=r.length,t=0;t<n;t++){var o=r[t],s,a;for(a in o)o.hasOwnProperty(a)&&(delete i[a],s=Object.getOwnPropertyDescriptor(o,a),Object.defineProperty(i,a,s))}return i}var Ce=function(e){if(!(this instanceof Ce))return new Ce(e);if(typeof e=="string")return new Ce.parse(e);this.segments=[];var t,n;if(e)if(Array.isArray(e)&&e.length!==0)if(e=e.reduce(function(a,u){return a.concat(u)},[]),n=e.length,e[0].isSegment)for(t=0;t<n;t++){var r=e[t];this.appendSegment(r)}else{var i=null;for(t=0;t<n;t++){var o=e[t];if(!(o instanceof ge||o instanceof tt))throw new Error("Cannot construct a path segment from the provided object.");t===0&&this.appendSegment(Ce.createSegment("M",o.start)),i&&!i.end.equals(o.start)&&this.appendSegment(Ce.createSegment("M",o.start)),o instanceof ge?this.appendSegment(Ce.createSegment("L",o.end)):o instanceof tt&&this.appendSegment(Ce.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),i=o}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof ge)this.appendSegment(Ce.createSegment("M",e.start)),this.appendSegment(Ce.createSegment("L",e.end));else if(e instanceof tt)this.appendSegment(Ce.createSegment("M",e.start)),this.appendSegment(Ce.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else if(e instanceof et){if(!(e.points&&e.points.length!==0))return;for(n=e.points.length,t=0;t<n;t++){var s=e.points[t];t===0?this.appendSegment(Ce.createSegment("M",s)):this.appendSegment(Ce.createSegment("L",s))}}else throw new Error("Cannot construct a path from the provided object.")};Ce.parse=function(e){if(!e)return new Ce;for(var t=new Ce,n=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,r=e.match(n),i=r.length,o=0;o<i;o++){var s=r[o],a=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,u=s.match(a),l=Ce.createSegment.apply(this,u);t.appendSegment(l)}return t};Ce.createSegment=function(e){if(!e)throw new Error("Type must be provided.");var t=Ce.segmentTypes[e];if(!t)throw new Error(e+" is not a recognized path segment type.");for(var n=[],r=arguments.length,i=1;i<r;i++)n.push(arguments[i]);return Yr(t,n)};Ce.prototype={type:Oe.Path,appendSegment:function(e){var t=this.segments,n=t.length,r,i=n!==0?t[n-1]:null,o=null;if(Array.isArray(e)){if(e=e.reduce(function(l,h){return l.concat(h)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var s=e.length,a=0;a<s;a++){var u=e[a];r=this.prepareSegment(u,i,o),t.push(r),i=r}}else{if(!e||!e.isSegment)throw new Error("Segment required.");r=this.prepareSegment(e,i,o),t.push(r)}},bbox:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var n,r=0;r<t;r++){var i=e[r];if(i.isVisible){var o=i.bbox();n=n?n.union(o):o}}if(n)return n;var s=e[t-1];return new fe(s.end.x,s.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,n=new Ce,r=0;r<t;r++){var i=e[r].clone();n.appendSegment(i)}return n},closestPoint:function(e,t){var n=this.closestPointT(e,t);return n?this.pointAtT(n):null},closestPointLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions,i={precision:n,segmentSubdivisions:r},o=this.closestPointT(e,i);return o?this.lengthAtT(o,i):0},closestPointNormalizedLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions,i={precision:n,segmentSubdivisions:r},o=this.closestPointLength(e,i);if(o===0)return 0;var s=this.length(i);return s===0?0:o/s},closestPointT:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a=1/0,u=0;u<r;u++){var l=n[u],h=o[u];if(l.isVisible){var f=l.closestPointT(e,{precision:i,subdivisions:h}),y=l.pointAtT(f),I=new ge(y,e).squaredLength();I<a&&(s={segmentIndex:u,value:f},a=I)}}return s||{segmentIndex:r-1,value:1}},closestPointTangent:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a=1/0,u=0;u<r;u++){var l=n[u],h=o[u];if(l.isDifferentiable()){var f=l.closestPointT(e,{precision:i,subdivisions:h}),y=l.pointAtT(f),I=new ge(y,e).squaredLength();I<a&&(s=l.tangentAtT(f),a=I)}}return s||null},containsPoint:function(e,t){var n=this.toPolylines(t);if(!n)return!1;for(var r=n.length,i=0,o=0;o<r;o++){var s=n[o];s.containsPoint(e)&&i++}return i%2===1},divideAt:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),u=a*e;return this.divideAtLength(u,s)},divideAtLength:function(e,t){var n=this.segments.length;if(n===0)return null;var r=!0;e<0&&(r=!1,e=-e),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a,u=0,l,h,f,y,I;for(s=0;s<n;s++){var b=r?s:n-1-s;a=this.getSegment(b);var D=o[b],E=a.length({precision:i,subdivisions:D});if(a.isDifferentiable()&&(f=a,y=b,e<=u+E)){h=b,l=a.divideAtLength((r?1:-1)*(e-u),{precision:i,subdivisions:D});break}u+=E}if(!f)return null;l||(h=y,I=r?1:0,l=f.divideAtT(I));var P=this.clone();P.replaceSegment(h,l);var z=h,H=h+1,X=h+2;l[0].isDifferentiable()||(P.removeSegment(z),H-=1,X-=1);var ne=P.getSegment(H).start;P.insertSegment(H,Ce.createSegment("M",ne)),X+=1,l[1].isDifferentiable()||(P.removeSegment(X-1),X-=1);var p=X-z-1;for(s=X;s<P.segments.length;s++){var v=this.getSegment(s-p);if(a=P.getSegment(s),a.type==="Z"&&!v.subpathStartSegment.end.equals(a.subpathStartSegment.end)){var x=Ce.createSegment("L",v.end);P.replaceSegment(s,x)}}var N=new Ce(P.segments.slice(0,H)),S=new Ce(P.segments.slice(H));return[N,S]},equals:function(e){if(!e)return!1;var t=this.segments,n=e.segments,r=t.length;if(n.length!==r)return!1;for(var i=0;i<r;i++){var o=t[i],s=n[i];if(o.type!==s.type||!o.equals(s))return!1}return!0},getSegment:function(e){var t=this.segments,n=t.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){var t=this.segments,n=t.length;e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,i=[],o=0;o<n;o++){var s=t[o],a=s.getSubdivisions({precision:r});i.push(a)}return i},getSubpaths:function(){let t=this.clone().validate().segments,n=t.length,r=[];for(let i=0;i<n;i++){let o=t[i];o.isSubpathStart?r.push(new Ce(o)):r[r.length-1].appendSegment(o)}return r},insertSegment:function(e,t){var n=this.segments,r=n.length;if(e<0&&(e=r+e+1),e>r||e<0)throw new Error("Index out of range.");var i,o=null,s=null;if(r!==0&&(e>=1?(o=n[e-1],s=o.nextSegment):s=n[0]),Array.isArray(t)){if(t=t.reduce(function(h,f){return h.concat(f)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var a=t.length,u=0;u<a;u++){var l=t[u];i=this.prepareSegment(l,o,s),n.splice(e+u,0,i),o=i}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,o,s),n.splice(e,0,i)}},intersectionWithLine:function(e,t){var n=null,r=this.toPolylines(t);if(!r)return null;for(var i=0,o=r.length;i<o;i++){var s=r[i],a=e.intersect(s);a&&(n||(n=[]),Array.isArray(a)?Array.prototype.push.apply(n,a):n.push(a))}return n},isDifferentiable:function(){for(var e=this.segments,t=e.length,n=0;n<t;n++){var r=e[n];if(r.isDifferentiable())return!0}return!1},isValid:function(){var e=this.segments,t=e.length===0||e[0].type==="M";return t},length:function(e){var t=this.segments,n=t.length;if(n===0)return 0;e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,o=0,s=0;s<n;s++){var a=t[s],u=i[s];o+=a.length({subdivisions:u})}return o},lengthAtT:function(e,t){var n=this.segments,r=n.length;if(r===0)return 0;var i=e.segmentIndex;if(i<0)return 0;var o=e.value;i>=r?(i=r-1,o=1):o<0?o=0:o>1&&(o=1),t=t||{};for(var s=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,u,l=0,h=0;h<i;h++){var f=n[h];u=a[h],l+=f.length({precisison:s,subdivisions:u})}return f=n[i],u=a[i],l+=f.lengthAtT(o,{precisison:s,subdivisions:u}),l},pointAt:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),u=a*e;return this.pointAtLength(u,s)},pointAtLength:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;if(e===0)return this.start.clone();var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a,u=0,l=0;l<r;l++){var h=i?l:r-1-l,f=n[h],y=s[h],I=f.length({precision:o,subdivisions:y});if(f.isVisible){if(e<=u+I)return f.pointAtLength((i?1:-1)*(e-u),{precision:o,subdivisions:y});a=f}u+=I}if(a)return i?a.end:a.start;var b=n[r-1];return b.end.clone()},pointAtT:function(e){var t=this.segments,n=t.length;if(n===0)return null;var r=e.segmentIndex;if(r<0)return t[0].pointAtT(0);if(r>=n)return t[n-1].pointAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[r].pointAtT(i)},PRECISION:3,prepareSegment:function(e,t,n){e.previousSegment=t,e.nextSegment=n,t&&(t.nextSegment=e),n&&(n.previousSegment=e);var r=e;return e.isSubpathStart&&(e.subpathStartSegment=e,r=n),r&&this.updateSubpathStartSegment(r),e},removeSegment:function(e){var t=this.segments,n=t.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var r=t.splice(e,1)[0],i=r.previousSegment,o=r.nextSegment;i&&(i.nextSegment=o),o&&(o.previousSegment=i),r.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(e,t){var n=this.segments,r=n.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");var i,o=n[e],s=o.previousSegment,a=o.nextSegment,u=o.isSubpathStart;if(Array.isArray(t)){if(t=t.reduce(function(y,I){return y.concat(I)},[]),!t[0].isSegment)throw new Error("Segments required.");n.splice(e,1);for(var l=t.length,h=0;h<l;h++){var f=t[h];i=this.prepareSegment(f,s,a),n.splice(e+h,0,i),s=i,u&&i.isSubpathStart&&(u=!1)}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,s,a),n.splice(e,1,i),u&&i.isSubpathStart&&(u=!1)}u&&a&&this.updateSubpathStartSegment(a)},round:function(e){for(var t=this.segments,n=t.length,r=0;r<n;r++){var i=t[r];i.round(e)}return this},scale:function(e,t,n){for(var r=this.segments,i=r.length,o=0;o<i;o++){var s=r[o];s.scale(e,t,n)}return this},segmentAt:function(e,t){var n=this.segmentIndexAt(e,t);return n?this.getSegment(n):null},segmentAtLength:function(e,t){var n=this.segmentIndexAtLength(e,t);return n?this.getSegment(n):null},segmentIndexAt:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),u=a*e;return this.segmentIndexAtLength(u,s)},segmentIndexAtLength:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a=null,u=0,l=0;l<r;l++){var h=i?l:r-1-l,f=n[h],y=s[h],I=f.length({precision:o,subdivisions:y});if(f.isVisible){if(e<=u+I)return h;a=h}u+=I}return a},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),u=a*e;return this.tangentAtLength(u,s)},tangentAtLength:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a,u=0,l=0;l<r;l++){var h=i?l:r-1-l,f=n[h],y=s[h],I=f.length({precision:o,subdivisions:y});if(f.isDifferentiable()){if(e<=u+I)return f.tangentAtLength((i?1:-1)*(e-u),{precision:o,subdivisions:y});a=f}u+=I}if(a){var b=i?1:0;return a.tangentAtT(b)}return null},tangentAtT:function(e){var t=this.segments,n=t.length;if(n===0)return null;var r=e.segmentIndex;if(r<0)return t[0].tangentAtT(0);if(r>=n)return t[n-1].tangentAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[r].tangentAtT(i)},toPoints:function(e){var t=this.segments,n=t.length;if(n===0)return null;e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,o=[],s=[],a=0;a<n;a++){var u=t[a];if(u.isVisible){var l=i[a];if(l.length>0){var h=l.map(function(f){return f.start});Array.prototype.push.apply(s,h)}else s.push(u.start)}else s.length>0&&(s.push(t[a-1].end),o.push(s),s=[])}return s.length>0&&(s.push(this.end),o.push(s)),o},toPolylines:function(e){var t=[],n=this.toPoints(e);if(!n)return null;for(var r=0,i=n.length;r<i;r++)t.push(new et(n[r]));return t},toString:function(){for(var e=this.segments,t=e.length,n="",r=0;r<t;r++){var i=e[r];n+=i.serialize()+" "}return n.trim()},translate:function(e,t){for(var n=this.segments,r=n.length,i=0;i<r;i++){var o=n[i];o.translate(e,t)}return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)t?e.subpathStartSegment=t.subpathStartSegment:e.subpathStartSegment=null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,Ce.createSegment("M",0,0)),this}};Object.defineProperty(Ce.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var n=0;n<t;n++){var r=e[n];if(r.isVisible)return r.start}return e[t-1].end}});Object.defineProperty(Ce.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var n=t-1;n>=0;n--){var r=e[n];if(r.isVisible)return r.end}return e[t-1].end}});function Yr(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}var fo={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(fo,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(fo,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(fo,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var dn=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof dn))return Yr(dn,e);if(t===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var r;if(e[0]instanceof ge){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new k(+e[0],+e[1]),this;if(t<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=2)i=e.slice(n,n+2),r.push(Yr(dn,i));return r}else{if(t===1)return this.end=new k(e[0]),this;var o;for(r=[],n=0;n<t;n+=1)o=e[n],r.push(new dn(o));return r}},yA={clone:function(){return new dn(this.end)},divideAt:function(e){var t=new ge(this.start,this.end),n=t.divideAt(e);return[new dn(n[0]),new dn(n[1])]},divideAtLength:function(e){var t=new ge(this.start,this.end),n=t.divideAtLength(e);return[new dn(n[0]),new dn(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(yA,"type",{configurable:!0,enumerable:!0,value:"L"});dn.prototype=co(fo,ge.prototype,yA);var tr=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof tr))return Yr(tr,e);if(t===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var r;if(e[0]instanceof tt){if(t===1)return this.controlPoint1=e[0].controlPoint1.clone(),this.controlPoint2=e[0].controlPoint2.clone(),this.end=e[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===6)return this.controlPoint1=new k(+e[0],+e[1]),this.controlPoint2=new k(+e[2],+e[3]),this.end=new k(+e[4],+e[5]),this;if(t<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=6)i=e.slice(n,n+6),r.push(Yr(tr,i));return r}else{if(t===3)return this.controlPoint1=new k(e[0]),this.controlPoint2=new k(e[1]),this.end=new k(e[2]),this;if(t<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" points provided).");var o;for(r=[],n=0;n<t;n+=3)o=e.slice(n,n+3),r.push(Yr(tr,o));return r}},IA={clone:function(){return new tr(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var n=new tt(this.start,this.controlPoint1,this.controlPoint2,this.end),r=n.divideAt(e,t);return[new tr(r[0]),new tr(r[1])]},divideAtLength:function(e,t){var n=new tt(this.start,this.controlPoint1,this.controlPoint2,this.end),r=n.divideAtLength(e,t);return[new tr(r[0]),new tr(r[1])]},divideAtT:function(e){var t=new tt(this.start,this.controlPoint1,this.controlPoint2,this.end),n=t.divideAtT(e);return[new tr(n[0]),new tr(n[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(e.equals(t)&&t.equals(n)&&n.equals(r))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,n=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(IA,"type",{configurable:!0,enumerable:!0,value:"C"});tr.prototype=co(fo,tt.prototype,IA);var lo=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof lo))return Yr(lo,e);if(t===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var r;if(e[0]instanceof ge){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(e[0]instanceof tt){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new k(+e[0],+e[1]),this;if(t<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=2)i=e.slice(n,n+2),n===0?r.push(Yr(lo,i)):r.push(Yr(dn,i));return r}else{if(t===1)return this.end=new k(e[0]),this;var o;for(r=[],n=0;n<t;n+=1)o=e[n],n===0?r.push(new lo(o)):r.push(new dn(o));return r}},Ug={bbox:function(){return null},clone:function(){return new lo(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(Ug,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(Ug,"type",{configurable:!0,enumerable:!0,value:"M"});lo.prototype=co(fo,Ug);var vs=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof vs))return Yr(vs,e);if(t>0)throw new Error("Closepath constructor expects no arguments.");return this},Hg={clone:function(){return new vs},divideAt:function(e){var t=new ge(this.start,this.end),n=t.divideAt(e);return[n[1].isDifferentiable()?new dn(n[0]):this.clone(),new dn(n[1])]},divideAtLength:function(e){var t=new ge(this.start,this.end),n=t.divideAtLength(e);return[n[1].isDifferentiable()?new dn(n[0]):this.clone(),new dn(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(Hg,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty(Hg,"type",{configurable:!0,enumerable:!0,value:"Z"});vs.prototype=co(fo,ge.prototype,Hg);var nP=Ce.segmentTypes={L:dn,C:tr,M:lo,Z:vs,z:vs};Ce.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(nP).join("")+",.]*$");Ce.isDataSupported=function(e){return typeof e!="string"?!1:this.regexSupportedData.test(e)};var rP={curveThroughPoints:function(e){return console.warn("deprecated"),new Ce(tt.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var t=[],n=[],r=e.length-1,i;if(r==1)return t[0]=new k((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),n[0]=new k(2*t[0].x-e[0].x,2*t[0].y-e[0].y),[t,n];var o=[];for(i=1;i<r-1;i++)o[i]=4*e[i].x+2*e[i+1].x;o[0]=e[0].x+2*e[1].x,o[r-1]=(8*e[r-1].x+e[r].x)/2;var s=this.getFirstControlPoints(o);for(i=1;i<r-1;++i)o[i]=4*e[i].y+2*e[i+1].y;o[0]=e[0].y+2*e[1].y,o[r-1]=(8*e[r-1].y+e[r].y)/2;var a=this.getFirstControlPoints(o);for(i=0;i<r;i++)t.push(new k(s[i],a[i])),i<r-1?n.push(new k(2*e[i+1].x-s[i+1],2*e[i+1].y-a[i+1])):n.push(new k((e[r].x+s[r-1])/2,(e[r].y+a[r-1])/2));return[t,n]},getCurveDivider:function(e,t,n,r){console.warn("deprecated");var i=new tt(e,t,n,r);return function(s){var a=i.divide(s);return[{p0:a[0].start,p1:a[0].controlPoint1,p2:a[0].controlPoint2,p3:a[0].end},{p0:a[1].start,p1:a[1].controlPoint1,p2:a[1].controlPoint2,p3:a[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,n=[],r=[],i=2;n[0]=e[0]/i;for(var o=1;o<t;o++)r[o]=1/i,i=(o<t-1?4:3.5)-r[o],n[o]=(e[o]-n[o-1])/i;for(o=1;o<t;o++)n[t-o-1]-=r[t-o]*n[t-o];return n},getInversionSolver:function(e,t,n,r){console.warn("deprecated");var i=new tt(e,t,n,r);return function(s){return i.closestPointT(s)}}};var Pn=function(e){if(!(this instanceof Pn))return new Pn(e);if(typeof e=="string")return new Pn.parse(e);this.points=Array.isArray(e)?e.map(k):[]};Pn.parse=function(e){return new Pn(bl(e))};Pn.fromRect=function(e){return new Pn([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft()])};Pn.prototype=co(et.prototype,{type:Oe.Polygon,clone:function(){return new Pn(xl(this.points))},convexHull:function(){return new Pn(Dl(this.points))},lengthPoints:function(){let{start:e,end:t,points:n}=this;return n.length<=1||e.equals(t)?n:[...n,e.clone()]}});var Qg={};Dt(Qg,{ellipseWithEllipse:()=>AA,ellipseWithLine:()=>Wg,exists:()=>CA,lineWithLine:()=>ho,pathWithEllipse:()=>SA,pathWithLine:()=>TA,pathWithPath:()=>OA,pathWithPolygon:()=>Sl,pathWithPolyline:()=>Jg,pathWithRect:()=>PA,polygonWithEllipse:()=>Tl,polygonWithLine:()=>$g,polygonWithPolygon:()=>EA,polygonWithPolyline:()=>NA,polygonWithRect:()=>MA,polylineWithEllipse:()=>Xg,polylineWithLine:()=>El,polylineWithPolyline:()=>DA,polylineWithRect:()=>xA,rectWithEllipse:()=>bA,rectWithLine:()=>wA,rectWithRect:()=>Yg});function CA(e,t,n,r){switch(e.type){case Oe.Line:{switch(t.type){case Oe.Line:return ho(e,t)}break}case Oe.Ellipse:{switch(t.type){case Oe.Line:return Wg(e,t);case Oe.Ellipse:return AA(e,t)}break}case Oe.Rect:{switch(t.type){case Oe.Line:return wA(e,t);case Oe.Ellipse:return bA(e,t);case Oe.Rect:return Yg(e,t)}break}case Oe.Polyline:{switch(t.type){case Oe.Line:return El(e,t);case Oe.Ellipse:return Xg(e,t);case Oe.Rect:return xA(e,t);case Oe.Polyline:return DA(e,t)}break}case Oe.Polygon:{switch(t.type){case Oe.Line:return $g(e,t);case Oe.Ellipse:return Tl(e,t);case Oe.Rect:return MA(e,t);case Oe.Polyline:return NA(e,t);case Oe.Polygon:return EA(e,t)}break}case Oe.Path:{switch(t.type){case Oe.Line:return TA(e,t,n);case Oe.Ellipse:return SA(e,t,n);case Oe.Rect:return PA(e,t,n);case Oe.Polyline:return Jg(e,t,n);case Oe.Polygon:return Sl(e,t,n);case Oe.Path:return OA(e,t,n,r)}break}}switch(t.type){case Oe.Ellipse:case Oe.Rect:case Oe.Polyline:case Oe.Polygon:case Oe.Path:return CA(t,e,r,n);default:throw Error(`The intersection for ${e} and ${t} could not be found.`)}}function ho(e,t){let n=e.start.x,r=e.start.y,i=e.end.x,o=e.end.y,s=t.start.x,a=t.start.y,u=t.end.x,l=t.end.y,h=i-n,f=o-r,y=u-s,I=l-a,b=n-s,D=r-a,E=h*I-y*f,P=(h*D-f*b)/E,z=(y*D-I*b)/E;return P>=0&&P<=1&&z>=0&&z<=1}function Wg(e,t){let n=e.a,r=e.b,i=e.x,o=e.y,s=t.start.x-i,a=t.end.x-i,u=t.start.y-o,l=t.end.y-o,h=n*n,f=r*r,y=a-s,I=l-u,b=y*y/h+I*I/f,D=2*s*y/h+2*u*I/f,E=s*s/h+u*u/f-1,P=D*D-4*b*E;if(P===0){let z=-D/2/b;return z>=0&&z<=1}else if(P>0){let z=Math.sqrt(P),H=(-D+z)/2/b,X=(-D-z)/2/b;return H>=0&&H<=1||X>=0&&X<=1}return!1}function AA(e,t){return iP(e,0,t,0)}function wA(e,t){let{start:n,end:r}=t,{x:i,y:o,width:s,height:a}=e;return n.x>i+s&&r.x>i+s||n.x<i&&r.x<i||n.y>o+a&&r.y>o+a||n.y<o&&r.y<o?!1:e.containsPoint(t.start)||e.containsPoint(t.end)?!0:ho(e.topLine(),t)||ho(e.rightLine(),t)||ho(e.bottomLine(),t)||ho(e.leftLine(),t)}function bA(e,t){return Yg(e,fe.fromEllipse(t))?Tl(Pn.fromRect(e),t):!1}function Yg(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function El(e,t){return LA(e,t,{interior:!1})}function Xg(e,t){return kA(e,t,{interior:!1})}function xA(e,t){return RA(e,t,{interior:!1})}function DA(e,t){return Pl(e,t,{interior:!1})}function $g(e,t){return LA(e,t,{interior:!0})}function Tl(e,t){return kA(e,t,{interior:!0})}function MA(e,t){return RA(e,t,{interior:!0})}function NA(e,t){return Pl(e,t,{interior:!0})}function EA(e,t){return qg(e,t,{interior:!0})}function TA(e,t,n){return e.getSubpaths().some(r=>{let[i]=r.toPolylines(n),{type:o}=r.getSegment(-1);return o==="Z"?$g(i,t):El(i,t)})}function SA(e,t,n){return e.getSubpaths().some(r=>{let[i]=r.toPolylines(n),{type:o}=r.getSegment(-1);return o==="Z"?Tl(i,t):Xg(i,t)})}function PA(e,t,n){return Sl(e,Pn.fromRect(t),n)}function Jg(e,t,n){return _A(e,t,n,{interior:!1})}function Sl(e,t,n){return _A(e,t,n,{interior:!0})}function OA(e,t,n,r){return e.getSubpaths().some(i=>{let[o]=i.toPolylines(n),{type:s}=i.getSegment(-1);return s==="Z"?Sl(t,o,r):Jg(t,o,r)})}function LA(e,t,n={}){let{interior:r=!1}=n,i;if(r){if(e.containsPoint(t.start))return!0;let{start:a,end:u,points:l}=e;i=u.equals(a)?l:[...l,a]}else i=e.points;let{length:o}=i,s=new ge;for(let a=0;a<o-1;a++)if(s.start=i[a],s.end=i[a+1],ho(t,s))return!0;return!1}function kA(e,t,n={}){let{start:r,end:i,points:o}=e;if(t.containsPoint(r))return!0;let s,{interior:a=!1}=n;if(a){if(e.containsPoint(t.center()))return!0;s=i.equals(r)?o:[...o,r]}else s=o;let{length:u}=s,l=new ge;for(let h=0;h<u-1;h++)if(l.start=s[h],l.end=s[h+1],Wg(t,l))return!0;return!1}function RA(e,t,n){let r=Pn.fromRect(t);return qg(e,r,n)}function _A(e,t,n,r){return e.getSubpaths().some(i=>{let[o]=i.toPolylines(n),{type:s}=i.getSegment(-1);return s==="Z"?qg(t,o,r):Pl(t,o,r)})}function Pl(e,t,n={}){let{interior:r=!1}=n,i;if(r){let{start:u}=t;if(e.containsPoint(u))return!0;i=e.clone().close()}else i=e;let o=t.points,{length:s}=o,a=new ge;for(let u=0;u<s-1;u++)if(a.start=o[u],a.end=o[u+1],El(i,a))return!0;return!1}function qg(e,t,n){return t.containsPoint(e.start)||Pl(e,t.clone().close(),n)}function iP(e,t,n,r){let{cos:i,sin:o}=Math,s=o(t),a=i(t),u=o(r),l=i(r),h=s*s,f=a*a,y=s*a,I=u*u,b=l*l,D=u*l,E=e.a*e.a,P=e.b*e.b,z=n.a*n.a,H=n.b*n.b,X=E*h+P*f,ne=z*I+H*b,p=E*f+P*h,v=z*b+H*I,x=2*(P-E)*y,N=2*(H-z)*D,S=-2*X*e.x-x*e.y,j=-2*ne*n.x-N*n.y,B=-x*e.x-2*p*e.y,W=-N*n.x-2*v*n.y,ae=X*e.x*e.x+p*e.y*e.y+x*e.x*e.y-E*P,de=ne*n.x*n.x+v*n.y*n.y+N*n.x*n.y-z*H;x=x/2,N=N/2,S=S/2,j=j/2,B=B/2,W=W/2;let G=Di([[X,x,S],[x,p,B],[S,B,ae]]),q=Di([[ne,N,j],[N,v,W],[j,W,de]]),J=.33333333*(Di([[ne,x,S],[N,p,B],[j,B,ae]])+Di([[X,N,S],[x,v,B],[S,W,ae]])+Di([[X,x,j],[x,p,W],[S,B,de]])),Q=.33333333*(Di([[X,N,j],[x,v,W],[S,W,de]])+Di([[ne,x,j],[N,p,W],[j,B,de]])+Di([[ne,N,S],[N,v,B],[j,W,ae]])),Ee=Nl([[G,J],[J,Q]]),De=Nl([[G,Q],[J,q]]),ut=Nl([[J,Q],[Q,q]]);return!(Nl([[2*Ee,De],[De,2*ut]])>0&&(Q>0||J>0))}function Nl(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}function Di(e){return e[0][0]*e[1][1]*e[2][2]-e[0][0]*e[1][2]*e[2][1]-e[0][1]*e[1][0]*e[2][2]+e[0][1]*e[1][2]*e[2][0]+e[0][2]*e[1][0]*e[2][1]-e[0][2]*e[1][1]*e[2][0]}var oP=Qg;var dt={};Dt(dt,{addClassNamePrefix:()=>rn,assign:()=>Ie,bindAll:()=>vx,breakText:()=>Zu,camelCase:()=>td,cancelFrame:()=>ta,cap:()=>fv,clone:()=>vn,cloneCells:()=>Hu,cloneDeep:()=>Wt,dataUriToBlob:()=>bx,debounce:()=>Qf,deepMixin:()=>gx,deepSupplement:()=>ov,defaults:()=>nn,defaultsDeep:()=>Bi,difference:()=>qs,downloadBlob:()=>wx,downloadDataUri:()=>uO,filter:()=>pv,flattenDeep:()=>ed,flattenObject:()=>Cx,forIn:()=>yn,format:()=>dO,getByPath:()=>Jr,getElementBBox:()=>lO,getRectPoint:()=>ia,groupBy:()=>Kf,guid:()=>pi,has:()=>Dn,hashCode:()=>Qs,imageToDataUri:()=>cO,interpolate:()=>Uu,intersection:()=>px,invoke:()=>mn,invokeProperty:()=>sv,isBoolean:()=>qf,isEmpty:()=>xn,isEqual:()=>Sr,isFunction:()=>We,isNumber:()=>$t,isObject:()=>je,isPercentage:()=>Nt,isPlainObject:()=>ft,isString:()=>_t,merge:()=>xt,mixin:()=>rv,nextFrame:()=>ea,noop:()=>gO,normalizeEvent:()=>qe,normalizeSides:()=>Mn,normalizeWheel:()=>lv,omit:()=>Rn,parseCssNumeric:()=>Ax,parseDOMJSON:()=>zi,pick:()=>mx,removeClassNamePrefix:()=>av,result:()=>ht,sanitizeHTML:()=>dv,setAttributesBySelector:()=>fO,setByPath:()=>Ks,shapePerimeterConnectionPoint:()=>sO,sortBy:()=>Js,sortElements:()=>hv,sortedIndex:()=>$s,supplement:()=>iv,svg:()=>yO,template:()=>In,timing:()=>gv,toArray:()=>Se,toKebabCase:()=>cv,toggleFullScreen:()=>hO,union:()=>Po,uniq:()=>$n,uniqueId:()=>nd,unsetByPath:()=>rd,uuid:()=>uv,without:()=>So,wrapWith:()=>yv,wrappers:()=>Xu});var vv=Cr(Ou(),1);var $r=Cr(hi(),1);var IP=function(){var e=typeof window=="object"&&!!window.SVGAngle;if(!e)return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},n="1.1",r=Math,i=r.PI,o=r.atan2,s=r.sqrt,a=r.min,u=r.max,l=r.cos,h=r.sin,f=function(v,x,N){if(!(this instanceof f))return f.apply(Object.create(f.prototype),arguments);if(v){if(f.isV(v)&&(v=v.node),x=x||{},f.isString(v)){if(v=v.trim(),v.toLowerCase()==="svg")v=f.createSvgDocument();else if(v[0]==="<"){var S=f.createSvgDocument(v);if(S.childNodes.length>1){var j=[],B,W;for(B=0,W=S.childNodes.length;B<W;B++){var ae=S.childNodes[B];j.push(new f(document.importNode(ae,!0)))}return j}v=document.importNode(S.firstChild,!0)}else v=document.createElementNS(t.svg,v);f.ensureId(v)}return this.node=v,this.setAttributes(x),N&&this.append(N),this}},y=f.prototype;Object.defineProperty(y,"id",{enumerable:!0,get:function(){return this.node.id},set:function(v){this.node.id=v}}),y.getTransformToElement=function(v){var x=this.node;if(f.isSVGGraphicsElement(v)&&f.isSVGGraphicsElement(x)){var N=f.toNode(v).getScreenCTM(),S=x.getScreenCTM();if(N&&S)return N.inverse().multiply(S)}return f.createSVGMatrix()},y.transform=function(v,x){var N=this.node;if(f.isUndefined(v))return f.transformStringToMatrix(this.attr("transform"));if(x&&x.absolute)return this.attr("transform",f.matrixToTransformString(v));var S=f.createSVGTransform(v);return N.transform.baseVal.appendItem(S),this},y.translate=function(v,x,N){N=N||{},x=x||0;var S=this.attr("transform")||"",j=f.parseTransformString(S);if(S=j.value,f.isUndefined(v))return j.translate;S=S.replace(/translate\([^)]*\)/g,"").trim();var B=N.absolute?v:j.translate.tx+v,W=N.absolute?x:j.translate.ty+x,ae="translate("+B+","+W+")";return this.attr("transform",(ae+" "+S).trim()),this},y.rotate=function(v,x,N,S){S=S||{};var j=this.attr("transform")||"",B=f.parseTransformString(j);if(j=B.value,f.isUndefined(v))return B.rotate;j=j.replace(/rotate\([^)]*\)/g,"").trim(),v%=360;var W=S.absolute?v:B.rotate.angle+v,ae=x!==void 0&&N!==void 0?","+x+","+N:"",de="rotate("+W+ae+")";return this.attr("transform",(j+" "+de).trim()),this},y.scale=function(v,x){x=f.isUndefined(x)?v:x;var N=this.attr("transform")||"",S=f.parseTransformString(N);if(N=S.value,f.isUndefined(v))return S.scale;N=N.replace(/scale\([^)]*\)/g,"").trim();var j="scale("+v+","+x+")";return this.attr("transform",(N+" "+j).trim()),this},y.bbox=function(v,x){var N,S=this.node,j=S.ownerSVGElement;if(!j)return new fe(0,0,0,0);try{N=S.getBBox()}catch{N={x:S.clientLeft,y:S.clientTop,width:S.clientWidth,height:S.clientHeight}}if(v)return new fe(N);var B=this.getTransformToElement(x||j);return f.transformRect(N,B)},y.getBBox=function(v){var x={},N,S=this.node,j=S.ownerSVGElement;if(!j||!f.isSVGGraphicsElement(S))return new fe(0,0,0,0);if(v&&(v.target&&(x.target=f.toNode(v.target)),v.recursive&&(x.recursive=v.recursive)),x.recursive){var W=this.children(),ae=W.length;if(ae===0)return this.getBBox({target:x.target,recursive:!1});x.target||(x.target=this);for(var de=0;de<ae;de++){var G=W[de],q;G.children().length===0?q=G.getBBox({target:x.target,recursive:!1}):q=G.getBBox({target:x.target,recursive:!0}),N?N=N.union(q):N=q}return N}else{try{N=S.getBBox()}catch{N={x:S.clientLeft,y:S.clientTop,width:S.clientWidth,height:S.clientHeight}}if(x.target){var B=this.getTransformToElement(x.target);return f.transformRect(N,B)}else return new fe(N)}};function I(v,x){v||(v={});var N=f("textPath"),S=v.d;if(S&&v["xlink:href"]===void 0){var j=f("path").attr("d",S).appendTo(x.defs());N.attr("xlink:href","#"+j.id)}return f.isObject(v)&&N.attr(v),N.node}function b(v,x,N){N||(N={});for(var S=N.includeAnnotationIndices,j=N.eol,B=N.lineHeight,W=N.baseSize,ae=0,de={},G=x.length-1,q=0;q<=G;q++){var J=x[q],Q=null;if(f.isObject(J)){var Ee=J.attrs,De=f("tspan",Ee),ut=De.node,Ct=J.t;j&&q===G&&(Ct+=j),ut.textContent=Ct;var be=Ee.class;be&&De.addClass(be),S&&De.attr("annotations",J.annotations),Q=parseFloat(Ee["font-size"]),isFinite(Q)||(Q=W),Q&&Q>ae&&(ae=Q)}else j&&q===G&&(J+=j),ut=document.createTextNode(J||" "),W&&W>ae&&(ae=W);v.appendChild(ut)}return ae&&(de.maxFontSize=ae),B?de.lineHeight=B:ae&&(de.lineHeight=ae*1.2),de}var D=/em$/;function E(v,x){var N=parseFloat(v);return D.test(v)?N*x:N}function P(v,x,N,S){if(!Array.isArray(x))return 0;var j=x.length;if(!j)return 0;for(var B=x[0],W=E(B.maxFontSize,N)||N,ae=0,de=E(S,N),G=1;G<j;G++){B=x[G];var q=E(B.lineHeight,N)||de;ae+=q}var J=E(B.maxFontSize,N)||N,Q;switch(v){case"middle":Q=W/2-.15*J-ae/2;break;case"bottom":Q=-(.25*J)-ae;break;default:case"top":Q=.8*W;break}return Q}y.text=function(v,x){if(v&&typeof v!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");v=f.sanitizeText(v),x||(x={});var N=x.displayEmpty,S=x.eol,j=x.textPath,B=x.textVerticalAnchor,W=B==="middle"||B==="bottom"||B==="top",ae=x.x;ae===void 0&&(ae=this.attr("x")||0);var de=x.includeAnnotationIndices,G=x.annotations;G&&!f.isArray(G)&&(G=[G]);var q=x.lineHeight,J=q==="auto",Q=J?"1.5em":q||"1em";this.empty(),this.attr({"xml:space":"preserve",display:v||N?null:"none"});var Ee=parseFloat(this.attr("font-size"));Ee||(Ee=16,(W||G)&&this.attr("font-size",Ee));var De=document,ut;j?(typeof j=="string"&&(j={d:j}),ut=I(j,this)):ut=De.createDocumentFragment();for(var Ct=0,be=v.split(`
`),Me=[],oe,ie=0,pe=be.length-1;ie<=pe;ie++){var _e=Q,Qe="v-line",Ne=De.createElementNS(t.svg,"tspan"),it=be[ie],A;if(it)if(G){var T=f.annotateString(it,G,{offset:-Ct,includeAnnotationIndices:de});A=b(Ne,T,{includeAnnotationIndices:de,eol:ie!==pe&&S,lineHeight:J?null:Q,baseSize:Ee});var L=A.lineHeight;L&&J&&ie!==0&&(_e=L),ie===0&&(oe=A.maxFontSize*.8)}else S&&ie!==pe&&(it+=S),Ne.textContent=it;else{Ne.textContent="-",Qe+=" v-empty-line";var F=Ne.style;if(F.fillOpacity=0,F.strokeOpacity=0,G){A={},T=f.findAnnotationsAtIndex(G,Ct);let se=Ee;for(let ye=T.length;ye>0;ye--){let Pe=T[ye-1].attrs;if(!Pe||!("font-size"in Pe))continue;let Ue=parseFloat(Pe["font-size"]);if(isFinite(Ue)){se=Ue;break}}J&&(ie>0?_e=se*1.2:oe=se*.8),Ne.setAttribute("font-size",se),A.maxFontSize=se}}A&&Me.push(A),ie>0&&Ne.setAttribute("dy",_e),(ie>0||j)&&Ne.setAttribute("x",ae),Ne.className.baseVal=Qe,ut.appendChild(Ne),Ct+=it.length+1}if(W)if(G)_e=P(B,Me,Ee,Q);else if(B==="top")_e="0.8em";else{var Z;switch(pe>0?(Z=parseFloat(Q)||1,Z*=pe,D.test(Q)||(Z/=Ee)):Z=0,B){case"middle":_e=.3-Z/2+"em";break;case"bottom":_e=-Z-.3+"em";break}}else B===0?_e="0em":B?_e=B:(_e=0,this.attr("y")===null&&this.attr("y",oe||"0.8em"));return ut.firstChild.setAttribute("dy",_e),this.append(ut),this},y.removeAttr=function(v){let x=ne[v],{ns:N,local:S}=f.qualifyAttr(x),j=this.node;return N?j.hasAttributeNS(N,S)&&j.removeAttributeNS(N,S):j.hasAttribute(x)&&j.removeAttribute(x),this},y.attr=function(v,x){if(f.isUndefined(v)){for(var N=this.node.attributes,S={},j=0;j<N.length;j++)S[N[j].name]=N[j].value;return S}if(f.isString(v)&&f.isUndefined(x))return this.node.getAttribute(ne[v]);if(typeof v=="object")for(var B in v)v.hasOwnProperty(B)&&this.setAttribute(B,v[B]);else this.setAttribute(v,x);return this},y.normalizePath=function(){var v=this.tagName();return v==="PATH"&&this.attr("d",f.normalizePathData(this.attr("d"))),this},y.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},y.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},y.setAttributes=function(v){for(var x in v)v.hasOwnProperty(x)&&this.setAttribute(x,v[x]);return this},y.append=function(v){f.isArray(v)||(v=[v]);for(var x=0,N=v.length;x<N;x++)this.node.appendChild(f.toNode(v[x]));return this},y.prepend=function(v){var x=this.node.firstChild;return x?f(x).before(v):this.append(v)},y.before=function(v){var x=this.node,N=x.parentNode;if(N){f.isArray(v)||(v=[v]);for(var S=0,j=v.length;S<j;S++)N.insertBefore(f.toNode(v[S]),x)}return this},y.appendTo=function(v){return f.toNode(v).appendChild(this.node),this},y.svg=function(){return this.node instanceof window.SVGSVGElement?this:f(this.node.ownerSVGElement)},y.tagName=function(){return this.node.tagName.toUpperCase()},y.defs=function(){var v=this.svg()||this,x=v.node.getElementsByTagName("defs")[0];return x?f(x):f("defs").appendTo(v)},y.clone=function(){var v=f(this.node.cloneNode(!0));return v.node.id=f.uniqueId(),v},y.findOne=function(v){var x=this.node.querySelector(v);return x?f(x):void 0},y.find=function(v){var x=[],N=this.node.querySelectorAll(v);if(N)for(var S=0;S<N.length;S++)x.push(f(N[S]));return x},y.children=function(){for(var v=this.node.childNodes,x=[],N=0;N<v.length;N++){var S=v[N];S.nodeType===1&&x.push(f(v[N]))}return x},y.parent=function(){return f(this.node.parentNode)||null},y.index=function(){for(var v=0,x=this.node.previousSibling;x;)x.nodeType===1&&v++,x=x.previousSibling;return v},y.findParentByClass=function(v,x){for(var N=this.node.ownerSVGElement,S=this.node.parentNode;S&&S!==x&&S!==N;){var j=f(S);if(j.hasClass(v))return j;S=S.parentNode}return null},y.contains=function(v){var x=this.node,N=f.toNode(v),S=N&&N.parentNode;return x===S||!!(S&&S.nodeType===1&&x.compareDocumentPosition(S)&16)},y.toLocalPoint=function(v,x){var N=this.svg().node,S=N.createSVGPoint();S.x=v,S.y=x;try{var j=S.matrixTransform(N.getScreenCTM().inverse()),B=this.getTransformToElement(N).inverse()}catch{return S}return j.matrixTransform(B)},y.translateCenterToPoint=function(v){var x=this.getBBox({target:this.svg()}),N=x.center();return this.translate(v.x-N.x,v.y-N.y),this},y.translateAndAutoOrient=function(v,x,N){v=new k(v),x=new k(x),N||(N=this.svg());var S=this.scale();this.attr("transform","");var j=this.getBBox({target:N}).scale(S.sx,S.sy),B=f.createSVGTransform();B.setTranslate(-j.x-j.width/2,-j.y-j.height/2);var W=f.createSVGTransform(),ae=v.angleBetween(x,v.clone().offset(1,0));ae&&W.setRotate(ae,0,0);var de=f.createSVGTransform(),G=v.clone().move(x,j.width/2);de.setTranslate(2*v.x-G.x,2*v.y-G.y);var q=this.getTransformToElement(N),J=f.createSVGTransform();return J.setMatrix(de.matrix.multiply(W.matrix.multiply(B.matrix.multiply(q.scale(S.sx,S.sy))))),this.attr("transform",f.matrixToTransformString(J.matrix)),this},y.animateAlongPath=function(v,x){x=f.toNode(x);var N=f.ensureId(x),S=f("animateMotion",v),j=f("mpath",{"xlink:href":"#"+N});S.append(j),this.append(S);try{S.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var B=S.node;B.animators=[];var W=B.getAttribute("id");W&&(id2anim[W]=B);for(var ae=getTargets(B),de=0,G=ae.length;de<G;de++){var q=ae[de],J=new Animator(B,q,de);animators.push(J),B.animators[de]=J,J.register()}}}return this};let z=/[^\x20\t\r\n\f]+/g;function H(v){return f.isString(v)?v.trim().match(z)||[]:[]}y.hasClass=function(v){return f.isString(v)?this.node.classList.contains(v.trim()):!1},y.addClass=function(v){return this.node.classList.add(...H(v)),this},y.removeClass=function(v){return this.node.classList.remove(...H(v)),this},y.toggleClass=function(v,x){let N=H(v);for(let S=0;S<N.length;S++)this.node.classList.toggle(N[S],x);return this},y.sample=function(v){v=v||1;for(var x=this.node,N=x.getTotalLength(),S=[],j=0,B;j<N;)B=x.getPointAtLength(j),S.push({x:B.x,y:B.y,distance:j}),j+=v;return S},y.convertToPath=function(){var v=f("path");v.attr(this.attr());var x=this.convertToPathData();return x&&v.attr("d",x),v},y.convertToPathData=function(){var v=this.tagName();switch(v){case"PATH":return this.attr("d");case"LINE":return f.convertLineToPathData(this.node);case"POLYGON":return f.convertPolygonToPathData(this.node);case"POLYLINE":return f.convertPolylineToPathData(this.node);case"ELLIPSE":return f.convertEllipseToPathData(this.node);case"CIRCLE":return f.convertCircleToPathData(this.node);case"RECT":return f.convertRectToPathData(this.node)}throw new Error(v+" cannot be converted to PATH.")},f.prototype.toGeometryShape=function(){var v,x,N,S,j,B,W,ae,de,G,q,J,Q,Ee,De;switch(this.tagName()){case"RECT":return v=parseFloat(this.attr("x"))||0,x=parseFloat(this.attr("y"))||0,N=parseFloat(this.attr("width"))||0,S=parseFloat(this.attr("height"))||0,new fe(v,x,N,S);case"CIRCLE":return j=parseFloat(this.attr("cx"))||0,B=parseFloat(this.attr("cy"))||0,W=parseFloat(this.attr("r"))||0,new qt({x:j,y:B},W,W);case"ELLIPSE":return j=parseFloat(this.attr("cx"))||0,B=parseFloat(this.attr("cy"))||0,ae=parseFloat(this.attr("rx"))||0,de=parseFloat(this.attr("ry"))||0,new qt({x:j,y:B},ae,de);case"POLYLINE":return G=f.getPointsFromSvgNode(this),new et(G);case"POLYGON":return G=f.getPointsFromSvgNode(this),G.length>1&&G.push(G[0]),new et(G);case"PATH":return q=this.attr("d"),Ce.isDataSupported(q)||(q=f.normalizePathData(q)),new Ce(q);case"LINE":return J=parseFloat(this.attr("x1"))||0,Ee=parseFloat(this.attr("y1"))||0,Q=parseFloat(this.attr("x2"))||0,De=parseFloat(this.attr("y2"))||0,new ge({x:J,y:Ee},{x:Q,y:De})}return this.getBBox()},y.findIntersection=function(v,x){var N=this.svg().node;x=x||N;var S=this.getBBox({target:x}),j=S.center();if(S.intersectionWithLineFromCenterToPoint(v)){var B,W=this.tagName();if(W==="RECT"){var ae=new fe(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),de=this.getTransformToElement(x),G=f.decomposeMatrix(de),q=N.createSVGTransform();q.setRotate(-G.rotation,j.x,j.y);var J=f.transformRect(ae,q.matrix.multiply(de));B=new fe(J).intersectionWithLineFromCenterToPoint(v,G.rotation)}else if(W==="PATH"||W==="POLYGON"||W==="POLYLINE"||W==="CIRCLE"||W==="ELLIPSE"){var Q=W==="PATH"?this:this.convertToPath(),Ee=Q.sample(),De=1/0,ut=[],Ct,be,Me,oe,ie,pe;for(Ct=0;Ct<Ee.length;Ct++)be=Ee[Ct],Me=f.createSVGPoint(be.x,be.y),Me=Me.matrixTransform(this.getTransformToElement(x)),be=new k(Me),oe=be.distance(j),ie=be.distance(v)*1.1,pe=oe+ie,pe<De?(De=pe,ut=[{sample:be,refDistance:ie}]):pe<De+1&&ut.push({sample:be,refDistance:ie});ut.sort(function(_e,Qe){return _e.refDistance-Qe.refDistance}),ut[0]&&(B=ut[0].sample)}return B}},y.setAttribute=function(v,x){let N=this.node;if(x===null)return this.removeAttr(v),this;let S=ne[v],{ns:j}=f.qualifyAttr(S);return j?N.setAttributeNS(j,S,x):S==="id"?N.id=x:N.setAttribute(S,x),this},f.createSvgDocument=function(v){if(v){let N=`<svg xmlns="${t.svg}" xmlns:xlink="${t.xlink}" version="${n}">${v}</svg>`,{documentElement:S}=f.parseXML(N,{async:!1});return S}let x=document.createElementNS(t.svg,"svg");return x.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),x.setAttribute("version",n),x},f.createSVGStyle=function(v){let{node:x}=f("style",{type:"text/css"},[f.createCDATASection(v)]);return x},f.createCDATASection=function(v=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(v)},f.idCounter=0,f.uniqueId=function(){return"v-"+ ++f.idCounter},f.toNode=function(v){return f.isV(v)?v.node:v.nodeName&&v||v[0]},f.ensureId=function(v){return v=f.toNode(v),v.id||(v.id=f.uniqueId())},f.sanitizeText=function(v){return(v||"").replace(/ /g,"\xA0")},f.isUndefined=function(v){return typeof v>"u"},f.isString=function(v){return typeof v=="string"},f.isObject=function(v){return v&&typeof v=="object"},f.isArray=Array.isArray,f.parseXML=function(v,x){x=x||{};var N;try{var S=new DOMParser;f.isUndefined(x.async)||(S.async=x.async),N=S.parseFromString(v,"text/xml")}catch{N=void 0}if(!N||N.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+v);return N};let X=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach(v=>X[v]=v);let ne=new Proxy(X,{get(v,x){return f.supportCamelCaseAttributes?x in v?v[x]:v[x]=x.replace(/[A-Z]/g,"-$&").toLowerCase():x}});Object.defineProperty(f,"attributeNames",{value:ne,writable:!1}),Object.defineProperty(f,"supportCamelCaseAttributes",{value:!1,writable:!0}),f.qualifyAttr=function(v){if(v.indexOf(":")!==-1){var x=v.split(":");return{ns:t[x[0]],local:x[1]}}return{ns:null,local:v}},f.transformSeparatorRegex=/[ ,]+/,f.transformRegex=/\b\w+\([^()]+\)/g,f.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,f.transformTranslateRegex=/\btranslate\(([^()]+)\)/,f.transformRotateRegex=/\brotate\(([^()]+)\)/,f.transformScaleRegex=/\bscale\(([^()]+)\)/,f.transformStringToMatrix=function(v){let x=f.createSVGMatrix(),N=v&&v.match(f.transformRegex);if(!N)return x;let S=N.length;for(let j=0;j<S;j++){let W=N[j].match(f.transformFunctionRegex);if(W){let ae,de,G,q,J,Q=f.createSVGMatrix(),Ee=W[1].toLowerCase(),De=W[2].split(f.transformSeparatorRegex);switch(Ee){case"scale":ae=parseFloat(De[0]),de=De[1]===void 0?ae:parseFloat(De[1]),Q=Q.scaleNonUniform(ae,de);break;case"translate":G=parseFloat(De[0]),q=parseFloat(De[1]),Q=Q.translate(G,q);break;case"rotate":J=parseFloat(De[0]),G=parseFloat(De[1])||0,q=parseFloat(De[2])||0,G!==0||q!==0?Q=Q.translate(G,q).rotate(J).translate(-G,-q):Q=Q.rotate(J);break;case"skewx":J=parseFloat(De[0]),Q=Q.skewX(J);break;case"skewy":J=parseFloat(De[0]),Q=Q.skewY(J);break;case"matrix":Q.a=parseFloat(De[0]),Q.b=parseFloat(De[1]),Q.c=parseFloat(De[2]),Q.d=parseFloat(De[3]),Q.e=parseFloat(De[4]),Q.f=parseFloat(De[5]);break;default:continue}x=x.multiply(Q)}}return x},f.matrixToTransformString=function(v){return v||(v=!0),"matrix("+(v.a!==void 0?v.a:1)+","+(v.b!==void 0?v.b:0)+","+(v.c!==void 0?v.c:0)+","+(v.d!==void 0?v.d:1)+","+(v.e!==void 0?v.e:0)+","+(v.f!==void 0?v.f:0)+")"},f.parseTransformString=function(v){var x,N,S;if(v){var j=f.transformSeparatorRegex;if(v.trim().indexOf("matrix")>=0){var B=f.transformStringToMatrix(v),W=f.decomposeMatrix(B);x=[W.translateX,W.translateY],S=[W.scaleX,W.scaleY],N=[W.rotation];var ae=[];(x[0]!==0||x[1]!==0)&&ae.push("translate("+x+")"),(S[0]!==1||S[1]!==1)&&ae.push("scale("+S+")"),N[0]!==0&&ae.push("rotate("+N+")"),v=ae.join(" ")}else{let G=v.match(f.transformTranslateRegex);G&&(x=G[1].split(j));let q=v.match(f.transformRotateRegex);q&&(N=q[1].split(j));let J=v.match(f.transformScaleRegex);J&&(S=J[1].split(j))}}var de=S&&S[0]?parseFloat(S[0]):1;return{value:v,translate:{tx:x&&x[0]?parseInt(x[0],10):0,ty:x&&x[1]?parseInt(x[1],10):0},rotate:{angle:N&&N[0]?parseInt(N[0],10):0,cx:N&&N[1]?parseInt(N[1],10):void 0,cy:N&&N[2]?parseInt(N[2],10):void 0},scale:{sx:de,sy:S&&S[1]?parseFloat(S[1]):de}}},f.deltaTransformPoint=function(v,x){var N=x.x*v.a+x.y*v.c+0,S=x.x*v.b+x.y*v.d+0;return{x:N,y:S}},f.decomposeMatrix=function(v){var x=f.deltaTransformPoint(v,{x:0,y:1}),N=f.deltaTransformPoint(v,{x:1,y:0}),S=180/i*o(x.y,x.x)-90,j=180/i*o(N.y,N.x);return{translateX:v.e,translateY:v.f,scaleX:s(v.a*v.a+v.b*v.b),scaleY:s(v.c*v.c+v.d*v.d),skewX:S,skewY:j,rotation:S}},f.matrixToScale=function(v){var x,N,S,j;return v?(x=f.isUndefined(v.a)?1:v.a,j=f.isUndefined(v.d)?1:v.d,N=v.b,S=v.c):x=j=1,{sx:N?s(x*x+N*N):x,sy:S?s(S*S+j*j):j}},f.matrixToRotate=function(v){var x={x:0,y:1};return v&&(x=f.deltaTransformPoint(v,x)),{angle:Kt(uo(o(x.y,x.x))-90)}},f.matrixToTranslate=function(v){return{tx:v&&v.e||0,ty:v&&v.f||0}},f.isV=function(v){return v instanceof f},f.isVElement=f.isV,f.isSVGGraphicsElement=function(v){return v?(v=f.toNode(v),v instanceof SVGElement&&typeof v.getScreenCTM=="function"):!1};var p=f("svg").node;return f.createSVGMatrix=function(v){var x=p.createSVGMatrix();for(var N in v)x[N]=v[N];return x},f.createSVGTransform=function(v){return f.isUndefined(v)?p.createSVGTransform():(v instanceof SVGMatrix||(v=f.createSVGMatrix(v)),p.createSVGTransformFromMatrix(v))},f.createSVGPoint=function(v,x){var N=p.createSVGPoint();return N.x=v,N.y=x,N},f.transformRect=function(v,x){var N=p.createSVGPoint();N.x=v.x,N.y=v.y;var S=N.matrixTransform(x);N.x=v.x+v.width,N.y=v.y;var j=N.matrixTransform(x);N.x=v.x+v.width,N.y=v.y+v.height;var B=N.matrixTransform(x);N.x=v.x,N.y=v.y+v.height;var W=N.matrixTransform(x),ae=a(S.x,j.x,B.x,W.x),de=u(S.x,j.x,B.x,W.x),G=a(S.y,j.y,B.y,W.y),q=u(S.y,j.y,B.y,W.y);return new fe(ae,G,de-ae,q-G)},f.transformPoint=function(v,x){return new k(f.createSVGPoint(v.x,v.y).matrixTransform(x))},f.transformLine=function(v,x){return new ge(f.transformPoint(v.start,x),f.transformPoint(v.end,x))},f.transformPolyline=function(v,x){var N=v instanceof et?v.points:v;f.isArray(N)||(N=[]);for(var S=[],j=0,B=N.length;j<B;j++)S[j]=f.transformPoint(N[j],x);return new et(S)},f.styleToObject=function(v){for(var x={},N=v.split(";"),S=0;S<N.length;S++){var j=N[S],B=j.split("=");x[B[0].trim()]=B[1].trim()}return x},f.createSlicePathData=function(v,x,N,S){var j=2*i-1e-6,B=v,W=x,ae=N,de=S,G=(de<ae&&(G=ae,ae=de,de=G),de-ae),q=G<i?"0":"1",J=l(ae),Q=h(ae),Ee=l(de),De=h(de);return G>=j?B?"M0,"+W+"A"+W+","+W+" 0 1,1 0,"+-W+"A"+W+","+W+" 0 1,1 0,"+W+"M0,"+B+"A"+B+","+B+" 0 1,0 0,"+-B+"A"+B+","+B+" 0 1,0 0,"+B+"Z":"M0,"+W+"A"+W+","+W+" 0 1,1 0,"+-W+"A"+W+","+W+" 0 1,1 0,"+W+"Z":B?"M"+W*J+","+W*Q+"A"+W+","+W+" 0 "+q+",1 "+W*Ee+","+W*De+"L"+B*Ee+","+B*De+"A"+B+","+B+" 0 "+q+",0 "+B*J+","+B*Q+"Z":"M"+W*J+","+W*Q+"A"+W+","+W+" 0 "+q+",1 "+W*Ee+","+W*De+"L0,0Z"},f.mergeAttrs=function(v,x){for(var N in x)N==="class"?v[N]=v[N]?v[N]+" "+x[N]:x[N]:N==="style"?f.isObject(v[N])&&f.isObject(x[N])?v[N]=f.mergeAttrs(v[N],x[N]):f.isObject(v[N])?v[N]=f.mergeAttrs(v[N],f.styleToObject(x[N])):f.isObject(x[N])?v[N]=f.mergeAttrs(f.styleToObject(v[N]),x[N]):v[N]=f.mergeAttrs(f.styleToObject(v[N]),f.styleToObject(x[N])):v[N]=x[N];return v},f.annotateString=function(v,x,N){x=x||[],N=N||{};for(var S=N.offset||0,j=[],B,W=[],ae,de,G=0;G<v.length;G++){ae=W[G]=v[G];for(var q=0;q<x.length;q++){var J=x[q],Q=J.start+S,Ee=J.end+S;G>=Q&&G<Ee&&(f.isObject(ae)?ae.attrs=f.mergeAttrs(f.mergeAttrs({},ae.attrs),J.attrs):ae=W[G]={t:v[G],attrs:J.attrs},N.includeAnnotationIndices&&(ae.annotations||(ae.annotations=[])).push(q))}de=W[G-1],de?f.isObject(ae)&&f.isObject(de)?JSON.stringify(ae.attrs)===JSON.stringify(de.attrs)?B.t+=ae.t:(j.push(B),B=ae):f.isObject(ae)||f.isObject(de)?(j.push(B),B=ae):B=(B||"")+ae:B=ae}return B&&j.push(B),j},f.findAnnotationsAtIndex=function(v,x){var N=[];return v&&v.forEach(function(S){S.start<x&&x<=S.end&&N.push(S)}),N},f.findAnnotationsBetweenIndexes=function(v,x,N){var S=[];return v&&v.forEach(function(j){(x>=j.start&&x<j.end||N>j.start&&N<=j.end||j.start>=x&&j.end<N)&&S.push(j)}),S},f.shiftAnnotations=function(v,x,N){return v&&v.forEach(function(S){S.start<x&&S.end>=x?S.end+=N:S.start>=x&&(S.start+=N,S.end+=N)}),v},f.convertLineToPathData=function(v){v=f(v);var x=["M",v.attr("x1"),v.attr("y1"),"L",v.attr("x2"),v.attr("y2")].join(" ");return x},f.convertPolygonToPathData=function(v){var x=f.getPointsFromSvgNode(v);return x.length===0?null:f.svgPointsToPath(x)+" Z"},f.convertPolylineToPathData=function(v){var x=f.getPointsFromSvgNode(v);return x.length===0?null:f.svgPointsToPath(x)},f.svgPointsToPath=function(v){for(var x=0,N=v.length;x<N;x++)v[x]=v[x].x+" "+v[x].y;return"M "+v.join(" L")},f.getPointsFromSvgNode=function(v){v=f.toNode(v);var x=[],N=v.points;if(N)for(var S=0,j=N.numberOfItems;S<j;S++)x.push(N.getItem(S));return x},f.KAPPA=.551784,f.convertCircleToPathData=function(v){v=f(v);var x=parseFloat(v.attr("cx"))||0,N=parseFloat(v.attr("cy"))||0,S=parseFloat(v.attr("r")),j=S*f.KAPPA,B=["M",x,N-S,"C",x+j,N-S,x+S,N-j,x+S,N,"C",x+S,N+j,x+j,N+S,x,N+S,"C",x-j,N+S,x-S,N+j,x-S,N,"C",x-S,N-j,x-j,N-S,x,N-S,"Z"].join(" ");return B},f.convertEllipseToPathData=function(v){v=f(v);var x=parseFloat(v.attr("cx"))||0,N=parseFloat(v.attr("cy"))||0,S=parseFloat(v.attr("rx")),j=parseFloat(v.attr("ry"))||S,B=S*f.KAPPA,W=j*f.KAPPA,ae=["M",x,N-j,"C",x+B,N-j,x+S,N-W,x+S,N,"C",x+S,N+W,x+B,N+j,x,N+j,"C",x-B,N+j,x-S,N+W,x-S,N,"C",x-S,N-W,x-B,N-j,x,N-j,"Z"].join(" ");return ae},f.convertRectToPathData=function(v){return v=f(v),f.rectToPath({x:parseFloat(v.attr("x"))||0,y:parseFloat(v.attr("y"))||0,width:parseFloat(v.attr("width"))||0,height:parseFloat(v.attr("height"))||0,rx:parseFloat(v.attr("rx"))||0,ry:parseFloat(v.attr("ry"))||0})},f.rectToPath=function(v){var x,N=v.x,S=v.y,j=v.width,B=v.height,W=a(v.rx||v["top-rx"]||0,j/2),ae=a(v.rx||v["bottom-rx"]||0,j/2),de=a(v.ry||v["top-ry"]||0,B/2),G=a(v.ry||v["bottom-ry"]||0,B/2);return W||ae||de||G?x=["M",N,S+de,"v",B-de-G,"a",ae,G,0,0,0,ae,G,"h",j-2*ae,"a",ae,G,0,0,0,ae,-G,"v",-(B-G-de),"a",W,de,0,0,0,-W,-de,"h",-(j-2*W),"a",W,de,0,0,0,-W,de,"Z"]:x=["M",N,S,"H",N+j,"V",S+B,"H",N,"V",S,"Z"],x.join(" ")},f.normalizePathData=function(){var v=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,x=new RegExp("([a-z])["+v+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+v+"]*,?["+v+"]*)+)","ig"),N=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+v+"]*,?["+v+"]*","ig"),S=Math,j=S.PI,B=S.sin,W=S.cos,ae=S.tan,de=S.asin,G=S.sqrt,q=S.abs;function J(be,Me,oe,ie,pe,_e){var Qe=.3333333333333333,Ne=2/3;return[Qe*be+Ne*oe,Qe*Me+Ne*ie,Qe*pe+Ne*oe,Qe*_e+Ne*ie,pe,_e]}function Q(be,Me,oe){var ie=be*W(oe)-Me*B(oe),pe=be*B(oe)+Me*W(oe);return{x:ie,y:pe}}function Ee(be,Me,oe,ie,pe,_e,Qe,Ne,it,A){var T=j*120/180,L=j/180*(+pe||0),F=[],Z;if(A)At=A[0],Pt=A[1],me=A[2],lt=A[3];else{Z=Q(be,Me,-L),be=Z.x,Me=Z.y,Z=Q(Ne,it,-L),Ne=Z.x,it=Z.y;var se=(be-Ne)/2,ye=(Me-it)/2,Pe=se*se/(oe*oe)+ye*ye/(ie*ie);Pe>1&&(Pe=G(Pe),oe=Pe*oe,ie=Pe*ie);var Ue=oe*oe,jt=ie*ie,Bt=(_e==Qe?-1:1)*G(q((Ue*jt-Ue*ye*ye-jt*se*se)/(Ue*ye*ye+jt*se*se))),me=Bt*oe*ye/ie+(be+Ne)/2,lt=Bt*-ie*se/oe+(Me+it)/2,At=de(((Me-lt)/ie).toFixed(9)),Pt=de(((it-lt)/ie).toFixed(9));At=be<me?j-At:At,Pt=Ne<me?j-Pt:Pt,At<0&&(At=j*2+At),Pt<0&&(Pt=j*2+Pt),Qe&&At>Pt&&(At=At-j*2),!Qe&&Pt>At&&(Pt=Pt-j*2)}var Ot=Pt-At;if(q(Ot)>T){var Yt=Pt,En=Ne,mr=it;Pt=At+T*(Qe&&Pt>At?1:-1),Ne=me+oe*W(Pt),it=lt+ie*B(Pt),F=Ee(Ne,it,oe,ie,pe,0,Qe,En,mr,[Pt,Yt,me,lt])}Ot=Pt-At;var Bn=W(At),vr=B(At),Or=W(Pt),ga=B(Pt),Yi=ae(Ot/4),pa=4/3*(oe*Yi),ma=4/3*(ie*Yi),lc=[be,Me],Jn=[be+pa*vr,Me-ma*Bn],vi=[Ne+pa*ga,it-ma*Or],va=[Ne,it];if(Jn[0]=2*lc[0]-Jn[0],Jn[1]=2*lc[1]-Jn[1],A)return[Jn,vi,va].concat(F);F=[Jn,vi,va].concat(F).join().split(",");for(var ya=[],zn=F.length,Vt=0;Vt<zn;Vt++)ya[Vt]=Vt%2?Q(F[Vt-1],F[Vt],L).y:Q(F[Vt],F[Vt+1],L).x;return ya}function De(be){if(!be)return null;var Me={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},oe=[];return String(be).replace(x,function(ie,pe,_e){var Qe=[],Ne=pe.toLowerCase();for(_e.replace(N,function(it,A){A&&Qe.push(+A)}),Ne==="m"&&Qe.length>2&&(oe.push([pe].concat(Qe.splice(0,2))),Ne="l",pe=pe==="m"?"l":"L");Qe.length>=Me[Ne]&&(oe.push([pe].concat(Qe.splice(0,Me[Ne]))),!!Me[Ne]););}),oe}function ut(be){if((!Array.isArray(be)||!Array.isArray(be&&be[0]))&&(be=De(be)),!be||!be.length)return[["M",0,0]];for(var Me=[],oe=0,ie=0,pe=0,_e=0,Qe=0,Ne,it=be.length,A=Qe;A<it;A++){var T=[];Me.push(T);var L=be[A];if(Ne=L[0],Ne!=Ne.toUpperCase()){T[0]=Ne.toUpperCase();var F,Z;switch(T[0]){case"A":T[1]=L[1],T[2]=L[2],T[3]=L[3],T[4]=L[4],T[5]=L[5],T[6]=+L[6]+oe,T[7]=+L[7]+ie;break;case"V":T[1]=+L[1]+ie;break;case"H":T[1]=+L[1]+oe;break;case"M":for(pe=+L[1]+oe,_e=+L[2]+ie,F=L.length,Z=1;Z<F;Z++)T[Z]=+L[Z]+(Z%2?oe:ie);break;default:for(F=L.length,Z=1;Z<F;Z++)T[Z]=+L[Z]+(Z%2?oe:ie);break}}else for(var se=L.length,ye=0;ye<se;ye++)T[ye]=L[ye];switch(T[0]){case"Z":oe=+pe,ie=+_e;break;case"H":oe=T[1];break;case"V":ie=T[1];break;case"M":pe=T[T.length-2],_e=T[T.length-1],oe=T[T.length-2],ie=T[T.length-1];break;default:oe=T[T.length-2],ie=T[T.length-1];break}}return Me}function Ct(be){var Me=ut(be),oe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function ie(F,Z,se){var ye,Pe;if(!F)return["C",Z.x,Z.y,Z.x,Z.y,Z.x,Z.y];switch(F[0]in{T:1,Q:1}||(Z.qx=null,Z.qy=null),F[0]){case"M":Z.X=F[1],Z.Y=F[2];break;case"A":parseFloat(F[1])===0||parseFloat(F[2])===0?F=["L",F[6],F[7]]:F=["C"].concat(Ee.apply(0,[Z.x,Z.y].concat(F.slice(1))));break;case"S":se==="C"||se==="S"?(ye=Z.x*2-Z.bx,Pe=Z.y*2-Z.by):(ye=Z.x,Pe=Z.y),F=["C",ye,Pe].concat(F.slice(1));break;case"T":se==="Q"||se==="T"?(Z.qx=Z.x*2-Z.qx,Z.qy=Z.y*2-Z.qy):(Z.qx=Z.x,Z.qy=Z.y),F=["C"].concat(J(Z.x,Z.y,Z.qx,Z.qy,F[1],F[2]));break;case"Q":Z.qx=F[1],Z.qy=F[2],F=["C"].concat(J(Z.x,Z.y,F[1],F[2],F[3],F[4]));break;case"H":F=["L"].concat(F[1],Z.y);break;case"V":F=["L"].concat(Z.x,F[1]);break;case"L":break;case"Z":break}return F}function pe(F,Z){if(F[Z].length>7){F[Z].shift();for(var se=F[Z];se.length;)_e[Z]="A",F.splice(Z++,0,["C"].concat(se.splice(0,6)));F.splice(Z,1),it=Me.length}}for(var _e=[],Qe="",Ne="",it=Me.length,A=0;A<it;A++){Me[A]&&(Qe=Me[A][0]),Qe!=="C"&&(_e[A]=Qe,A>0&&(Ne=_e[A-1])),Me[A]=ie(Me[A],oe,Ne),_e[A]!=="A"&&Qe==="C"&&(_e[A]="C"),pe(Me,A);var T=Me[A],L=T.length;oe.x=T[L-2],oe.y=T[L-1],oe.bx=parseFloat(T[L-4])||oe.x,oe.by=parseFloat(T[L-3])||oe.y}return(!Me[0][0]||Me[0][0]!=="M")&&Me.unshift(["M",0,0]),Me}return function(be){return Ct(be).join(",").split(",").join(" ")}}(),f.namespace=t,f.g=zt,f}(),Y=IP;var pn={useCSSSelectors:!0,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300};var ku="[object Arguments]",Rm="[object Array]",Zf="[object Boolean]",zm="[object Date]",Eb="[object Error]",CP="[object Function]",_u="[object Map]",Uf="[object Number]",AP="[object Null]",Hs="[object Object]",Vm="[object RegExp]",Fu="[object Set]",Hf="[object String]",Wf="[object Symbol]",wP="[object Undefined]",bP="[object WeakMap]",Gm="[object ArrayBuffer]",Zm="[object DataView]",Tb="[object Float32Array]",Sb="[object Float64Array]",Pb="[object Int8Array]",Ob="[object Int16Array]",Lb="[object Int32Array]",kb="[object Uint8Array]",Rb="[object Uint8ClampedArray]",_b="[object Uint16Array]",Fb="[object Uint32Array]",xP={[ku]:!0,[Rm]:!0,[Gm]:!0,[Zm]:!0,[Zf]:!0,[zm]:!0,[Tb]:!0,[Sb]:!0,[Pb]:!0,[Ob]:!0,[Lb]:!0,[_u]:!0,[Uf]:!0,[Hs]:!0,[Vm]:!0,[Fu]:!0,[Hf]:!0,[Wf]:!0,[kb]:!0,[Rb]:!0,[_b]:!0,[Fb]:!0,[Eb]:!1,[CP]:!1,[bP]:!1},Um="\\ud800-\\udfff",DP="\\u0300-\\u036f",MP="\\ufe20-\\ufe2f",NP="\\u20d0-\\u20ff",EP="\\u1ab0-\\u1aff",TP="\\u1dc0-\\u1dff",SP=DP+MP+NP+EP+TP,jb="\\u2700-\\u27bf",Bb="a-z\\xdf-\\xf6\\xf8-\\xff",PP="\\xac\\xb1\\xd7\\xf7",OP="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",LP="\\u2000-\\u206f",kP=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zb="A-Z\\xc0-\\xd6\\xd8-\\xde",RP="\\ufe0e\\ufe0f",Vb=PP+OP+LP+kP,Gb="['\u2019]",wb=`[${Vb}]`,Hm=`[${SP}]`,Zb="\\d",_P=`[${jb}]`,Ub=`[${Bb}]`,Hb=`[^${Um}${Vb+Zb+jb+Bb+zb}]`,_m="\\ud83c[\\udffb-\\udfff]",FP=`(?:${Hm}|${_m})`,Wb=`[^${Um}]`,Wm="(?:\\ud83c[\\udde6-\\uddff]){2}",Ym="[\\ud800-\\udbff][\\udc00-\\udfff]",Us=`[${zb}]`,jP="\\u200d",bb=`(?:${Ub}|${Hb})`,BP=`(?:${Us}|${Hb})`,xb=`(?:${Gb}(?:d|ll|m|re|s|t|ve))?`,Db=`(?:${Gb}(?:D|LL|M|RE|S|T|VE))?`,Yb=`${FP}?`,Xb=`[${RP}]?`,zP=`(?:${jP}(?:${[Wb,Wm,Ym].join("|")})${Xb+Yb})*`,VP="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",GP="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$b=Xb+Yb+zP,ZP=`(?:${[_P,Wm,Ym].join("|")})${$b}`,UP=RegExp([`${Us}?${Ub}+${xb}(?=${[wb,Us,"$"].join("|")})`,`${BP}+${Db}(?=${[wb,Us+bb,"$"].join("|")})`,`${Us}?${bb}+${xb}`,`${Us}+${Db}`,GP,VP,`${Zb}+`,ZP].join("|"),"g"),Xm=200,Fm="__hash_undefined__",HP=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,WP=`[${Um}]`,YP=`${Wb}${Hm}?`,XP=`(?:${[YP,Hm,Wm,Ym,WP].join("|")})`,Jb=RegExp(`${_m}(?=${_m})|${XP+$b}`,"g"),$P=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,JP=/^\w*$/,qP=".".charCodeAt(0),QP=/\\(\\)?/g,KP=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),e2=/^(?:0|[1-9]\d*)$/,t2=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),n2=4294967295-1,r2=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qb=e=>Jb.test(e),i2=e=>e.match(Jb)||[],o2=e=>e.split(""),Qb=e=>qb(e)?i2(e):o2(e),s2=e=>e==null?[]:ju(e).map(t=>e[t]),ju=e=>or(e)?Kb(e):Object.keys(Object(e)),a2=e=>{if(!Yf(e))return Object.keys(e);var t=[];for(var n in Object(e))hasOwnProperty.call(e,n)&&n!="constructor"&&t.push(n);return t},Kb=(e,t)=>{let n=Array.isArray(e),r=!n&&dr(e)&&hr(e)===ku,i=!n&&!r&&zu(e),o=n||r||i,s=e.length,a=new Array(o?s:0),u=o?-1:s;for(;++u<s;)a[u]=`${u}`;for(let l in e)(t||hasOwnProperty.call(e,l))&&!(o&&(l==="length"||Km(l,s)))&&a.push(l);return a},jf=(e,t)=>{let{length:n}=e;for(;n--;)if(Xs(e[n][0],t))return n;return-1},Xs=(e,t)=>e===t||e!==e&&t!==t,dr=e=>e!=null&&typeof e=="object",zf=(e,t,n)=>{if(!je(n))return!1;let r=typeof t;return(r=="number"?or(n)&&t>-1&&t<n.length:r=="string"&&t in n)?Xs(n[t],e):!1},u2=e=>dr(e)&&hr(e)==Fu,c2=e=>dr(e)&&hr(e)==_u,Yf=e=>{let t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Object.prototype;return e===n},To=(e,t,n)=>{let r=e[t];(!(hasOwnProperty.call(e,t)&&Xs(r,n))||n===void 0&&!(t in e))&&(e[t]=n)},Bu=(e,t,n)=>{let r=-1,i=t.length;for(;++r<i;){let o=t[r];To(n,o,e[o])}return n},or=e=>e!=null&&typeof e!="function"&&typeof e.length=="number"&&e.length>-1&&e.length%1===0,Ys=e=>typeof e=="symbol"||dr(e)&&hr(e)===Wf,l2=e=>{let t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&hasOwnProperty.call(e,"index")&&(n.index=e.index,n.input=e.input),n},$m=(e,t)=>{let n=-1,r=e.length;for(t||(t=new Array(r));++n<r;)t[n]=e[n];return t},hr=e=>e==null?e===void 0?wP:AP:Object.prototype.toString.call(e),Jm=e=>{let t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t},ex=(e,t)=>{let n=t?Jm(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},f2=e=>{let t=new e.constructor(e.source,/\w*$/.exec(e));return t.lastIndex=e.lastIndex,t},tx=e=>typeof e.constructor=="function"&&!Yf(e)?Object.create(Object.getPrototypeOf(e)):{},qm=e=>e==null?[]:(e=Object(e),Object.getOwnPropertySymbols(e).filter(n=>propertyIsEnumerable.call(e,n))),d2=(e,t)=>Bu(e,qm(e),t);function h2(e,t){let n=t?Jm(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var g2=(e,t,n)=>{let r=e.constructor;switch(t){case Gm:return Jm(e,n);case Zf:case zm:return new r(+e);case Zm:return h2(e,n);case Tb:case Sb:case Pb:case Ob:case Lb:case kb:case Rb:case _b:case Fb:return ex(e,n);case _u:return new r(e);case Uf:case Hf:return new r(e);case Vm:return f2(e);case Fu:return new r;case Wf:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(e)):{}}},zu=e=>dr(e)&&HP.test(hr(e)),jm=e=>{let t=Object.keys(e);return!Array.isArray(e)&&e!=null&&t.push(...qm(Object(e))),t},nx=e=>{let t=[];for(;e;)t.push(...qm(e)),e=Object.getPrototypeOf(Object(e));return t},rx=e=>{let t=[];for(let n in e)t.push(n);return Array.isArray(e)||t.push(...nx(e)),t},Bf=({__data__:e},t)=>{let n=e;return N2(t)?n[typeof t=="string"?"string":"hash"]:n.map},p2=(e,t,n,r)=>{let i=jm(e),o=i.length,a=jm(t).length;if(o!=a)return!1;let u,l=o;for(;l--;)if(u=i[l],!hasOwnProperty.call(t,u))return!1;let h=r.get(e),f=r.get(t);if(h&&f)return h==t&&f==e;let y=!0;r.set(e,t),r.set(t,e);let I,b;for(;++l<o;){u=i[l];let D=e[u],E=t[u];if(!(I===void 0?D===E||n(D,E,r):I)){y=!1;break}b||(b=u=="constructor")}if(y&&!b){let D=e.constructor,E=t.constructor;D!=E&&"constructor"in e&&"constructor"in t&&!(typeof D=="function"&&D instanceof D&&typeof E=="function"&&E instanceof E)&&(y=!1)}return r.delete(e),r.delete(t),y},Xf=(e,t,n)=>e===t?!0:e==null||t==null||!dr(e)&&!dr(t)?e!==e&&t!==t:m2(e,t,Xf,n),m2=(e,t,n,r)=>{let i=Array.isArray(e),o=Array.isArray(t),s=i?Rm:hr(e),a=o?Rm:hr(t);s=s==ku?Hs:s,a=a==ku?Hs:a;let u=s==Hs,l=a==Hs,h=s==a;if(h&&!u)return r||(r=new _i),i||zu(e)?ix(e,t,!1,n,r):I2(e,t,s,n,r);let f=u&&hasOwnProperty.call(e,"__wrapped__"),y=l&&hasOwnProperty.call(t,"__wrapped__");if(f||y){let I=f?e.value():e,b=y?t.value():t;return r||(r=new _i),n(I,b,r)}return h?(r||(r=new _i),p2(e,t,n,r)):!1},ix=(e,t,n,r,i)=>{let s=e.length,a=t.length;if(s!=a)return!1;let u=i.get(e),l=i.get(t);if(u&&l)return u==t&&l==e;let h=-1,f=!0,y=n?new Fi:void 0;for(i.set(e,t),i.set(t,e);++h<s;){let I,b=e[h],D=t[h];if(I!==void 0){if(I)continue;f=!1;break}if(y){if(!v2(t,(E,P)=>{if(!y2(y,P)&&(b===E||r(b,E,i)))return y.push(P)})){f=!1;break}}else if(!(b===D||r(b,D,i))){f=!1;break}}return i.delete(e),i.delete(t),f},v2=(e,t)=>{let n=-1,r=e==null?0:e.length;for(;++n<r;)if(t(e[n],n,e))return!0;return!1},y2=(e,t)=>e.has(t),Mb=(e,t,n,r)=>!(e.byteLength!=t.byteLength||!n(new Uint8Array(e),new Uint8Array(t),r)),I2=(e,t,n,r,i)=>{switch(n){case Zm:return e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset?!1:(e=e.buffer,t=t.buffer,Mb(e,t,r,i));case Gm:return Mb(e,t,r,i);case Zf:case zm:case Uf:return Xs(+e,+t);case Eb:return e.name==t.name&&e.message==t.message;case Vm:case Hf:return e==`${t}`;case _u:let o=ox;case Fu:if(o||(o=$f),e.size!=t.size)return!1;let s=i.get(e);if(s)return s==t;i.set(e,t);let a=ix(o(e),o(t),!0,r,i);return i.delete(e),a;case Wf:return Symbol.prototype.valueOf.call(e)==Symbol.prototype.valueOf.call(t)}return!1},ox=e=>{let t=-1,n=Array(e.size);return e.forEach((r,i)=>{n[++t]=[i,r]}),n},$f=e=>{let t=-1,n=new Array(e.size);return e.forEach(r=>{n[++t]=r}),n},Qm=(e,t)=>{if(Array.isArray(e))return!1;let n=typeof e;return n==="number"||n==="boolean"||e==null||Ys(e)?!0:JP.test(e)||!$P.test(e)||t!=null&&e in Object(t)},C2=e=>{let t=[];return e.charCodeAt(0)===qP&&t.push(""),e.replace(KP,(n,r,i,o)=>{let s=n;i?s=o.replace(QP,"$1"):r&&(s=r.trim()),t.push(s)}),t},ji=(e,t)=>Array.isArray(e)?e:Qm(e,t)?[e]:C2(`${e}`),Vu=(e,t)=>{t=ji(t,e);let n=0,r=t.length;for(;e!=null&&n<r;)e=e[gi(t[n])],n++;return n&&n==r?e:void 0};function A2(e,t){if(e!==t){let n=e!==void 0,r=e===null,i=e===e,o=Ys(e),s=t!==void 0,a=t===null,u=t===t,l=Ys(t);if(!a&&!l&&!o&&e>t||o&&s&&u&&!a&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&e<t||l&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!u)return-1}return 0}function w2(e,t,n){let r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){let u=r<a?n[r]:null,h=(u&&typeof u=="function"?u:A2)(i[r],o[r]);if(h)return u&&typeof u!="function"?h*(u=="desc"?-1:1):h}return e.index-t.index}var sx=(e,t)=>{let n=(s,a)=>!!(s==null?0:s.length)&&s.indexOf(a)>-1,r=!0,i=[],o=t.length;if(!e.length)return i;t.length>=Xm&&(n=(s,a)=>s.has(a),r=!1,t=new Fi(t));e:for(let s in e){let a=e[s],u=a;if(a=a!==0?a:0,r&&u===u){let l=o;for(;l--;)if(t[l]===u)continue e;i.push(a)}else n(t,u)||i.push(a)}return i},b2=e=>{let t=(y,I)=>!!(y==null?0:y.length)&&y.indexOf(I)>-1,n=(y,I)=>y.has(I),r=e[0].length,i=e.length,o=new Array(i),s=[],a,u=1/0,l=i;for(;l--;)a=e[l],u=Math.min(a.length,u),o[l]=r>=120&&a.length>=120?new Fi(l&&a):void 0;a=e[0];let h=-1,f=o[0];e:for(;++h<r&&s.length<u;){let y=a[h],I=y;if(y=y!==0?y:0,!(f?n(f,I):t(s,I))){for(l=i;--l;){let b=o[l];if(!(b?n(b,I):t(e[l],I)))continue e}f&&f.push(I),s.push(y)}}return s},gi=e=>{if(typeof e=="string"||Ys(e))return e;let t=`${e}`;return t=="0"&&1/e==-1/0?"-0":t},Ws=(e,t=!1,n=!1,r=!0,i,o,s,a)=>{let u;if(i&&(u=s?i(e,o,s,a):i(e)),u!==void 0)return u;if(!je(e))return e;let l=Array.isArray(e),h=hr(e);if(l){if(u=l2(e),!t)return $m(e,u)}else{let b=typeof e=="function";if(h===Hs||h===ku||b&&!s){if(u=n||b?{}:tx(e),!t)return n?x2(e,Bu(e,Object.keys(e),u)):d2(e,Object.assign(u,e))}else{if(b||!xP[h])return s?e:{};u=g2(e,h,t)}}a||(a=new _i);let f=a.get(e);if(f)return f;if(a.set(e,u),c2(e))return e.forEach((b,D)=>{u.set(D,Ws(b,t,n,r,i,D,e,a))}),u;if(u2(e))return e.forEach(b=>{u.add(Ws(b,t,n,r,i,b,e,a))}),u;if(zu(e))return u;let I=l?void 0:(r?n?rx:jm:n?ev:ju)(e);return(I||e).forEach((b,D)=>{I&&(D=b,b=e[D]),To(u,D,Ws(b,t,n,r,i,D,e,a))}),u},x2=(e,t)=>Bu(e,nx(e),t),ax=(e,t)=>t.length<2?e:Vu(e,t.slice(0,-1)),D2=(e,t,n)=>{if(!je(e))return e;t=ji(t,e);let r=t.length,i=r-1,o=-1,s=e;for(;s!=null&&++o<r;){let a=gi(t[o]),u=n;if(o!=i){let l=s[a];u=void 0,u===void 0&&(u=je(l)?l:Km(t[o+1])?[]:{})}To(s,a,u),s=s[a]}return e},Km=(e,t)=>{let n=typeof e;return t=t??Number.MAX_SAFE_INTEGER,!!t&&(n==="number"||n!=="symbol"&&e2.test(e))&&e>-1&&e%1==0&&e<t},M2=(e,t)=>{t=ji(t,e),e=ax(e,t);let n=t[t.length-1];return e==null||delete e[gi(n)]},N2=e=>{let t=typeof e;return t==="string"||t==="number"||t==="symbol"||t==="boolean"?e!=="__proto__":e===null},ev=e=>{let t=[];for(let n in e)t.push(n);return t},E2=e=>{e=Object(e);let t={};for(let n in e)t[n]=e[n];return t},Nb=(e,t)=>{if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]};function ux(e,t=!1){return(n,...r)=>{let i=-1,o=r.length,s=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(o--,s):t?(u,l)=>{if(Array.isArray(u)&&!Array.isArray(l))return l}:void 0,a&&zf(r[0],r[1],a)&&(s=o<3?void 0:s,o=1),n=Object(n);++i<o;){let u=r[i];u&&e(n,u,i,s)}return n}}var tv=(e,t,n,r,i)=>{e!==t&&yn(t,(o,s)=>{if(je(o))i||(i=new _i),T2(e,t,s,n,tv,r,i);else{let a=r?r(e[s],o,`${s}`,e,t,i):void 0;a===void 0&&(a=o),Bm(e,s,a)}},ev)},T2=(e,t,n,r,i,o,s)=>{let a=Nb(e,n),u=Nb(t,n),l=s.get(u);if(l){Bm(e,n,l);return}let h=o?o(a,u,`${n}`,e,t,s):void 0,f=h===void 0;if(f){let y=Array.isArray(u),I=!y&&zu(u);h=u,y||I?Array.isArray(a)?h=a:dr(a)&&or(a)?h=$m(a):I?(f=!1,h=ex(u,!0)):h=[]:ft(u)||Ru(u)?(h=a,Ru(a)?h=E2(a):(typeof a=="function"||!je(a))&&(h=tx(u))):f=!1}f&&(s.set(u,h),i(h,u,r,o,s),s.delete(u)),Bm(e,n,h)},Bm=(e,t,n)=>{(n!==void 0&&!Xs(e[t],n)||n===void 0&&!(t in e))&&To(e,t,n)};function S2(e,t,n){let r=Object(e),i=n(e),{length:o}=i,s=-1;for(;o--;){let a=i[++s];if(t(r[a],a,r)===!1)break}return e}var P2=(e,t)=>e&&S2(e,t,ju),nv=(e,t)=>{if(e==null)return e;if(!or(e))return P2(e,t);let n=e.length,r=Object(e),i=-1;for(;++i<n&&t(r[i],i,r)!==!1;);return e};function O2(e){let t=e==null?0:e.length;return t?e[t-1]:void 0}var L2=Set&&1/$f(new Set([void 0,-0]))[1]==1/0?e=>new Set(e):()=>{};function cx(e,t,n,r,i,o){return je(e)&&je(t)&&(o.set(t,e),tv(e,t,void 0,cx,o),o.delete(t)),e}function k2(e,t,n){t.length?t=t.map(s=>Array.isArray(s)?a=>Vu(a,s.length===1?s[0]:s):s):t=[s=>s];let r=-1,i=-1,o=or(e)?new Array(e.length):[];return nv(e,s=>{let a=t.map(u=>u(s));o[++i]={criteria:a,index:++r,value:s}}),R2(o,(s,a)=>w2(s,a,n))}function R2(e,t){let{length:n}=e;for(e.sort(t);n--;)e[n]=e[n].value;return e}function lx(e){return e===e&&!je(e)}function fx(e,t){return n=>n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}function dx(e,t){return e!=null&&Q2(e,t,q2)}function _2(e,t){return Qm(e)&&lx(t)?fx(gi(e),t):n=>{let r=Vu(n,e);return r===void 0&&r===t?dx(n,e):Xf(t,r)}}function F2(e){let t=j2(e);return t.length===1&&t[0][2]?fx(t[0][0],t[0][1]):n=>n===e||B2(n,e,t)}function j2(e){let t=ju(e),n=t.length;for(;n--;){let r=t[n],i=e[r];t[n]=[r,i,lx(i)]}return t}function B2(e,t,n,r){let i=n.length,o=i,s=!r;if(e==null)return!o;let a,u;for(e=Object(e);i--;)if(a=n[i],s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1;for(;++i<o;){a=n[i];let l=a[0],h=e[l],f=a[1];if(s&&a[2]){if(h===void 0&&!(l in e))return!1}else{let y=new _i;if(r&&(u=r(h,f,l,e,t,y)),!(u===void 0?Xf(f,h,y):u))return!1}}return!0}function z2(e){return Qm(e)?V2(gi(e)):G2(e)}function V2(e){return t=>t?.[e]}function G2(e){return t=>Vu(t,e)}function Z2(e){return typeof e=="function"?e:e==null?t=>t:typeof e=="object"?Array.isArray(e)?_2(e[0],e[1]):F2(e):z2(e)}function Jf(){let e=Z2;return arguments.length?e(arguments[0],arguments[1]):e}var U2=(e,t,n,r)=>{let i=-1,o=e==null?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n},H2=(e,t,n,r,i)=>(i(e,(o,s,a)=>{n=r?(r=!1,o):t(n,o,s,a)}),n);function W2(e,t,n){let r=Array.isArray(e)?U2:H2,i=arguments.length<3;return r(e,t,n,i,nv)}var Y2=e=>Array.isArray(e)||Ru(e)||!!(e&&e[Symbol.isConcatSpreadable]);function hx(e,t,n,r,i){let o=-1,s=e.length;for(n||(n=Y2),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?hx(a,t-1,n,r,i):i.push(...a):r||(i[i.length]=a)}return i}var Ru=e=>dr(e)&&hr(e)=="[object Arguments]",X2=(e,t)=>$2(e,t,(n,r)=>dx(e,r)),$2=(e,t,n)=>{let r=-1,i=t.length,o={};for(;++r<i;){let s=t[r],a=Vu(e,s);n(a,s)&&D2(o,ji(s,e),a)}return o},J2=e=>typeof e=="number"&&e>-1&&e%1==0&&e<=Number.MAX_SAFE_INTEGER,q2=(e,t)=>e!=null&&t in Object(e),Q2=(e,t,n)=>{t=ji(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=gi(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&J2(i)&&Km(s,i)&&(Array.isArray(e)||Ru(e)))},K2=e=>e.match(r2),eO=e=>e.match(UP),tO=(e,t)=>t===void 0?(t2(e)?eO(e):K2(e))||[]:e.match(t)||[],nO=(e,t,n)=>{let{length:r}=e;return n=n===void 0?r:n,!t&&n>=r?e:e.slice(t,n)},rO=iO("toUpperCase");function iO(e){return t=>{if(!t)return"";let n=qb(t)?Qb(t):void 0,r=n?n[0]:t[0],i=n?nO(n,1).join(""):t.slice(1);return r[e]()+i}}var _i=class{constructor(t){let n=this.__data__=new Lu(t);this.size=n.size}clear(){this.__data__=new Lu,this.size=0}delete(t){let n=this.__data__,r=n.delete(t);return this.size=n.size,r}get(t){return this.__data__.get(t)}has(t){return this.__data__.has(t)}set(t,n){let r=this.__data__;if(r instanceof Lu){let i=r.__data__;if(i.length<Xm-1)return i.push([t,n]),this.size=++r.size,this;r=this.__data__=new Vf(i)}return r.set(t,n),this.size=r.size,this}},Lu=class{constructor(t){let n=-1,r=t==null?0:t.length;for(this.clear();++n<r;){let i=t[n];this.set(i[0],i[1])}}clear(){this.__data__=[],this.size=0}delete(t){let n=this.__data__,r=jf(n,t);if(r<0)return!1;let i=n.length-1;return r==i?n.pop():n.splice(r,1),--this.size,!0}get(t){let n=this.__data__,r=jf(n,t);return r<0?void 0:n[r][1]}has(t){return jf(this.__data__,t)>-1}set(t,n){let r=this.__data__,i=jf(r,t);return i<0?(++this.size,r.push([t,n])):r[i][1]=n,this}},Vf=class{constructor(t){let n=-1,r=t==null?0:t.length;for(this.clear();++n<r;){let i=t[n];this.set(i[0],i[1])}}clear(){this.size=0,this.__data__={hash:new Gf,map:new Map,string:new Gf}}delete(t){let n=Bf(this,t).delete(t);return this.size-=n?1:0,n}get(t){return Bf(this,t).get(t)}has(t){return Bf(this,t).has(t)}set(t,n){let r=Bf(this,t),i=r.size;return r.set(t,n),this.size+=r.size==i?0:1,this}},Gf=class{constructor(t){let n=-1,r=t==null?0:t.length;for(this.clear();++n<r;){let i=t[n];this.set(i[0],i[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(t){let n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}get(t){let r=this.__data__[t];return r===Fm?void 0:r}has(t){return this.__data__[t]!==void 0}set(t,n){let r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n===void 0?Fm:n,this}},Fi=class{constructor(t){let n=-1,r=t==null?0:t.length;for(this.__data__=new Vf;++n<r;)this.add(t[n])}add(t){return this.__data__.set(t,Fm),this}has(t){return this.__data__.has(t)}};Fi.prototype.push=Fi.prototype.add;var qf=function(e){var t=Object.prototype.toString;return e===!0||e===!1||!!e&&typeof e=="object"&&t.call(e)===Zf},je=function(e){return!!e&&(typeof e=="object"||typeof e=="function")},$t=function(e){var t=Object.prototype.toString;return typeof e=="number"||!!e&&typeof e=="object"&&t.call(e)===Uf},_t=function(e){var t=Object.prototype.toString;return typeof e=="string"||!!e&&typeof e=="object"&&t.call(e)===Hf},Ie=ux((e,t)=>{if(Yf(t)||or(t)){Bu(t,ju(t),e);return}for(var n in t)hasOwnProperty.call(t,n)&&To(e,n,t[n])}),rv=Ie,gx=rv,iv=(e,...t)=>{let n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&zf(t[0],t[1],i)&&(r=1);++n<r;){let o=t[n];if(o==null)continue;let s=Object.keys(o),a=s.length,u=-1;for(;++u<a;){let l=s[u],h=e[l];(h===void 0||Xs(h,Object.prototype[l])&&!hasOwnProperty.call(e,l))&&(e[l]=o[l])}}return e},nn=iv,ov=function(...t){return t.push(void 0,cx),xt.apply(void 0,t)},Bi=ov,mn=(e,t,...n)=>{let r=-1,i=typeof t=="function",o=or(e)?new Array(e.length):[];return nv(e,s=>{o[++r]=i?t.apply(s,n):sv(s,t,...n)}),o},sv=(e,t,...n)=>{t=ji(t,e),e=ax(e,t);let r=e==null?e:e[gi(O2(t))];return r?.apply(e,n)},$s=(e,t,n)=>{let r=0,i=e==null?0:e.length;if(i==0)return 0;n=Jf(n,2),t=n(t);let o=t!==t,s=t===null,a=Ys(t),u=t===void 0;for(;r<i;){let l,h=Math.floor((r+i)/2),f=n(e[h]),y=f!==void 0,I=f===null,b=f===f,D=Ys(f);o?l=b:u?l=b&&y:s?l=b&&y&&!I:a?l=b&&y&&!I&&!D:I||D?l=!1:l=f<t,l?r=h+1:i=h}return Math.min(i,n2)},$n=(e,t)=>{let n=-1,r=(u,l)=>!!(u==null?0:u.length)&&u.indexOf(l)>-1;t=Jf(t,2);let i=!0,{length:o}=e,s=[],a=s;if(o>=Xm){let u=t?null:L2(e);if(u)return $f(u);i=!1,r=(l,h)=>l.has(h),a=new Fi}else a=t?[]:s;e:for(;++n<o;){let u=e[n],l=t?t(u):u;if(u=u!==0?u:0,i&&l===l){let h=a.length;for(;h--;)if(a[h]===l)continue e;t&&a.push(l),s.push(u)}else r(a,l)||(a!==s&&a.push(l),s.push(u))}return s},vn=e=>Ws(e),Wt=e=>Ws(e,!0),xn=e=>{if(e==null)return!0;if(or(e)&&(Array.isArray(e)||typeof e=="string"||typeof e.splice=="function"||zu(e)||Ru(e)))return!e.length;let t=hr(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(Yf(e))return!a2(e).length;for(let n in e)if(hasOwnProperty.call(e,n))return!1;return!0},Sr=(e,t)=>Xf(e,t),We=e=>typeof e=="function",ft=e=>{if(!dr(e)||hr(e)!="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},Se=e=>{if(!e)return[];if(or(e))return _t(e)?Qb(e):$m(e);if(Symbol.iterator&&Symbol.iterator in Object(e)){let r=e[Symbol.iterator](),i,o=[];for(;!(i=r.next()).done;)o.push(i.value);return o}let t=hr(e);return(t==_u?ox:t==Fu?$f:s2)(e)};function Qf(e,t,n){if(typeof e!="function")throw new TypeError("Expected a function");let r,i,o,s,a,u,l=0,h=!1,f=!1,y=!0,I=!t&&t!==0&&window&&typeof window.requestAnimationFrame=="function";t=+t||0,je(n)&&(h=!!n.leading,f="maxWait"in n,o=f?Math.max(+n.maxWait||0,t):o,y="trailing"in n?!!n.trailing:y);function b(v){let x=r,N=i;return r=i=void 0,l=v,s=e.apply(N,x),s}function D(v,x){return I?(window.cancelAnimationFrame(a),window.requestAnimationFrame(v)):setTimeout(v,x)}function E(v){if(I)return window.cancelAnimationFrame(v);clearTimeout(v)}function P(v){return l=v,a=D(X,t),h?b(v):s}function z(v){let x=v-u,N=v-l,S=t-x;return f?Math.min(S,o-N):S}function H(v){let x=v-u,N=v-l;return u===void 0||x>=t||x<0||f&&N>=o}function X(){let v=Date.now();if(H(v))return ne(v);a=D(X,z(v))}function ne(v){return a=void 0,y&&r?b(v):(r=i=void 0,s)}function p(...v){let x=Date.now(),N=H(x);if(r=v,i=this,u=x,N){if(a===void 0)return P(u);if(f)return a=D(X,t),b(u)}return a===void 0&&(a=D(X,t)),s}return p.cancel=()=>{a!==void 0&&E(a),l=0,r=u=i=a=void 0},p.flush=()=>a===void 0?s:ne(Date.now()),p.pending=()=>a!==void 0,p}var Kf=(e,t)=>(t=Jf(t,2),W2(e,(n,r,i)=>(i=t(r),hasOwnProperty.call(n,i)?n[i].push(r):To(n,i,[r]),n),{})),Js=(e,t=[])=>{if(e==null)return[];let n=t.length;return n>1&&zf(e,t[0],t[1])?t=[]:n>2&&zf(t[0],t[1],t[2])&&(t=[t[0]]),Array.isArray(t)||(t=[Jf(t,2)]),k2(e,t.flat(1),[])},ed=e=>(e==null?0:e.length)?hx(e,1/0):[],So=(e,...t)=>or(e)?sx(e,t):[],qs=(e,...t)=>dr(e)&&or(e)?sx(e,t.flat(1)):[],px=(...e)=>{let t=e.map(n=>dr(n)&&or(n)?n:[]);return t.length&&t[0]===e[0]?b2(t):[]},Po=(...e)=>{let t=e.flat(1);return $n(t)},Dn=(e,t)=>{if(e==null)return!1;typeof t=="string"&&(t=t.split("."));let n=-1,r=e;for(;++n<t.length;){if(!r||!hasOwnProperty.call(r,t[n]))return!1;r=r[t[n]]}return!0},ht=(e,t,n)=>{t=ji(t,e);let r=-1,i=t.length;for(i||(i=1,e=void 0);++r<i;){let o=e?.[gi(t[r])];o===void 0&&(r=i,o=n),e=typeof o=="function"?o.call(e):o}return e},Rn=(e,...t)=>{let n={};if(e==null)return n;let r=!1;t=t.flat(1).map(o=>(o=ji(o,e),r||(r=o.length>1),o)),Bu(e,rx(e),n),r&&(n=Ws(n,!0,!0,!0,o=>ft(o)?void 0:o));let i=t.length;for(;i--;)M2(n,t[i]);return n},mx=(e,...t)=>e==null?{}:X2(e,t.flat(1/0)),vx=(e,...t)=>(t.flat(1).forEach(n=>{n=gi(n),To(e,n,e[n].bind(e))}),e),yn=(e,t=n=>n)=>{let n=-1,r=Object(e),i=or(e)?Kb(e,!0):ev(e),o=i.length;for(;o--;){let s=i[++n];if(t(r[s],s,r)===!1)break}},td=(e="")=>tO(`${e}`.replace(/['\u2019]/g,"")).reduce((t,n,r)=>(n=n.toLowerCase(),t+(r?rO(n):n)),""),oO=0,nd=(e="")=>{let t=++oO;return`${e}`+t},xt=ux((e,t,n,r)=>{tv(e,t,n,r)},!0);var rn=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,pn.classNamePrefix.length)!==pn.classNamePrefix&&(t=pn.classNamePrefix+t),t}).join(" ")},av=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,pn.classNamePrefix.length)===pn.classNamePrefix&&(t=t.substr(pn.classNamePrefix.length)),t}).join(" ")},zi=function(e,t){let n={},r={},i=Y.namespace.svg,o=t||i,s=document.createDocumentFragment(),a=function(u,l,h){for(let f=0;f<u.length;f++){let y=u[f];if(typeof y=="string"){let X=document.createTextNode(y);l.appendChild(X);continue}if(!y.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");let I=y.tagName,b;y.hasOwnProperty("namespaceURI")&&(h=y.namespaceURI),b=document.createElementNS(h,I);let D=h===i,E=D?Y:$r.default,P=y.attributes;P&&E(b).attr(P);let z=y.style;if(z&&(0,$r.default)(b).css(z),y.hasOwnProperty("className")){let X=y.className;D?b.className.baseVal=X:b.className=X}if(y.hasOwnProperty("textContent")&&(b.textContent=y.textContent),y.hasOwnProperty("selector")){let X=y.selector;if(n[X])throw new Error("json-dom-parser: selector must be unique");n[X]=b,E(b).attr("joint-selector",X)}if(y.hasOwnProperty("groupSelector")){let X=y.groupSelector;Array.isArray(X)||(X=[X]);for(let ne=0;ne<X.length;ne++){let p=X[ne],v=r[p];v||(v=r[p]=[]),v.push(b)}}l.appendChild(b);let H=y.children;Array.isArray(H)&&a(H,b,h)}};return a(e,s,o),{fragment:s,selectors:n,groupSelectors:r}},Qs=function(e){let t=0;if(e.length===0)return t;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);t=(t<<5)-t+r,t=t&t}return t},Jr=function(e,t,n){for(var r=Array.isArray(t)?t:t.split(n||"/"),i,o=0,s=r.length;o<s;)if(i=r[o++],Object(e)===e&&i in e)e=e[i];else return;return e},Ix=function(e,t){return typeof t!="string"&&typeof t!="number"&&(t=String(t)),!(t==="constructor"&&typeof e[t]=="function"||t==="__proto__")},Ks=function(e,t,n,r){let i=Array.isArray(t)?t:t.split(r||"/"),o=i.length-1,s=e,a=0;for(;a<o;a++){let u=i[a];if(!Ix(s,u))return e;s=s[u]||(s[u]={})}return s[i[o]]=n,e},rd=function(e,t,n){let r=Array.isArray(t)?t:t.split(n||"/"),i=r.length-1,o=e,s=0;for(;s<i;s++){let a=r[s];if(!Ix(o,a))return e;let u=o[a];if(!u)return e;o=u}return delete o[r[i]],e},Cx=function(e,t,n){t=t||"/";var r={};for(var i in e)if(e.hasOwnProperty(i)){var o=typeof e[i]=="object";if(o&&n&&n(e[i])&&(o=!1),o){var s=Cx(e[i],t,n);for(var a in s)s.hasOwnProperty(a)&&(r[i+t+a]=s[a])}else r[i]=e[i]}return r},uv=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})},pi=function(e){return pi.id=pi.id||1,e===void 0?"j_"+pi.id++:(e.id=e.id===void 0?"j_"+pi.id++:e.id,e.id)},cv=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},qe=function(e){if(e.normalized)return e;let{originalEvent:t,target:n}=e,r=t&&t.changedTouches&&t.changedTouches[0];if(r)for(let i in r)e[i]===void 0&&(e[i]=r[i]);if(n){let i=n.correspondingUseElement;i&&(e.target=i)}return e.normalized=!0,e},lv=function(e){let i=0,o=0,s=0,a=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(i=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(i=o,o=0),s="deltaX"in e?e.deltaX:i*10,a="deltaY"in e?e.deltaY:o*10,(s||a)&&e.deltaMode&&(e.deltaMode==1?(s*=40,a*=40):(s*=800,a*=800)),e.deltaX===0&&e.deltaY!==0&&e.shiftKey&&(s=a,a=0,i=o,o=0),s&&!i&&(i=s<1?-1:1),a&&!o&&(o=a<1?-1:1),{spinX:i,spinY:o,deltaX:s,deltaY:a}},fv=function(e,t){return e>t?t:e<-t?-t:e},ea=function(){var e;if(typeof window<"u"&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(n){var r=new Date().getTime(),i=Math.max(0,16-(r-t)),o=setTimeout(function(){n(r+i)},i);return t=r+i,o}}return function(n,r,...i){return e(r!==void 0?n.bind(r,...i):n)}}(),ta=function(){var e,t=typeof window<"u";return t&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e}(),sO=function(e,t,n,r){var i,o;if(!n){var s=t.$(".scalable")[0],a=t.$(".rotatable")[0];s&&s.firstChild?n=s.firstChild:a&&a.firstChild&&(n=a.firstChild)}return n?(o=Y(n).findIntersection(r,e.paper.cells),o||(i=Y(n).getBBox({target:e.paper.cells}))):(i=t.model.getBBox(),o=i.intersectionWithLineFromCenterToPoint(r)),o||i.center()},Nt=function(e){return _t(e)&&e.slice(-1)==="%"},Ax=function(e,t){function n(a){var u=new RegExp("(?:\\d+(?:\\.\\d+)*)("+a+")$").exec(e);return u?u[1]:null}var r=parseFloat(e);if(Number.isNaN(r))return null;var i={};i.value=r;var o;if(t==null)o="[A-Za-z]*";else if(Array.isArray(t)){if(t.length===0)return null;o=t.join("|")}else _t(t)&&(o=t);var s=n(o);return s===null?null:(i.unit=s,i)},Gu=0;function aO(e,t){let n=e.split(t),r=1;for(let i=0,o=n.length-1;i<o;i++){let s=[];(i>0||n[0]!=="")&&s.push(Gu),s.push(t),(i<o-1||n[o]!=="")&&s.push(Gu),n.splice(r,0,...s),r+=s.length+1}return n.filter(i=>i!=="")}function yx(e,t){if(e===null)return t.getBBox().height;switch(e.unit){case"em":return t.getBBox().height*e.value;case"px":case"":return e.value}}var Zu=function(e,t,n={},r={}){var i=t.width,o=t.height,s=r.svgDocument||Y("svg").node,a=Y("tspan").node,u=Y("text").attr(n).append(a).node,l=document.createTextNode("");u.style.opacity=0,u.style.display="block",a.style.display="block",a.appendChild(l),s.appendChild(u),r.svgDocument||document.body.appendChild(s);let h=r.preserveSpaces,f=" ",y=r.separator||r.separator===""?r.separator:f,I=typeof y=="string"?y:f;var b=r.eol||`
`,D=r.hyphen?new RegExp(r.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,E=r.maxLineCount;$t(E)||(E=1/0);var P=e.split(y),z=[],H=[],X,ne,p;h&&Y(a).attr("xml:space","preserve");for(var v=0,x=0,N=P.length;v<N;v++){var S=P[v];if(!(!S&&!h)&&typeof S=="string"){var j=!1;if(b&&S.indexOf(b)>=0)if(S.length>1){let Ee=aO(P[v],b);P.splice(v,1,...Ee),v--,N=P.length;continue}else{if(h&&typeof P[v-1]=="string"){P.splice(v,Gu,"",Gu),N+=2,v--;continue}H[++x]=!h||typeof P[v+1]=="string"?"":void 0,j=!0}if(!j){let Ee;if(h?Ee=H[x]!==void 0?H[x]+I+S:S:Ee=H[x]?H[x]+I+S:S,l.data=Ee,a.getComputedTextLength()<=i)H[x]=Ee,(X||ne)&&(z[x++]=!0,X=0,ne=0);else{if(!H[x]||X){var B=!!X;if(X=S.length-1,B||!X){if(!X){if(!H[x]){H=[];break}P.splice(v,2,S+P[v+1]),N--,z[x++]=!0,v--;continue}P[v]=S.substring(0,X);let De=P[v+1];P[v+1]=S.substring(X)+(De===void 0||De===Gu?"":De)}else{if(ne)P.splice(v,2,P[v]+P[v+1]),ne=0;else{var W=S.search(D);W>-1&&W!==S.length-1&&W!==0&&(ne=W+1,X=0),P.splice(v,1,S.substring(0,ne||X),S.substring(ne||X)),N++}x&&!z[x-1]&&x--}(!h||H[x]!=="")&&v--;continue}x++,v--}}var ae=null;if(H.length>E)ae=E-1;else if(o!==void 0){if(p===void 0&&l.data!=="")if(n.lineHeight==="auto")p=yx({value:1.5,unit:"em"},u);else{let Ee=Ax(n.lineHeight,["em","px",""]);p=yx(Ee,u)}p*H.length>o&&(ae=Math.floor(o/p)-1)}if(ae!==null){H.splice(ae+1);var de=r.ellipsis;if(!de||ae<0)break;typeof de!="string"&&(de="\u2026");var G=H[ae];if(!G&&!j)break;var q=G.length,J,Q;do{if(Q=G[q],J=G.substring(0,q),Q?Q.match(y)&&(J+=Q):J+=I,J+=de,l.data=J,a.getComputedTextLength()<=i){H[ae]=J;break}q--}while(q>=0);break}}}return r.svgDocument?s.removeChild(u):document.body.removeChild(s),H.join(b)},dv=function(e){var t=(0,$r.default)($r.default.parseHTML("<div>"+e+"</div>",null,!1));return t.find("*").each(function(){var n=this;$r.default.each(n.attributes,function(){var r=this,i=r.name,o=r.value;(i.startsWith("on")||o.startsWith("javascript:")||o.startsWith("data:")||o.startsWith("vbscript:"))&&(0,$r.default)(n).removeAttr(i)})}),t.html()},wx=function(e,t){if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(e,t);else{var n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)}},uO=function(e,t){let n=bx(e);wx(n,t)},bx=function(e){e=e.replace(/\s/g,""),e=decodeURIComponent(e);var t=e.indexOf(","),n=e.slice(0,t),r=n.split(":")[1].split(";")[0],i=e.slice(t+1),o;n.indexOf("base64")>=0?o=atob(i):o=unescape(encodeURIComponent(i));for(var s=new Uint8Array(o.length),a=0;a<o.length;a++)s[a]=o.charCodeAt(a);return new Blob([s],{type:r})},cO=function(e,t){if(!e||e.substr(0,5)==="data:")return setTimeout(function(){t(null,e)},0);var n=function(o,s){if(o.status===200){var a=new FileReader;a.onload=function(u){var l=u.target.result;s(null,l)},a.onerror=function(){s(new Error("Failed to load image "+e))},a.readAsDataURL(o.response)}else s(new Error("Failed to load image "+e))},r=function(o,s){var a=function(I){for(var b=32768,D=[],E=0;E<I.length;E+=b)D.push(String.fromCharCode.apply(null,I.subarray(E,E+b)));return D.join("")};if(o.status===200){var u=new Uint8Array(o.response),l=e.split(".").pop()||"png",h={svg:"svg+xml"},f="data:image/"+(h[l]||l)+";base64,",y=f+btoa(a(u));s(null,y)}else s(new Error("Failed to load image "+e))},i=new XMLHttpRequest;i.open("GET",e,!0),i.addEventListener("error",function(){t(new Error("Failed to load image "+e))}),i.responseType=window.FileReader?"blob":"arraybuffer",i.addEventListener("load",function(){window.FileReader?n(i,t):r(i,t)}),i.send()},lO=function(e){var t=(0,$r.default)(e);if(t.length===0)throw new Error("Element not found");var n=t[0],r=n.ownerDocument,i=n.getBoundingClientRect(),o=0,s=0;if(n.ownerSVGElement){var a=Y(n),u=a.getBBox({target:a.svg()});o=i.width-u.width,s=i.height-u.height}return{x:i.left+window.pageXOffset-r.documentElement.offsetLeft+o/2,y:i.top+window.pageYOffset-r.documentElement.offsetTop+s/2,width:i.width-o,height:i.height-s}},hv=function(e,t){var n=(0,$r.default)(e),r=n.map(function(){var i=this,o=i.parentNode,s=o.insertBefore(document.createTextNode(""),i.nextSibling);return function(){if(o===this)throw new Error("You can't sort elements if any one is a descendant of another.");o.insertBefore(this,s),o.removeChild(s)}});return Array.prototype.sort.call(n,t).each(function(i){r[i].call(this)})},fO=function(e,t){var n=(0,$r.default)(e);yn(t,function(r,i){var o=n.find(i).addBack().filter(i);Dn(r,"class")&&(o.addClass(r.class),r=Rn(r,"class")),o.attr(r)})},Mn=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var n,r,i,o;return n=r=i=o=0,isFinite(e.vertical)&&(n=i=+e.vertical),isFinite(e.horizontal)&&(r=o=+e.horizontal),isFinite(e.top)&&(n=+e.top),isFinite(e.right)&&(r=+e.right),isFinite(e.bottom)&&(i=+e.bottom),isFinite(e.left)&&(o=+e.left),{top:n,right:r,bottom:i,left:o}},gv={linear:function(e){return e},quad:function(e){return e*e},cubic:function(e){return e*e*e},inout:function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)},exponential:function(e){return Math.pow(2,10*(e-1))},bounce:function(e){for(var t=0,n=1;;t+=n,n/=2)if(e>=(7-4*t)/11){var r=(11-6*t-11*e)/4;return-r*r+n*n}},reverse:function(e){return function(t){return 1-e(1-t)}},reflect:function(e){return function(t){return .5*(t<.5?e(2*t):2-e(2-2*t))}},clamp:function(e,t,n){return t=t||0,n=n||1,function(r){var i=e(r);return i<t?t:i>n?n:i}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},elastic:function(e){return e||(e=1.5),function(t){return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}}},Uu={number:function(e,t){var n=t-e;return function(r){return e+n*r}},object:function(e,t){var n=Object.keys(e);return function(r){var i,o,s={};for(i=n.length-1;i!=-1;i--)o=n[i],s[o]=e[o]+(t[o]-e[o])*r;return s}},hexColor:function(e,t){var n=parseInt(e.slice(1),16),r=parseInt(t.slice(1),16),i=n&255,o=(r&255)-i,s=n&65280,a=(r&65280)-s,u=n&16711680,l=(r&16711680)-u;return function(h){var f=i+o*h&255,y=s+a*h&65280,I=u+l*h&16711680;return"#"+(1<<24|f|y|I).toString(16).slice(1)}},unit:function(e,t){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(e),i=n.exec(t),o=i[1].indexOf("."),s=o>0?i[1].length-o-1:0;e=+r[1];var a=+i[1]-e,u=r[2];return function(l){return(e+a*l).toFixed(s)+u}}},pv={outline:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',n=Number.isFinite(e.margin)?e.margin:2,r=Number.isFinite(e.width)?e.width:1;return In(t)({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:n+r,innerRadius:n})},highlight:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return In(t)({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return In('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return In(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return In('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return In('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return In('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return In('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return In('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return In('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return In('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},dO={number:function(e,t,n){n=n||{currency:["$",""],decimal:".",thousands:",",grouping:[3]};var r=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,i=r.exec(e),o=i[1]||" ",s=i[2]||">",a=i[3]||"",u=i[4]||"",l=i[5],h=+i[6],f=i[7],y=i[8],I=i[9],b=1,D="",E="",P=!1;switch(y&&(y=+y.substring(1)),(l||o==="0"&&s==="=")&&(l=o="0",s="=",f&&(h-=Math.floor((h-1)/4))),I){case"n":f=!0,I="g";break;case"%":b=100,E="%",I="f";break;case"p":b=100,E="%",I="r";break;case"b":case"o":case"x":case"X":u==="#"&&(D="0"+I.toLowerCase());break;case"c":case"d":P=!0,y=0;break;case"s":b=-1,I="r";break}u==="$"&&(D=n.currency[0],E=n.currency[1]),I=="r"&&!y&&(I="g"),y!=null&&(I=="g"?y=Math.max(1,Math.min(21,y)):(I=="e"||I=="f")&&(y=Math.max(0,Math.min(20,y))));var z=l&&f;if(P&&t%1)return"";var H=t<0||t===0&&1/t<0?(t=-t,"-"):a,X=E;if(b<0){var ne=this.prefix(t,y);t=ne.scale(t),X=ne.symbol+E}else t*=b;t=this.convert(I,t,y);var p=t.lastIndexOf("."),v=p<0?t:t.substring(0,p),x=p<0?"":n.decimal+t.substring(p+1);function N(B){for(var W=B.length,ae=[],de=0,G=n.grouping[0];W>0&&G>0;)ae.push(B.substring(W-=G,W+G)),G=n.grouping[de=(de+1)%n.grouping.length];return ae.reverse().join(n.thousands)}!l&&f&&n.grouping&&(v=N(v));var S=D.length+v.length+x.length+(z?0:H.length),j=S<h?new Array(S=h-S+1).join(o):"";return z&&(v=N(j+v)),H+=D,t=v+x,(s==="<"?H+t+j:s===">"?j+H+t:s==="^"?j.substring(0,S>>=1)+H+t+j.substring(S):H+(z?t:j+t))+X},string:function(e,t){for(var n,r="{",i=!1,o=[];(n=e.indexOf(r))!==-1;){var s,a,u;if(s=e.slice(0,n),i){a=s.split(":"),u=a.shift().split("."),s=t;for(var l=0;l<u.length;l++)s=s[u[l]];a.length&&(s=this.number(a,s))}o.push(s),e=e.slice(n+1),i=!i,r=i?"}":"{"}return o.push(e),o.join("")},convert:function(e,t,n){switch(e){case"b":return t.toString(2);case"c":return String.fromCharCode(t);case"o":return t.toString(8);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"g":return t.toPrecision(n);case"e":return t.toExponential(n);case"f":return t.toFixed(n);case"r":return(t=this.round(t,this.precision(t,n))).toFixed(Math.max(0,Math.min(20,this.precision(t*(1+1e-15),n))));default:return t+""}},round:function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)},precision:function(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)},prefix:function(e,t){var n=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"].map(function(i,o){var s=Math.pow(10,Math.abs(8-o)*3);return{scale:o>8?function(a){return a/s}:function(a){return a*s},symbol:i}}),r=0;return e&&(e<0&&(e*=-1),t&&(e=this.round(e,this.precision(e,t))),r=1+Math.floor(1e-12+Math.log(e)/Math.LN10),r=Math.max(-24,Math.min(24,Math.floor((r<=0?r+1:r-1)/3)*3))),n[8+r/3]}},In=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},e.replace(t,function(r){for(var i=Array.from(arguments),o=i.slice(1,4).find(function(u){return!!u}),s=o.split("."),a=n[s.shift()];a!==void 0&&s.length;)a=a[s.shift()];return a!==void 0?a:""})}},hO=function(e){var t=window.top.document;e=e||t.body;function n(r,i){for(var o=["webkit","moz","ms","o",""],s=0;s<o.length;s++){var a=o[s],u=a?a+i:i.substr(0,1).toLowerCase()+i.substr(1);if(r[u]!==void 0)return We(r[u])?r[u]():r[u]}}n(t,"FullscreenElement")||n(t,"FullScreenElement")?n(t,"ExitFullscreen")||n(t,"CancelFullScreen"):n(e,"RequestFullscreen")||n(e,"RequestFullScreen")};var gO=function(){};function Hu(e){e=$n(e);let t=Se(e).reduce(function(n,r){return n[r.id]=r.clone(),n},{});return Se(e).forEach(function(n){let r=t[n.id];if(r.isLink()){let s=r.source(),a=r.target();s.id&&t[s.id]&&r.prop("source/id",t[s.id].id),a.id&&t[a.id]&&r.prop("target/id",t[a.id].id)}let i=n.get("parent");i&&t[i]&&r.set("parent",t[i].id);let o=Se(n.get("embeds")).reduce(function(s,a){return t[a]&&s.push(t[a].id),s},[]);xn(o)||r.set("embeds",o)}),t}var pO=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],mO=pO.reduce((e,t)=>(e[t]=!0,e),{}),vO={qualify:function(e){return ft(e)},set:function(e,t,n){Object.keys(e).forEach(function(r){if(mO[r]&&r in n){let i=e[r];n.tagName==="SELECT"&&Array.isArray(i)?Array.from(n.options).forEach(function(o,s){o.selected=i.includes(o.value)}):n[r]=i}})}},xx=vO;var ra=Cr(hi(),1);function Vi(e,t){return function(n,r){var i=Nt(n);n=parseFloat(n),i&&(n/=100);var o={};if(isFinite(n)){var s=i||n>=0&&n<=1?n*r[t]:Math.max(n+r[t],0);o[e]=s}return o}}function id(e,t,n){return function(r,i){var o=Nt(r);r=parseFloat(r),o&&(r/=100);var s;if(isFinite(r)){var a=i[n]();o||r>0&&r<1?s=a[e]+i[t]*r:s=a[e]+r}var u=k();return u[e]=s||0,u}}function Dx(e,t,n){return function(r,i){var o;r==="middle"?o=i[t]/2:r===n?o=i[t]:isFinite(r)?o=r>-1&&r<1?-i[t]*r:-r:Nt(r)?o=i[t]*parseFloat(r)/100:o=0;var s=k();return s[e]=-(i[e]+o),s}}function Sx(e,t){var n="joint-shape",r=t&&t.resetOffset;return function(i,o,s){var a=(0,ra.default)(s),u=a.data(n);if(!u||u.value!==i){var l=e(i);u={value:i,shape:l,shapeBBox:l.bbox()},a.data(n,u)}var h=u.shape.clone(),f=u.shapeBBox.clone(),y=f.origin(),I=o.origin();f.x=I.x,f.y=I.y;var b=o.maxRectScaleToFit(f,I),D=f.width===0||o.width===0?1:b.sx,E=f.height===0||o.height===0?1:b.sy;return h.scale(D,E,y),r&&h.translate(-y.x,-y.y),h}}function Mx(e){function t(r){return new Ce(Y.normalizePathData(r))}var n=Sx(t,e);return function(r,i,o){var s=n(r,i,o);return{d:s.serialize()}}}function Nx(e){var t=Sx(et,e);return function(n,r,i){var o=t(n,r,i);return{points:o.serialize()}}}function od(e,t){var n=new k(1,0);return function(r){var i,o,s=this[e](r);return s?(o=t.rotate?s.vector().vectorAngle(n):0,i=s.start):(i=this.path.start,o=0),o===0?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+o+")"}}}function Ex(e){return function(n,r,i){let o=Y(i);o.attr(e)!==n&&o.attr(e,n)}}function na(e,t,n){return n.text!==void 0}function Wu(){return this.model.isLink()}function mv(e){var t={},n=e.stroke;typeof n=="string"&&(t.stroke=n,t.fill=n);var r=e.strokeOpacity;return r===void 0&&(r=e["stroke-opacity"]),r===void 0&&(r=e.opacity),r!==void 0&&(t["stroke-opacity"]=r,t["fill-opacity"]=r),t}function Tx(e){let{paper:t}=this;return`url(#${e.type==="pattern"?t.definePattern(e):t.defineGradient(e)})`}var ze={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:Ex("href")},xlinkHref:{set:Ex("xlink:href")},filter:{qualify:ft,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}},fill:{qualify:ft,set:Tx},stroke:{qualify:ft,set:Tx},sourceMarker:{qualify:ft,set:function(e,t,n,r){return e=Ie(mv(r),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},targetMarker:{qualify:ft,set:function(e,t,n,r){return e=Ie(mv(r),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},vertexMarker:{qualify:ft,set:function(e,t,n,r){return e=Ie(mv(r),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},text:{qualify:function(e,t,n){return!n.textWrap||!ft(n.textWrap)},set:function(e,t,n,r){let i=(0,ra.default)(n),o="joint-text",s=i.data(o),{lineHeight:a,annotations:u,textVerticalAnchor:l,eol:h,displayEmpty:f}=r,y=r.textPath,I=r.x;ln(I)&&(I=fn(I,t));let b=r["font-size"]||r.fontSize;ln(b)&&(b=fn(b,t));let D=JSON.stringify([e,a,u,l,h,f,y,I,b]);if(s===void 0||s!==D){if(b&&n.setAttribute("font-size",b),je(y)){let E=y.selector;if(typeof E=="string"){let[P]=this.findBySelector(E);P instanceof SVGPathElement&&(y=Ie({"xlink:href":"#"+P.id},y))}}Y(n).text(""+e,{lineHeight:a,annotations:u,textPath:y,x:I,textVerticalAnchor:l,eol:h,displayEmpty:f}),i.data(o,D)}}},textWrap:{qualify:ft,set:function(e,t,n,r){var i={},o=e.width||0;Nt(o)?i.width=t.width*parseFloat(o)/100:ln(o)?i.width=Number(fn(o,t)):e.width===null?i.width=1/0:o<=0?i.width=t.width+o:i.width=o;var s=e.height||0;Nt(s)?i.height=t.height*parseFloat(s)/100:ln(s)?i.height=Number(fn(s,t)):e.height===null||(s<=0?i.height=t.height+s:i.height=s);var a,u=e.text;if(u===void 0&&(u=r.text),u!==void 0){let l=e.breakText||Zu,h=r["font-size"]||r.fontSize;a=l(""+u,i,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":ln(h)?fn(h,t):h,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight,"letter-spacing":"letter-spacing"in r?r["letter-spacing"]:r.letterSpacing},{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,separator:e.separator,maxLineCount:e.maxLineCount,preserveSpaces:e.preserveSpaces})}else a="";ze.text.set.call(this,a,t,n,r)}},title:{qualify:function(e,t){return t instanceof SVGElement},set:function(e,t,n){var r=(0,ra.default)(n),i="joint-title",o=r.data(i);if(o===void 0||o!==e){if(r.data(i,e),n.tagName==="title"){n.textContent=e;return}var s=n.firstElementChild;if(s&&s.tagName==="title")s.textContent=e;else{var a=document.createElementNS(n.namespaceURI,"title");a.textContent=e,n.insertBefore(a,s)}}}},lineHeight:{qualify:na},textVerticalAnchor:{qualify:na},textPath:{qualify:na},annotations:{qualify:na},eol:{qualify:na},displayEmpty:{qualify:na},port:{set:function(e){return e===null||e.id===void 0?e:e.id}},style:{qualify:ft,set:function(e,t,n){(0,ra.default)(n).css(e)}},html:{set:function(e,t,n){(0,ra.default)(n).html(e+"")}},props:xx,ref:{},refX:{position:id("x","width","origin")},refY:{position:id("y","height","origin")},refDx:{position:id("x","width","corner")},refDy:{position:id("y","height","corner")},refWidth:{set:Vi("width","width")},refHeight:{set:Vi("height","height")},refRx:{set:Vi("rx","width")},refRy:{set:Vi("ry","height")},refRInscribed:{set:function(e){var t=Vi(e,"width"),n=Vi(e,"height");return function(r,i){var o=i.height>i.width?t:n;return o(r,i)}}("r")},refRCircumscribed:{set:function(e,t){var n=Nt(e);e=parseFloat(e),n&&(e/=100);var r=Math.sqrt(t.height*t.height+t.width*t.width),i;return isFinite(e)&&(n||e>=0&&e<=1?i=e*r:i=Math.max(e+r,0)),{r:i}}},refCx:{set:Vi("cx","width")},refCy:{set:Vi("cy","height")},xAlignment:{offset:Dx("x","width","right")},yAlignment:{offset:Dx("y","height","bottom")},resetOffset:{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}},refDResetOffset:{set:Mx({resetOffset:!0})},refDKeepOffset:{set:Mx({resetOffset:!1})},refPointsResetOffset:{set:Nx({resetOffset:!0})},refPointsKeepOffset:{set:Nx({resetOffset:!1})},connection:{qualify:Wu,set:function({stubs:e=0}){let t;if(isFinite(e)&&e!==0){let n;e<0?n=(this.getConnectionLength()+e)/2:n=e;let r=this.getConnection(),i=this.getConnectionSubdivisions(),o=r.divideAtLength(n,{segmentSubdivisions:i}),s=r.divideAtLength(-n,{segmentSubdivisions:i});o&&s&&(t=`${o[0].serialize()} ${s[1].serialize()}`)}return{d:t||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:Wu,set:od("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:Wu,set:od("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:Wu,set:od("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:Wu,set:od("getTangentAtRatio",{rotate:!1})}};ze["xlink:href"]=ze.xlinkHref;["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach(e=>{ze[e]={qualify:ln,set:function(n,r){return{[e]:fn(n,r)}}}});["width","height","r","rx","ry","font-size","stroke-width"].forEach(e=>{ze[e]={qualify:ln,set:function(n,r){return{[e]:Math.max(0,fn(n,r))}}}});ze.refR=ze.refRInscribed;ze.refD=ze.refDResetOffset;ze.refPoints=ze.refPointsResetOffset;ze.atConnectionLength=ze.atConnectionLengthKeepGradient;ze.atConnectionRatio=ze.atConnectionRatioKeepGradient;ze.fontSize=ze["font-size"];ze.strokeWidth=ze["stroke-width"];ze.refX2=ze.refX;ze.refY2=ze.refY;ze.refWidth2=ze.refWidth;ze.refHeight2=ze.refHeight;ze["ref-x"]=ze.refX;ze["ref-y"]=ze.refY;ze["ref-dy"]=ze.refDy;ze["ref-dx"]=ze.refDx;ze["ref-width"]=ze.refWidth;ze["ref-height"]=ze.refHeight;ze["x-alignment"]=ze.xAlignment;ze["y-alignment"]=ze.yAlignment;var Yu=ze;var Nn=vv.default.Model.extend({constructor:function(e,t){var n,r=e||{};typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=nd("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(r=this.parse(r,t)||{}),(n=ht(this,"defaults"))&&(r=xt({},n,r)),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,n){throw new Error("Must define a translate() method.")},toJSON:function(){let t=ht(this.constructor.prototype,"defaults").attrs||{},n=this.attributes.attrs,r={};yn(n,function(o,s){let a=t[s];yn(o,function(u,l){je(u)&&!Array.isArray(u)?yn(u,function(h,f){(!a||!a[l]||!Sr(a[l][f],h))&&(r[s]=r[s]||{},(r[s][l]||(r[s][l]={}))[f]=h)}):(!a||!Sr(a[l],u))&&(r[s]=r[s]||{},r[s][l]=u)})});let i=Wt(Rn(this.attributes,"attrs"));return i.attrs=r,i},initialize:function(e){let t=this.getIdAttribute();(!e||e[t]===void 0)&&this.set(t,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return uv()},processPorts:function(){var e=this.ports,t={};yn(this.get("attrs"),function(o,s){o&&o.port&&(o.port.id!==void 0?t[o.port.id]=o.port:t[o.port]={id:o.port})});var n={};if(yn(e,function(o,s){t[s]||(n[s]=!0)}),this.graph&&!xn(n)){var r=this.graph.getConnectedLinks(this,{inbound:!0});r.forEach(function(o){n[o.get("target").port]&&o.remove()});var i=this.graph.getConnectedLinks(this,{outbound:!0});i.forEach(function(o){n[o.get("source").port]&&o.remove()})}this.ports=t},remove:function(e={}){let{graph:t,collection:n}=this;if(!t)return n&&n.remove(this,e),this;t.startBatch("remove");let r=this.getParentCell();r&&r.unembed(this,e);let i=this.getEmbeddedCells();for(let o=0,s=i.length;o<s;o++){let a=i[o];a&&a.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){e=nn(e||{},{foregroundEmbeds:!0});let n;e.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),n.unshift(this)):n=[this];let r=e.foregroundEmbeds?n:Js(n,u=>u.z()),o=t.maxZIndex()-n.length+1,s=t.get("cells"),a=s.indexOf(r[0])!==s.length-n.length;a||(a=r.some(function(u,l){return u.z()!==o+l})),a&&(this.startBatch("to-front"),o=o+n.length,r.forEach(function(u,l){u.set("z",o+l,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){e=nn(e||{},{foregroundEmbeds:!0});let r;e.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),r.unshift(this)):r=[this];let i=e.foregroundEmbeds?r:Js(r,a=>a.z()),o=t.minZIndex();var n=t.get("cells");let s=n.indexOf(i[0])!==0;s||(s=i.some(function(a,u){return a.z()!==o+u})),s&&(this.startBatch("to-back"),o-=r.length,i.forEach(function(a,u){a.set("z",o+u,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return e===void 0?this.get("parent"):this.set("parent",e,t)},embed:function(e,t){let n=Array.isArray(e)?e:[e];if(!this.canEmbed(n))throw new Error("Recursive embedding not allowed.");if(n.some(r=>r.isEmbedded()&&this.id!==r.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(n,t),this},unembed:function(e,t){let n=Array.isArray(e)?e:[e];return this._unembedCells(n,t),this},canEmbed:function(e){return(Array.isArray(e)?e:[e]).every(n=>this!==n&&!this.isEmbeddedIn(n))},_embedCells:function(e,t){let n="embed";this.startBatch(n);let r=Ie([],this.get("embeds"));e.forEach(i=>{r[i.isLink()?"unshift":"push"](i.id),i.parent(this.id,t)}),this.set("embeds",$n(r),t),this.stopBatch(n)},_unembedCells:function(e,t){let n="unembed";this.startBatch(n),e.forEach(r=>r.unset("parent",t)),this.set("embeds",So(this.get("embeds"),...e.map(r=>r.id)),t),this.stopBatch(n)},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(e=e||{},!this.graph)return[];if(e.deep)return e.breadthFirst?this._getEmbeddedCellsBfs(e.sortSiblings):this._getEmbeddedCellsDfs(e.sortSiblings);let t=this.get("embeds");if(xn(t))return[];let n=t.map(this.graph.getCell,this.graph);return e.sortSiblings&&(n=Js(n,r=>r.z())),n},_getEmbeddedCellsBfs:function(e){let t=[],n=[];for(n.push(this);n.length>0;){let r=n.shift();t.push(r);let i=r.getEmbeddedCells({sortSiblings:e});n.push(...i)}return t.shift(),t},_getEmbeddedCellsDfs:function(e){let t=[],n=[];for(n.push(this);n.length>0;){let r=n.pop();t.push(r);let i=r.getEmbeddedCells({sortSiblings:e});for(let o=i.length-1;o>=0;--o)n.push(i[o])}return t.shift(),t},isEmbeddedIn:function(e,t){var n=_t(e)?e:e.id,r=this.parent();if(t=Ie({deep:!0},t),this.graph&&t.deep){for(;r;){if(r===n)return!0;r=this.graph.getCell(r).parent()}return!1}else return r===n},isEmbedded:function(){return!!this.parent()},clone:function(e){if(e=e||{},e.deep)return Se(Hu([this].concat(this.getEmbeddedCells({deep:!0}))));var t=vv.default.Model.prototype.clone.apply(this,arguments);return t.set(this.getIdAttribute(),this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,n){var r="/",i=_t(e);if(i||Array.isArray(e))if(arguments.length>1){var o,s;i?(o=e,s=o.split("/")):(o=e.join(r),s=e.slice());var a=s[0],u=s.length;let H=n||{};H.propertyPath=o,H.propertyValue=t,H.propertyPathArray=s,"rewrite"in H||(H.rewrite=!1);for(var l={},h=l,f=a,y=1;y<u;y++){var I=s[y],b=Number.isFinite(i?Number(I):I);h=h[f]=b?[]:{},f=I}l=Ks(l,s,t,"/");var D=xt({},this.attributes);H.rewrite&&rd(D,o,"/");var E=xt(D,l);return this.set(a,E[a],H)}else return Jr(this.attributes,e,r);let P=t||{};P.propertyPath=null,P.propertyValue=e,P.propertyPathArray=[],"rewrite"in P||(P.rewrite=!1);let z={};for(let H in e){let{changedValue:X}=xt({},{changedValue:this.attributes[H]},{changedValue:e[H]});z[H]=X}return this.set(z,P)},removeProp:function(e,t){t=t||{};var n=Array.isArray(e)?e:e.split("/"),r=n[0];if(r==="attrs"&&(t.dirty=!0),n.length===1)return this.unset(e,t);var i=n.slice(1),o=this.get(r);return o==null?this:(o=Wt(o),rd(o,i,"/"),this.set(r,o,t))},attr:function(e,t,n){var r=Array.from(arguments);return r.length===0?this.get("attrs"):(Array.isArray(e)?r[0]=["attrs"].concat(e):_t(e)?r[0]="attrs/"+e:r[0]={attrs:e},this.prop.apply(this,r))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,n,r){r=r||"/";var i={duration:100,delay:10,timingFunction:gv.linear,valueFunction:Uu.number};n=Ie(i,n);var o=0,s,a=(function(f){var y,I,b;o=o||f,f-=o,I=f/n.duration,I<1?this._transitionIds[e]=y=ea(a):(I=1,delete this._transitionIds[e]),b=s(n.timingFunction(I)),n.transitionId=y,this.prop(e,b,n),y||this.trigger("transition:end",this,e)}).bind(this);let{_scheduledTransitionIds:u}=this,l;var h=f=>{u[e]&&(u[e]=So(u[e],l),u[e].length===0&&delete u[e]),this.stopPendingTransitions(e,r),s=n.valueFunction(Jr(this.attributes,e,r),t),this._transitionIds[e]=ea(f),this.trigger("transition:start",this,e)};return l=setTimeout(h,n.delay,a),u[e]||(u[e]=[]),u[e].push(l),l},getTransitions:function(){return Po(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(e,t="/"){let{_scheduledTransitionIds:n={}}=this,r=Object.keys(n);if(e){let i=e.split(t);r=r.filter(o=>Sr(i,o.split(t).slice(0,i.length)))}return r.forEach(i=>{n[i].forEach(s=>clearTimeout(s)),delete n[i]}),this},stopPendingTransitions(e,t="/"){let{_transitionIds:n={}}=this,r=Object.keys(n);if(e){let i=e.split(t);r=r.filter(o=>Sr(i,o.split(t).slice(0,i.length)))}r.forEach(i=>{let o=n[i];ta(o),delete n[i],this.trigger("transition:end",this,i)})},stopTransitions:function(e,t="/"){return this.stopScheduledTransitions(e,t),this.stopPendingTransitions(e,t),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,Ie({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,Ie({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var n in e)!e.hasOwnProperty(n)||!this.hasChanged(n)||(t|=e[n]);return t},angle:function(){return 0},position:function(){return new k(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new k},getBBox:function(){return new fe(0,0,0,0)},getPointRotatedAroundCenter(e,t,n){let r=new k(t,n);return e&&r.rotate(this.getBBox().center(),e),r},getAbsolutePointFromRelative(e,t){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(e,t))},getRelativePointFromAbsolute(e,t){return this.getPointRotatedAroundCenter(this.angle(),e,t).difference(this.position())}},{getAttributeDefinition:function(e){var t=this.attributes,n=Yu;return t&&t[e]||n[e]},define:function(e,t,n,r){n=Ie({defaults:Bi({type:e},t,this.prototype.defaults)},n);var i=this.extend(n,r);return typeof joint<"u"&&Dn(joint,"shapes")&&Ks(joint.shapes,e,i,"."),i}});var yv=function(e,t,n){if(_t(n)){if(!Xu[n])throw new Error('Unknown wrapper: "'+n+'"');n=Xu[n]}if(!We(n))throw new Error("Wrapper must be a function.");Se(t).forEach(function(r){e[r]=n(e[r])})},Xu={cells:function(e){return function(){var t=Array.from(arguments),n=t.length,r=n>0&&t[0]||[],i=n>1&&t[n-1]||{};return Array.isArray(r)||(i instanceof Nn?r=t:r instanceof Nn&&(t.length>1&&t.pop(),r=t)),i instanceof Nn&&(i={}),e.call(this,r,i)}}};function yO(e,...t){let n=[];return e.forEach((i,o)=>{n.push(i),o in t&&n.push(t[o])}),IO(n.join(""))}function IO(e){let t=new DOMParser,n=`<svg>${e.trim()}</svg>`;if(t.parseFromString(n.replace(/@/g,""),"application/xml").getElementsByTagName("parsererror")[0])throw new Error("Invalid SVG markup");let o=t.parseFromString(n,"text/html").querySelector("svg");return CO(o)}function Px(e){let t={},{tagName:n,attributes:r,namespaceURI:i,style:o,childNodes:s}=e;t.namespaceURI=i,t.tagName=i===Y.namespace.xhtml?n.toLowerCase():n;let a={};for(var u=o.length;u--;){var l=o[u];a[l]=o.getPropertyValue(l)}t.style=a;let h=r.getNamedItem("@selector");h&&(t.selector=h.value,r.removeNamedItem("@selector"));let f=r.getNamedItem("@group-selector");if(f){let D=f.value.split(",");t.groupSelector=D.map(E=>E.trim()),r.removeNamedItem("@group-selector")}let y=r.getNamedItem("class");y&&(t.className=y.value);let I=[];s.forEach(D=>{switch(D.nodeType){case Node.TEXT_NODE:{let E=D.data.replace(/\s\s+/g," ");E.trim()&&I.push(E);break}case Node.ELEMENT_NODE:{I.push(Px(D));break}default:break}}),I.length&&(t.children=I);let b={};return Array.from(r).forEach(D=>{let{name:E,value:P}=D;b[E]=P}),Object.keys(b).length>0&&(t.attributes=b),t}function CO(e){let t=[];return Array.from(e.children).forEach(n=>{t.push(Px(n))}),t}var Gt={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function ia(e,t){let n=new fe(e);switch(t){case void 0:throw new Error("Position required");case Gt.LEFT:case"leftMiddle":return n.leftMiddle();case Gt.RIGHT:case"rightMiddle":return n.rightMiddle();case Gt.TOP:case"topMiddle":return n.topMiddle();case Gt.BOTTOM:case"bottomMiddle":return n.bottomMiddle();case Gt.TOP_LEFT:case"topLeft":case"origin":return n.topLeft();case Gt.TOP_RIGHT:case"topRight":return n.topRight();case Gt.BOTTOM_LEFT:case"bottomLeft":return n.bottomLeft();case Gt.BOTTOM_RIGHT:case"bottomRight":case"corner":return n.bottomRight();case Gt.CENTER:return n.center();default:throw new Error(`Unknown position: ${t}`)}}function Ox(e,t,n){var r=e.toJSON();return r.angle=t||0,nn({},n,r)}function $u(e,t,n,r){return e.map(function(i,o,s){var a=this.pointAt((o+.5)/s.length);return(i.dx||i.dy)&&a.offset(i.dx||0,i.dy||0),Ox(a.round(),0,Cv(r,i))},ai(t,n))}function Lx(e,t,n,r){var i=t.center(),o=t.width/t.height,s=t.topMiddle(),a=qt.fromRect(t);return e.map(function(u,l,h){var f=n+r(l,h.length),y=s.clone().rotate(i,-f).scale(o,1,i),I=u.compensateRotation?-a.tangentTheta(y):0;return(u.dx||u.dy)&&y.offset(u.dx||0,u.dy||0),u.dr&&y.move(i,u.dr),Ox(y.round(),I,Cv(t,u))})}function Cv(e,t){let{x:n,y:r,angle:i}=t;return Nt(n)?n=parseFloat(n)/100*e.width:ln(n)&&(n=Number(fn(n,e))),Nt(r)?r=parseFloat(r)/100*e.height:ln(r)&&(r=Number(fn(r,e))),{x:n,y:r,angle:i}}function Iv(e,t){let{x:n,y:r}=Cv(e,t);return new k(n||0,r||0)}var AO=function(e,t){return e.map(n=>{let r=Iv(t,n).round().toJSON();return r.angle=n.angle||0,r})},wO=function(e,t,n){return n.fn(e,t,n)},bO=function(e,t,n){var r=Iv(t,n.start||t.origin()),i=Iv(t,n.end||t.corner());return $u(e,r,i,t)},xO=function(e,t,n){return $u(e,t.origin(),t.bottomLeft(),t)},DO=function(e,t,n){return $u(e,t.topRight(),t.corner(),t)},MO=function(e,t,n){return $u(e,t.origin(),t.topRight(),t)},NO=function(e,t,n){return $u(e,t.bottomLeft(),t.corner(),t)},EO=function(e,t,n){var r=n.startAngle||0,i=n.step||360/e.length;return Lx(e,t,r,function(o){return o*i})},TO=function(e,t,n){var r=n.startAngle||0,i=n.step||20;return Lx(e,t,r,function(o,s){return(o+.5-s/2)*i})};var wv={};Dt(wv,{bottom:()=>kO,inside:()=>jO,insideOriented:()=>FO,left:()=>PO,manual:()=>SO,outside:()=>_O,outsideOriented:()=>RO,radial:()=>BO,radialOriented:()=>zO,right:()=>OO,top:()=>LO});function Gi(e,t){return Bi({},e,t,{x:0,y:0,angle:0,attrs:{}})}function kx(e){var t=e.center(),n=t.theta(e.origin()),r=t.theta(e.bottomLeft()),i=t.theta(e.corner()),o=t.theta(e.topRight());return[n,o,i,r]}function Rx(e,t,n,r){r=nn({},r,{offset:15});var i=t.center().theta(e),o,s,a,u,l=r.offset,h=0;let[f,y,I,b]=kx(t);i<y||i>I?(a=".3em",o=l,s=0,u="start"):i<f?(o=0,s=-l,n?(h=-90,u="start",a=".3em"):(u="middle",a="0")):i<b?(a=".3em",o=-l,s=0,u="end"):(o=0,s=l,n?(h=90,u="start",a=".3em"):(u="middle",a=".6em"));var D=Math.round;return Gi(r,{x:D(o),y:D(s),angle:h,attrs:{labelText:{y:a,textAnchor:u}}})}function _x(e,t,n,r){r=nn({},r,{offset:15});var i=t.center().theta(e),o,s,a,u,l=r.offset,h=0;let[f,y,I,b]=kx(t);i<y||i>I?(a=".3em",o=-l,s=0,u="end"):i<f?(o=0,s=l,n?(h=90,u="start",a=".3em"):(u="middle",a=".6em")):i<b?(a=".3em",o=l,s=0,u="start"):(o=0,s=-l,n?(h=-90,u="start",a=".3em"):(u="middle",a="0"));var D=Math.round;return Gi(r,{x:D(o),y:D(s),angle:h,attrs:{labelText:{y:a,textAnchor:u}}})}function Fx(e,t,n){n=nn({},n,{offset:20});var r=ms(0,0),i=-e.theta(r),o=i,s=e.clone().move(r,n.offset).difference(e).round(),a=".3em",u;(i+90)%180===0?(u=t?"end":"middle",!t&&i===-270&&(a="0em")):i>-270&&i<-90?(u="start",o=i-180):u="end";var l=Math.round;return Gi(n,{x:l(s.x),y:l(s.y),angle:t?o:0,attrs:{labelText:{y:a,textAnchor:u}}})}var SO=function(e,t,n){return Gi(n)},PO=function(e,t,n){return Gi(n,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},OO=function(e,t,n){return Gi(n,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},LO=function(e,t,n){return Gi(n,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},kO=function(e,t,n){return Gi(n,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},RO=function(e,t,n){return Rx(e,t,!0,n)},_O=function(e,t,n){return Rx(e,t,!1,n)},FO=function(e,t,n){return _x(e,t,!0,n)},jO=function(e,t,n){return _x(e,t,!1,n)},BO=function(e,t,n){return Fx(e.difference(t.center()),!1,n)},zO=function(e,t,n){return Fx(e.difference(t.center()),!0,n)};var Pr={};Dt(Pr,{Cell:()=>Nn,CellView:()=>Ve,Element:()=>pt,ElementView:()=>Ft,Graph:()=>sd,HighlighterView:()=>sn,LayersNames:()=>_n,Link:()=>gt,LinkView:()=>Ro,Paper:()=>Nk,PaperLayer:()=>bv,ToolView:()=>Cn,ToolsView:()=>Ek,attributes:()=>Yu});var Zi=Cr(Ou(),1);var gt=Nn.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,n){if(e===void 0)return vn(this.get("source"));var r,i,o=e instanceof Nn;if(o)return r=vn(t)||{},r.id=e.id,i=n,this.set("source",r,i);var s=!ft(e);return s?(r=vn(t)||{},r.x=e.x,r.y=e.y,i=n,this.set("source",r,i)):(r=e,i=t,this.set("source",r,i))},target:function(e,t,n){if(e===void 0)return vn(this.get("target"));var r,i,o=e instanceof Nn;if(o)return r=vn(t)||{},r.id=e.id,i=n,this.set("target",r,i);var s=!ft(e);return s?(r=vn(t)||{},r.x=e.x,r.y=e.y,i=n,this.set("target",r,i)):(r=e,i=t,this.set("target",r,i))},router:function(e,t,n){if(e===void 0){var r=this.get("router");return r?typeof r=="object"?vn(r):r:this.get("manhattan")?{name:"orthogonal"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},s=i?t:n;return this.set("router",o,s)},connector:function(e,t,n){if(e===void 0){var r=this.get("connector");return r?typeof r=="object"?vn(r):r:this.get("smooth")?{name:"smooth"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},s=i?t:n;return this.set("connector",o,s)},label:function(e,t,n){var r=this.labels();return e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=r.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,n)},labels:function(e,t){return arguments.length===0?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},hasLabels:function(){let{labels:e}=this.attributes;return Array.isArray(e)&&e.length>0},insertLabel:function(e,t,n){if(!t)throw new Error("dia.Link: no label provided");var r=this.labels(),i=r.length;return e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1),r.splice(e,0,t),this.labels(r,n)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var n=this.labels();return e=isFinite(e)&&e!==null?e|0:-1,n.splice(e,1),this.labels(n,t)},vertex:function(e,t,n){var r=this.vertices();if(e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=r.length+e),arguments.length<=1)return this.prop(["vertices",e]);var i=this._normalizeVertex(t);return this.prop(["vertices",e],i,n)},vertices:function(e,t){if(arguments.length===0)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var n=[],r=0;r<e.length;r++){var i=e[r],o=this._normalizeVertex(i);n.push(o)}return this.set("vertices",n,t)},insertVertex:function(e,t,n){if(!t)throw new Error("dia.Link: no vertex provided");var r=this.vertices(),i=r.length;e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1);var o=this._normalizeVertex(t);return r.splice(e,0,o),this.vertices(r,n)},removeVertex:function(e,t){var n=this.vertices();return e=isFinite(e)&&e!==null?e|0:-1,n.splice(e,1),this.vertices(n,t)},_normalizeVertex:function(e){var t=!ft(e);return t?{x:e.x,y:e.y}:e},translate:function(e,t,n){return n=n||{},n.translateBy=n.translateBy||this.id,n.tx=e,n.ty=t,this.applyToPoints(function(r){return{x:(r.x||0)+e,y:(r.y||0)+t}},n)},scale:function(e,t,n,r){return this.applyToPoints(function(i){return k(i).scale(e,t,n).toJSON()},r)},applyToPoints:function(e,t){if(!We(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},{source:r,target:i}=this.attributes;r.id||(n.source=e(r)),i.id||(n.target=e(i));var o=this.vertices();return o.length>0&&(n.vertices=o.map(e)),this.set(n,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new k(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new k(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){let e=[this.getSourcePoint(),...this.vertices().map(k),this.getTargetPoint()];return new et(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var n=this.getSourceElement(),r=this.getTargetElement(),i=this.getParentCell();n&&r&&(n===r||n.isEmbeddedIn(r)?t=r:r.isEmbeddedIn(n)?t=n:t=this.graph.getCommonAncestor(n,r)),i&&(!t||t.id!==i.id)&&i.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var{source:t,target:n}=this.attributes,r=t.id,i=n.id;if(!r||!i)return!1;var o=r===i;if(!o&&e.deep&&this.graph){var s=this.getSourceCell(),a=this.getTargetCell();o=s.isEmbeddedIn(a)||a.isEmbeddedIn(s)}return o},getSourceCell:function(){let{graph:e,attributes:t}=this;var n=t.source;return n&&n.id&&e&&e.getCell(n.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){let{graph:e,attributes:t}=this;var n=t.target;return n&&n.id&&e&&e.getCell(n.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(n){return!!n});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=_t(e)||$t(e)?e:e.id,n=this.getRelationshipAncestor();return!!n&&(n.id===t||n.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){var n=e.port===t.port||!e.port&&!t.port;return e.id===t.id&&n}});var jx=function(e){var t=Wt(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=Av,this.portLabelLayoutNamespace=wv,this._init(t)};jx.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var n=this.getGroup(e),r=this.getPortsByGroup(e),i=n.position||{},o=i.name,s=this.portLayoutNamespace;s[o]||(o="left");var a=i.args||{},u=r.map(function(f){return f&&f.position&&f.position.args}),l=s[o](u,t,a),h={ports:r,result:[]};return Se(l).reduce((function(f,y,I){var b=f.ports[I];return f.result.push({portId:b.id,portTransformation:y,labelTransformation:this._getPortLabelLayout(b,k(y),t),portAttrs:b.attrs,portSize:b.size,labelSize:b.label.size}),f}).bind(this),h),h.result},_getPortLabelLayout:function(e,t,n){var r=this.portLabelLayoutNamespace,i=e.label.position.name||"left";return r[i]?r[i](t,n,e.label.position.args):null},_init:function(e){if(je(e.groups))for(var t=Object.keys(e.groups),n=0,r=t.length;n<r;n++){var i=t[n];this.groups[i]=this._evaluateGroup(e.groups[i])}for(var o=Se(e.items),s=0,a=o.length;s<a;s++)this.ports.push(this._evaluatePort(o[s]))},_evaluateGroup:function(e){return xt(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=Ie({},e),n=this.getGroup(e.group);return t.markup=t.markup||n.markup,t.attrs=xt({},n.attrs,t.attrs),t.position=this._createPositionNode(n,t),t.label=xt({},n.label,this._getLabel(t)),t.z=this._getZIndex(n,t),t.size=Ie({},n.size,t.size),t},_getZIndex:function(e,t){return $t(t.z)?t.z:$t(e.z)||e.z==="auto"?e.z:"auto"},_createPositionNode:function(e,t){return xt({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var n={},r;We(e)?(r="fn",n.fn=e):_t(e)?r=e:e===void 0?r=t?"left":null:Array.isArray(e)?(r="absolute",n.x=e[0],n.y=e[1]):je(e)&&(r=e.name,Ie(n,e.args));var i={args:n};return r&&(i.name=r),i},_getLabel:function(e,t){var n=e.label||{},r=n;return r.position=this._getPosition(n.position,t),r}};var Bx={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};Se(e.items).forEach(function(a){t[a.id]=!0});var n=this.previous("ports")||{},r={};Se(n.items).forEach(function(a){t[a.id]||(r[a.id]=!0)});var i=this.graph;if(i&&!xn(r)){var o=i.getConnectedLinks(this,{inbound:!0});o.forEach(function(a){r[a.get("target").port]&&a.remove()});var s=i.getConnectedLinks(this,{outbound:!0});s.forEach(function(a){r[a.get("source").port]&&a.remove()})}},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return this.getPortIndex(e)!==-1},getPorts:function(){return Wt(this.prop("ports/items"))||[]},getGroupPorts:function(e){let t=Se(this.prop(["ports","items"])).filter(n=>n.group===e);return Wt(t)},getPort:function(e){return Wt(Se(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortsPositions:function(e){var t=this._portSettingsData.getGroupPortsMetrics(e,fe(this.size()));return t.reduce(function(n,r){var i=r.portTransformation;return n[r.portId]={x:i.x,y:i.y,angle:i.angle},n},{})},getPortIndex:function(e){var t=je(e)?e.id:e;return this._isValidPortId(t)?Se(this.prop("ports/items")).findIndex(function(n){return n.id===t}):-1},addPort:function(e,t){if(!je(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var n=Ie([],this.prop("ports/items"));return n.push(e),this.prop("ports/items",n,t),this},insertPort:function(e,t,n){let r=typeof e=="number"?e:this.getPortIndex(e);if(!je(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");let i=Ie([],this.prop("ports/items"));return i.splice(r,0,t),this.prop("ports/items",i,n),this},portProp:function(e,t,n,r){var i=this.getPortIndex(e);if(i===-1)throw new Error("Element: unable to find port with id "+e);var o=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?o[0]=["ports","items",i].concat(t):_t(t)?o[0]=["ports/items/",i,"/",t].join(""):(o=["ports/items/"+i],ft(t)&&(o.push(t),o.push(n))),this.prop.apply(this,o)},_validatePorts:function(){var e=this.get("ports")||{},t=[];e=e||{};var n=Se(e.items);return n.forEach(function(r){typeof r!="object"&&t.push("Element: invalid port ",r),this._isValidPortId(r.id)||(r.id=this.generatePortId())},this),$n(n,"id").length!==n.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return e!=null&&!je(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",Ie([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){let n=t||{},r=this.getPortIndex(e);if(r!==-1){let i=Ie([],this.prop(["ports","items"]));i.splice(r,1),n.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],i,n),this.stopBatch("port-remove")}return this},removePorts:function(e,t){let n,r;if(Array.isArray(e)){if(n=t||{},e.length===0)return this.this;r=Ie([],this.prop(["ports","items"])).filter(function(o){return!e.some(function(s){let a=je(s)?s.id:s;return o.id===a})})}else n=e||{},r=[];return this.startBatch("port-remove"),n.rewrite=!0,this.prop(["ports","items"],r,n),this.stopBatch("port-remove"),this},_createPortData:function(){var e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));var t;this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new jx(this.get("ports"));var n=this._portSettingsData.getPorts();if(t){var r=n.filter(function(o){if(!t.find(function(s){return s.id===o.id}))return o}),i=t.filter(function(o){if(!n.find(function(s){return s.id===o.id}))return o});i.length>0&&this.trigger("ports:remove",this,i),r.length>0&&this.trigger("ports:add",this,r)}}},zx={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),n=0,r=t.node.childNodes.length;n<r;n++)e.push(t.node.childNodes[n]);var i=Kf(this.model._portSettingsData.getPorts(),"z"),o="auto";Se(i[o]).forEach(function(h){var f=this._getPortElement(h);t.append(f),e.push(f)},this);for(var s=Object.keys(i),a=0;a<s.length;a++){var u=s[a];if(u!==o){var l=parseInt(u,10);this._appendPorts(i[u],l,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,n){var r=this._getContainerElement(),i=Se(e).map(this._getPortElement,this);n[t]||t<0?Y(n[Math.max(t,0)]).before(i):r.append(i)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNode:function(e,t){let n=this._portElementsCache[e];if(!n)return null;if(!t)return n.portContentElement.node;let r=n.portElement.node,i=n.portSelectors,[o=null]=this.findBySelector(t,r,i);return o},_updatePorts:function(){this._updatePortGroup(void 0);var e=Object.keys(this.model._portSettingsData.groups);e.forEach(this._updatePortGroup,this)},_removePorts:function(){mn(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){let t,n,r,i;var o=Y(this.portContainerMarkup).addClass("joint-port"),s=this._getPortMarkup(e);if(Array.isArray(s)){var a=this.parseDOMJSON(s,o.node),u=a.fragment;u.childNodes.length>1?t=Y("g").append(u):t=Y(u.firstChild),i=a.selectors}else t=Y(s),Array.isArray(t)&&(t=Y("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group});let l=this._getPortLabelMarkup(e.label);if(Array.isArray(l)){let{fragment:D,selectors:E}=this.parseDOMJSON(l,o.node),P=D.childNodes.length;P>0&&(r=E,n=P===1?Y(D.firstChild):Y("g").append(D))}else n=Y(l),Array.isArray(n)&&(n=Y("g").append(n));var h;if(i&&r){for(var f in r)if(i[f]&&f!==this.selector)throw new Error("ElementView: selectors within port must be unique.");h=Ie({},i,r)}else h=i||r||{};let y="portRoot",I="labelRoot",b="labelText";if(y in h||(h[y]=t.node),n){let D=n.node;if(I in h||(h[I]=D),!(b in h)){let E=n.tagName()==="TEXT"?D:Array.from(D.querySelectorAll("text"));h[b]=E,r||(r={}),r[b]=E}}return o.append(t.addClass("joint-port-body")),n&&o.append(n.addClass("joint-port-label")),this._portElementsCache[e.id]={portElement:o,portLabelElement:n,portSelectors:h,portLabelSelectors:r,portContentElement:t,portContentSelectors:i},o},_updatePortGroup:function(e){for(var t=fe(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(e,t),r=0,i=n.length;r<i;r++){var o=n[r],s=o.portId,a=this._portElementsCache[s]||{},u=o.portTransformation,l=o.labelTransformation;l&&a.portLabelElement&&(this.updateDOMSubtreeAttributes(a.portLabelElement.node,l.attrs,{rootBBox:new fe(o.labelSize),selectors:a.portLabelSelectors}),this.applyPortTransform(a.portLabelElement,l,-u.angle||0)),this.updateDOMSubtreeAttributes(a.portElement.node,o.portAttrs,{rootBBox:new fe(o.portSize),selectors:a.portSelectors}),this.applyPortTransform(a.portElement,u)}},applyPortTransform:function(e,t,n){var r=Y.createSVGMatrix().rotate(n||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(r,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}};var pt=Nn.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Nn.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,n){let r=$t(t);n=(r?n:e)||{};let{parentRelative:i,deep:o,restrictedArea:s}=n,a;if(i){if(!this.graph)throw new Error("Element must be part of a graph.");let u=this.getParentCell();u&&!u.isLink()&&(a=u.get("position"))}if(r){if(a&&(e+=a.x,t+=a.y),o||s){let{x:u,y:l}=this.get("position");this.translate(e-u,t-l,n)}else this.set("position",{x:e,y:t},n);return this}else{let u=k(this.get("position"));return i?u.difference(a):u}},translate:function(e,t,n){if(e=e||0,t=t||0,e===0&&t===0)return this;n=n||{},n.translateBy=n.translateBy||this.id;var r=this.get("position")||{x:0,y:0},i=n.restrictedArea;if(i&&n.translateBy===this.id)if(typeof i=="function"){var o=i.call(this,r.x+e,r.y+t,n);e=o.x-r.x,t=o.y-r.y}else{var s=this.getBBox({deep:!0}),a=r.x-s.x,u=r.y-s.y,l=Math.max(i.x+a,Math.min(i.x+i.width+a-s.width,r.x+e)),h=Math.max(i.y+u,Math.min(i.y+i.height+u-s.height,r.y+t));e=l-r.x,t=h-r.y}var f={x:r.x+e,y:r.y+t};return n.tx=e,n.ty=t,n.transition?(je(n.transition)||(n.transition={}),this.transition("position",f,Ie({},n.transition,{valueFunction:Uu.object})),mn(this.getEmbeddedCells(),"translate",e,t,n)):(this.startBatch("translate",n),this.set("position",f,n),mn(this.getEmbeddedCells(),"translate",e,t,n),this.stopBatch("translate",n)),this},size:function(e,t,n){var r=this.get("size");return e===void 0?{width:r.width,height:r.height}:(je(e)&&(n=t,t=$t(e.height)?e.height:r.height,e=$t(e.width)?e.width:r.width),this.resize(e,t,n))},resize:function(e,t,n){if(n=n||{},this.startBatch("resize",n),n.direction){var r=this.get("size");switch(n.direction){case"left":case"right":t=r.height;break;case"top":case"bottom":e=r.width;break}var i=Kt(this.get("angle")||0),o=this.getBBox(),s;if(i){var a={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(a+=Math.floor((i+45)/90),a%=4);var u=o[["bottomLeft","corner","topRight","origin"][a]](),l=k(u).rotate(o.center(),-i),h=Math.sqrt(e*e+t*t)/2,f=a*Math.PI/2;f+=Math.atan(a%2==0?t/e:e/t),f-=Ht(i);var y=k.fromPolar(h,f,l);s=k(y).offset(e/-2,t/-2)}else switch(s=o.topLeft(),n.direction){case"top":case"top-right":s.offset(0,o.height-t);break;case"left":case"bottom-left":s.offset(o.width-e,0);break;case"top-left":s.offset(o.width-e,o.height-t);break}this.set("size",{width:e,height:t},n),this.position(s.x,s.y,n)}else this.set("size",{width:e,height:t},n);return this.stopBatch("resize",n),this},scale:function(e,t,n,r){var i=this.getBBox().scale(e,t,n);return this.startBatch("scale",r),this.position(i.x,i.y,r),this.resize(i.width,i.height,r),this.stopBatch("scale"),this},fitEmbeds:function(e){return this.fitToChildren(e)},fitToChildren:function(e={}){let{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");let n=this.getEmbeddedCells().filter(r=>r.isElement());return n.length===0?this:(this.startBatch("fit-embeds",e),e.deep&&mn(n,"fitToChildren",e),this._fitToElements(Object.assign({elements:n},e)),this.stopBatch("fit-embeds"),this)},fitParent:function(e={}){let{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");if(e.deep&&e.terminator&&(e.terminator===this||e.terminator===this.id))return this;let n=this.getParentCell();if(!n||!n.isElement())return this;let r=n.getEmbeddedCells().filter(i=>i.isElement());return r.length===0?this:(this.startBatch("fit-parent",e),n._fitToElements(Object.assign({elements:r},e)),e.deep&&n.fitParent(e),this.stopBatch("fit-parent"),this)},_fitToElements:function(e={}){let t=this.graph.getCellsBBox(e.elements);if(!t)return;let{expandOnly:n,shrinkOnly:r}=e;if(n&&r)return;let{x:i,y:o,width:s,height:a}=t,{left:u,right:l,top:h,bottom:f}=Mn(e.padding);i-=u,o-=h,s+=u+l,a+=f+h;let y=new fe(i,o,s,a);if(n)y=this.getBBox().union(y);else if(r){let I=this.getBBox().intersect(y);if(!I)return;y=I}this.set({position:{x:y.x,y:y.y},size:{width:y.width,height:y.height}},e)},rotate:function(e,t,n,r){if(n){var i=this.getBBox().center(),o=this.get("size"),s=this.get("position");i.rotate(n,this.get("angle")-e);var a=i.x-o.width/2-s.x,u=i.y-o.height/2-s.y;this.startBatch("rotate",{angle:e,absolute:t,origin:n}),this.position(s.x+a,s.y+u,r),this.rotate(e,t,null,r),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,r);return this},angle:function(){return Kt(this.get("angle")||0)},getBBox:function(e={}){let{graph:t,attributes:n}=this,{deep:r,rotate:i}=e;if(r&&t){let f=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return f.push(this),t.getCellsBBox(f,e)}let{angle:o=0,position:{x:s,y:a},size:{width:u,height:l}}=n,h=new fe(s,a,u,l);return i&&h.rotateAroundCenter(o),h},getPointFromConnectedLink:function(e,t){var n=this.getBBox(),r=n.center(),i=e.get(t);if(!i)return r;var o=i.port;if(!o||!this.hasPort(o))return r;var s=this.portProp(o,["group"]),a=this.getPortsPositions(s),u=new k(a[o]).offset(n.origin()),l=this.angle();return l&&u.rotate(r,-l),u}});Ie(pt.prototype,Bx);var VO=Zi.default.Collection.extend({initialize:function(e,t){t.cellNamespace?this.cellNamespace=t.cellNamespace:this.cellNamespace=typeof joint<"u"&&Dn(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){var n=t.collection,r=n.cellNamespace,i=e.type==="link"?gt:Jr(r,e.type,".")||pt,o=new i(e,t);return t.dry||(o.graph=n.graph),o},comparator:function(e){return e.get("z")||0}}),sd=Zi.default.Model.extend({initialize:function(e,t){t=t||{};var n=new VO([],{model:t.cellModel,cellNamespace:t.cellNamespace,graph:this});Zi.default.Model.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var{source:t,target:n}=e.attributes;t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var{source:t,target:n}=e.attributes;t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],n.id&&this._in[n.id]&&this._in[n.id][e.id]&&delete this._in[n.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var n=e.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var n=e.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=Zi.default.Model.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,n){var r;return typeof e=="object"?(r=e,n=t):(r={})[e]=t,r.hasOwnProperty("cells")&&(this.resetCells(r.cells,n),r=Rn(r,"cells")),Zi.default.Model.prototype.set.call(this,r,n)},clear:function(e){e=Ie({},e,{clear:!0});var t=this.get("cells");if(t.length===0)return this;this.startBatch("clear",e);var n=t.sortBy(function(r){return r.isLink()?1:2});do n.shift().remove(e);while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e,t){var n;if(e instanceof Zi.default.Model?(n=e.attributes,!e.graph&&(!t||!t.dry)&&(e.graph=this)):n=e,!_t(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof Zi.default.Model?e.has("z")||e.set("z",this.maxZIndex()+1):e.z===void 0&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return e.length===0?this:(e=ed(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(n){this.addCell(n,t),t.position--},this),this.stopBatch("add",t),this)},resetCells:function(e,t){var n=Se(e).map(function(r){return this._prepareCell(r,t)},this);return this.get("cells").reset(n,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),mn(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,n){n=n||{},n.clear||(n.disconnectLinks?this.disconnectLinks(e,n):this.removeLinks(e,n)),this.get("cells").remove(e,{silent:!0}),e.graph===this&&(e.graph=null)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(e=>e.isElement())},getLinks:function(){return this.get("cells").filter(e=>e.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){t=t||{};var n=t.indirect,r=t.inbound,i=t.outbound;r===void 0&&i===void 0&&(r=i=!0);var o=[],s={};i&&a(this,e),r&&u(this,e);function a(f,y){if(yn(f.getOutboundEdges(y.id),(function(b,D){if(!s[D]){var E=f.getCell(D);o.push(E),s[D]=!0,n&&(r&&u(f,E),i&&a(f,E))}}).bind(f)),n&&y.isLink()){var I=y.getTargetCell();I&&I.isLink()&&(s[I.id]||(o.push(I),a(f,I)))}}function u(f,y){if(yn(f.getInboundEdges(y.id),(function(b,D){if(!s[D]){var E=f.getCell(D);o.push(E),s[D]=!0,n&&(r&&u(f,E),i&&a(f,E))}}).bind(f)),n&&y.isLink()){var I=y.getSourceCell();I&&I.isLink()&&(s[I.id]||(o.push(I),u(f,I)))}}if(t.deep){var l=e.getEmbeddedCells({deep:!0}),h={};l.forEach(function(f){f.isElement()&&(h[f.id]=!0)}),l.forEach(function(f){f.isLink()||(i&&yn(this.getOutboundEdges(f.id),(function(y,I){if(!s[I]){var b=this.getCell(I),{source:D,target:E}=b.attributes,P=D.id,z=E.id;if(!t.includeEnclosed&&P&&h[P]&&z&&h[z])return;o.push(this.getCell(I)),s[I]=!0}}).bind(this)),r&&yn(this.getInboundEdges(f.id),(function(y,I){if(!s[I]){var b=this.getCell(I),{source:D,target:E}=b.attributes,P=D.id,z=E.id;if(!t.includeEnclosed&&P&&h[P]&&z&&h[z])return;o.push(this.getCell(I)),s[I]=!0}}).bind(this)))},this)}return o},getNeighbors:function(e,t){t||(t={});var n=t.inbound,r=t.outbound;n===void 0&&r===void 0&&(n=r=!0);var i=this.getConnectedLinks(e,t).reduce((function(a,u){var{source:l,target:h}=u.attributes,f=u.hasLoop(t);if(n&&Dn(l,"id")&&!a[l.id]){var y=this.getCell(l.id);y.isElement()&&(f||y&&y!==e&&(!t.deep||!y.isEmbeddedIn(e)))&&(a[l.id]=y)}if(r&&Dn(h,"id")&&!a[h.id]){var I=this.getCell(h.id);I.isElement()&&(f||I&&I!==e&&(!t.deep||!I.isEmbeddedIn(e)))&&(a[h.id]=I)}return a}).bind(this),{});if(e.isLink()){if(n){var o=e.getSourceCell();o&&o.isElement()&&!i[o.id]&&(i[o.id]=o)}if(r){var s=e.getTargetCell();s&&s.isElement()&&!i[s.id]&&(i[s.id]=s)}}return Se(i)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(n){for(var r=[],i=n.get("parent");i;)r.push(i),i=this.getCell(i).get("parent");return r},this);e=e.sort(function(n,r){return n.length-r.length});var t=Se(e.shift()).find(function(n){return e.every(function(r){return r.includes(n)})});return this.getCell(t)},getSuccessors:function(e,t){t=t||{};var n=[];return this.search(e,function(r){r!==e&&n.push(r)},Ie({},t,{outbound:!0})),n},cloneCells:Hu,cloneSubgraph:function(e,t){var n=this.getSubgraph(e,t);return this.cloneCells(n)},getSubgraph:function(e,t){t=t||{};var n=[],r={},i=[],o=[];return Se(e).forEach(function(s){if(r[s.id]||(n.push(s),r[s.id]=s,s.isLink()?o.push(s):i.push(s)),t.deep){var a=s.getEmbeddedCells({deep:!0});a.forEach(function(u){r[u.id]||(n.push(u),r[u.id]=u,u.isLink()?o.push(u):i.push(u))})}}),o.forEach(function(s){var{source:a,target:u}=s.attributes;if(a.id&&!r[a.id]){var l=this.getCell(a.id);n.push(l),r[l.id]=l,i.push(l)}if(u.id&&!r[u.id]){var h=this.getCell(u.id);n.push(this.getCell(u.id)),r[h.id]=h,i.push(h)}},this),i.forEach(function(s){var a=this.getConnectedLinks(s,t);a.forEach(function(u){var{source:l,target:h}=u.attributes;!r[u.id]&&l.id&&r[l.id]&&h.id&&r[h.id]&&(n.push(u),r[u.id]=u)})},this),n},getPredecessors:function(e,t){t=t||{};var n=[];return this.search(e,function(r){r!==e&&n.push(r)},Ie({},t,{inbound:!0})),n},search:function(e,t,n){n=n||{},n.breadthFirst?this.bfs(e,t,n):this.dfs(e,t,n)},bfs:function(e,t,n={}){let r={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){var s=o.shift();if(r[s.id]||(r[s.id]=!0,t.call(this,s,i[s.id])===!1))continue;let a=this.getNeighbors(s,n);for(let u=0,l=a.length;u<l;u++){let h=a[u];i[h.id]=i[s.id]+1,o.push(h)}}},dfs:function(e,t,n={}){let r={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){let s=o.pop();if(r[s.id]||(r[s.id]=!0,t.call(this,s,i[s.id])===!1))continue;let a=this.getNeighbors(s,n),u=o.length;for(let l=0,h=a.length;l<h;l++){let f=a[l];i[f.id]=i[s.id]+1,o.splice(u,0,f)}}},getSources:function(){var e=[];return yn(this._nodes,(function(t,n){(!this._in[n]||xn(this._in[n]))&&e.push(this.getCell(n))}).bind(this)),e},getSinks:function(){var e=[];return yn(this._nodes,(function(t,n){(!this._out[n]||xn(this._out[n]))&&e.push(this.getCell(n))}).bind(this)),e},isSource:function(e){return!this._in[e.id]||xn(this._in[e.id])},isSink:function(e){return!this._out[e.id]||xn(this._out[e.id])},isSuccessor:function(e,t){var n=!1;return this.search(e,function(r){if(r===t&&r!==e)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(e,t){var n=!1;return this.search(e,function(r){if(r===t&&r!==e)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(e,t,n){n=n||{};var r=n.inbound,i=n.outbound;r===void 0&&i===void 0&&(r=i=!0);var o=!1;return this.getConnectedLinks(e,n).forEach(function(s){var{source:a,target:u}=s.attributes;if(r&&Dn(a,"id")&&a.id===t.id||i&&Dn(u,"id")&&u.id===t.id)return o=!0,!1}),o},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(n){n.set(n.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){mn(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return this.getElements().filter(t=>t.getBBox({rotate:!0}).containsPoint(e))},findModelsInArea:function(e,t={}){let n=new fe(e),{strict:r=!1}=t,i=r?"containsRect":"intersect";return this.getElements().filter(o=>n[i](o.getBBox({rotate:!0})))},findModelsUnderElement:function(e,t={}){let{searchBy:n="bbox"}=t,r=e.getBBox().rotateAroundCenter(e.angle());return(n==="bbox"?this.findModelsInArea(r):this.findModelsFromPoint(ia(r,n))).filter(o=>e.id!==o.id&&!o.isEmbeddedIn(e))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t={}){let{rotate:n=!0}=t;return Se(e).reduce(function(r,i){let o=i.getBBox({rotate:n});return o?r?r.union(o):o:r},null)},translate:function(e,t,n){var r=this.getCells().filter(function(i){return!i.isEmbedded()});return mn(r,"translate",e,t,n),this},resize:function(e,t,n){return this.resizeCells(e,t,this.getCells(),n)},resizeCells:function(e,t,n,r){var i=this.getCellsBBox(n);if(i){var o=Math.max(e/i.width,0),s=Math.max(t/i.height,0);mn(n,"scale",o,s,i.origin(),r)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",Ie({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",Ie({},t,{batchName:e}))},hasActiveBatch:function(e){let t=this._batches,n;return arguments.length===0?n=Object.keys(t):Array.isArray(e)?n=e:n=[e],n.some(r=>t[r]>0)}},{validations:{multiLinks:function(e,t){var{source:n,target:r}=t.attributes;if(n.id&&r.id){var i=t.getSourceCell();if(i){var o=e.getConnectedLinks(i,{outbound:!0}),s=o.filter(function(a){var{source:u,target:l}=a.attributes;return u&&u.id===n.id&&(!u.port||u.port===n.port)&&l&&l.id===r.id&&(!l.port||l.port===r.port)});if(s.length>1)return!1}}return!0},linkPinning:function(e,t){var{source:n,target:r}=t.attributes;return n.id&&r.id}}});yv(sd.prototype,["resetCells","addCells","removeCells"],Xu.cells);var Oo=Cr(Ou(),1),Lo=Cr(hi(),1);var Ui={},on=Oo.default.View.extend({options:{},theme:null,themeClassNamePrefix:rn("theme-"),requireSetThemeOverride:!1,defaultTheme:pn.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=Ie({},this.options,e),Oo.default.View.call(this,e)},initialize:function(){Ui[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(e){if(e||(e=ht(this,"children")),e){var t=this.svgElement,n=Y.namespace[t?"svg":"xhtml"],r=zi(e,n);(t?this.vel:this.$el).empty().append(r.fragment),this.childNodes=r.selectors}return this},findAttribute:function(e,t){for(var n=t;n&&n.nodeType===1;){var r=n.getAttribute(e);if(r)return r;if(n===this.el)return null;n=n.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(ht(this,"el"));else{var e=ht(this,"tagName"),t=Ie({},ht(this,"attributes")),n=Ie({},ht(this,"style"));this.id&&(t.id=ht(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(Y.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof Oo.default.$?e:Oo.default.$(e),this.el=this.$el[0],this.svgElement&&(this.vel=Y(this.el))},_ensureElClassName:function(){var e=ht(this,"className");if(e){var t=rn(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override?this:(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e,this)},addThemeClassName:function(e){if(e=e||this.theme,!e)return this;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){e=e||this.theme;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Ui[this.cid]=null,Oo.default.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,n){if(!t)return this;n||(n={});var r=this.getEventNamespace();for(var i in t){var o=t[i];typeof o!="function"&&(o=this[o]),o&&(0,Lo.default)(e).on(i+r,n,o.bind(this))}return this},undelegateElementEvents:function(e){return(0,Lo.default)(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=ht(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var n=e.data,r="__"+this.cid+"__";return t===void 0?n?n[r]||{}:{}:(n||(n=e.data={}),n[r]||(n[r]={}),Ie(n[r],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&Ie({},e[0])||{},n=e[1]&&Ie({},e[1])||{},r=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return typeof r=="function"&&r.apply(this,arguments),this.render.__render__===r&&this.onRender(),this},t.render.__render__=r,Oo.default.View.extend.call(this,t,n)}}),Vx="dbltap";if(Lo.default.event&&!(Vx in Lo.default.event.special)){let e=pn.doubleTapInterval,t=30;Lo.default.event.special[Vx]={bindType:"touchend",delegateType:"touchend",handle:function(n,...r){let{handleObj:i,target:o}=n,s=Lo.default.data(o),a=new Date().getTime(),u="lastTouch"in s?a-s.lastTouch:0;u<e&&u>t?(s.lastTouch=null,n.type=i.origType,i.handler.call(this,n,...r)):s.lastTouch=a}}}var _n={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},bv=on.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return rn(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(e,t){this.el.insertBefore(e,this.insertPivot(t))},insertNode:function(e){let{el:t}=this;e.parentNode!==t&&t.appendChild(e)},insertPivot:function(e){let{el:t,pivotNodes:n}=this;e=+e,e||(e=0);let r=n[e];if(r)return r;r=n[e]=document.createComment("z-index:"+(e+1));let i=-1/0;for(let o in n)o=+o,o<e&&o>i&&(i=o,e-1);if(i!==-1/0){let o=n[i];t.insertBefore(r,o.nextSibling)}else t.insertBefore(r,t.firstChild);return r},removePivots:function(){let{el:e,pivotNodes:t}=this;for(let n in t)e.removeChild(t[n]);this.pivotNodes={}}});var xv=Cr(hi(),1);function Ju(e){return e?Array.isArray(e)?e:[e]:[]}var sn=on.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(e,t){let{paper:n}=e;this.cellView=e,this.nodeSelector=t,n&&(this.updateRequested=!0,n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;let{cellView:e,nodeSelector:t}=this;return e.isMounted()?(this.update(e,t),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(e,t=null){let n;if(typeof t=="string")[n]=e.findBySelector(t);else if(ft(t)){let r=e.model.isLink(),{label:i=null,port:o,selector:s}=t;r&&i!==null?n=e.findLabelNode(i,s):!r&&o?n=e.findPortNode(o,s):[n]=e.findBySelector(s)}else t&&(n=Y.toNode(t),n instanceof SVGElement||(n=null));return n||null},getNodeMatrix(e,t){let{options:n}=this,{layer:r}=n,{rotatableNode:i}=e,o=e.getNodeMatrix(t);return i?r?i.contains(t)?o:e.getRootRotateMatrix().inverse().multiply(o):e.getNodeRotateMatrix(t).multiply(o):o},mount(){let{MOUNTABLE:e,cellView:t,el:n,options:r,transformGroup:i,detachedTransformGroup:o,postponedUpdate:s,nodeSelector:a}=this;if(!e||i)return;if(s){this.update(t,a),this.transform();return}let{vel:u,paper:l}=t,{layer:h}=r;if(h){let f;o?(f=o,this.detachedTransformGroup=null):f=Y("g").addClass("highlight-transform").append(n),this.transformGroup=f,l.getLayerView(h).insertSortedNode(f.node,r.z)}else(!n.parentNode||n.nextSibling)&&u.append(n)},unmount(){let{MOUNTABLE:e,transformGroup:t,vel:n}=this;e&&(t?(this.transformGroup=null,this.detachedTransformGroup=t,t.remove()):n.remove())},transform(){let{transformGroup:e,cellView:t,updateRequested:n}=this;if(!e||t.model.isLink()||n)return;let r=t.getRootTranslateMatrix(),i=t.getRootRotateMatrix(),o=r.multiply(i);e.attr("transform",Y.matrixToTransformString(o))},update(){let{node:e,cellView:t,nodeSelector:n,updateRequested:r,id:i}=this;if(r)return;this.postponedUpdate=!1;let o=this.node=this.findNode(t,n);e&&this.unhighlight(t,e),o?(this.highlight(t,o),this.mount()):(this.unmount(),t.notify("cell:highlight:invalid",i,this))},onRemove(){let{node:e,cellView:t,id:n,constructor:r}=this;e&&this.unhighlight(t,e),this.unmount(),r._removeRef(t,n)},highlight(e,t){},unhighlight(e,t){},listenToUpdateAttributes(e){let t=ht(this,"UPDATE_ATTRIBUTES");!Array.isArray(t)||t.length===0||this.listenTo(e.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){let{cellView:e}=this;if(!e)return;let{model:t,paper:n}=e;ht(this,"UPDATE_ATTRIBUTES").some(i=>t.hasChanged(i))&&n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(e,t,n){let r=this.uniqueId(t,n);this.add(e,t,r,n)},unhighlight:function(e,t,n){let r=this.uniqueId(t,n);this.remove(e,r)},get(e,t=null){let{cid:n}=e,{_views:r}=this,i=r[n];if(t===null){let o=[];if(!i)return o;for(let s in i){let a=i[s];a instanceof this&&o.push(a)}return o}else{if(!i)return null;if(t in i){let o=i[t];if(o instanceof this)return o}return null}},add(e,t,n,r={}){if(!n)throw new Error("dia.HighlighterView: An ID required.");let i=sn.get(e,n);i&&i.remove();let o=new this(r);return o.id=n,this._addRef(e,n,o),o.requestUpdate(e,t),o.listenToUpdateAttributes(e),o},_addRef(e,t,n){let{cid:r}=e,{_views:i}=this,o=i[r];o||(o=i[r]={}),o[t]=n},_removeRef(e,t){let{cid:n}=e,{_views:r}=this,i=r[n];if(i){t&&delete i[t];for(let o in i)return;delete r[n]}},remove(e,t=null){Ju(this.get(e,t)).forEach(n=>{n.remove()})},removeAll(e,t=null){let{_views:n}=this;for(let r in n)for(let i in n[r]){let o=n[r][i];o.cellView.paper===e&&o instanceof this&&(t===null||i===t)&&o.remove()}},update(e,t=null,n=!1){Ju(this.get(e,t)).forEach(r=>{(n||r.UPDATABLE)&&r.update()})},transform(e,t=null){Ju(this.get(e,t)).forEach(n=>{n.UPDATABLE&&n.transform()})},unmount(e,t=null){Ju(this.get(e,t)).forEach(n=>n.unmount())},mount(e,t=null){Ju(this.get(e,t)).forEach(n=>n.mount())},uniqueId(e,t=""){return Y.ensureId(e)+JSON.stringify(t)}});var oa={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},GO={TOOLS:"TOOLS"},Ve=on.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(n,r,i){e.push("type-"+i.slice(0,r+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var e={},t={},n=0,r,i,o,s=ht(this,"presentationAttributes");for(var a in s)if(s.hasOwnProperty(a)){var u=s[a];for(Array.isArray(u)||(u=[u]),r=0,i=u.length;r<i;r++){o=u[r];var l=e[o];l||(l=e[o]=1<<n++),t[a]|=l}}var h=ht(this,"initFlag");for(Array.isArray(h)||(h=[h]),r=0,i=h.length;r<i;r++)o=h[r],e[o]||(e[o]=1<<n++);if(n>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=t},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var n=0;if(Array.isArray(e))for(var r=0,i=e.length;r<i;r++)n|=t[e[r]];else n|=t[e];return n},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||pi(this),on.call(this,e)},initialize:function(){this.setFlags(),on.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var n=e.getChangeFlag(this._presentationAttributes);t.updateHandled||!n||(t.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(n,t))},requestUpdate:function(e,t){let{paper:n}=this;n&&e>0&&n.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var n=zi(e),r=n.selectors,i=n.groupSelectors;for(var o in i){if(r[o])throw new Error("dia.CellView: ambiguous group selector");r[o]=i[o]}if(t){var s=this.selector;if(r[s])throw new Error("dia.CellView: ambiguous root selector.");r[s]=t}return{fragment:n.fragment,selectors:r}},can:function(e){var t=We(this.options.interactive)?this.options.interactive(this):this.options.interactive;return je(t)&&t[e]!==!1||qf(t)&&t!==!1},findBySelector:function(e,t,n){if(t||(t=this.el),n||(n=this.selectors),!e||e===".")return[t];if(n){var r=n[e];if(r)return Array.isArray(r)?r:[r]}return pn.useCSSSelectors?(0,xv.default)(t).find(e).toArray():[]},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var n=this.model;t=n.getBBox().bbox(n.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){let t=this.getNodeBoundingRect(e),n=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(e)),r=this.getNodeMatrix(e);return Y.transformRect(t,n.multiply(r))},getNodeRotateMatrix(e){return!this.rotatableNode||this.rotatableNode.contains(e)?this.getRootRotateMatrix():Y.createSVGMatrix()},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),n=this.getNodeMatrix(e),r=this.getRootTranslateMatrix();return Y.transformRect(t,r.multiply(n))},getRootTranslateMatrix:function(){var e=this.model,t=e.position(),n=Y.createSVGMatrix().translate(t.x,t.y);return n},getRootRotateMatrix:function(){var e=Y.createSVGMatrix(),t=this.model,n=t.angle();if(n){var r=t.getBBox(),i=r.width/2,o=r.height/2;e=e.translate(i,o).rotate(n).translate(-i,-o)}return e},_notifyHighlight:function(e,t,n={}){let{el:r}=this,i;if(typeof t=="string"?[i=r]=this.findBySelector(t):[i=r]=this.$(t),n.partial=i!==r,n.type===void 0){let o;switch(!0){case n.embedding:o=oa.EMBEDDING;break;case n.connecting:o=oa.CONNECTING;break;case n.magnetAvailability:o=oa.MAGNET_AVAILABILITY;break;case n.elementAvailability:o=oa.ELEMENT_AVAILABILITY;break;default:o=oa.DEFAULT;break}n.type=o}return this.notify(e,i,n),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e,t={}){return this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){let t=this.el,n=this.$(e)[0];n||(n=t);do{let r=n.getAttribute("magnet"),i=n===t;if((r||i)&&r!=="false")return n;if(i)return;n=n.parentNode}while(n)},findProxyNode:function(e,t){e||(e=this.el);let n=e.getAttribute(`${t}-selector`);if(n){let[r]=this.findBySelector(n);if(r)return r}return e},getSelector:function(e,t){var n;if(e===this.el)return typeof t=="string"&&(n="> "+t),n;if(e){var r=Y(e).index()+1;n=e.tagName+":nth-child("+r+")",t&&(n+=" > "+t),n=this.getSelector(e.parentNode,n)}return n},addLinkFromMagnet:function(e,t,n){var r=this.paper,i=r.model,o=r.getDefaultLink(this,e);return o.set({source:this.getLinkEnd(e,t,n,o,"source"),target:{x:t,y:n}}).addTo(i,{async:!1,ui:!0}),o.findView(r)},getLinkEnd:function(e,...t){var n=this.model,r=n.id,i=this.findAttribute("port",e),o=e.getAttribute("joint-selector"),s={id:r};return o!=null&&(s.magnet=o),i!=null?(s.port=i,!n.hasPort(i)&&!o&&(s.selector=this.getSelector(e))):o==null&&this.el!==e&&(s.selector=this.getSelector(e)),this.customizeLinkEnd(s,e,...t)},customizeLinkEnd:function(e,t,n,r,i,o){let{paper:s}=this,{connectionStrategy:a}=s.options;if(typeof a=="function"){var u=a.call(s,e,this,t,new k(n,r),i,o,s);if(u)return u}return e},getMagnetFromLinkEnd:function(e){var t=this.el,n=e.port,r=e.magnet,i=this.model,o;return n!=null&&i.isElement()&&i.hasPort(n)?o=this.findPortNode(n,r)||t:(r||(r=e.selector),!r&&n!=null&&(r='[port="'+n+'"]'),o=this.findBySelector(r,t,this.selectors)[0]),this.findProxyNode(o,"magnet")},dragLinkStart:function(e,t,n,r){this.model.startBatch("add-link");let i=this.addLinkFromMagnet(t,n,r);i.notifyPointerdown(e,n,r),i.eventData(e,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:i})},dragLink:function(e,t,n){var r=this.eventData(e),i=r.linkView;if(i)i.pointermove(e,t,n);else{var o=this.paper,s=o.options.magnetThreshold,a=this.getEventTarget(e),u=r.targetMagnet;if(s==="onleave"){if(u===a||Y(u).contains(a))return}else if(o.eventData(e).mousemoved<=s)return;this.dragLinkStart(e,u,t,n)}},dragLinkEnd:function(e,t,n){var r=this.eventData(e),i=r.linkView;i&&(i.pointerup(e,t,n),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){xn(t)||(e instanceof SVGElement?Y(e).attr(t):(0,xv.default)(e).attr(t))},processNodeAttributes:function(e,t){var n,r,i,o,s,a,u,l,h,f=[];for(n in t)t.hasOwnProperty(n)&&(r=t[n],i=this.getAttributeDefinition(n),i&&(!We(i.qualify)||i.qualify.call(this,r,e,t,this))?(_t(i.set)&&(a||(a={}),a[i.set]=r),r!==null&&f.push(n,i)):(a||(a={}),a[cv(n)]=r));for(o=0,s=f.length;o<s;o+=2)n=f[o],i=f[o+1],r=t[n],We(i.set)&&(u||(u={}),u[n]=r),We(i.position)&&(l||(l={}),l[n]=r),We(i.offset)&&(h||(h={}),h[n]=r);return{raw:t,normal:a,set:u,position:l,offset:h}},updateRelativeAttributes:function(e,t,n,r){r||(r={});var i,o,s,a=t.raw||{},u=t.normal||{},l=t.set,h=t.position,f=t.offset;for(i in l){o=l[i],s=this.getAttributeDefinition(i);var y=s.set.call(this,o,n.clone(),e,a,this);je(y)?Ie(u,y):y!==void 0&&(u[i]=y)}if(e instanceof HTMLElement){this.setNodeAttributes(e,u);return}var I=u.transform,b=Y.transformStringToMatrix(I),D=k(b.e,b.f);I&&(u=Rn(u,"transform"),b.e=b.f=0);var E,P,z;if(h||f){var H=this.getNodeScale(e,r.scalableNode);E=H.sx,P=H.sy}var X=!1;for(i in h)o=h[i],s=this.getAttributeDefinition(i),z=s.position.call(this,o,n.clone(),e,a,this),z&&(D.offset(k(z).scale(E,P)),X||(X=!0));this.setNodeAttributes(e,u);var ne=!1;if(f){var p=this.getNodeBoundingRect(e);if(p.width>0&&p.height>0){var v=Y.transformRect(p,b).scale(1/E,1/P);for(i in f)o=f[i],s=this.getAttributeDefinition(i),z=s.offset.call(this,o,v,e,a,this),z&&(D.offset(k(z).scale(E,P)),ne||(ne=!0))}}(I!==void 0||X||ne)&&(D.round(1),b.e=D.x,b.f=D.y,e.setAttribute("transform",Y.matrixToTransformString(b)))},getNodeScale:function(e,t){var n,r;if(t&&t.contains(e)){var i=t.scale();n=1/i.sx,r=1/i.sy}else n=1,r=1;return{sx:n,sy:r}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(e){var t=this.metrics;if(!t)return{};var n=Y.ensureId(e),r=t[n];return r||(r=t[n]={}),r},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return t.boundingRect===void 0&&(t.boundingRect=Y(e).getBBox()),new fe(t.boundingRect)},getNodeMatrix:function(e){let t=this.nodeCache(e);if(t.magnetMatrix===void 0){let{rotatableNode:n,el:r}=this,i;n&&n.contains(e)?i=n:i=r,t.magnetMatrix=Y(e).getTransformToElement(i)}return Y.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return t.geometryShape===void 0&&(t.geometryShape=Y(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,n,r){var i,o,s,a,u={},l=[];for(var h in e)if(e.hasOwnProperty(h)&&(s=e[h],!!ft(s))){var f=n[h]=this.findBySelector(h,t,r);for(i=0,o=f.length;i<o;i++){var y=f[i];a=Y.ensureId(y);var I=r&&r[h]===y,b=u[a];if(b){b.array||(l.push(a),b.array=!0,b.attributes=[b.attributes],b.selectedLength=[b.selectedLength]);var D=b.attributes,E=b.selectedLength;if(I)D.unshift(s),E.unshift(-1);else{var P=$s(E,o);D.splice(P,0,s),E.splice(P,0,o)}}else u[a]={attributes:s,selectedLength:I?-1:o,node:y,array:!1}}}for(i=0,o=l.length;i<o;i++)a=l[i],s=u[a],s.attributes=xt({},...s.attributes.reverse());return u},getEventTarget:function(e,t={}){let{target:n,type:r,clientX:i=0,clientY:o=0}=e;return t.fromPoint||r==="touchmove"||r==="touchend"||"pointerId"in e&&n.hasPointerCapture(e.pointerId)?document.elementFromPoint(i,o):n},updateDOMSubtreeAttributes:function(e,t,n){n||(n={}),n.rootBBox||(n.rootBBox=fe()),n.selectors||(n.selectors=this.selectors);var r={},i={},o=[],s=[],a,u,l,h,f,y=n.roAttributes,I=this.findNodesAttributes(y||t,e,r,n.selectors),b=y?this.findNodesAttributes(t,e,r,n.selectors):I;for(var D in I)if(h=I[D],l=h.attributes,u=h.node,f=this.processNodeAttributes(u,l),!f.set&&!f.position&&!f.offset)this.setNodeAttributes(u,f.normal);else{var E=b[D]&&b[D].attributes,P=E&&l.ref===void 0?E.ref:l.ref,z;if(P){if(z=(r[P]||this.findBySelector(P,e,n.selectors))[0],!z)throw new Error('dia.CellView: "'+P+'" reference does not exist.')}else z=null;if(a={node:u,refNode:z,processedAttributes:f,allAttributes:E},z){var H=s.findIndex(function(X){return X.refNode===u});H>-1?s.splice(H,0,a):s.push(a)}else o.push(a)}o.push(...s);for(let X=0,ne=o.length;X<ne;X++){a=o[X],u=a.node,z=a.refNode;let p=z?Y.ensureId(z):"",v=i[p];v||(v=i[p]=z?Y(z).getBBox({target:ZO(u,z)}):n.rootBBox),y?(f=this.processNodeAttributes(u,a.allAttributes),this.mergeProcessedAttributes(f,a.processedAttributes)):f=a.processedAttributes,this.updateRelativeAttributes(u,f,v,n)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),Ie(e.set,t.set),Ie(e.position,t.position),Ie(e.offset,t.offset);var n=e.normal&&e.normal.transform;n!==void 0&&t.normal&&(t.normal.transform=n),e.normal=t.normal},onMount(e){e||(this.mountTools(),sn.mount(this))},onDetach(){this.unmountTools(),sn.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return t?e?t.getName()===e:!0:!1},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){let e=this._toolsView;return e&&e.unmount(),this},mountTools(){let e=this._toolsView;return e&&!e.isMounted()&&e.mount(),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){sn.remove(this)},updateHighlighters:function(e=!1){sn.update(this,null,e)},transformHighlighters:function(){sn.transform(this)},preventDefaultInteraction(e){this.eventData(e,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(e){let{defaultInteractionPrevented:t=!1}=this.eventData(e);return t},pointerdblclick:function(e,t,n){this.notify("cell:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){this.notify("cell:pointerclick",e,t,n)},contextmenu:function(e,t,n){this.notify("cell:contextmenu",e,t,n)},pointerdown:function(e,t,n){let{model:r}=this,{graph:i}=r;i&&(r.startBatch("pointer"),this.eventData(e,{graph:i})),this.notify("cell:pointerdown",e,t,n)},pointermove:function(e,t,n){this.notify("cell:pointermove",e,t,n)},pointerup:function(e,t,n){let{graph:r}=this.eventData(e);this.notify("cell:pointerup",e,t,n),r&&r.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,n,r){this.notify("cell:mousewheel",e,t,n,r)},onevent:function(e,t,n,r){this.notify(t,e,n,r)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(e){let{paper:t,model:n}=this;if(t.isAsync()){if(n.isLink()){let o=n.getSourceElement();if(o){let a=t.findViewByModel(o);a&&(t.dumpView(a),t.checkViewVisibility(a))}let s=n.getTargetElement();if(s){let a=t.findViewByModel(s);a&&(t.dumpView(a),t.checkViewVisibility(a))}}t.dumpView(this),t.checkViewVisibility(this)}let r=this.getEventTarget(e,{fromPoint:!0}),i=t.findView(r);i!==this&&(this.mouseleave(e),i&&i.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e}},{Flags:GO,Highlighting:oa,addPresentationAttributes:function(e){return xt({},ht(this.prototype,"presentationAttributes"),e,function(t,n){if(!(!t||!n)&&(typeof t=="string"&&(t=[t]),typeof n=="string"&&(n=[n]),Array.isArray(t)&&Array.isArray(n)))return $n(t.concat(n))})}});function ZO(e,t){let n=e;do{if(n.contains(t))return n;n=n.parentNode}while(n);return null}var nt={TOOLS:Ve.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},sa={MOVE:"move",MAGNET:"magnet"},Ft=Ve.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=Ve.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){Ve.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[nt.UPDATE],position:[nt.TRANSLATE,nt.TOOLS],size:[nt.RESIZE,nt.PORTS,nt.TOOLS],angle:[nt.ROTATE,nt.TOOLS],markup:[nt.RENDER],ports:[nt.PORTS]},initFlag:[nt.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){let{useCSSSelectors:n}=pn;this.hasFlag(e,nt.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(e,nt.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),r=!0,e=this.removeFlag(e,[nt.RENDER,nt.UPDATE,nt.RESIZE,nt.TRANSLATE,nt.ROTATE,nt.PORTS,nt.TOOLS]);else{let i=!1;this.hasFlag(e,nt.RESIZE)&&(this.resize(t),i=!0,e=this.removeFlag(e,[nt.RESIZE,nt.UPDATE]),n&&(e=this.removeFlag(e,nt.PORTS))),this.hasFlag(e,nt.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,nt.UPDATE),i=!0,n&&(e=this.removeFlag(e,nt.PORTS))),this.hasFlag(e,nt.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,nt.TRANSLATE),r=!0),this.hasFlag(e,nt.ROTATE)&&(this.rotate(),e=this.removeFlag(e,nt.ROTATE),r=!0),this.hasFlag(e,nt.PORTS)&&(this._renderPorts(),i=!0,e=this.removeFlag(e,nt.PORTS)),i&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(e,nt.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,nt.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache();let{useCSSSelectors:n}=pn;n&&this._removePorts();var r=this.model,i=r.attr();this.updateDOMSubtreeAttributes(this.el,i,{rootBBox:new fe(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===i?null:t}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),n=this.selectors=t.selectors;this.rotatableNode=Y(n[this.rotatableSelector])||null,this.scalableNode=Y(n[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(Y(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable");var n=this.selectors={};n[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),pn.useCSSSelectors||this._renderPorts(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){var e=this.model.attributes.position;return"translate("+e.x+","+e.y+")"},getRotateString:function(){var e=this.model.attributes,t=e.angle;if(!t)return null;var n=e.size;return"rotate("+t+","+n.width/2+","+n.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,n=t.angle(),r=t.size(),i=this.scalableNode,o=!1;i.node.getElementsByTagName("path").length>0&&(o=!0);var s=i.getBBox({recursive:o}),a=r.width/(s.width||1),u=r.height/(s.height||1);i.attr("transform","scale("+a+","+u+")");var l=this.rotatableNode,h=l&&l.attr("transform");if(h){l.attr("transform",h+" rotate("+-n+","+r.width/2+","+r.height/2+")");var f=i.getBBox({target:this.paper.cells});t.set("position",{x:f.x,y:f.y},Ie({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e={}){let t=e.model||this.model,r=(e.paper||this.paper).model,i=e.initialZIndices={},o=t.getEmbeddedCells({deep:!0}),s=r.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t,...o,...s].forEach(l=>i[l.id]=l.attributes.z),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});let a=r.getElements().reduce((l,h)=>Math.max(l,h.attributes.z||0),0);s.forEach(l=>{l.attributes.z<=a&&l.set("z",a+1,{ui:!0})}),t.stopBatch("to-front");let u=t.parent();u?(r.getCell(u).unembed(t,{ui:!0}),e.initialParentId=u):e.initialParentId=null},processEmbedding:function(e={},t,n,r){let i=e.model||this.model,o=e.paper||this.paper,s=o.model,{findParentBy:a,frontParentOnly:u,validateEmbedding:l}=o.options,h;We(a)?h=Se(a.call(s,this,t,n,r)):a==="pointer"?h=Se(s.findModelsFromPoint({x:n,y:r})):h=s.findModelsUnderElement(i,{searchBy:a}),h=h.filter(I=>I instanceof Nn&&i.id!==I.id&&!I.isEmbeddedIn(i)),u&&(h=h.slice(-1));let f=null,y=e.candidateEmbedView;for(let I=h.length-1;I>=0;I--){let b=h[I];if(y&&y.model.id==b.id){f=y;break}else{let D=b.findView(o);if(!We(l)||l.call(o,this,D)){f=D;break}}}f&&f!=y&&(this.clearEmbedding(e),e.candidateEmbedView=f.highlight(f.findProxyNode(null,"container"),{embedding:!0})),!f&&y&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e={}){let t=e.candidateEmbedView,n=e.model||this.model,r=e.paper||this.paper;if(t)t.model.embed(n,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{let{validateUnembedding:i}=r.options,{initialParentId:o}=e;if(o&&typeof i=="function"&&!i.call(r,this)){this._disallowUnembed(e);return}}r.model.getConnectedLinks(n,{deep:!0}).forEach(i=>{i.reparent({ui:!0})})},_disallowUnembed:function(e){let{model:t,whenNotAllowed:n="revert"}=e,r=t||this.model,o=(e.paper||this.paper).model;switch(n){case"remove":{r.remove({ui:!0});break}case"revert":{let{initialParentId:s,initialPosition:a,initialZIndices:u}=e;if(a){let{x:h,y:f}=a;r.position(h,f,{deep:!0,ui:!0})}u&&Object.keys(u).forEach(h=>{let f=o.getCell(h);f&&f.set("z",u[h],{ui:!0})});let l=o.getCell(s);l&&l.embed(r,{ui:!0});break}}},getDelegatedView:function(){for(var e=this,t=e.model,n=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=n.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);let n=e.getAttribute(`${t}-selector`);if(n){let r=this.findAttribute("port",e);if(r){let i=this.findPortNode(r,n);if(i)return i}else{let[i]=this.findBySelector(n);if(i)return i}}return e},notifyPointerdown(e,t,n){Ve.prototype.pointerdown.call(this,e,t,n),this.notify("element:pointerdown",e,t,n)},notifyPointermove(e,t,n){Ve.prototype.pointermove.call(this,e,t,n),this.notify("element:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("element:pointerup",e,t,n),Ve.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){Ve.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){Ve.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,n)},contextmenu:function(e,t,n){Ve.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,n)},pointerdown:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragStart(e,t,n)},pointermove:function(e,t,n){let r=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=r;switch(i&&this.magnetpointermove(e,i,t,n),o){case sa.MAGNET:this.dragMagnet(e,t,n);break;case sa.MOVE:(s||this).drag(e,t,n);default:if(r.preventPointerEvents)break;this.notifyPointermove(e,t,n);break}this.eventData(e,r)},pointerup:function(e,t,n){let r=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=r;switch(i&&this.magnetpointerup(e,i,t,n),o){case sa.MAGNET:this.dragMagnetEnd(e,t,n);break;case sa.MOVE:(s||this).dragEnd(e,t,n);default:if(r.preventPointerEvents)break;this.notifyPointerup(e,t,n)}i&&this.magnetpointerclick(e,i,t,n),this.checkMouseleave(e)},mouseover:function(e){Ve.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){Ve.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){Ve.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){Ve.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,n,r){Ve.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,n,r)},onmagnet:function(e,t,n){let{currentTarget:r}=e;this.magnetpointerdown(e,r,t,n),this.eventData(e,{targetMagnet:r}),this.dragMagnetStart(e,t,n)},magnetpointerdown:function(e,t,n,r){this.notify("element:magnet:pointerdown",e,t,n,r)},magnetpointermove:function(e,t,n,r){this.notify("element:magnet:pointermove",e,t,n,r)},magnetpointerup:function(e,t,n,r){this.notify("element:magnet:pointerup",e,t,n,r)},magnetpointerdblclick:function(e,t,n,r){this.notify("element:magnet:pointerdblclick",e,t,n,r)},magnetcontextmenu:function(e,t,n,r){this.notify("element:magnet:contextmenu",e,t,n,r)},dragStart:function(e,t,n){if(this.isDefaultInteractionPrevented(e))return;var r=this.getDelegatedView();if(!r||!r.can("elementMove"))return;this.eventData(e,{action:sa.MOVE,delegatedView:r});let i=r.model.position();r.eventData(e,{initialPosition:i,pointerOffset:i.difference(t,n),restrictedArea:this.paper.getRestrictedArea(r,t,n)})},dragMagnetStart:function(e,t,n){let{paper:r}=this,i=e.isPropagationStopped();if(i&&this.eventData(e,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(e)||!this.can("addLinkFromMagnet"))return;let{targetMagnet:o=e.currentTarget}=this.eventData(e);if(e.stopPropagation(),!r.options.validateMagnet.call(r,this,o,e)){i?this.dragStart(e,t,n):this.pointerdown(e,t,n);return}r.options.magnetThreshold<=0&&this.dragLinkStart(e,o,t,n),this.eventData(e,{action:sa.MAGNET})},drag:function(e,t,n){var r=this.paper,i=r.options.gridSize,o=this.model,s=this.eventData(e),{pointerOffset:a,restrictedArea:u,embedding:l}=s,h=Wr(t+a.x,i),f=Wr(n+a.y,i);o.position(h,f,{restrictedArea:u,deep:!0,ui:!0}),r.options.embeddingMode&&(l||(this.prepareEmbedding(s),l=!0),this.processEmbedding(s,e,t,n)),this.eventData(e,{embedding:l})},dragMagnet:function(e,t,n){this.dragLink(e,t,n)},dragEnd:function(e,t,n){var r=this.eventData(e);r.embedding&&this.finalizeEmbedding(r)},dragMagnetEnd:function(e,t,n){this.dragLinkEnd(e,t,n)},magnetpointerclick:function(e,t,n,r){var i=this.paper;i.eventData(e).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,n,r)}},{Flags:nt});Ie(Ft.prototype,zx);var vd={};Dt(vd,{manhattan:()=>hd,metro:()=>uL,normal:()=>UO,oneSide:()=>HO,orthogonal:()=>fd,rightAngle:()=>pL});var UO=function(e,t,n){return e};var HO=function(e,t,n){var r=t.side||"bottom",i=Mn(t.padding||40),o=n.sourceBBox,s=n.targetBBox,a=o.center(),u=s.center(),l,h,f;switch(r){case"bottom":f=1,l="y",h="height";break;case"top":f=-1,l="y",h="height";break;case"left":f=-1,l="x",h="width";break;case"right":f=1,l="x",h="width";break;default:throw new Error("Router: invalid side")}return a[l]+=f*(o[h]/2+i[r]),u[l]+=f*(s[h]/2+i[r]),f*(a[l]-u[l])>0?u[l]=a[l]:a[l]=u[l],[a].concat(e,u)};var WO={N:"S",S:"N",E:"W",W:"E"},YO={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function cd(e,t,n){var r=new k(e.x,t.y);return n.containsPoint(r)&&(r=new k(t.x,e.y)),r}function Mv(e,t){return e[t==="W"||t==="E"?"width":"height"]}function Fn(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function ad(e){return new fe(e.x,e.y,0,0)}function ld(e){var t=Mn(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function Gx(e,t){return e.sourceBBox.clone().moveAndExpand(ld(t))}function Zx(e,t){return e.targetBBox.clone().moveAndExpand(ld(t))}function XO(e,t){if(e.sourceAnchor)return e.sourceAnchor;var n=Gx(e,t);return n.center()}function $O(e,t){if(e.targetAnchor)return e.targetAnchor;var n=Zx(e,t);return n.center()}function Ux(e,t,n){var r=new k(e.x,t.y),i=new k(t.x,e.y),o=Fn(e,r),s=Fn(e,i),a=WO[n],u=o===n||o!==a&&(s===a||s!==n)?r:i;return{points:[u],direction:Fn(u,t)}}function ud(e,t,n){var r=cd(e,t,n);return{points:[r],direction:Fn(r,t)}}function JO(e,t,n,r){var i={},o=[new k(e.x,t.y),new k(t.x,e.y)],s=o.filter(function(f){return!n.containsPoint(f)}),a=s.filter(function(f){return Fn(f,e)!==r}),u;if(a.length>0)u=a.filter(function(f){return Fn(e,f)===r}).pop(),u=u||a[0],i.points=[u],i.direction=Fn(u,t);else{u=qs(o,s)[0];var l=new k(t).move(u,-Mv(n,r)/2),h=cd(l,e,n);i.points=[h,l],i.direction=Fn(l,t)}return i}function qO(e,t,n,r){var i=ud(t,e,r),o=i.points[0];if(n.containsPoint(o)){i=ud(e,t,n);var s=i.points[0];if(r.containsPoint(s)){var a=new k(e).move(s,-Mv(n,Fn(e,s))/2),u=new k(t).move(o,-Mv(r,Fn(t,o))/2),l=new ge(a,u).midpoint(),h=ud(e,l,n),f=Ux(l,t,h.direction);i.points=[h.points[0],f.points[0]],i.direction=f.direction}}return i}function Dv(e,t,n,r,i){var o={},s=n.union(r).inflate(1),a=s.center().distance(t)>s.center().distance(e),u=a?t:e,l=a?e:t,h,f,y;return i?(h=k.fromPolar(s.width+s.height,YO[i],u),h=s.pointNearestToPoint(h).move(h,-1)):h=s.pointNearestToPoint(u).move(u,1),f=cd(h,l,s),h.round().equals(f.round())?(f=k.fromPolar(s.width+s.height,Ht(h.theta(u))+Math.PI/2,l),f=s.pointNearestToPoint(f).move(l,1).round(),y=cd(h,f,s),o.points=a?[f,y,h]:[h,y,f]):o.points=a?[f,h]:[h,f],o.direction=Fn(a?h:f,t),o}function fd(e,t,n){var r=Gx(n,t),i=Zx(n,t),o=XO(n,t),s=$O(n,t);r=r.union(ad(o)),i=i.union(ad(s)),e=Se(e).map(k),e.unshift(o),e.push(s);for(var a,u=[],l=0,h=e.length-1;l<h;l++){var f=null,y=e[l],I=e[l+1],b=!!Fn(y,I);if(l===0)l+1===h?r.intersect(i.clone().inflate(1))?f=Dv(y,I,r,i):b||(f=qO(y,I,r,i)):r.containsPoint(I)?f=Dv(y,I,r,ad(I).moveAndExpand(ld(t))):b||(f=ud(y,I,r));else if(l+1===h){var D=b&&Fn(I,y)===a;i.containsPoint(y)||D?f=Dv(y,I,ad(y).moveAndExpand(ld(t)),i,a):b||(f=JO(y,I,i,a))}else b||(f=Ux(y,I,a));f?(Array.prototype.push.apply(u,f.points),a=f.direction):a=Fn(y,I),l+1<h&&u.push(I)}return u}var $x={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,n){if(!We(fd))throw new Error("Manhattan requires the orthogonal router as default fallback.");return fd(e,Ie({},$x,t),n)},fallbackRoute:function(e,t,n){return null},draggingRoute:null};function Tv(e){this.map={},this.options=e,this.mapGridSize=100}Tv.prototype.build=function(e,t){var n=this.options,r=Se(n.excludeEnds).reduce(function(u,l){var h=t.get(l);if(h){var f=e.getCell(h.id);f&&u.push(f)}return u},[]),i=[],o=e.getCell(t.get("source").id);o&&(i=Po(i,o.getAncestors().map(function(u){return u.id})));var s=e.getCell(t.get("target").id);s&&(i=Po(i,s.getAncestors().map(function(u){return u.id})));var a=this.mapGridSize;return e.getElements().reduce(function(u,l){var h=Se(n.excludeTypes).includes(l.get("type")),f=r.find(function(X){return X.id===l.id}),y=i.includes(l.id),I=h||f||y;if(!I)for(var b=l.getBBox().moveAndExpand(n.paddingBox),D=b.origin().snapToGrid(a),E=b.corner().snapToGrid(a),P=D.x;P<=E.x;P+=a)for(var z=D.y;z<=E.y;z+=a){var H=P+"@"+z;u[H]=u[H]||[],u[H].push(b)}return u},this.map),this};Tv.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return Se(this.map[t]).every(function(n){return!n.containsPoint(e)})};function ko(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}ko.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var n=$s(this.items,e,(function(r){return this.values[r]}).bind(this));this.items.splice(n,0,e)};ko.prototype.remove=function(e){this.hash[e]=this.CLOSE};ko.prototype.isOpen=function(e){return this.hash[e]===this.OPEN};ko.prototype.isClose=function(e){return this.hash[e]===this.CLOSE};ko.prototype.isEmpty=function(){return this.items.length===0};ko.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};function Jx(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function qx(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function Qx(e,t){if(e.sourceAnchor)return e.sourceAnchor;var n=Jx(e,t);return n.center()}function QO(e,t){if(e.targetAnchor)return e.targetAnchor;var n=qx(e,t);return n.center()}function Nv(e,t,n,r,i){var o=360/n,s=e.theta(KO(e,t,r,i)),a=Kt(s+o/2);return o*Math.floor(a/o)}function KO(e,t,n,r){var i=r.step,o=t.x-e.x,s=t.y-e.y,a=o/n.x,u=s/n.y,l=a*i,h=u*i;return new k(e.x+l,e.y+h)}function Hx(e,t){var n=Math.abs(e-t);return n>180?360-n:n}function eL(e,t,n){var r=n.step;Se(n.directions).forEach(function(i){i.gridOffsetX=i.offsetX/r*t.x,i.gridOffsetY=i.offsetY/r*t.y})}function tL(e,t,n){return{source:t.clone(),x:Wx(n.x-t.x,e),y:Wx(n.y-t.y,e)}}function Wx(e,t){if(!e)return t;var n=Math.abs(e),r=Math.round(n/t);if(!r)return n;var i=r*t,o=n-i,s=o/r;return t+s}function nL(e,t){var n=t.source,r=Wr(e.x-n.x,t.x)+n.x,i=Wr(e.y-n.y,t.y)+n.y;return new k(r,i)}function Qu(e,t){return e.round(t)}function dd(e,t,n){return Qu(nL(e.clone(),t),n)}function Ku(e){return e.clone().toString()}function Ev(e){return new k(e.x===0?0:Math.abs(e.x)/e.x,e.y===0?0:Math.abs(e.y)/e.y)}function rL(e,t,n,r,i,o,s){for(var a=[],u=Ev(i.difference(n)),l=Ku(n),h=e[l],f;h;){f=t[l];var y=Ev(f.difference(h));y.equals(u)||(a.unshift(f),u=y),l=Ku(h),h=e[l]}var I=t[l],b=Ev(I.difference(r));return b.equals(u)||a.unshift(I),a}function Yx(e,t){for(var n=1/0,r=0,i=t.length;r<i;r++){var o=e.manhattanDistance(t[r]);o<n&&(n=o)}return n}function Xx(e,t,n,r,i){var o=i.precision,s=i.directionMap,a=e.difference(t.center()),u=je(s)?Object.keys(s):[],l=Se(n),h=u.reduce(function(f,y){if(l.includes(y)){for(var I=s[y],b=new k(e.x+I.x*(Math.abs(a.x)+t.width),e.y+I.y*(Math.abs(a.y)+t.height)),D=new ge(e,b),E=D.intersect(t)||[],P=E.length,z,H=null,X=0;X<P;X++){var ne=E[X],p=e.squaredDistance(ne);(z===void 0||p>z)&&(z=p,H=ne)}if(H){var v=dd(H,r,o);t.containsPoint(v)&&(v=dd(v.offset(I.x*r.x,I.y*r.y),r,o)),f.push(v)}}return f},[]);return t.containsPoint(e)||h.push(dd(e,r,o)),h}function iL(e,t,n,r){var i=r.precision,o,s;e instanceof fe?o=Qu(Qx(this,r).clone(),i):o=Qu(e.clone(),i),t instanceof fe?s=Qu(QO(this,r).clone(),i):s=Qu(t.clone(),i);var a=tL(r.step,o,s),u,l,h,f;if(e instanceof fe?(u=o,h=Xx(u,e,r.startDirections,a,r)):(u=o,h=[u]),t instanceof fe?(l=s,f=Xx(s,t,r.endDirections,a,r)):(l=s,f=[l]),h=h.filter(Ne=>!n(Ne)),f=f.filter(Ne=>!n(Ne)),h.length>0&&f.length>0){for(var y=new ko,I={},b={},D={},E=0,P=h.length;E<P;E++){var z=h[E],H=Ku(z);y.add(H,Yx(z,f)),I[H]=z,D[H]=0}var X=r.previousDirectionAngle,ne=X===void 0,p,v,x=r.directions;eL(x,a,r);for(var N=x.length,S=Se(f).reduce(function(Ne,it){var A=Ku(it);return Ne.push(A),Ne},[]),j=r.maximumLoops;!y.isEmpty()&&j>0;){var B=y.pop(),W=I[B],ae=b[B],de=D[B],G=ae===void 0,q=W.equals(u),J;G?ne?q?J=null:J=Nv(u,W,N,a,r):J=X:J=Nv(ae,W,N,a,r);var Q=h.length===f.length;if(Q){for(var Ee=0;Ee<h.length;Ee++)if(!h[Ee].equals(f[Ee])){Q=!1;break}}var De=G&&Q;if(!De&&S.indexOf(B)>=0)return r.previousDirectionAngle=J,rL(b,I,W,u,l,a,r);for(E=0;E<N;E++){p=x[E];var ut=p.angle;if(v=Hx(J,ut),!(!(ne&&q)&&v>r.maxAllowedDirectionChange)){var Ct=dd(W.clone().offset(p.gridOffsetX,p.gridOffsetY),a,i),be=Ku(Ct);if(!(y.isClose(be)||n(Ct))){if(S.indexOf(be)>=0){var Me=Ct.equals(l);if(!Me){var oe=Nv(Ct,l,N,a,r),ie=Hx(ut,oe);if(ie>r.maxAllowedDirectionChange)continue}}var pe=p.cost,_e=q?0:r.penalties[v],Qe=de+pe+_e;(!y.isOpen(be)||Qe<D[be])&&(I[be]=Ct,b[be]=W,D[be]=Qe,y.add(be,Qe+Yx(Ct,f)))}}}j--}}return r.fallbackRoute.call(this,u,l,r)}function oL(e){if(e.directions=ht(e,"directions"),e.penalties=ht(e,"penalties"),e.paddingBox=ht(e,"paddingBox"),e.padding=ht(e,"padding"),e.padding){var t=Mn(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}Se(e.directions).forEach(function(n){var r=new k(0,0),i=new k(n.offsetX,n.offsetY);n.angle=Kt(r.theta(i))})}function sL(e,t,n){oL(t),n.options.perpendicular=!!t.perpendicular;var r=Jx(n,t),i=qx(n,t),o=Qx(n,t);let s;if(typeof t.isPointObstacle=="function")s=t.isPointObstacle;else{let H=new Tv(t);H.build(n.paper.model,n.model),s=X=>!H.isPointAccessible(X)}for(var a=Se(e).map(k),u=[],l=o,h,f,y=0,I=a.length;y<=I;y++){var b=null;if(f=h||r,h=a[y],!h){h=i;var D=!n.model.get("source").id||!n.model.get("target").id;if(D&&We(t.draggingRoute)){var E=f===r?o:f,P=h.origin();b=t.draggingRoute.call(n,E,P,t)}}if(b=b||iL.call(n,f,h,s,t),b===null)return t.fallbackRouter(e,t,n);var z=b[0];z&&z.equals(l)&&b.shift(),l=b[b.length-1]||l,Array.prototype.push.apply(u,b)}return u}var hd=function(e,t,n){return sL(e,Ie({},$x,t),n)};var aL={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),n=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:n},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:n},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:n},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:n}]},fallbackRoute:function(e,t,n){var r=e.theta(t),i=[],o={x:t.x,y:e.y},s={x:e.x,y:t.y};if(r%180>90){var a=o;o=s,s=a}var u=r%90<45?o:s,l=new ge(e,u),h=90*Math.ceil(r/90),f=k.fromPolar(l.squaredLength(),Ht(h+135),u),y=new ge(t,f),I=l.intersection(y),b=I||t,D=I?b:e,E=360/n.directions.length,P=D.theta(t),z=Kt(P+E/2),H=E*Math.floor(z/E);return n.previousDirectionAngle=H,b&&i.push(b.round()),i.push(t),i}},uL=function(e,t,n){if(!We(hd))throw new Error("Metro requires the manhattan router.");return hd(e,Ie({},aL,t),n)};var le={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},Kx=[le.LEFT,le.RIGHT,le.TOP,le.BOTTOM],aa={[le.LEFT]:le.RIGHT,[le.RIGHT]:le.LEFT,[le.TOP]:le.BOTTOM,[le.BOTTOM]:le.TOP},cL=[le.TOP,le.BOTTOM],gd={0:le.RIGHT,180:le.LEFT,270:le.TOP,90:le.BOTTOM};function ec(e){return e.angle()}function pd(e){return new et(e).simplify({threshold:1}).points}function md(e,t){let{point:n,x0:r,y0:i,view:o,bbox:s,direction:a}=e,{point:u,x0:l,y0:h,view:f,bbox:y,direction:I}=t,b;if(o)o.model.isLink()?b=eD(u,n,o):a===le.ANCHOR_SIDE?b=s.sideNearestToPoint(n):a===le.MAGNET_SIDE?b=o.model.getBBox().sideNearestToPoint(n):b=a;else{let E=new fe(r,i,0,0);b=Kx.includes(a)?a:E.sideNearestToPoint(u)}let D;if(f)f.model.isLink()?D=eD(n,u,f):I===le.ANCHOR_SIDE?D=y.sideNearestToPoint(u):I===le.MAGNET_SIDE?D=f.model.getBBox().sideNearestToPoint(u):D=I;else{let E=new fe(l,h,0,0);D=Kx.includes(I)?I:E.sideNearestToPoint(n)}return[b,D]}function lL(e,t,n){let{x0:r,y0:i,width:o,height:s,point:a,margin:u}=e,l=r+o,h=i+s,f=r-u,y=l+u,I=i-u,{x:b}=a,{x0:D,y0:E}=t;return D===b&&E<i?le.BOTTOM:D<b&&E<I?le.RIGHT:D>b&&E<I?le.LEFT:D<f&&E>=i||D>y&&E>=i?le.TOP:D>=f&&D<=b&&E>h||D<=y&&D>=b&&E>h?n.point.x<D?le.RIGHT:le.LEFT:le.TOP}function fL(e,t,n){let{x0:r,y0:i,width:o,height:s,point:a,margin:u}=e,l=r+o,h=i+s,f=r-u,y=l+u,I=h+u,{x:b}=a,{x0:D,y0:E}=t;return D===b&&E>h?le.TOP:D<b&&E>I?le.RIGHT:D>b&&E>I?le.LEFT:D<f&&E<=h||D>y&&E<=h?le.BOTTOM:D>=f&&D<=b&&E<i||D<=y&&D>=b&&E<i?n.point.x<D?le.RIGHT:le.LEFT:le.BOTTOM}function dL(e,t,n){let{y0:r,x0:i,width:o,height:s,point:a,margin:u}=e,l=i+o,h=r+s,f=i-u,y=r-u,I=h+u,{x:b,y:D}=a,{x0:E,y0:P}=t;return E<b&&P===D?le.RIGHT:E<=f&&P<D?le.BOTTOM:E<=f&&P>D?le.TOP:E>=i&&P<=y||E>=i&&P>=I?le.LEFT:E>l&&P>=y&&P<=D||E>l&&P<=I&&P>=D?n.point.y<P?le.BOTTOM:le.TOP:le.LEFT}function hL(e,t,n){let{y0:r,x0:i,width:o,height:s,point:a,margin:u}=e,l=i+o,h=r+s,f=l+u,y=r-u,I=h+u,{x:b,y:D}=a,{x0:E,y0:P}=t;return E>b&&P===D?le.LEFT:E>=f&&P<D?le.BOTTOM:E>=f&&P>D?le.TOP:E<=l&&P<=y||E<=l&&P>=I?le.RIGHT:E<i&&P>=y&&P<=D||E<i&&P<=I&&P>=D?n.point.y<P?le.BOTTOM:le.TOP:le.RIGHT}function gL(e,t,n){let[r]=md(e,t);switch(r){case le.TOP:return lL(e,t,n);case le.RIGHT:return hL(e,t,n);case le.BOTTOM:return fL(e,t,n);case le.LEFT:return dL(e,t,n)}}function eD(e,t,n){let r=n.getTangentAtLength(n.getClosestPointLength(t)),i=Math.round(ec(r)/90)*90;if(i%180===0&&e.y===t.y)return e.x<t.x?le.LEFT:le.RIGHT;if(e.x===t.x)return e.y<t.y?le.TOP:le.BOTTOM;switch(i){case 0:case 180:case 360:return e.y<t.y?le.TOP:le.BOTTOM;case 90:case 270:return e.x<t.x?le.LEFT:le.RIGHT}}function tD(e,t,n,r,i,o,s){r===le.AUTO&&(r=i?le.MAGNET_SIDE:le.ANCHOR_SIDE);let a=e&&e.model.isElement(),{x:u,y:l,width:h=0,height:f=0}=a?fe.fromRectUnion(n,e.model.getBBox()):o;return{point:t,x0:u,y0:l,view:e,bbox:n,width:h,height:f,direction:r,margin:a?s:0}}function Sv({x:e,y:t}){let n=new k(e,t);return{point:n,x0:n.x,y0:n.y,view:null,bbox:new fe(e,t,0,0),width:0,height:0,direction:null,margin:0}}function nD(e,t,n){let r=t.point.clone(),{x0:i,y0:o,width:s,height:a}=t;switch(e){case"left":r.x=i-n;break;case"right":r.x=i+s+n;break;case"top":r.y=o-n;break;case"bottom":r.y=o+a+n;break}return r}function Hi(e,t){let{point:n,x0:r,y0:i,view:o,width:s,height:a,margin:u}=e,{point:l,x0:h,y0:f,width:y,height:I,margin:b}=t,D=h+y,E=f+I,P=r+s,z=i+a,H=o&&o.model.isElement(),X=r-u,ne=P+u,p=i-u,v=z+u,x=h-b,N=D+b,S=f-b,j=E+b,[B,W]=md(e,t),ae=nD(B,{point:n,x0:r,y0:i,width:s,height:a},u),de=nD(W,{point:l,x0:h,y0:f,width:y,height:I},b),{x:G,y:q}=ae,{x:J,y:Q}=de,Ee=(h+D)/2,De=(f+E)/2,ut=(r+P)/2,Ct=(i+z)/2,be=(ut<Ee?P+h:D+r)/2,Me=(Ct<De?z+f:E+i)/2;if(B==="left"&&W==="right"){if(X<=N){let ie=Me;return P<=h&&(E>=p&&Q<q?ie=Math.min(S,p):f<=v&&Q>=q&&(ie=Math.max(j,v))),[{x:G,y:q},{x:G,y:ie},{x:J,y:ie},{x:J,y:Q}]}let oe=(G+J)/2;return[{x:oe,y:q},{x:oe,y:Q}]}else if(B==="right"&&W==="left"){if(ne>=x){let ie=Me;return G>D&&(E>=p&&Q<q?ie=Math.min(S,p):f<=v&&Q>=q&&(ie=Math.max(j,v))),[{x:G,y:q},{x:G,y:ie},{x:J,y:ie},{x:J,y:Q}]}let oe=(G+J)/2;return[{x:oe,y:q},{x:oe,y:Q}]}else if(B==="top"&&W==="bottom"){if(q<Q){let ie=be,pe=q;return q<f&&(D>=X&&J<G?ie=Math.min(x,X):h<=ne&&J>=G&&(ie=Math.max(N,ne))),[{x:G,y:pe},{x:ie,y:pe},{x:ie,y:Q},{x:J,y:Q}]}let oe=(q+Q)/2;return[{x:G,y:oe},{x:J,y:oe}]}else if(B==="bottom"&&W==="top"){if(q-u>Q){let ie=be,pe=q;return q>E&&(D>=X&&J<G?ie=Math.min(x,X):h<=ne&&J>=G&&(ie=Math.max(N,ne))),[{x:G,y:pe},{x:ie,y:pe},{x:ie,y:Q},{x:J,y:Q}]}let oe=(q+Q)/2;return[{x:G,y:oe},{x:J,y:oe}]}else if(B==="top"&&W==="top"){let oe,ie=Math.min((z+f)/2,Q),pe=Math.min((i+E)/2,q);if(Q<q){if(G>=N||G<=x)return[{x:G,y:Math.min(q,Q)},{x:J,y:Math.min(q,Q)}];J>G?oe=Math.min(G,x):oe=Math.max(G,N)}else{if(J>=ne||J<=X)return[{x:G,y:Math.min(q,Q)},{x:J,y:Math.min(q,Q)}];J>=G?oe=Math.max(J,ne):oe=Math.min(J,X)}return[{x:G,y:pe},{x:oe,y:pe},{x:oe,y:ie},{x:J,y:ie}]}else if(B==="bottom"&&W==="bottom"){let oe,ie=Math.max((i+E)/2,Q),pe=Math.max((z+f)/2,q);if(Q>q){if(G>=N||G<=x)return[{x:G,y:Math.max(q,Q)},{x:J,y:Math.max(q,Q)}];J>G?oe=Math.min(G,x):oe=Math.max(G,N)}else{if(J>=ne||J<=X)return[{x:G,y:Math.max(q,Q)},{x:J,y:Math.max(q,Q)}];J>=G?oe=Math.max(J,ne):oe=Math.min(J,X)}return[{x:G,y:pe},{x:oe,y:pe},{x:oe,y:ie},{x:J,y:ie}]}else if(B==="left"&&W==="left"){let oe,ie=Math.min((P+h)/2,J),pe=Math.min((r+D)/2,G);return J>G?Q<=q?oe=Math.min(p,Q):oe=Math.max(v,Q):Q>=q?oe=Math.min(S,q):oe=Math.max(j,q),[{x:pe,y:q},{x:pe,y:oe},{x:ie,y:oe},{x:ie,y:Q}]}else if(B==="right"&&W==="right"){let oe,ie=Math.max((r+D)/2,J),pe=Math.max((P+h)/2,G);return J<G?Q<=q?oe=Math.min(p,Q):oe=Math.max(v,Q):Q>=q?oe=Math.min(S,q):oe=Math.max(j,q),[{x:pe,y:q},{x:pe,y:oe},{x:ie,y:oe},{x:ie,y:Q}]}else if(B==="top"&&W==="right"){if(q>Q){if(G<J){let ie=Me;return(ie>De||!H)&&ie<j&&G<h&&(ie=S),[{x:G,y:ie},{x:J,y:ie},{x:J,y:Q}]}return[{x:G,y:Q}]}let oe=Math.max(be,N);if(J<G&&Q>i&&Q<z)return[{x:G,y:q},{x:oe,y:q},{x:oe,y:Q}];if(oe>X&&Q>i||h>P){let ie=Math.min(i-u,f-b),pe=Math.max(P+u,D+b);return[{x:G,y:ie},{x:pe,y:ie},{x:pe,y:Q}]}return[{x:G,y:q},{x:Math.max(oe,J),y:q},{x:Math.max(oe,J),y:Q}]}else if(B==="top"&&W==="left"){if(q>Q){if(G>J){let ie=Me;return(ie>De||!H)&&ie<j&&G>D&&(ie=S),[{x:G,y:ie},{x:J,y:ie},{x:J,y:Q}]}return[{x:G,y:Q}]}let oe=Math.min(x,be);if(G<J&&z>=Q)return[{x:G,y:q},{x:oe,y:q},{x:oe,y:Q}];if(oe<ne&&q<E){let ie=Math.min(p,S),pe=Math.min(X,x);return[{x:G,y:ie},{x:pe,y:ie},{x:pe,y:Q}]}return[{x:G,y:q},{x:oe,y:q},{x:oe,y:Q}]}else if(B==="bottom"&&W==="right"){if(q<Q){if(G<J){let ie=Me;return(ie<De||!H)&&ie>S&&G<h&&(ie=j),[{x:G,y:ie},{x:J,y:ie},{x:J,y:Q}]}return[{x:G,y:Q}]}else if(r<J){let ie=Math.max(v,j),pe=Math.max(ne,N);return[{x:G,y:ie},{x:pe,y:ie},{x:pe,y:Q}]}let oe=be;return[{x:G,y:q},{x:oe,y:q},{x:oe,y:Q}]}else if(B==="bottom"&&W==="left"){if(q<Q){if(G>J){let ie=Me;return(ie<De||!H)&&ie>S&&G>D&&(ie=j),[{x:G,y:ie},{x:J,y:ie},{x:J,y:Q}]}return[{x:G,y:Q}]}else if(P>J){let ie=Math.max(v,j),pe=Math.min(X,x);return[{x:G,y:ie},{x:pe,y:ie},{x:pe,y:Q}]}let oe=be;return[{x:G,y:q},{x:oe,y:q},{x:oe,y:Q}]}else if(B==="left"&&W==="bottom"){if(G>=J&&q>=j)return[{x:J,y:q}];if(G>=D&&q<Q){let pe=be;return[{x:pe,y:q},{x:pe,y:Q},{x:J,y:Q}]}if(J<P&&E<=i){let pe=Me;return[{x:G,y:q},{x:G,y:pe},{x:J,y:pe}]}let oe=Math.min(x,G),ie=Math.max(v,j);return[{x:oe,y:q},{x:oe,y:ie},{x:J,y:ie}]}else if(B==="left"&&W==="top"){if(G>J&&q<S)return[{x:J,y:q}];if(G>=D&&q>Q){let pe=be;return[{x:pe,y:q},{x:pe,y:Q},{x:J,y:Q}]}if(J<=P&&Q>q){let pe=Me;return[{x:G,y:q},{x:G,y:pe},{x:J,y:pe}]}let oe=Q<q?Math.min(X,x):X,ie=Math.min(p,S);return[{x:oe,y:q},{x:oe,y:ie},{x:J,y:ie}]}else if(B==="right"&&W==="top"){if(G<=J&&q<S)return[{x:J,y:q}];if(P<h&&q>Q){let pe=be;return[{x:pe,y:q},{x:pe,y:Q},{x:J,y:Q}]}if(J<G&&f>z){let pe=Me;return[{x:G,y:q},{x:G,y:pe},{x:J,y:pe}]}let oe=Math.max(ne,N),ie=Math.min(p,S);return[{x:oe,y:q},{x:oe,y:ie},{x:J,y:ie}]}else if(B==="right"&&W==="bottom"){if(G<=J&&q>=j)return[{x:J,y:q}];if(G<=x&&q<Q){let pe=be;return[{x:pe,y:q},{x:pe,y:Q},{x:J,y:Q}]}if(J>r&&E<i){let pe=Me;return[{x:G,y:q},{x:G,y:pe},{x:J,y:pe}]}let oe=Math.max(N,G),ie=Math.max(v,j);return[{x:oe,y:q},{x:oe,y:ie},{x:J,y:ie}]}}function rD(e,t,n){let{sourceDirection:r=le.AUTO,targetDirection:i=le.AUTO}=t,o=t.margin||20,s=t.useVertices||!1,a=!!n.model.source().port,u=tD(n.sourceView,n.sourceAnchor,n.sourceBBox,r,a,n.sourceAnchor,o),l=!!n.model.target().port,h=tD(n.targetView,n.targetAnchor,n.targetBBox,i,l,n.targetAnchor,o),f=[];if(!s||e.length===0)return pd(Hi(u,h));let y=e.map(D=>Sv(D)),[I]=y;if(u.view&&u.view.model.isElement()&&u.view.model.getBBox().inflate(o).containsPoint(I.point)){let[D]=md(u,I),E=D,P=Sv(u.point);P.margin=o,P.direction=D,I.direction=E,f.push(...Hi(P,I),I.point)}else{let D=y[1]||h,E=gL(u,I,D);I.direction=E,f.push(...Hi(u,I),I.point)}for(let D=0;D<y.length-1;D++){let E=y[D],P=y[D+1],z=new ge(E.point,P.point),H=ec(z);if(H%90===0){let p=gd[H],v=aa[p];if(p!==E.direction)f.push(E.point,P.point),P.direction=v;else{let x=Kt(H-90),N=0,S=0;x===90?S=-o:x===180?N=-o:x===270?S=o:x===0&&(N=o);let j={x:E.point.x+N,y:E.point.y+S},B={x:P.point.x+N,y:P.point.y+S},W=new ge(P.point,B);P.direction=gd[ec(W)],f.push(E.point,j,B,P.point)}continue}let[X,ne]=Pv(E,P);E.direction=X,P.direction=ne,f.push(...Hi(E,P),P.point)}let b=y[y.length-1];if(h.view&&h.view.model.isElement())if(h.view.model.getBBox().inflate(o).containsPoint(b.point)){let[D]=Pv(b,h),E=Sv(h.point),[,P]=md(b,h);E.margin=o,E.direction=P,b.direction=D,f.push(...Hi(b,E))}else{let D=pd(f),E=new ge(D[D.length-2],b.point),P=gd[Math.round(ec(E))];b.direction=P;let z=Hi(b,h),[H,X]=pd([...z,h.point]),ne=new ge(H,X),p=Math.round(ec(ne)),v=gd[p];v!==P&&P===aa[v]&&(b.margin=o,z=Hi(b,h)),f.push(...z)}else{let[D]=Pv(b,h);b.direction=D,f.push(...Hi(b,h))}return pd(f)}function Pv(e,t){let n=e.direction,r=cL.includes(n),i=e.direction,o=t.direction;if(r){let s=e.point.y>t.point.y,a=t.point.x-e.point.x;n===le.BOTTOM?(i=s?aa[n]:a>=0?le.RIGHT:le.LEFT,a>0?o=s?le.LEFT:le.TOP:a<0&&(o=s?le.RIGHT:le.TOP)):(i=s?a>=0?le.RIGHT:le.LEFT:aa[n],a>0?o=s?le.BOTTOM:le.LEFT:a<0&&(o=s?le.BOTTOM:le.RIGHT))}else{let s=e.point.x>t.point.x,a=t.point.y-e.point.y;n===le.RIGHT?(i=s?aa[n]:a>=0?le.BOTTOM:le.TOP,a>0?o=s?le.TOP:le.LEFT:a<0&&(o=s?le.BOTTOM:le.LEFT)):(i=s?a>=0?le.BOTTOM:le.TOP:aa[n],a>0?o=s?le.RIGHT:le.TOP:a<0&&(o=s?le.RIGHT:le.BOTTOM))}return[i,o]}rD.Directions=le;var pL=rD;var Cd={};Dt(Cd,{curve:()=>kv,jumpover:()=>EL,normal:()=>TL,rounded:()=>OL,smooth:()=>LL,straight:()=>tc});var ua={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},mL=Object.values(ua),vL=10,yL=1,tc=function(e,t,n=[],r={}){let{cornerType:i=ua.POINT,cornerRadius:o=vL,cornerPreserveAspectRatio:s=!1,precision:a=yL,raw:u=!1}=r;if(mL.indexOf(i)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let l;if(i===ua.POINT||!o){let h=[e].concat(n).concat([t]),f=new et(h);l=new Ce(f)}else{l=new Ce,l.appendSegment(Ce.createSegment("M",e));let h,f=n.length;for(let y=0;y<f;y++){let I=new k(n[y]),b=n[y-1]||e,D=n[y+1]||t,E=h||I.distance(b)/2;h=I.distance(D)/2;let P,z;s?P=z=-Math.min(o,E,h):(P=-Math.min(o,E),z=-Math.min(o,h));let H=I.clone().move(b,P).round(a),X=I.clone().move(D,z).round(a);switch(l.appendSegment(Ce.createSegment("L",H)),i){case ua.CUBIC:{let ne=.3333333333333333,p=2/3,v=new k(ne*H.x+p*I.x,p*I.y+ne*H.y),x=new k(ne*X.x+p*I.x,p*I.y+ne*X.y);l.appendSegment(Ce.createSegment("C",v,x,X));break}case ua.LINE:{l.appendSegment(Ce.createSegment("L",X));break}case ua.GAP:{l.appendSegment(Ce.createSegment("M",X));break}}}l.appendSegment(Ce.createSegment("L",t))}return u?l:l.serialize()};var IL=5,iD=["arc","gap","cubic"],CL=0,oD=1,AL=["smooth"],yd=1/3,Id=2/3;function sD(e,t){let{x:n,y:r}=e,{x:i,y:o}=t;if(n>i){let s=n;n=i,i=s,s=r,r=o,o=s}if(r>o){let s=n;n=i,i=s,s=r,r=o,o=s}return[new k(n,r),new k(i,o)]}function wL(e,t){let[{x:n,y:r},{x:i,y:o}]=sD(e.start,e.end),[{x:s,y:a},{x:u,y:l}]=sD(t.start,t.end),h=n<=u&&s<=i,f=r<=l&&a<=o;return h&&f}function Ov(e,t,n){var r=[].concat(e,n,t);return r.reduce(function(i,o,s){var a=r[s+1];return a!=null&&(i[s]=ai(o,a)),i},[])}function bL(e){var t=e.paper,n=t._jumpOverUpdateList;if(n==null){n=t._jumpOverUpdateList=[];var r=t.model;r.on("batch:stop",function(){this.hasActiveBatch()||xL(t)}),r.on("reset",function(){n=t._jumpOverUpdateList=[]})}n.indexOf(e)<0&&(n.push(e),e.listenToOnce(e.model,"change:connector remove",function(){n.splice(n.indexOf(e),1)}))}function xL(e){for(var t=e._jumpOverUpdateList,n=0;n<t.length;n++){let r=t[n],i=r.getFlag(r.constructor.Flags.CONNECTOR);r.requestUpdate(i)}}function DL(e,t){return Se(t).reduce(function(n,r){var i=e.intersection(r);return i&&n.push(i),n},[])}function aD(e,t){return ai(e,t).squaredLength()}function ML(e,t,n){return t.reduce(function(r,i,o){if(i.skip===!0)return r;var s=r.pop()||e,a=ms(i).move(s.start,-n),u=ms(i).move(s.start,+n),l=t[o+1];if(l!=null){var h=u.distance(l);h<=n&&(u=l.move(s.start,h),l.skip=!0)}else{var f=a.distance(s.end);if(f<n*2+oD)return r.push(s),r}var y=u.distance(s.start);if(y<n*2+oD)return r.push(s),r;var I=ai(a,u);return I.isJump=!0,r.push(ai(s.start,a),I,ai(u,s.end)),r},[])}function uD(e,t,n,r){var i=new Ce,o;return o=Ce.createSegment("M",e[0].start),i.appendSegment(o),Se(e).forEach(function(s,a){if(s.isJump){var u,l,h,f;if(n==="arc"){u=-90,l=s.start.difference(s.end);var y=+(l.x<0||l.x===0&&l.y<0);y&&(u+=180);var I=s.midpoint(),b=new ge(I,s.end).rotate(I,u),D;D=new ge(s.start,I),h=D.pointAt(2/3).rotate(s.start,u),f=b.pointAt(1/3).rotate(b.end,-u),o=Ce.createSegment("C",h,f,b.end),i.appendSegment(o),D=new ge(I,s.end),h=b.pointAt(1/3).rotate(b.end,u),f=D.pointAt(1/3).rotate(s.end,-u),o=Ce.createSegment("C",h,f,s.end),i.appendSegment(o)}else if(n==="gap")o=Ce.createSegment("M",s.end),i.appendSegment(o);else if(n==="cubic"){u=s.start.theta(s.end);var E=t*.6,P=t*1.35;l=s.start.difference(s.end),y=+(l.x<0||l.x===0&&l.y<0),y&&(P*=-1),h=k(s.start.x+E,s.start.y+P).rotate(s.start,u),f=k(s.end.x-E,s.end.y+P).rotate(s.end,u),o=Ce.createSegment("C",h,f,s.end),i.appendSegment(o)}}else{var z=e[a+1];r==0||!z||z.isJump?(o=Ce.createSegment("L",s.end),i.appendSegment(o)):NL(r,i,s.end,s.start,z.end)}}),i}function NL(e,t,n,r,i){var o=n.distance(r)/2,s=n.distance(i)/2,a=-Math.min(e,o),u=-Math.min(e,s),l=n.clone().move(r,a).round(),h=n.clone().move(i,u).round(),f=new k(yd*l.x+Id*n.x,Id*n.y+yd*l.y),y=new k(yd*h.x+Id*n.x,Id*n.y+yd*h.y),I;I=Ce.createSegment("L",l),t.appendSegment(I),I=Ce.createSegment("C",f,y,h),t.appendSegment(I)}var EL=function(e,t,n,r){bL(this);var i=r.raw,o=r.size||IL,s=r.jump&&(""+r.jump).toLowerCase(),a=r.radius||CL,u=r.ignoreConnectors||AL;iD.indexOf(s)===-1&&(s=iD[0]);var l=this.paper,h=l.model,f=h.getLinks();if(f.length===1)return uD(Ov(e,t,n),o,s,a);var y=this.model,I=f.indexOf(y),b=l.options.defaultConnector||{},D=f.filter(function(ne,p){var v=ne.get("connector")||b;return Se(u).includes(v.name)?!1:p>I?v.name!=="jumpover":!0}),E=D.map(function(ne){return l.findViewByModel(ne)}),P=Ov(e,t,n),z=E.map(function(ne){return ne==null?[]:ne===this?P:Ov(ne.sourcePoint,ne.targetPoint,ne.route)},this),H=P.reduce(function(ne,p){var v=D.reduce(function(x,N,S){if(N!==y){let j=z[S].slice(),B=j.findIndex(ae=>wL(p,ae));B>-1&&p.containsPoint(j[B].end)&&j.splice(B+1,1);let W=DL(p,j);x.push.apply(x,W)}return x},[]).sort(function(x,N){return aD(p.start,x)-aD(p.start,N)});return v.length>0?ne.push.apply(ne,ML(p,v,o)):ne.push(p),ne},[]),X=uD(H,o,s,a);return i?X:X.serialize()};var TL=function(e,t,n=[],r={}){let{raw:i}=r;return tc(e,t,n,{cornerType:"point",raw:i})};var SL=10,PL=0,OL=function(e,t,n=[],r={}){let{radius:i=SL,raw:o}=r;return tc(e,t,n,{cornerType:"cubic",cornerRadius:i,precision:PL,raw:o})};var LL=function(e,t,n,r){var i=r&&r.raw,o;if(n&&n.length!==0){var s=[e].concat(n).concat([t]),a=tt.throughPoints(s);o=new Ce(a)}else{o=new Ce;var u;if(u=Ce.createSegment("M",e),o.appendSegment(u),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var l=(e.x+t.x)/2;u=Ce.createSegment("C",l,e.y,l,t.y,t.x,t.y),o.appendSegment(u)}else{var h=(e.y+t.y)/2;u=Ce.createSegment("C",e.x,h,t.x,h,t.x,t.y),o.appendSegment(u)}}return i?o:o.serialize()};var gr={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},jn={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},kv=function(e,t,n=[],r={},i){let o=!!r.raw,{direction:s=gr.AUTO,precision:a=3}=r,u={coeff:r.distanceCoefficient||.6,angleTangentCoefficient:r.angleTangentCoefficient||80,tau:r.tension||.5,sourceTangent:r.sourceTangent?new k(r.sourceTangent):null,targetTangent:r.targetTangent?new k(r.targetTangent):null,rotate:!!r.rotate};typeof r.sourceDirection=="string"?u.sourceDirection=r.sourceDirection:typeof r.sourceDirection=="number"?u.sourceDirection=new k(1,0).rotate(null,r.sourceDirection):u.sourceDirection=r.sourceDirection?new k(r.sourceDirection).normalize():null,typeof r.targetDirection=="string"?u.targetDirection=r.targetDirection:typeof r.targetDirection=="number"?u.targetDirection=new k(1,0).rotate(null,r.targetDirection):u.targetDirection=r.targetDirection?new k(r.targetDirection).normalize():null;let l=[e,...n,t].map(D=>new k(D)),h;if(u.sourceTangent)h=u.sourceTangent;else{let D=jL(i,l,s,u),E=l[0].distance(l[1])*u.coeff,P=l[1].difference(l[0]).normalize(),z=Lv(D,P);if(z>Math.PI/4){let H=E+(z-Math.PI/4)*u.angleTangentCoefficient;h=D.clone().scale(H,H)}else h=D.clone().scale(E,E)}let f;if(u.targetTangent)f=u.targetTangent;else{let D=BL(i,l,s,u),E=l.length-1,P=l[E-1].distance(l[E])*u.coeff,z=l[E-1].difference(l[E]).normalize(),H=Lv(D,z);if(H>Math.PI/4){let X=P+(H-Math.PI/4)*u.angleTangentCoefficient;f=D.clone().scale(X,X)}else f=D.clone().scale(P,P)}let I=VL(l,h,f,u).map(D=>GL(D,u)),b=new Ce(I).round(a);return o?b:b.serialize()};kv.Directions=gr;kv.TangentDirections=jn;function kL(e,t,n){let{sourceBBox:r}=e,i,o;if(!e.sourceView)r.x>t[1].x?i="right":i="left";else if(o=e.sourceView.model.angle(),n.rotate&&o){let a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),u=t[0].clone();u.rotate(r.center(),o),i=a.sideNearestToPoint(u)}else i=r.sideNearestToPoint(t[0]);let s;switch(i){case"left":s=new k(-1,0);break;case"right":default:s=new k(1,0);break}return n.rotate&&o&&s.rotate(null,-o),s}function RL(e,t,n){let{targetBBox:r}=e,i,o;if(!e.targetView)r.x>t[t.length-2].x?i="left":i="right";else if(o=e.targetView.model.angle(),n.rotate&&o){let a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),u=t[t.length-1].clone();u.rotate(r.center(),o),i=a.sideNearestToPoint(u)}else i=r.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"left":s=new k(-1,0);break;case"right":default:s=new k(1,0);break}return n.rotate&&o&&s.rotate(null,-o),s}function _L(e,t,n){let{sourceBBox:r}=e,i,o;if(!e.sourceView)r.y>t[1].y?i="bottom":i="top";else if(o=e.sourceView.model.angle(),n.rotate&&o){let a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),u=t[0].clone();u.rotate(r.center(),o),i=a.sideNearestToPoint(u)}else i=r.sideNearestToPoint(t[0]);let s;switch(i){case"top":s=new k(0,-1);break;case"bottom":default:s=new k(0,1);break}return n.rotate&&o&&s.rotate(null,-o),s}function FL(e,t,n){let{targetBBox:r}=e,i,o;if(!e.targetView)r.y>t[t.length-2].y?i="top":i="bottom";else if(o=e.targetView.model.angle(),n.rotate&&o){let a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),u=t[t.length-1].clone();u.rotate(r.center(),o),i=a.sideNearestToPoint(u)}else i=r.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"top":s=new k(0,-1);break;case"bottom":default:s=new k(0,1);break}return n.rotate&&o&&s.rotate(null,-o),s}function cD(e,t,n){let{sourceBBox:r}=e,i,o;if(!e.sourceView)i=r.sideNearestToPoint(t[1]);else if(o=e.sourceView.model.angle(),n.rotate&&o){let a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),u=t[0].clone();u.rotate(r.center(),o),i=a.sideNearestToPoint(u)}else i=r.sideNearestToPoint(t[0]);let s;switch(i){case"top":s=new k(0,-1);break;case"bottom":s=new k(0,1);break;case"right":s=new k(1,0);break;case"left":s=new k(-1,0);break}return n.rotate&&o&&s.rotate(null,-o),s}function lD(e,t,n){let{targetBBox:r}=e,i,o;if(!e.targetView)i=r.sideNearestToPoint(t[t.length-2]);else if(o=e.targetView.model.angle(),n.rotate&&o){let a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),u=t[t.length-1].clone();u.rotate(r.center(),o),i=a.sideNearestToPoint(u)}else i=r.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"top":s=new k(0,-1);break;case"bottom":s=new k(0,1);break;case"right":s=new k(1,0);break;case"left":s=new k(-1,0);break}return n.rotate&&o&&s.rotate(null,-o),s}function fD(e,t,n){return t[1].difference(t[0]).normalize()}function dD(e,t,n){let r=t.length-1;return t[r-1].difference(t[r]).normalize()}function hD(e,t,n){let{sourceBBox:r}=e,i=r.center();return t[0].difference(i).normalize()}function gD(e,t,n){let{targetBBox:r}=e,i=r.center();return t[t.length-1].difference(i).normalize()}function jL(e,t,n,r){if(r.sourceDirection)switch(r.sourceDirection){case jn.UP:return new k(0,-1);case jn.DOWN:return new k(0,1);case jn.LEFT:return new k(-1,0);case jn.RIGHT:return new k(1,0);case jn.AUTO:return cD(e,t,r);case jn.CLOSEST_POINT:return fD(e,t,r);case jn.OUTWARDS:return hD(e,t,r);default:return r.sourceDirection}switch(n){case gr.HORIZONTAL:return kL(e,t,r);case gr.VERTICAL:return _L(e,t,r);case gr.CLOSEST_POINT:return fD(e,t,r);case gr.OUTWARDS:return hD(e,t,r);case gr.AUTO:default:return cD(e,t,r)}}function BL(e,t,n,r){if(r.targetDirection)switch(r.targetDirection){case jn.UP:return new k(0,-1);case jn.DOWN:return new k(0,1);case jn.LEFT:return new k(-1,0);case jn.RIGHT:return new k(1,0);case jn.AUTO:return lD(e,t,r);case jn.CLOSEST_POINT:return dD(e,t,r);case jn.OUTWARDS:return gD(e,t,r);default:return r.targetDirection}switch(n){case gr.HORIZONTAL:return RL(e,t,r);case gr.VERTICAL:return FL(e,t,r);case gr.CLOSEST_POINT:return dD(e,t,r);case gr.OUTWARDS:return gD(e,t,r);case gr.AUTO:default:return lD(e,t,r)}}function zL(e,t){let n=Math.cos(t),r=Math.sin(t),i=n*e.x-r*e.y,o=r*e.x+n*e.y;e.x=i,e.y=o}function Lv(e,t){let n=e.dot(t)/(e.magnitude()*t.magnitude());return n<-1&&(n=-1),n>1&&(n=1),Math.acos(n)}function pD(e,t){return e.x*t.y-e.y*t.x}function VL(e,t,n,r){let{tau:i,coeff:o}=r,s=[],a=[],u=[],l=e.length-1;for(let h=0;h<l;h++)s[h]=e[h].distance(e[h+1]);a[0]=t,a[l]=n;for(let h=1;h<l;h++){let f,y;h===1?f=e[h-1].clone().offset(a[h-1].x,a[h-1].y):f=e[h-1].clone(),h===l-1?y=e[h+1].clone().offset(a[h+1].x,a[h+1].y):y=e[h+1].clone();let I=f.difference(e[h]).normalize(),b=y.difference(e[h]).normalize(),D=Lv(I,b),E=(Math.PI-D)/2,P,z=pD(I,b),H;H=pD(e[h].difference(e[h+1]),e[h].difference(e[h-1])),z<0&&(E=-E),D<Math.PI/2&&(E<0&&H<0||E>0&&H>0)&&(E=E-Math.PI),P=b.clone(),zL(P,E);let X=P.clone(),ne=P.clone(),p=s[h-1]*o,v=s[h]*o;X.scale(p,p),ne.scale(v,v),a[h]=[X,ne]}for(let h=0;h<l;h++){let f,y;h===0?f=e[h+1].difference(a[h].x/i,a[h].y/i):f=e[h+1].difference(a[h][1].x/i,a[h][1].y/i),h===l-1?y=e[h].clone().offset(a[h+1].x/i,a[h+1].y/i):y=e[h].difference(a[h+1][0].x/i,a[h+1][0].y/i),u[h]=[f,e[h],e[h+1],y]}return u}function GL(e,t){let{tau:n}=t,r=new k;r.x=e[1].x+(e[2].x-e[0].x)/(6*n),r.y=e[1].y+(e[2].y-e[0].y)/(6*n);let i=new k;return i.x=e[2].x+(e[3].x-e[1].x)/(6*n),i.y=e[2].y+(e[3].y-e[1].y)/(6*n),new tt(e[1],r,i,e[2])}var ca=Cr(hi(),1),ke={TOOLS:Ve.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},Ro=Ve.extend({className:function(){var e=Ve.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){Ve.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[ke.RENDER],attrs:[ke.UPDATE],router:[ke.UPDATE],connector:[ke.CONNECTOR],smooth:[ke.UPDATE],manhattan:[ke.UPDATE],toolMarkup:[ke.LEGACY_TOOLS],labels:[ke.LABELS],labelMarkup:[ke.LABELS],vertices:[ke.VERTICES,ke.UPDATE],vertexMarkup:[ke.VERTICES],source:[ke.SOURCE,ke.UPDATE],target:[ke.TARGET,ke.UPDATE]},initFlag:[ke.RENDER,ke.SOURCE,ke.TARGET,ke.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,ke.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,ke.SOURCE)}if(this.hasFlag(e,ke.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,ke.TARGET)}let{paper:n,sourceView:r,targetView:i}=this;if(n&&(r&&!n.isViewMounted(r)||i&&!n.isViewMounted(i)))return e;if(this.hasFlag(e,ke.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),e=this.removeFlag(e,[ke.RENDER,ke.UPDATE,ke.VERTICES,ke.LABELS,ke.TOOLS,ke.LEGACY_TOOLS,ke.CONNECTOR]),e;let o=!1;this.hasFlag(e,ke.VERTICES)&&(this.renderVertexMarkers(),e=this.removeFlag(e,ke.VERTICES));let{model:s}=this,{attributes:a}=s,u=this.hasFlag(e,ke.LABELS),l=this.hasFlag(e,ke.LEGACY_TOOLS);u&&(this.onLabelsChange(s,a.labels,t),e=this.removeFlag(e,ke.LABELS),o=!0),l&&(this.renderTools(),e=this.removeFlag(e,ke.LEGACY_TOOLS));let h=this.hasFlag(e,ke.UPDATE),f=this.hasFlag(e,ke.CONNECTOR);return(h||f)&&(h?t.translateBy&&s.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[ke.UPDATE,ke.TOOLS,ke.CONNECTOR]),u=!1,l=!1,o=!0),u&&this.updateLabelPositions(),l&&this.updateToolsPosition(),o&&this.updateHighlighters(),this.hasFlag(e,ke.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,ke.TOOLS)),e},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(ke.UPDATE),e)},isLabelsRenderRequired:function(e={}){let t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var n=e.propertyPathArray||[],r=n.length;if(r>1){var i=!!t[n[1]];if(i){if(r===2)return"markup"in Object(e.propertyValue);if(n[2]!=="markup")return!1}}}return!0},onLabelsChange:function(e,t,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=Y(e);Array.isArray(t)||(t=[t]);for(var n=this._V,r=0,i=t.length;r<i;r++){var o=t[r],s=o.attr("class");s&&(s=av(s),n[ca.default.camelCase(s)]=o)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if(typeof e=="string")return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=Y(e),n=document.createDocumentFragment();if(!Array.isArray(t))n.appendChild(t.node);else for(var r=0,i=t.length;r<i;r++){var o=t[r].node;n.appendChild(o)}return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t=e.fragment;if(!(e.fragment instanceof DocumentFragment)||!e.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var n,r=t.childNodes;return r.length>1||r[0].nodeName.toUpperCase()!=="G"?n=Y("g").append(t):n=Y(r[0]),n.addClass("label"),{node:n.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,n=this._labelCache={},r=this._labelSelectors={},i=this.model,o=i.attributes.labels||[],s=o.length;if(s===0)return t&&t.remove(),this;t?t.empty():(t=e.labels=Y("g").addClass("labels"),this.options.labelsLayer&&(t.addClass(rn(ht(this,"className"))),t.attr("model-id",i.id)));for(var a=0;a<s;a++){var u=o[a],l=this._normalizeLabelMarkup(this._getLabelMarkup(u.markup)),h,f;if(l)h=l.node,f=l.selectors;else{var y=i._builtins.defaultLabel,I=this._normalizeLabelMarkup(this._getLabelMarkup(y.markup)),b=i._getDefaultLabel(),D=this._normalizeLabelMarkup(this._getLabelMarkup(b.markup)),E=D||I;h=E.node,f=E.selectors}h.setAttribute("label-idx",a),t.append(h),n[a]=h;var P=this.selector;if(f[P])throw new Error("dia.LinkView: ambiguous label root selector.");f[P]=h,r[a]=f}return t.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){let{el:e,paper:t,model:n,_V:r,options:i}=this,{labels:o}=r;if(!o||!n.hasLabels())return;let{node:s}=o;i.labelsLayer?t.getLayerView(i.labelsLayer).insertSortedNode(s,n.get("z")):s.parentNode!==e&&e.appendChild(s)},unmountLabels:function(){let{options:e,_V:t}=this;if(!t)return;let{labels:n}=t;n&&e.labelsLayer&&n.remove()},findLabelNode:function(e,t){let n=this._labelCache[e];if(!n)return null;let r=this._labelSelectors[e],[i=null]=this.findBySelector(t,n,r);return i},_mergeLabelAttrs:function(e,t,n,r){return t===null?null:t===void 0?n===null?null:n===void 0?e?void 0:r:e?n:xt({},r,n):e?xt({},n,t):xt({},r,n,t)},_mergeLabelSize:function(e,t){return e===null?null:e===void 0?t===null?null:t===void 0?void 0:t:xt({},t,e)},updateLabels:function(){if(!this._V.labels)return this;for(var e=this.model,t=e.get("labels")||[],n=this.can("labelMove"),r=e._builtins.defaultLabel,i=r.attrs,o=e._getDefaultLabel(),s=o.markup,a=o.attrs,u=o.size,l=0,h=t.length;l<h;l++){var f=this._labelCache[l];f.setAttribute("cursor",n?"move":"default");var y=this._labelSelectors[l],I=t[l],b=I.markup,D=I.attrs,E=I.size,P=this._mergeLabelAttrs(b||s,D,a,i),z=this._mergeLabelSize(E,u);this.updateDOMSubtreeAttributes(f,P,{rootBBox:new fe(z),selectors:y})}return this},renderTools:function(){if(!this._V.linkTools)return this;var e=(0,ca.default)(this._V.linkTools.node).empty(),t=In(this.model.get("toolMarkup")||this.model.toolMarkup),n=Y(t());if(e.append(n.node),this._toolCache=n,this.options.doubleLinkTools){var r;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(t=In(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),r=Y(t())):r=n.clone(),e.append(r.node),this._tool2Cache=r}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var e=(0,ca.default)(this._V.markerVertices.node).empty(),t=In(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(n,r){e.append(Y(t(Ie({idx:r},n))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var e=(0,ca.default)(this._V.markerArrowheads.node);e.empty();var t=In(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=Y(t({end:"source"})),this._V.targetArrowhead=Y(t({end:"target"})),e.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(e){let n=this.model,r=n.vertices(),i=[this.sourceAnchor,...r,this.targetAnchor],o=i.length,s=new et(i);s.simplify({threshold:.001});let a=s.points.map(l=>l.toJSON()),u=a.length;return o===u?0:(n.vertices(a.slice(1,u-1),e),o-u)},updateDefaultConnectionPath:function(){var e=this._V;e.connection&&e.connection.attr("d",this.getSerializedConnection()),e.connectionWrap&&e.connectionWrap.attr("d",this.getSerializedConnection()),e.markerSource&&e.markerTarget&&this._translateAndAutoOrientArrows(e.markerSource,e.markerTarget)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new k(this.sourceAnchor);case"target":return new k(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new k(this.sourcePoint);case"target":return new k(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(e=0,t=0){let{route:n,path:r}=this;if(!n||!r)return;let i=new et(n);i.translate(e,t),this.route=i.points,this._translateConnectionPoints(e,t),r.translate(e,t),this.updateDOM()},updateDOM(){let{el:e,model:t,selectors:n}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(e,t.attr(),{selectors:n}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){let{model:e}=this,t=e.vertices(),n=this.findAnchors(t),r=this.sourceAnchor=n.source,i=this.targetAnchor=n.target,o=this.findRoute(t);this.route=o;var s=this.findConnectionPoints(o,r,i);this.sourcePoint=s.source,this.targetPoint=s.target},updatePath:function(){let{route:e,sourcePoint:t,targetPoint:n}=this,r=this.findMarkerPoints(e,t,n),i=this.findPath(e,r.source||t,r.target||n);this.path=i},findMarkerPoints:function(e,t,n){var r=e[0],i=e[e.length-1],o=this._markerCache,s,a;return this._V.markerSource&&(o.sourceBBox=o.sourceBBox||this._V.markerSource.getBBox(),s=k(t).move(r||n,o.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(o.targetBBox=o.targetBBox||this._V.markerTarget.getBBox(),a=k(n).move(i||t,o.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),o.sourcePoint=s||t.clone(),o.targetPoint=a||n.clone(),{source:s,target:a}},findAnchorsOrdered:function(e,t,n,r){var i,o,s,a,u=this.model,l=u.get(e),h=u.get(n),f=this.getEndView(e),y=this.getEndView(n),I=this.getEndMagnet(e),b=this.getEndMagnet(n);f?(t?s=new k(t):y?s=b:s=new k(h),i=this.getAnchor(l.anchor,f,I,s,e)):i=new k(l),y?(a=new k(r||i),o=this.getAnchor(h.anchor,y,b,a,n)):o=new k(h);var D={};return D[e]=i,D[n]=o,D},findAnchors:function(e){var t=this.model,n=e[0],r=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",r,"source",n):this.findAnchorsOrdered("source",n,"target",r)},findConnectionPoints:function(e,t,n){var r=e[0],i=e[e.length-1],o=this.model,s=o.get("source"),a=o.get("target"),u=this.sourceView,l=this.targetView,h=this.paper.options,f,y,I;if(u&&!u.isNodeConnection(this.sourceMagnet)){f=this.sourceMagnet||u.el;var b=s.connectionPoint||h.defaultConnectionPoint,D=r||n,E=new ge(D,t);I=this.getConnectionPoint(b,u,f,E,"source")}else I=t;var P;if(l&&!l.isNodeConnection(this.targetMagnet)){y=this.targetMagnet||l.el;var z=a.connectionPoint||h.defaultConnectionPoint,H=i||t,X=new ge(H,n);P=this.getConnectionPoint(z,l,y,X,"target")}else P=n;return{source:I,target:P}},getAnchor:function(e,t,n,r,i){var o=t.isNodeConnection(n),s=this.paper.options;if(e||(o?e=s.defaultLinkAnchor:s.perpendicularLinks||this.options.perpendicular?e={name:"perpendicular"}:e=s.defaultAnchor),!e)throw new Error("Anchor required.");var a;if(typeof e=="function")a=e;else{var u=e.name,l=o?"linkAnchorNamespace":"anchorNamespace";if(a=s[l][u],typeof a!="function")throw new Error("Unknown anchor: "+u)}var h=a.call(this,t,n,r,e.args||{},i,this);return h?h.round(this.decimalsRounding):new k},getConnectionPoint:function(e,t,n,r,i){var o,s=r.end,a=this.paper.options;if(typeof a.linkConnectionPoint=="function"){var u=n===t.el?void 0:n;if(o=a.linkConnectionPoint(this,t,u,r.start,i),o)return o}if(!e)return s;var l;if(typeof e=="function")l=e;else{var h=e.name;if(l=a.connectionPointNamespace[h],typeof l!="function")throw new Error("Unknown connection point: "+h)}return o=l.call(this,r,t,n,e.args||{},i,this),o?o.round(this.decimalsRounding):s},_translateConnectionPoints:function(e,t){var n=this._markerCache;n.sourcePoint.offset(e,t),n.targetPoint.offset(e,t),this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t)},_getDefaultLabelPositionProperty:function(){var e=this.model,t=e._builtins.defaultLabel,n=t.position,r=e._getDefaultLabel(),i=this._normalizeLabelPosition(r.position);return xt({},n,i)},_normalizeLabelPosition:function(e){return typeof e=="number"?{distance:e,offset:null,angle:0,args:null}:e},_mergeLabelPositionProperty:function(e,t){return e===null?null:e===void 0?t===null?null:t:xt({},t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;var e=this.path;if(!e)return this;var t=this.model,n=t.get("labels")||[];if(!n.length)return this;for(var r=this._getDefaultLabelPositionProperty(),i=0,o=n.length;i<o;i++){var s=this._labelCache[i];if(s){var a=n[i],u=this._normalizeLabelPosition(a.position),l=this._mergeLabelPositionProperty(u,r),h=this._getLabelTransformationMatrix(l);s.setAttribute("transform",Y.matrixToTransformString(h)),this._cleanLabelMatrices(i)}}return this},_cleanLabelMatrices:function(e){let{metrics:t,_labelSelectors:n}=this,r=n[e];if(r)for(let i in r){let{id:o}=r[i];o&&o in t&&delete t[o].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var e="",t=this.options.linkToolsOffset,n=this.getConnectionLength();if(!Number.isNaN(n)){n<this.options.shortLinkLength&&(e="scale(.5)",t/=2);var r=this.getPointAtLength(t);if(this._toolCache.attr("transform","translate("+r.x+", "+r.y+") "+e),this.options.doubleLinkTools&&n>=this.options.longLinkLength){var i=this.options.doubleLinkToolsOffset||t;r=this.getPointAtLength(n-i),this._tool2Cache.attr("transform","translate("+r.x+", "+r.y+") "+e),this._tool2Cache.attr("display","inline")}else this.options.doubleLinkTools&&this._tool2Cache.attr("display","none")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if(ca.default.css(this._V.markerArrowheads.node,"display")==="none")return this;var e=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(e),this._V.targetArrowhead.scale(e),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(e){let{model:t,paper:n}=this,r=`${e}View`,i=t.get(e),o=i&&i.id;if(!o)return this[r]=null,this.updateEndMagnet(e),!0;let s=n.getModelById(o);if(!s)throw new Error("LinkView: invalid "+e+" cell.");let a=s.findView(n);return a?(this[r]=a,this.updateEndMagnet(e),!0):!1},updateEndMagnet:function(e){let t=`${e}Magnet`,n=this.getEndView(e);if(n){let r=n.getMagnetFromLinkEnd(this.model.get(e));r===n.el&&(r=null),this[t]=r}else this[t]=null},_translateAndAutoOrientArrows:function(e,t){var n=Se(this.route);e&&e.translateAndAutoOrient(this.sourcePoint,n[0]||this.targetPoint,this.paper.cells),t&&t.translateAndAutoOrient(this.targetPoint,n[n.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(e){return this.model.label(e).position||{}},_getLabelPositionAngle:function(e){var t=this._getLabelPositionProperty(e);return t.angle||0},_getLabelPositionArgs:function(e){var t=this._getLabelPositionProperty(e);return t.args},_getDefaultLabelPositionArgs:function(){var e=this.model._getDefaultLabel(),t=e.position||{};return t.args},_mergeLabelPositionArgs:function(e,t){return e===null?null:e===void 0?t===null?null:t:xt({},t,e)},addLabel:function(e,t,n,r){var i,o,s=0,a;typeof e!="number"?(i=e.x,o=e.y,typeof t=="number"?(s=t,a=n):a=t):(i=e,o=t,typeof n=="number"?(s=n,a=r):a=n);var u=this._getDefaultLabelPositionArgs(),l=a,h=this._mergeLabelPositionArgs(l,u),f={position:this.getLabelPosition(i,o,s,h)},y=-1;return this.model.insertLabel(y,f,a),y},addVertex:function(e,t,n){var r=typeof e!="number",i=r?e.x:e,o=r?e.y:t,s=r?t:n,a={x:i,y:o},u=this.getVertexIndex(i,o);return this.model.insertVertex(u,a,s),u},sendToken:function(e,t,n){function r(f,y){return function(){f.remove(),typeof y=="function"&&y()}}var i,o,s;je(t)?(i=t.duration,o=t.direction==="reverse",s=t.connection):(i=t,o=!1,s=null),i=i||1e3;var a={dur:i+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};o&&(a.keyPoints="1;0",a.keyTimes="0;1");var u=Y(e),l;if(typeof s=="string")l=this.findBySelector(s,this.el,this.selectors)[0];else{var h=this._V;l=h.connection?h.connection.node:this.el.querySelector("path")}if(!(l instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");u.appendTo(this.paper.cells).animateAlongPath(a,l),setTimeout(r(u,n),i)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||vd,n=this.model.router(),r=this.paper.options.defaultRouter;if(!n)if(r)n=r;else return e.map(k);var i=We(n)?n:t[n.name];if(!We(i))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');var o=n.args||{},s=i.call(this,e,o,this);return s||e.map(k)},findPath:function(e,t,n){var r=this.paper.options.connectorNamespace||Cd,i=this.model.connector(),o=this.paper.options.defaultConnector;i||(i=o||{});var s=We(i)?i:r[i.name];if(!We(s))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var a=vn(i.args||{});a.raw=!0;var u=s.call(this,t,n,e,a,this);return typeof u=="string"&&(u=new Ce(Y.normalizePathData(u))),u},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var n=e.serialize();return t.data=n,n},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var n=e.getSegmentSubdivisions();return t.segmentSubdivisions=n,n},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var n=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=n,n},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?(Nt(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,n,r){var i={},o=0,s;typeof n=="number"?(o=n,s=r):s=n,s&&(i.args=s);var a=!(s&&s.absoluteDistance),u=s&&s.absoluteDistance&&s.reverseDistance,l=s&&s.absoluteOffset,h=this.path,f={segmentSubdivisions:this.getConnectionSubdivisions()},y=new k(e,t),I=h.closestPointT(y,f),b=h.lengthAtT(I,f);a&&(b=b/this.getConnectionLength()||0),u&&(b=-1*(this.getConnectionLength()-b)||1),i.distance=b;var D;l||(D=h.tangentAtT(I));var E;if(D)E=D.pointOffset(y);else{var P=h.pointAtT(I),z=y.difference(P);E={x:z.x,y:z.y}}return i.offset=E,i.angle=o,i},_getLabelTransformationMatrix:function(e){var t,n=0,r={};if(typeof e=="number")t=e;else if(typeof e.distance=="number")r=e.args||{},t=e.distance,n=e.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var i=t>0&&t<=1,o=0,s={x:0,y:0};if(e.offset){var a=e.offset;typeof a=="number"&&(o=a),a.x&&(s.x=a.x),a.y&&(s.y=a.y)}var u=s.x!==0||s.y!==0||o===0,l=r.keepGradient,h=r.ensureLegibility,f=this.path,y={segmentSubdivisions:this.getConnectionSubdivisions()},I=i?t*this.getConnectionLength():t,b=f.tangentAtLength(I,y),D,E=n;if(b){if(u)D=b.start.clone(),D.offset(s);else{var P=b.clone();P.rotate(b.start,-90),P.setLength(o),D=P.end}l&&(E=b.angle()+n,h&&(E=Kt((E+90)%180-90)))}else D=f.start.clone(),u&&D.offset(s);return Y.createSVGMatrix().translate(D.x,D.y).rotate(E)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new k(t.e,t.f)},getVertexIndex:function(e,t){for(var n=this.model,r=n.vertices(),i=this.getClosestPointLength(new k(e,t)),o=0,s=r.length;o<s;o++){var a=r[o],u=this.getClosestPointLength(a);if(i<u)break}return o},notifyPointerdown(e,t,n){Ve.prototype.pointerdown.call(this,e,t,n),this.notify("link:pointerdown",e,t,n)},notifyPointermove(e,t,n){Ve.prototype.pointermove.call(this,e,t,n),this.notify("link:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("link:pointerup",e,t,n),Ve.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){Ve.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){Ve.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,n)},contextmenu:function(e,t,n){Ve.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,n)},pointerdown:function(e,t,n){this.notifyPointerdown(e,t,n);var r=e.target.getAttribute("class");switch(r){case"marker-vertex":this.dragVertexStart(e,t,n);return;case"marker-vertex-remove":case"marker-vertex-remove-area":this.dragVertexRemoveStart(e,t,n);return;case"marker-arrowhead":this.dragArrowheadStart(e,t,n);return;case"connection":case"connection-wrap":this.dragConnectionStart(e,t,n);return;case"marker-source":case"marker-target":return}this.dragStart(e,t,n)},pointermove:function(e,t,n){var r=this._dragData;r&&this.eventData(e,r);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertex(e,t,n);break;case"label-move":this.dragLabel(e,t,n);break;case"arrowhead-move":this.dragArrowhead(e,t,n);break;case"move":this.drag(e,t,n);break}r&&Ie(r,this.eventData(e)),this.notifyPointermove(e,t,n)},pointerup:function(e,t,n){var r=this._dragData;r&&(this.eventData(e,r),this._dragData=null);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertexEnd(e,t,n);break;case"label-move":this.dragLabelEnd(e,t,n);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,n);break;case"move":this.dragEnd(e,t,n)}this.notifyPointerup(e,t,n),this.checkMouseleave(e)},mouseover:function(e){Ve.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){Ve.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){Ve.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){Ve.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,n,r){Ve.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,n,r)},onevent:function(e,t,n,r){var i=Y(e.target).findParentByClass("link-tool",this.el);if(i){if(e.stopPropagation(),this.can("useLinkTools"))if(t==="remove"){this.model.remove({ui:!0});return}else this.notify(t,e,n,r);this.notifyPointerdown(e,n,r),this.paper.delegateDragEvents(this,e.data)}else Ve.prototype.onevent.apply(this,arguments)},onlabel:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragLabelStart(e,t,n);var r=this.eventData(e).stopPropagation;r&&e.stopPropagation()},dragConnectionStart:function(e,t,n){if(this.can("vertexAdd")){var r=this.addVertex({x:t,y:n},{ui:!0});this.eventData(e,{action:"vertex-move",vertexIdx:r})}},dragLabelStart:function(e,t,n){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(e))return;var r=e.currentTarget,i=parseInt(r.getAttribute("label-idx"),10),o=this._getDefaultLabelPositionProperty(),s=this._normalizeLabelPosition(this._getLabelPositionProperty(i)),a=this._mergeLabelPositionProperty(s,o),u=this.getLabelCoordinates(a),l=u.x-t,h=u.y-n,f=this._getLabelPositionAngle(i),y=this._getLabelPositionArgs(i),I=this._getDefaultLabelPositionArgs(),b=this._mergeLabelPositionArgs(y,I);this.eventData(e,{action:"label-move",labelIdx:i,dx:l,dy:h,positionAngle:f,positionArgs:b,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragVertexStart:function(e,t,n){if(this.can("vertexMove")){var r=e.target,i=parseInt(r.getAttribute("idx"),10);this.eventData(e,{action:"vertex-move",vertexIdx:i})}},dragVertexRemoveStart:function(e,t,n){if(this.can("vertexRemove")){var r=e.target,i=parseInt(r.getAttribute("idx"),10);this.model.removeVertex(i)}},dragArrowheadStart:function(e,t,n){if(this.can("arrowheadMove")){var r=e.target,i=r.getAttribute("end"),o=this.startArrowheadMove(i,{ignoreBackwardsCompatibility:!0});this.eventData(e,o)}},dragStart:function(e,t,n){this.isDefaultInteractionPrevented(e)||this.can("linkMove")&&this.eventData(e,{action:"move",dx:t,dy:n})},dragLabel:function(e,t,n){var r=this.eventData(e),i={position:this.getLabelPosition(t+r.dx,n+r.dy,r.positionAngle,r.positionArgs)};this.paper.options.snapLabels&&delete i.position.offset;let o={ui:!0};this.paper.isAsync()&&e.type==="touchmove"&&(o.async=!1),this.model.label(r.labelIdx,i,o)},dragVertex:function(e,t,n){var r=this.eventData(e);this.model.vertex(r.vertexIdx,{x:t,y:n},{ui:!0})},dragArrowhead:function(e,t,n){this.paper.options.snapLinks?!this._snapArrowhead(e,t,n)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(e,t,n):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(e,t,n):this._connectArrowhead(this.getEventTarget(e),t,n,this.eventData(e))},drag:function(e,t,n){var r=this.eventData(e);this.model.translate(t-r.dx,n-r.dy,{ui:!0}),this.eventData(e,{dx:t,dy:n})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(e,t,n){var r=this.eventData(e),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(r):this._connectArrowheadEnd(r,t,n),i.linkAllowed(this)?(this._finishEmbedding(r),this._notifyConnectEvent(r,e)):this._disallow(r),this._afterArrowheadMove(r)},dragEnd:function(){},_disallow:function(e){switch(e.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(e.arrowhead,e.initialEnd,{ui:!0});break}},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var n=e.arrowhead,r=e.initialEnd,i=this.model.prop(n),o=i&&!gt.endsEqual(r,i);if(o){var s=this.paper;r.id&&this.notify("link:disconnect",t,s.findViewByModel(r.id),e.initialMagnet,n),i.id&&this.notify("link:connect",t,s.findViewByModel(i.id),e.magnetUnderPointer,n)}},_snapToPoints:function(e,t,n){let r=null,i=1/0,o=null,s=1/0,a=e.x,u=e.y;for(let l=0;l<t.length;l++){let h=Math.abs(t[l].x-e.x);h<i&&(i=h,r=t[l]);let f=Math.abs(t[l].y-e.y);f<s&&(s=f,o=t[l])}return i<n&&(a=r.x),s<n&&(u=o.y),{x:a,y:u}},_snapArrowheadSelf:function(e,t,n){let{paper:r,model:i}=this,{snapLinksSelf:o}=r.options,s=this.eventData(e),a=o.radius||20,u=this.getEndAnchor(s.arrowhead==="source"?"target":"source"),l=i.vertices(),h=[u,...l],f=this._snapToPoints({x:t,y:n},h,a),y=r.localToClientPoint(f);this._connectArrowhead(document.elementFromPoint(y.x,y.y),f.x,f.y,this.eventData(e))},_snapArrowhead:function(e,t,n){let{paper:r}=this,{snapLinks:i,connectionStrategy:o}=r.options,s=this.eventData(e),a=!1;var u=i.radius||50,l=r.findViewsInArea({x:t-u,y:n-u,width:2*u,height:2*u}),h=s.closestView||null,f=s.closestMagnet||null,y=s.magnetProxy||null;s.closestView=s.closestMagnet=s.magnetProxy=null;var I=Number.MAX_VALUE,b=new k(t,n);l.forEach(function(ne){let p=[];ne.el.getAttribute("magnet")!=="false"&&p.push({bbox:ne.model.getBBox(),magnet:ne.el}),ne.$("[magnet]").toArray().forEach(v=>{p.push({bbox:ne.getNodeBBox(v),magnet:v})}),p.forEach(v=>{let{magnet:x,bbox:N}=v,S=N.center().squaredDistance(b);S<I&&(f===x||r.options.validateConnection.apply(r,s.validateConnectionArgs(ne,ne.el===x?null:x)))&&(I=S,s.closestView=ne,s.closestMagnet=x)})},this);var D,E=null,P=s.closestView,z=s.closestMagnet;z&&(E=s.magnetProxy=P.findProxyNode(z,"highlighter"));var H=s.arrowhead,X=f!==z;if(h&&X&&h.unhighlight(y,{connecting:!0,snapping:!0}),P){let{prevEnd:ne,prevX:p,prevY:v}=s;if(s.prevX=t,s.prevY=n,a=!0,!X&&(typeof o!="function"||p===t&&v===n)||(D=P.getLinkEnd(z,t,n,this.model,H),!X&&Sr(ne,D)))return a;s.prevEnd=D,X&&P.highlight(E,{connecting:!0,snapping:!0})}else D={x:t,y:n};return this.model.set(H,D||{x:t,y:n},{ui:!0}),h&&this.notify("link:snap:disconnect",e,h,f,H),P&&this.notify("link:snap:connect",e,P,z,H),a},_snapArrowheadEnd:function(e){var t=e.closestView,n=e.closestMagnet;t&&n&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(n)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,n,r){let{paper:i,model:o}=this;if(r.eventTarget!==e){r.magnetProxy&&r.viewUnderPointer.unhighlight(r.magnetProxy,{connecting:!0});let s=r.viewUnderPointer=i.findView(e);if(s){let a=r.magnetUnderPointer=s.findMagnet(e),u=r.magnetProxy=s.findProxyNode(a,"highlighter");a&&this.paper.options.validateConnection.apply(i,r.validateConnectionArgs(s,a))?u&&s.highlight(u,{connecting:!0}):(r.magnetUnderPointer=null,r.magnetProxy=null)}else r.magnetUnderPointer=null,r.magnetProxy=null}r.eventTarget=e,o.set(r.arrowhead,{x:t,y:n},{ui:!0})},_connectArrowheadEnd:function(e={},t,n){let{model:r}=this,{viewUnderPointer:i,magnetUnderPointer:o,magnetProxy:s,arrowhead:a}=e;if(!o||!s||!i)return;i.unhighlight(s,{connecting:!0});let u=i.getLinkEnd(o,t,n,r,a);r.set(a,u,{ui:!0})},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){e.z!==null&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t=[];t[4]=e,t[5]=this;var n,r=0,i=0;e==="source"?(r=2,n="target"):(i=2,n="source");var o=this.model.get(n);if(o.id){var s=t[r]=this.paper.findViewByModel(o.id),a=s.getMagnetFromLinkEnd(o);a===s.el&&(a=void 0),t[r+1]=a}function u(l,h){return t[i]=l,t[i+1]=l.el===h?void 0:h,t}return u},_markAvailableMagnets:function(e){function t(f,y){var I=f.paper,b=I.options.validateConnection;return b.apply(I,this.validateConnectionArgs(f,y))}var n=this.paper,r=n.model.getCells();e.marked={};for(var i=0,o=r.length;i<o;i++){var s=r[i].findView(n);if(s){var a=Array.prototype.slice.call(s.el.querySelectorAll("[magnet]"));s.el.getAttribute("magnet")!=="false"&&a.push(s.el);var u=a.filter(t.bind(e,s));if(u.length>0){for(var l=0,h=u.length;l<h;l++)s.highlight(u[l],{magnetAvailability:!0});s.highlight(null,{elementAvailability:!0}),e.marked[s.model.id]=u}}}},_unmarkAvailableMagnets:function(e){for(var t=Object.keys(e.marked),n,r,i=0,o=t.length;i<o;i++){n=t[i],r=e.marked[n];var s=this.paper.findViewByModel(n);if(s){for(var a=0,u=r.length;a<u;a++)s.unhighlight(r[a],{magnetAvailability:!0});s.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var n={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:vn(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(n),t.ignoreBackwardsCompatibility!==!0&&(this._dragData=n),n},onMount:function(){Ve.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){Ve.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){Ve.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:ke});Object.defineProperty(Ro.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new fe(t.x,t.y)}var n=this.sourceMagnet;return e.isNodeConnection(n)?new fe(this.sourceAnchor):e.getNodeBBox(n||e.el)}});Object.defineProperty(Ro.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new fe(t.x,t.y)}var n=this.targetMagnet;return e.isNodeConnection(n)?new fe(this.targetAnchor):e.getNodeBBox(n||e.el)}});var Ad={};Dt(Ad,{addClass:()=>YL,list:()=>XL,mask:()=>HL,opacity:()=>WL,stroke:()=>ZL});var ZL=sn.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(e,t){let{options:n}=this,{useFirstSubpath:r}=n,i;try{let o=Y(t);if(i=o.convertToPathData().trim(),o.tagName()==="PATH"&&r){let s=i.search(/.M/i)+1;s>0&&(i=i.substr(0,s))}}catch{let s=e.getNodeBoundingRect(t);i=Y.rectToPath(Ie({},n,s.toJSON()))}return i},highlightConnection(e){this.vel.attr("d",e.getSerializedConnection())},highlightNode(e,t){let{vel:n,options:r}=this,{padding:i,layer:o}=r,s=this.getNodeMatrix(e,t);if(i){!o&&t===e.el&&n.remove();let a=e.getNodeBoundingRect(t),u=a.x+a.width/2,l=a.y+a.height/2;a=Y.transformRect(a,s);let h=Math.max(a.width,1),f=Math.max(a.height,1),y=(h+i)/h,I=(f+i)/f,b=Y.createSVGMatrix({a:y,b:0,c:0,d:I,e:u-y*u,f:l-I*l});s=s.multiply(b)}n.attr({d:this.getPathData(e,t),transform:Y.matrixToTransformString(s)})},highlight(e,t){let{vel:n,options:r}=this;n.attr(r.attrs),e.isNodeConnection(t)?this.highlightConnection(e):this.highlightNode(e,t)}});var mD=20;function UL(e,t){let n=e.children();for(;n.length>0;){let r=n.shift();t(r)&&n.push(...r.children())}}var HL=sn.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:mD,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(e,t){let{MASK_CHILD_ATTRIBUTE_BLACKLIST:n,MASK_REPLACE_TAGS:r,MASK_REMOVE_TAGS:i}=this,o=t.tagName();if(!Y.isSVGGraphicsElement(t)||i.includes(o))return t.remove(),!1;if(r.includes(o)){let s=e.vel.findOne(`#${t.id}`);if(s){let{node:a}=s,u=e.getNodeBoundingRect(a);e.model.isElement()&&(u=Y.transformRect(u,e.getNodeMatrix(a)));let l=Y("rect",u.toJSON()),{x:h,y:f}=u.center(),{angle:y,cx:I=h,cy:b=f}=s.rotate();y&&l.rotate(y,I,b),t.parent().append(l)}return t.remove(),!1}return n.forEach(s=>{s==="fill"&&t.attr("fill")==="none"||t.removeAttr(s)}),!0},transformMaskRoot(e,t){let{MASK_ROOT_ATTRIBUTE_BLACKLIST:n}=this;n.forEach(r=>{t.removeAttr(r)})},getMaskShape(e,t){let{options:n,MASK_REPLACE_TAGS:r}=this,{deep:i}=n,o=t.tagName(),s;if(o==="G"){if(!i)return null;s=t.clone(),UL(s,a=>this.transformMaskChild(e,a))}else{if(r.includes(o))return null;s=t.clone()}return this.transformMaskRoot(e,s),s},getMaskId(){return`highlight-mask-${this.cid}`},getMask(e,t){let{VISIBLE:n,INVISIBLE:r,options:i}=this,{padding:o,attrs:s}=i,a="stroke-width"in s?s["stroke-width"]:1,u=t.attr("fill")!=="none",l=parseFloat(t.attr("stroke-width"));isNaN(l)&&(l=1);let h=l+o*2,f=h+a*2,y=this.getMaskShape(e,t);if(!y){let I=e.getNodeBoundingRect(t.node);I.inflate(I.width?0:.5,I.height?0:.5),y=Y("rect",I.toJSON())}return y.attr(s),Y("mask",{id:this.getMaskId()}).append([y.clone().attr({fill:u?n:"none",stroke:n,"stroke-width":f}),y.clone().attr({fill:u?r:"none",stroke:r,"stroke-width":h})])},removeMask(e){let t=e.svg.getElementById(this.getMaskId());t&&e.defs.removeChild(t)},addMask(e,t){e.defs.appendChild(t.node)},highlight(e,t){let{options:n,vel:r}=this,{padding:i,attrs:o,maskClip:s=mD,layer:a}=n,u="stroke"in o?o.stroke:"#000000";!a&&t===e.el&&r.remove();let l=e.getNodeBoundingRect(t).inflate(i+s),h=this.getNodeMatrix(e,t),f=this.getMask(e,Y(t));this.addMask(e.paper,f),r.attr(l.toJSON()),r.attr({transform:Y.matrixToTransformString(h),mask:`url(#${f.id})`,fill:u})},unhighlight(e){this.removeMask(e.paper)}});var WL=sn.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:rn("highlight-opacity"),highlight:function(e,t){Y(t).addClass(this.opacityClassName)},unhighlight:function(e,t){Y(t).removeClass(this.opacityClassName)}});var vD=rn("highlighted"),YL=sn.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:vD},highlight:function(e,t){Y(t).addClass(this.options.className)},unhighlight:function(e,t){Y(t).removeClass(this.options.className)}},{className:vD});var Rv={ROW:"row",COLUMN:"column"},XL=sn.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(e,t){let n=e.model,{attribute:r,size:i=20,gap:o=5,direction:s=Rv.ROW}=this.options;if(!r)throw new Error("List: attribute is required");let a=typeof i=="number"?{width:i,height:i}:i,u=s===Rv.ROW,l=u?a.width:a.height,h=n.get(r);Array.isArray(h)||(h=[]);let f=this._prevItems||[],y=h.map((E,P)=>Sr(f[P],h[P]));if(f.length!==h.length||y.some(E=>!E)){let E=this.vel.children(),P=h.map((z,H)=>{let X=H in E?E[H].node:null;if(y[H])return X;let ne=this.createListItem(z,a,X);if(!ne)return null;if(!(ne instanceof SVGElement))throw new Error("List: item must be an SVGElement");ne.dataset.index=H,ne.dataset.attribute=r;let p=H*(l+o);return ne.setAttribute("transform",u?`translate(${p}, 0)`:`translate(0, ${p})`),ne});this.vel.empty().append(P),this._prevItems=h}let I=h.length,b=I===0?0:I*l+(I-1)*o,D=u?{width:b,height:a.height}:{width:a.width,height:b};this.position(n,D)},position(e,t){let{vel:n,options:r}=this,{margin:i=5,position:o="top-left"}=r,{width:s,height:a}=e.size(),{left:u,right:l,top:h,bottom:f}=Mn(i),y=new fe(u,h,s-(u+l),a-(h+f)),{x:I,y:b}=ia(y,o);switch(o){case Gt.CENTER:case Gt.TOP:case Gt.BOTTOM:{I-=t.width/2;break}case Gt.RIGHT:case Gt.BOTTOM_RIGHT:case Gt.TOP_RIGHT:{I-=t.width;break}}switch(o){case Gt.CENTER:case Gt.RIGHT:case Gt.LEFT:{b-=t.height/2;break}case Gt.BOTTOM:case Gt.BOTTOM_RIGHT:case Gt.BOTTOM_LEFT:{b-=t.height;break}}n.attr("transform",`translate(${I}, ${b})`)}},{Directions:Rv,Positions:Gt});var wd={};Dt(wd,{connectionClosest:()=>ID,connectionLength:()=>JL,connectionPerpendicular:()=>KL,connectionRatio:()=>$L,resolveRef:()=>la});function $L(e,t,n,r){var i="ratio"in r?r.ratio:.5;return e.getPointAtRatio(i)}function JL(e,t,n,r){var i="length"in r?r.length:20;return e.getPointAtLength(i)}function qL(e,t,n,r){var i=1e6,o=e.getConnection(),s=e.getConnectionSubdivisions(),a=new ge(n.clone().offset(0,i),n.clone().offset(0,-i)),u=new ge(n.clone().offset(i,0),n.clone().offset(-i,0)),l=a.intersect(o,{segmentSubdivisions:s}),h=u.intersect(o,{segmentSubdivisions:s}),f=[];return l&&Array.prototype.push.apply(f,l),h&&Array.prototype.push.apply(f,h),f.length>0?n.chooseClosest(f):"fallbackAt"in r?yD(e,r.fallbackAt):ID(e,t,n,r)}function QL(e,t,n,r){var i=e.getClosestPoint(n);return i||new k}function la(e){return function(t,n,r,i){if(r instanceof Element){var o=this.paper.findView(r),s;if(o)if(o.isNodeConnection(r)){var a="fixedAt"in i?i.fixedAt:"50%";s=yD(o,a)}else s=o.getNodeBBox(r).center();else s=new k;return e.call(this,t,n,s,i)}return e.apply(this,arguments)}}function yD(e,t){var n=parseFloat(t);return Nt(t)?e.getPointAtRatio(n/100):e.getPointAtLength(n)}var KL=la(qL),ID=la(QL);var xd={};Dt(xd,{anchor:()=>ok,bbox:()=>sk,boundary:()=>uk,rectangle:()=>ak});function bd(e,t,n){if(ft(n)){let{x:i,y:o}=n;if(isFinite(o)){let s=new ge(t,e),{start:a,end:u}=s.parallel(o);t=a,e=u}n=i}if(!isFinite(n))return e;var r=e.distance(t);return n===0&&r>0?e:e.move(t,-Math.min(n,r-1))}function jv(e){var t=e.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function ek(e,t,n=0){let r,i,o,s,{start:a,end:u}=e;switch(t){case"left":r="x",i=u,o=a,s=-1;break;case"right":r="x",i=a,o=u,s=1;break;case"top":r="y",i=u,o=a,s=-1;break;case"bottom":r="y",i=a,o=u,s=1;break;default:return}a[r]<u[r]?i[r]=o[r]:o[r]=i[r],isFinite(n)&&(i[r]+=s*n,o[r]+=s*n)}function tk(e,t,n,r){let{offset:i,alignOffset:o,align:s}=r;return s&&ek(e,s,o),bd(e.end,e.start,i)}function CD(e,t,n,r){var i=t.getNodeBBox(n);r.stroke&&i.inflate(jv(n)/2);var o=e.intersect(i),s=o?e.start.chooseClosest(o):e.end;return bd(s,e.start,r.offset)}function nk(e,t,n,r){var i=t.model.angle();if(i===0)return CD(e,t,n,r);var o=t.getNodeUnrotatedBBox(n);r.stroke&&o.inflate(jv(n)/2);var s=o.center(),a=e.clone().rotate(s,i),u=a.setLength(1e6).intersect(o),l=u?a.start.chooseClosest(u).rotate(s,-i):e.end;return bd(l,e.start,r.offset)}function rk(e){if(!e)return null;var t=e;do{var n=t.tagName;if(typeof n!="string")return null;if(n=n.toUpperCase(),n==="G")t=t.firstElementChild;else if(n==="TITLE")t=t.nextElementSibling;else break}while(t);return t}var _v="segmentSubdivisons",Fv="shapeBBox";function ik(e,t,n,r){var i,o,s=r.selector,a=e.end;if(typeof s=="string"?i=t.findBySelector(s)[0]:s===!1?i=n:Array.isArray(s)?i=Jr(n,s):i=rk(n),!Y.isSVGGraphicsElement(i)){if(i===n||!Y.isSVGGraphicsElement(n))return a;i=n}var u=t.getNodeShape(i),l=t.getNodeMatrix(i),h=t.getRootTranslateMatrix(),f=t.getRootRotateMatrix(),y=h.multiply(f).multiply(l),I=y.inverse(),b=Y.transformLine(e,I),D=b.start.clone(),E=t.getNodeData(i);if(r.insideout===!1){E[Fv]||(E[Fv]=u.bbox());var P=E[Fv];if(P.containsPoint(D))return a}var z;if(u instanceof Ce){var H=r.precision||2;E[_v]||(E[_v]=u.getSegmentSubdivisions({precision:H})),z={precision:H,segmentSubdivisions:E[_v]}}r.extrapolate===!0&&b.setLength(1e6),o=b.intersect(u,z),o?Y.isArray(o)&&(o=D.chooseClosest(o)):r.sticky===!0&&(u instanceof fe?o=u.pointNearestToPoint(D):u instanceof qt?o=u.intersectionWithLineFromCenterToPoint(D):o=u.closestPoint(D,z));var X=o?Y.transformPoint(o,y):a,ne=r.offset||0;return r.stroke&&(ne+=jv(i)/2),bd(X,e.start,ne)}var ok=tk,sk=CD,ak=nk,uk=ik;var Dd={};Dt(Dd,{bottom:()=>gk,bottomLeft:()=>Ik,bottomRight:()=>Ck,center:()=>dk,left:()=>pk,midSide:()=>wk,modelCenter:()=>bk,perpendicular:()=>Ak,right:()=>mk,top:()=>hk,topLeft:()=>vk,topRight:()=>yk});function mi(e){return function(t,n,r,i){var o=!!i.rotate,s=o?t.getNodeUnrotatedBBox(n):t.getNodeBBox(n),a=s[e](),u=i.dx;if(u){var l=Nt(u);u=parseFloat(u),isFinite(u)&&(l&&(u/=100,u*=s.width),a.x+=u)}var h=i.dy;if(h){var f=Nt(h);h=parseFloat(h),isFinite(h)&&(f&&(h/=100,h*=s.height),a.y+=h)}return o?a.rotate(t.model.getBBox().center(),-t.model.angle()):a}}function ck(e,t,n,r){var i=e.model.angle(),o=e.getNodeBBox(t),s=o.center(),a=o.origin(),u=o.corner(),l=r.padding;if(isFinite(l)||(l=0),a.y+l<=n.y&&n.y<=u.y-l){var h=n.y-s.y;s.x+=i===0||i===180?0:h*1/Math.tan(Ht(i)),s.y+=h}else if(a.x+l<=n.x&&n.x<=u.x-l){var f=n.x-s.x;s.y+=i===90||i===270?0:f*Math.tan(Ht(i)),s.x+=f}return s}function lk(e,t,n,r){var i=!!r.rotate,o,s,a;i?(o=e.getNodeUnrotatedBBox(t),a=e.model.getBBox().center(),s=e.model.angle()):o=e.getNodeBBox(t);var u=r.padding;isFinite(u)&&o.inflate(u),i&&n.rotate(a,s);var l=o.sideNearestToPoint(n),h;switch(l){case"left":h=o.leftMiddle();break;case"right":h=o.rightMiddle();break;case"top":h=o.topMiddle();break;case"bottom":h=o.bottomMiddle();break}return i?h.rotate(a,-s):h}function fk(e,t,n,r,i){return e.model.getPointFromConnectedLink(this.model,i).offset(r.dx,r.dy)}var dk=mi("center"),hk=mi("topMiddle"),gk=mi("bottomMiddle"),pk=mi("leftMiddle"),mk=mi("rightMiddle"),vk=mi("origin"),yk=mi("topRight"),Ik=mi("bottomLeft"),Ck=mi("corner"),Ak=la(ck),wk=la(lk),bk=fk;var pr=Cr(hi(),1),xD=Cr(Ou(),1),fa={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},xk=50,AD=20,wD=1e3,Dk=1/0,Md=9007199254740991,Bv=Ve.Highlighting,bD={[Bv.DEFAULT]:{name:"stroke",options:{padding:3}},[Bv.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[Bv.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},Mk=[{name:_n.BACK},{name:_n.CELLS},{name:_n.LABELS},{name:_n.FRONT},{name:_n.TOOLS}],Nk=on.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:Ft,linkView:Ro,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:bD,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new gt,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(e,t,n){return t.getAttribute("magnet")!=="passive"},validateConnection:function(e,t,n,r,i,o){return(i==="target"?n:e)instanceof Ft},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:fa.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(e,t,n,r,i){t&(e.FLAG_INSERT|e.FLAG_REMOVE)||r.mounting||r.isolate||i.requestConnectedLinksUpdate(e,n,r)},onViewPostponed:function(e,t,n){return n.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:Ad,anchorNamespace:Dd,linkAnchorNamespace:wd,connectionPointNamespace:xd,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){let{options:e,el:t}=this;e.cellViewNamespace||(e.cellViewNamespace=typeof joint<"u"&&Dn(joint,"shapes")?joint.shapes:null);let n=this.model=e.model||new sd;this._layers={},this.setGrid(e.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=(0,pr.default)(t.ownerDocument),this.resetViews(n.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(e,t,n){var r=n.position;this.isAsync()||!$t(r)?this.renderView(e,n):(n.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(e,n),r===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,n){let r=this.findViewByModel(e);r&&this.requestViewUpdate(r,r.FLAG_REMOVE,r.UPDATE_PRIORITY,n)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===fa.APPROX){let n=this.findViewByModel(e);n&&this.requestViewUpdate(n,n.FLAG_INSERT,n.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.resetLayers(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,n=this.model;if(!this.isAsync()){var r=this.UPDATE_DELAYING_BATCHES;r.includes(t)&&!n.hasActiveBatch(r)&&this.updateViews(e)}var i=this.SORT_DELAYING_BATCHES;i.includes(t)&&!n.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){let{options:e}=this,{defaultConnector:t,defaultRouter:n,defaultConnectionPoint:r,defaultAnchor:i,defaultLinkAnchor:o,origin:s,highlighting:a,cellViewNamespace:u,interactive:l}=e;!u&&typeof joint<"u"&&Dn(joint,"shapes")&&(e.cellViewNamespace=joint.shapes),We(t)||(e.defaultConnector=Wt(t)),We(n)||(e.defaultRouter=Wt(n)),We(r)||(e.defaultConnectionPoint=Wt(r)),We(i)||(e.defaultAnchor=Wt(i)),We(o)||(e.defaultLinkAnchor=Wt(o)),ft(l)&&(e.interactive=Ie({},l)),ft(a)&&(e.highlighting=Bi({},a,bD)),e.origin=Ie({},s)},children:function(){var e=Y.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:rn("paper-background"),selector:"background"},{namespaceURI:e.xhtml,tagName:"div",className:rn("paper-grid"),selector:"grid"},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:rn("layers"),selector:"layers"}]}]},hasLayerView(e){return e in this._layers},getLayerView(e){let{_layers:t}=this;if(e in t)return t[e];throw new Error(`dia.Paper: Unknown layer "${e}"`)},getLayerNode(e){return this.getLayerView(e).el},render:function(){this.renderChildren();let{childNodes:e,options:t}=this,{svg:n,defs:r,layers:i,background:o,grid:s}=e;return n.style.overflow=t.overflow?"visible":"hidden",this.svg=n,this.defs=r,this.layers=i,this.$background=(0,pr.default)(o),this.$grid=(0,pr.default)(s),this.renderLayers(),Y.ensureId(n),t.background&&this.drawBackground(t.background),t.drawGrid&&this.drawGrid(),this},renderLayers:function(e=Mk){this.removeLayers(),e.forEach(({name:i,sorted:o})=>{let s=new bv({name:i});this.layers.appendChild(s.el),this._layers[i]=s});let t=this.getLayerView(_n.CELLS),n=this.getLayerView(_n.TOOLS),r=this.getLayerView(_n.LABELS);this.tools=n.el,this.cells=this.viewport=t.el,t.vel.addClass(rn("viewport")),r.vel.addClass(rn("viewport"))},removeLayers:function(){let{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].remove(),delete e[t]})},resetLayers:function(){let{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(e){var t=this.layers;if(e===void 0){var n=t.getAttribute("transform");return(this._viewportTransformString||null)===n?e=this._viewportMatrix:(e=t.getCTM(),this._viewportMatrix=e,this._viewportTransformString=n),Y.createSVGMatrix(e)}e=Y.createSVGMatrix(e);var r=Y.matrixToTransformString(e);return t.setAttribute("transform",r),this._viewportMatrix=e,this._viewportTransformString=t.getAttribute("transform"),this},clientMatrix:function(){return Y.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,n){if(e instanceof Ve)for(var r=e.model,i=this.model.getConnectedLinks(r),o=0,s=i.length;o<s;o++){var a=i[o],u=this.findViewByModel(a);if(u){var l=["UPDATE"];a.getTargetCell()===r&&l.push("TARGET"),a.getSourceCell()===r&&l.push("SOURCE");var h=Math.max(t+1,u.UPDATE_PRIORITY);this.scheduleViewUpdate(u,u.getFlag(l),h,n)}}},forcePostponedViewUpdate:function(e,t){if(!e||!(e instanceof Ve))return!1;var n=e.model;if(n.isElement())return!1;if(!(t&e.getFlag(["SOURCE","TARGET"]))){var r={silent:!0},i=0,o=this.findViewByModel(n.getSourceCell());o&&!this.isViewMounted(o)&&(i=this.dumpView(o,r),e.updateEndMagnet("source"));var s=0,a=this.findViewByModel(n.getTargetCell());if(a&&!this.isViewMounted(a)&&(s=this.dumpView(a,r),e.updateEndMagnet("target")),i===0&&s===0)return!this.dumpView(e,r)}return!1},requestViewUpdate:function(e,t,n,r){r||(r={}),this.scheduleViewUpdate(e,t,n,r);var i=this.isAsync();if(!(this.isFrozen()||i&&r.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var o=this.updateViews(r);i&&this.notifyAfterRender(o,r)}},scheduleViewUpdate:function(e,t,n,r){let{_updates:i,options:o}=this;i.idle&&o.autoFreeze&&(i.idle=!1,this.unfreeze());let{FLAG_REMOVE:s,FLAG_INSERT:a,UPDATE_PRIORITY:u,cid:l}=e,h=i.priorities[n];if(h||(h=i.priorities[n]={}),n>u)for(let I=n-1;I>=u;I--){let b=i.priorities[I];!b||!(l in b)||(h[l]|=b[l],delete b[l])}let f=h[l]||0;if((f&t)===t)return;f||i.count++,t&s&&f&a?h[l]^=a:t&a&&f&s&&(h[l]^=s),h[l]|=t;let y=o.onViewUpdate;typeof y=="function"&&y.call(this,e,t,n,r||{},this)},dumpViewUpdate:function(e){if(!e)return 0;var t=this._updates,n=e.cid,r=t.priorities[e.UPDATE_PRIORITY],i=this.registerMountedView(e)|r[n];return delete r[n],i},dumpView:function(e,t={}){let n=this.dumpViewUpdate(e);if(!n)return 0;let r=!t.silent;r&&this.notifyBeforeRender(t);let i=this.updateView(e,n,t);if(r){let o={updated:1,priority:e.UPDATE_PRIORITY};this.notifyAfterRender(o,t)}return i},updateView:function(e,t,n){if(!e)return 0;let{FLAG_REMOVE:r,FLAG_INSERT:i,FLAG_INIT:o,model:s}=e;if(e instanceof Ve){if(t&r)return this.removeView(s),0;if(t&i){let a=!!(t&o);a&&(t^=o),this.insertView(e,a),t^=i}}return t?e.confirmUpdate(t,n||{}):0},requireView:function(e,t){var n=this.findViewByModel(e);return n?(this.dumpView(n,t),n):null},registerUnmountedView:function(e){var t=e.cid,n=this._updates;if(t in n.unmounted)return 0;var r=n.unmounted[t]|=e.FLAG_INSERT;return n.unmountedCids.push(t),delete n.mounted[t],r},registerMountedView:function(e){var t=e.cid,n=this._updates;if(t in n.mounted)return 0;n.mounted[t]=!0,n.mountedCids.push(t);var r=n.unmounted[t]||0;return delete n.unmounted[t],r},isViewMounted:function(e){if(!e)return!1;var t=e.cid,n=this._updates;return t in n.mounted},dumpViews:function(e){var t=nn({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){this.notifyBeforeRender(e);let t,n=0,r=0,i=Md;do r++,t=this.updateViewsBatch(e),n+=t.updated,i=Math.min(t.priority,i);while(!t.empty);let o={updated:n,batches:r,priority:i};return this.notifyAfterRender(o,e),o},hasScheduledUpdates:function(){let e=this._updates.priorities,t=Object.keys(e),n=t.length;for(;n>0&&n--;)for(let r in e[t[n]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:Md});let{_updates:n,options:r}=this,i=n.id;if(i){ta(i),t.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);let o=this.updateViewsBatch(e),s=nn({},e,{mountBatchSize:wD-o.mounted,unmountBatchSize:wD-o.unmounted}),a=this.checkViewport(s),u=a.unmounted,l=a.mounted,h=t.processed,f=n.count;o.updated>0?(h+=o.updated+o.unmounted,o.processed=h,t.priority=Math.min(o.priority,t.priority),o.empty&&l===0?(o.unmounted+=u,o.mounted+=l,o.priority=t.priority,this.notifyAfterRender(o,e),t.processed=0,t.priority=Md,n.count=0):t.processed=h):n.idle||r.autoFreeze&&(this.freeze(),n.idle=!0,this.trigger("render:idle",e));let y=e.progress;if(f&&typeof y=="function"&&y.call(this,o.empty,h,f,o,this),n.id!==i)return}if(n.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");n.id=ea(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(e={}){let t=e.beforeRender;typeof t!="function"&&(t=this.options.beforeRender,typeof t!="function")||t.call(this,e,this)},notifyAfterRender:function(e,t={}){let n=t.afterRender;typeof n!="function"&&(n=this.options.afterRender),typeof n=="function"&&n.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||Dk,n=this._updates,r=0,i=0,o=0,s=0,a=Md,u=!0,l=this.options,h=n.priorities,f="viewport"in e?e.viewport:l.viewport;typeof f!="function"&&(f=null);var y=l.onViewPostponed;typeof y!="function"&&(y=null);var I=Object.keys(h);e:for(var b=0,D=I.length;b<D;b++){var E=+I[b],P=h[E];for(var z in P){if(r>=t){u=!1;break e}var H=Ui[z];if(!H){delete P[z];continue}var X=P[z];if(!(X&H.FLAG_REMOVE)){var ne=z in n.unmounted;if(H.DETACHABLE&&f&&!f.call(this,H,!ne,this)){ne||(this.registerUnmountedView(H),this.detachView(H)),n.unmounted[z]|=X,delete P[z],o++;continue}ne&&(X|=H.FLAG_INSERT,s++),X|=this.registerMountedView(H)}var p=this.updateView(H,X,e);if(p>0&&(P[z]=p,!y||!y.call(this,H,p,this)||P[z])){i++,u=!1;continue}a>E&&(a=E),r++,delete P[z]}}return{priority:a,updated:r,postponed:i,unmounted:o,mounted:s,empty:u}},getUnmountedViews:function(){let e=this._updates,t=Object.keys(e.unmounted),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=Ui[t[i]];return r},getMountedViews:function(){let e=this._updates,t=Object.keys(e.mounted),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=Ui[t[i]];return r},checkUnmountedViews:function(e,t){t||(t={});var n=0;typeof e!="function"&&(e=null);for(var r=("mountBatchSize"in t)?t.mountBatchSize:1/0,i=this._updates,o=i.unmountedCids,s=i.unmounted,a=0,u=Math.min(o.length,r);a<u;a++){var l=o[a];if(l in s){var h=Ui[l];if(h){if(h.DETACHABLE&&e&&!e.call(this,h,!1,this)){o.push(l);continue}n++;var f=this.registerMountedView(h);f&&this.scheduleViewUpdate(h,f,h.UPDATE_PRIORITY,{mounting:!0})}}}return o.splice(0,a),n},checkMountedViews:function(e,t){t||(t={});var n=0;if(typeof e!="function")return n;for(var r=("unmountBatchSize"in t)?t.unmountBatchSize:1/0,i=this._updates,o=i.mountedCids,s=i.mounted,a=0,u=Math.min(o.length,r);a<u;a++){var l=o[a];if(l in s){var h=Ui[l];if(h){if(!h.DETACHABLE||e.call(this,h,!0,this)){o.push(l);continue}n++;var f=this.registerUnmountedView(h);f&&this.detachView(h)}}}return o.splice(0,a),n},checkViewVisibility:function(e,t={}){let n="viewport"in t?t.viewport:this.options.viewport;typeof n!="function"&&(n=null);let r=this._updates,{mounted:i,unmounted:o}=r,s=!e.DETACHABLE||!n||n.call(this,e,!1,this),a=!1,u=!1;if(e.cid in i&&!s){this.registerUnmountedView(e)&&this.detachView(e);let f=r.mountedCids.indexOf(e.cid);r.mountedCids.splice(f,1),a=!0}if(!a&&e.cid in o&&s){let h=r.unmountedCids.indexOf(e.cid);r.unmountedCids.splice(h,1);var l=this.registerMountedView(e);l&&this.scheduleViewUpdate(e,l,e.UPDATE_PRIORITY,{mounting:!0}),u=!0}return{mounted:u?1:0,unmounted:a?1:0}},checkViewport:function(e){var t=nn({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in t?t.viewport:this.options.viewport,r=this.checkMountedViews(n,t);if(r>0){var i=this._updates.unmountedCids;t.mountBatchSize=Math.min(i.length-r,t.mountBatchSize)}var o=this.checkUnmountedViews(n,t);return{mounted:o,unmounted:r}},freeze:function(e){e||(e={});var t=this._updates,n=e.key,r=this.options.frozen,i=t.freezeKey;if(n&&n!==i){if(r&&i)return;t.freezeKey=n,t.keyFrozen=r}this.options.frozen=!0;var o=t.id;t.id=null,this.isAsync()&&o&&ta(o)},unfreeze:function(e){e||(e={});var t=this._updates,n=e.key,r=t.freezeKey;n&&r&&n!==r||(t.freezeKey=null,!(n&&n===r&&t.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===fa.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,n=e.height;return $t(t)||(t=this.el.clientWidth),$t(n)||(n=this.el.clientHeight),{width:t,height:n}},setDimensions:function(e,t){let{options:n}=this,{width:r,height:i}=n,o=e===void 0?r:e,s=t===void 0?i:t;if(r===o&&i===s)return;n.width=o,n.height=s,this._setDimensions();let a=this.getComputedSize();this.trigger("resize",a.width,a.height)},_setDimensions:function(){let{options:e}=this,t=e.width,n=e.height;$t(t)&&(t=Math.round(t)),$t(n)&&(n=Math.round(n)),this.$el.css({width:t===null?"":t,height:n===null?"":n})},setOrigin:function(e,t){return this.translate(e||0,t||0)},fitToContent:function(e,t,n,r){je(e)?r=e:r=Ie({gridWidth:e,gridHeight:t,padding:n},r);let{x:i,y:o,width:s,height:a}=this.getFitToContentArea(r),{sx:u,sy:l}=this.scale();return this.setOrigin(-i*u,-o*l),this.setDimensions(s*u,a*l),new fe(i,o,s,a)},getFitToContentArea:function(e={}){let t=e.gridWidth||1,n=e.gridHeight||1,r=Mn(e.padding||0),i=Math.max(e.minWidth||0,t),o=Math.max(e.minHeight||0,n),s=e.maxWidth||Number.MAX_VALUE,a=e.maxHeight||Number.MAX_VALUE,u=e.allowNewOrigin,l="contentArea"in e?new fe(e.contentArea):this.getContentArea(e),{sx:h,sy:f}=this.scale();l.x*=h,l.y*=f,l.width*=h,l.height*=f;let y=Math.ceil((l.width+l.x)/t),I=Math.ceil((l.height+l.y)/n);e.allowNegativeBottomRight||(y=Math.max(y,1),I=Math.max(I,1)),y*=t,I*=n;let b=0;(u==="negative"&&l.x<0||u==="positive"&&l.x>=0||u==="any")&&(b=Math.ceil(-l.x/t)*t,b+=r.left,y+=b);let D=0;return(u==="negative"&&l.y<0||u==="positive"&&l.y>=0||u==="any")&&(D=Math.ceil(-l.y/n)*n,D+=r.top,I+=D),y+=r.right,I+=r.bottom,y=Math.max(y,i),I=Math.max(I,o),y=Math.min(y,s),I=Math.min(I,a),new fe(-b/h,-D/f,y/h,I/f)},transformToFitContent:function(e){e||(e={});let t,n;if("contentArea"in e){let E=e.contentArea;t=this.localToPaperRect(E),n=new k(E)}else t=this.getContentBBox(e),n=this.paperToLocalPoint(t);if(!t.width||!t.height)return;nn(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});let r=Mn(e.padding),i=e.minScaleX||e.minScale,o=e.maxScaleX||e.maxScale,s=e.minScaleY||e.minScale,a=e.maxScaleY||e.maxScale,u;if(e.fittingBBox)u=e.fittingBBox;else{let E=this.translate(),P=this.getComputedSize();u={x:E.tx,y:E.ty,width:P.width,height:P.height}}u=new fe(u).moveAndExpand({x:r.left,y:r.top,width:-r.left-r.right,height:-r.top-r.bottom});let l=this.scale(),h=u.width/t.width*l.sx,f=u.height/t.height*l.sy;if(e.preserveAspectRatio&&(h=f=Math.min(h,f)),e.scaleGrid){let E=e.scaleGrid;h=E*Math.floor(h/E),f=E*Math.floor(f/E)}h=Math.min(o,Math.max(i,h)),f=Math.min(a,Math.max(s,f));let y={x:h/l.sx,y:f/l.sy},I=this.options.origin,b=u.x-n.x*h-I.x,D=u.y-n.y*f-I.y;switch(e.verticalAlign){case"middle":D=D+(u.height-t.height*y.y)/2;break;case"bottom":D=D+(u.height-t.height*y.y);break;case"top":default:break}switch(e.horizontalAlign){case"middle":b=b+(u.width-t.width*y.x)/2;break;case"right":b=b+(u.width-t.width*y.x);break;case"left":default:break}this.scale(h,f),this.translate(b,D)},scaleContentToFit:function(e){this.transformToFitContent(e)},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new fe:Y(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...e){let{restrictTranslate:t}=this.options,n;return We(t)?n=t.apply(this,e):t===!0?n=this.getArea():t?n=new fe(t):n=null,n},createViewForModel:function(e){let{options:t}=this;var n,r,i=t.cellViewNamespace,o=e.get("type")+"View",s=Jr(i,o,".");e.isLink()?(n=t.linkView,r=Ro):(n=t.elementView,r=Ft);var a=n.prototype instanceof xD.default.View?s||n:n.call(this,e)||s||r;return new a({model:e,interactive:t.interactive,labelsLayer:t.labelsLayer===!0?_n.LABELS:t.labelsLayer})},removeView:function(e){let{id:t}=e,{_views:n,_updates:r}=this,i=n[t];if(i){var{cid:o}=i;let{mounted:s,unmounted:a}=r;i.remove(),delete n[t],delete s[o],delete a[o]}return i},renderView:function(e,t){let{id:n}=e,r=this._views,i,o,s=!0;return n in r&&(i=r[n],i.model===e?(o=i.FLAG_INSERT,s=!1):this.removeView(e)),s&&(i=r[n]=this.createViewForModel(e),i.paper=this,o=this.registerUnmountedView(i)|this.FLAG_INIT|i.getFlag(ht(i,"initFlag"))),this.requestViewUpdate(i,o,i.UPDATE_PRIORITY,t),i},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews();let n=this.options.autoFreeze?null:"reset";this.freeze({key:n});for(var r=0,i=e.length;r<i;r++)this.renderView(e[r],t);this.unfreeze({key:n}),this.sortViews()},removeViews:function(){mn(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var e=(0,pr.default)(this.cells).children("[model-id]"),t=this.model.get("cells");hv(e,function(n,r){var i=t.get(n.getAttribute("model-id")),o=t.get(r.getAttribute("model-id")),s=i.attributes.z||0,a=o.attributes.z||0;return s===a?0:s<a?-1:1})},insertView:function(e,t){let n=this.getLayerView(_n.CELLS),{el:r,model:i}=e;switch(this.options.sorting){case fa.APPROX:n.insertSortedNode(r,i.get("z"));break;case fa.EXACT:default:n.insertNode(r);break}e.onMount(t)},detachView(e){e.unmount(),e.onDetach()},scale:function(e,t,n,r){if(e===void 0)return Y.matrixToScale(this.matrix());t===void 0&&(t=e),n===void 0&&(n=0,r=0);var i=this.translate();if(n||r||i.tx||i.ty){var o=i.tx-n*(e-1),s=i.ty-r*(t-1);this.translate(o,s)}e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE);var a=this.matrix();return a.a=e,a.d=t,this.matrix(a),this.trigger("scale",e,t,n,r),this},rotate:function(e,t,n){if(e===void 0)return Y.matrixToRotate(this.matrix());if(t===void 0){var r=this.cells.getBBox();t=r.width/2,n=r.height/2}var i=this.matrix().translate(t,n).rotate(e).translate(-t,-n);return this.matrix(i),this},translate:function(e,t){if(e===void 0)return Y.matrixToTranslate(this.matrix());let{options:n}=this,{origin:r,drawGrid:i}=n;e||(e=0),t||(t=0);let o=this.matrix();if(o.e===e&&o.f===t)return this;o.e=e,o.f=t,this.matrix(o);let{tx:s,ty:a}=this.translate();return r.x=s,r.y=a,this.trigger("translate",s,a),i&&this.drawGrid(),this},findView:function(e){var t=_t(e)?this.cells.querySelector(e):e instanceof pr.default?e[0]:e,n=this.findAttribute("model-id",t);if(n)return this._views[n]},findViewByModel:function(e){var t=_t(e)||$t(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){e=new k(e);var t=this.model.getElements().map(this.findViewByModel,this);return t.filter(function(n){return n&&n.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=nn(t||{},{strict:!1}),e=new fe(e);var n=this.model.getElements().map(this.findViewByModel,this),r=t.strict?"containsRect":"intersect";return n.filter(function(i){return i&&e[r](i.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e,...t){typeof e=="string"&&this.trigger("tools:event",e,...t)},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var n=new k(e,t),r=Y.transformPoint(n,this.matrix());return r},localToPaperRect:function(e,t,n,r){var i=new fe(e,t,n,r),o=Y.transformRect(i,this.matrix());return o},paperToLocalPoint:function(e,t){var n=new k(e,t),r=Y.transformPoint(n,this.matrix().inverse());return r},paperToLocalRect:function(e,t,n,r){var i=new fe(e,t,n,r),o=Y.transformRect(i,this.matrix().inverse());return o},localToClientPoint:function(e,t){var n=new k(e,t),r=Y.transformPoint(n,this.clientMatrix());return r},localToClientRect:function(e,t,n,r){var i=new fe(e,t,n,r),o=Y.transformRect(i,this.clientMatrix());return o},clientToLocalPoint:function(e,t){var n=new k(e,t),r=Y.transformPoint(n,this.clientMatrix().inverse());return r},clientToLocalRect:function(e,t,n,r){var i=new fe(e,t,n,r),o=Y.transformRect(i,this.clientMatrix().inverse());return o},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,n,r){return this.localToPaperRect(e,t,n,r).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var n=new k(e,t),r=n.difference(this.pageOffset());return this.paperToLocalPoint(r)},pageToLocalRect:function(e,t,n,r){var i=this.pageOffset(),o=new fe(e,t,n,r);return o.x-=i.x,o.y-=i.y,this.paperToLocalRect(o)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new k(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof Ro))throw new Error("Must provide a linkView.");var t=e.model,n=this.options,r=this.model,i=r.constructor.validations;return!(!n.multiLinks&&!i.multiLinks.call(this,r,t)||!n.linkPinning&&!i.linkPinning.call(this,r,t)||typeof n.allowLink=="function"&&!n.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return We(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e={}){let{highlighter:t,type:n}=e,{highlighting:r,highlighterNamespace:i}=this.options;if(t===void 0){if(!r||n&&(t=r[n],t===!1))return!1;t||(t=r.default)}if(!t)return!1;_t(t)&&(t={name:t});let o=t.name,s=i[o];if(!s)throw new Error('Unknown highlighter ("'+o+'")');if(typeof s.highlight!="function")throw new Error('Highlighter ("'+o+'") is missing required highlight() method');if(typeof s.unhighlight!="function")throw new Error('Highlighter ("'+o+'") is missing required unhighlight() method');return{highlighter:s,options:t.options||{},name:o}},onCellHighlight:function(e,t,n){let r=this.resolveHighlighter(n);if(!r)return;let{highlighter:i,options:o}=r;i.highlight(e,t,o)},onCellUnhighlight:function(e,t,n){let r=this.resolveHighlighter(n);if(!r)return;let{highlighter:i,options:o}=r;i.unhighlight(e,t,o)},pointerdblclick:function(e){e.preventDefault(),e=qe(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,n.x,n.y):this.trigger("blank:pointerdblclick",e,n.x,n.y)}},pointerclick:function(e){var t=this.eventData(e);if(t.mousemoved<=this.options.clickThreshold){e=qe(e);var n=this.findView(e.target);if(this.guard(e,n))return;var r=this.snapToGrid(e.clientX,e.clientY);n?n.pointerclick(e,r.x,r.y):this.trigger("blank:pointerclick",e,r.x,r.y)}},contextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}e=qe(e),this.contextMenuTrigger(e)},contextMenuTrigger:function(e){var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,n.x,n.y):this.trigger("blank:contextmenu",e,n.x,n.y)}},pointerdown:function(e){e=qe(e);let{target:t,button:n}=e,r=this.findView(t),i=n===2;if(r){if(!i&&this.guard(e,r))return;let o=this.FORM_CONTROL_TAG_NAMES.includes(t.tagName);this.options.preventDefaultViewAction&&!o&&e.preventDefault(),o&&r.preventDefaultInteraction(e);let s=this.customEventTrigger(e,r);if(s){if(s.isPropagationStopped())return;e.data=s.data}let a=t.closest("[magnet]");if(a&&r.el!==a&&r.el.contains(a)){let u=qe(pr.default.Event(e.originalEvent,{data:e.data,currentTarget:a}));if(this.onmagnet(u),u.isDefaultPrevented()&&e.preventDefault(),u.isPropagationStopped()){if(i)return;this.delegateDragEvents(r,u.data);return}e.data=u.data}}if(i){this.contextMenuFired=!0;let o=pr.default.Event(e.originalEvent,{type:"contextmenu",data:e.data});this.contextMenuTrigger(o)}else{let o=this.snapToGrid(e.clientX,e.clientY);r?r.pointerdown(e,o.x,o.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,o.x,o.y)),this.delegateDragEvents(r,e.data)}},pointermove:function(e){var t=this.eventData(e);t.mousemoved||(t.mousemoved=0,this.undelegateEvents());var n=++t.mousemoved;if(!(n<=this.options.moveThreshold)){e=qe(e);var r=this.snapToGrid(e.clientX,e.clientY),i=t.sourceView;i?i.pointermove(e,r.x,r.y):this.trigger("blank:pointermove",e,r.x,r.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=qe(e),n=this.snapToGrid(t.clientX,t.clientY),r=this.eventData(e).sourceView;r?r.pointerup(t,n.x,n.y):this.trigger("blank:pointerup",t,n.x,n.y),t.isPropagationStopped()||this.pointerclick(pr.default.Event(e.originalEvent,{type:"click",data:e.data})),this.delegateEvents()},mouseover:function(e){e=qe(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=qe(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=qe(e);let{target:t,relatedTarget:n,currentTarget:r}=e,i=this.findView(t);if(this.guard(e,i))return;let o=this.findView(n);i&&(o===i||(i.mouseenter(e),this.el.contains(n)))||o||r===this.el&&this.trigger("paper:mouseenter",e)},mouseleave:function(e){e=qe(e);let{target:t,relatedTarget:n,currentTarget:r}=e,i=this.findView(t);if(this.guard(e,i))return;let o=this.findView(n);i&&(o===i||(i.mouseleave(e),this.el.contains(n)))||o||r===this.el&&this.trigger("paper:mouseleave",e)},_processMouseWheelEvtBuf:Qf(function(){let{event:e,deltas:t}=this._mw_evt_buffer,n=t.reduce((s,a)=>s+fv(a,xk),0),r=Math.pow(.995,n),{x:i,y:o}=this.clientToLocalPoint(e.clientX,e.clientY);this.trigger("paper:pinch",e,i,o,r),this._mw_evt_buffer={event:null,deltas:[]}},AD,{maxWait:AD}),mousewheel:function(e){e=qe(e);let t=this.findView(e.target);if(this.guard(e,t))return;let n=e.originalEvent,r=this.snapToGrid(n.clientX,n.clientY),{deltaX:i,deltaY:o}=lv(n),s=this._events["paper:pinch"];if(e.ctrlKey&&s&&s.length>0)n.preventDefault(),this._mw_evt_buffer.event=n,this._mw_evt_buffer.deltas.push(o),this._processMouseWheelEvtBuf();else{let a=Math.max(-1,Math.min(1,n.wheelDelta));t?t.mousewheel(e,r.x,r.y,a):this.trigger("blank:mousewheel",e,r.x,r.y,a),this.trigger("paper:pan",e,i,o)}},onevent:function(e){var t=e.currentTarget,n=t.getAttribute("event");if(n){var r=this.findView(t);if(r){if(e=qe(e),this.guard(e,r))return;var i=this.snapToGrid(e.clientX,e.clientY);r.onevent(e,n,i.x,i.y)}}},magnetEvent:function(e,t){var n=e.currentTarget,r=n.getAttribute("magnet");if(r){var i=this.findView(n);if(i){if(e=qe(e),this.guard(e,i))return;var o=this.snapToGrid(e.clientX,e.clientY);t.call(this,i,e,n,o.x,o.y)}}},onmagnet:function(e){if(e.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;let t=pr.default.Event(e.originalEvent,{type:"contextmenu",data:e.data,currentTarget:e.currentTarget});this.magnetContextMenuTrigger(t),t.isPropagationStopped()&&e.stopPropagation()}else this.magnetEvent(e,function(t,n,r,i,o){t.onmagnet(n,i,o)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(t,n,r,i,o){t.magnetpointerdblclick(n,r,i,o)})},magnetcontextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(e)},magnetContextMenuTrigger:function(e){this.magnetEvent(e,function(t,n,r,i,o){t.magnetcontextmenu(n,r,i,o)})},onlabel:function(e){var t=e.currentTarget,n=this.findView(t);if(!n||(e=qe(e),this.guard(e,n)))return;let r=this.customEventTrigger(e,n,t);if(r){if(r.isPropagationStopped())return;e.data=r.data}var i=this.snapToGrid(e.clientX,e.clientY);n.onlabel(e,i.x,i.y)},getPointerArgs(e){let t=qe(e),{x:n,y:r}=this.snapToGrid(t.clientX,t.clientY);return[t,n,r]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t)},guard:function(e,t){if(e.type==="mousedown"&&e.button===2||this.options.guard&&this.options.guard(e,t))return!0;if(e.data&&e.data.guarded!==void 0)return e.data.guarded;let{target:n}=e;return this.GUARDED_TAG_NAMES.includes(n.tagName)?!0:!(t&&t.model&&t.model instanceof Nn||this.svg===n||this.el===n||pr.default.contains(this.svg,n))},setGridSize:function(e){let{options:t}=this;return t.gridSize=e,t.drawGrid&&!t.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:Y("svg",{width:"100%",height:"100%"},Y("defs")),patterns:{},add:function(e,t){Y(this.root.node.childNodes[0]).append(t),this.patterns[e]=t,this.root.append(Y("rect",{width:"100%",height:"100%",fill:"url(#"+e+")"}))},get:function(e){return this.patterns[e]},exist:function(e){return this.patterns[e]!==void 0}}),this._gridCache},setGrid:function(e){this.clearGrid(),this._gridCache=null,this._gridSettings=[];var t=Array.isArray(e)?e:[e||{}];return t.forEach(function(n){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(n))},this),this},_resolveDrawGridOption:function(e){var t=this.constructor.gridPatterns;if(_t(e)&&Array.isArray(t[e]))return t[e].map(function(u){return Ie({},u)});var n=e||{args:[{}]},r=Array.isArray(n),i=n.name;if(!r&&!i&&!n.markup&&(i="dot"),i&&Array.isArray(t[i])){var o=t[i].map(function(u){return Ie({},u)}),s=Array.isArray(n.args)?n.args:[n.args||{}];nn(s[0],Rn(e,"args"));for(var a=0;a<s.length;a++)o[a]&&Ie(o[a],s[a]);return o}return r?n:[n]},drawGrid:function(e){let t=this.options.drawGridSize||this.options.gridSize;if(t<=1)return this.clearGrid();var n=Array.isArray(e)?e:[e],r=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach(function(s,a){var u="pattern_"+a,l=xt(s,n[a],{sx:r.a||1,sy:r.d||1,ox:r.e||0,oy:r.f||0});l.width=t*(r.a||1)*(l.scaleFactor||1),l.height=t*(r.d||1)*(l.scaleFactor||1),i.exist(u)||i.add(u,Y("pattern",{id:u,patternUnits:"userSpaceOnUse"},Y(l.markup)));var h=i.get(u);We(l.update)&&l.update(h.node.childNodes[0],l);var f=l.ox%l.width;f<0&&(f+=l.width);var y=l.oy%l.height;y<0&&(y+=l.height),h.attr({x:f,y,width:l.width,height:l.height})});var o=new XMLSerializer().serializeToString(i.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(e){e=e||{};var t=e.position||"center",n=e.size||"auto auto",r=this.scale(),i=this.translate();if(je(t)){var o=i.tx+r.sx*(t.x||0),s=i.ty+r.sy*(t.y||0);t=o+"px "+s+"px"}je(n)&&(n=new fe(n).scale(r.sx,r.sy),n=n.width+"px "+n.height+"px"),this.$background.css({backgroundSize:n,backgroundPosition:t})},drawBackgroundImage:function(e,t){if(!(e instanceof HTMLImageElement)){this.$background.css("backgroundImage","");return}if(!(!this._background||this._background.id!==t.id)){t=t||{};var n,r=t.size,i=t.repeat||"no-repeat",o=t.opacity||1,s=Math.abs(t.quality)||1,a=this.constructor.backgroundPatterns[td(i)];if(We(a)){e.width*=s,e.height*=s;var u=a(e,t);if(!(u instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=u.toDataURL("image/png"),i="repeat",je(r)?(r.width*=u.width/e.width,r.height*=u.height/e.height):r===void 0&&(t.size={width:u.width/s,height:u.height/s})}else n=e.src,r===void 0&&(t.size={width:e.width,height:e.height});this.$background.css({opacity:o,backgroundRepeat:i,backgroundImage:"url("+n+")"}),this.updateBackgroundImage(t)}},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(e=e||{},this.updateBackgroundColor(e.color),e.image){e=this._background=Wt(e),pi(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,mn(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!je(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,n=e.name;if(t||(t=n+this.svg.id+Qs(JSON.stringify(e))),!this.isDefined(t)){var r=pv,i=r[n]&&r[n](e.args||{});if(!i)throw new Error("Non-existing filter "+n);var o=Ie({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},e.attrs,{id:t});Y(i,o).appendTo(this.defs)}return t},defineGradient:function(e){if(!je(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");let{svg:t,defs:n}=this,{type:r,id:i=r+t.id+Qs(JSON.stringify(e)),stops:o,attrs:s={}}=e;if(this.isDefined(i))return i;let a=Se(o).map(({offset:l,color:h,opacity:f})=>Y("stop").attr({offset:l,"stop-color":h,"stop-opacity":Number.isFinite(f)?f:1})),u=Y(r,s,a);return u.id=i,u.appendTo(n),i},definePattern:function(e){if(!je(e))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");let{svg:t,defs:n}=this,{id:r=t.id+Qs(JSON.stringify(e)),markup:i,attrs:o={}}=e;if(!i)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(r))return r;let s=Y("pattern",{patternUnits:"userSpaceOnUse"});if(s.id=r,s.attr(o),typeof i=="string")s.append(Y(i));else{let{fragment:a}=zi(i);s.append(a)}return s.appendTo(n),r},defineMarker:function(e){if(!je(e))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");let{svg:t,defs:n}=this,{id:r=t.id+Qs(JSON.stringify(e)),markup:i,attrs:o={},markerUnits:s="userSpaceOnUse"}=e;if(this.isDefined(r))return r;let a=Y("marker",{orient:"auto",overflow:"visible",markerUnits:s});a.id=r,a.attr(o);let u;if(i){let f;if(typeof i=="string")f=Y(i),f=Array.isArray(f)?f:[f];else{let{fragment:y}=zi(i);f=Y(y).children()}f.length>1?u=Y("g").append(f):u=f[0]}else{let{type:f="path"}=e;u=Y(f)}let l=Rn(e,"type","id","markup","attrs","markerUnits");return Object.keys(l).forEach(f=>{let y=l[f],I=u.attr(f);if(I==null)u.attr(f,y);else switch(f){case"transform":u.attr(f,y+" "+I);break}}),u.appendTo(a),a.appendTo(n),r},customEventTrigger:function(e,t,n=t.el){let r=e.target.closest("[event]");if(r&&n!==r&&t.el.contains(r)){let i=qe(pr.default.Event(e.originalEvent,{data:e.data,currentTarget:r}));return this.onevent(i),i.isDefaultPrevented()&&e.preventDefault(),i}return null}},{sorting:fa,Layers:_n,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=2*r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(e,0,0,n,r),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(e,0,0,n,r),t},flipX:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=n*2,t.height=r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(2*n,0),i.scale(-1,1),i.drawImage(e,0,0,n,r),t},flipY:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=n,t.height=r*2;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(0,2*r),i.scale(1,-1),i.drawImage(e,0,0,n,r),t},watermark:function(e,t){t=t||{};var n=e.width,r=e.height,i=document.createElement("canvas");i.width=n*3,i.height=r*3;for(var o=i.getContext("2d"),s=$t(t.watermarkAngle)?-t.watermarkAngle:-20,a=Ht(s),u=i.width/4,l=i.height/4,h=0;h<4;h++)for(var f=0;f<4;f++)(h+f)%2>0&&(o.setTransform(1,0,0,1,(2*h-1)*u,(2*f-1)*l),o.rotate(a),o.drawImage(e,-n/2,-r/2,n,r));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){Y(e).attr({width:t.thickness*t.sx,height:t.thickness*t.sy,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){var n=t.sx<=1?t.thickness*t.sx:t.thickness;Y(e).attr({width:n,height:n,fill:t.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;r-o>=0&&i-o>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",Y(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;r-o>=0&&i-o>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",Y(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;r-o>=0&&i-o>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",Y(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}]}});var Cn=on.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){let{paper:t,relatedView:n}=this;return!t||!n?!0:t.guard(e,n)}});var Ek=on.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(e){e=Ie(this.options,e);var t=e.tools;if(!Array.isArray(t))return this;var n=e.relatedView;if(!(n instanceof Ve))return this;for(var r=this.tools=[],i=0,o=t.length;i<o;i++){var s=t[i];s instanceof Cn&&(s.configure(n,this),this.vel.append(s.el),r.push(s))}return this.isRendered=!1,n.requestUpdate(n.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(e){e||(e={});var t=this.tools;if(!t)return this;for(var n=this.isRendered,r=0,i=t.length;r<i;r++){var o=t[r];n?e.tool!==o.cid&&o.isVisible()&&o.update():o.render()}return this.isMounted()||this.mount(),n||(this.blurTool(),this.isRendered=!0),this},focusTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,r=t.length;n<r;n++){var i=t[n];e===i?i.show():i.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,r=t.length;n<r;n++){var i=t[n];i!==e&&!i.isVisible()&&(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,n=e.length;t<n;t++)e[t].remove();this.tools=null},mount:function(){let{options:e,el:t}=this,{relatedView:n,layer:r=_n.TOOLS,z:i}=e;return n&&(r?n.paper.getLayerView(r).insertSortedNode(t,i):n.el.appendChild(t)),this}});var Fo={};Dt(Fo,{basic:()=>zv,chess:()=>Xv,devs:()=>Uv,erd:()=>$v,fsa:()=>Jv,logic:()=>Yv,org:()=>qv,pn:()=>Qv,standard:()=>Gv,uml:()=>ty});var zv={};Dt(zv,{Circle:()=>rc,Ellipse:()=>Ok,Generic:()=>Ye,Image:()=>Rk,Path:()=>DD,Polygon:()=>Lk,Polyline:()=>kk,Rect:()=>Tk,Rhombus:()=>_k,Text:()=>Pk,TextBlock:()=>Fk,TextBlockView:()=>jk,TextView:()=>Sk});var nc={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[e];if(typeof n<"u")return n;try{n=t()}catch{n=!1}return this._results[e]=n,n}};var Ye=pt.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}}),Tk=Ye.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'}),Sk=Ft.extend({presentationAttributes:Ft.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var e=Ft.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"SCALE")&&(this.resize(),e=this.removeFlag(e,"SCALE")),e}}),Pk=Ye.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'}),rc=Ye.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'}),Ok=Ye.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'}),Lk=Ye.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),kk=Ye.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'}),Rk=Ye.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'}),DD=Ye.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'}),_k=DD.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}}),Nd=nc.test("svgforeignobject"),Fk=Ye.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',Nd?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),Ye.prototype.initialize.apply(this,arguments)},updateSize:function(e,t){this.attr({".fobj":Ie({},t),div:{style:Ie({},t)}})},updateContent:function(e,t){Nd?this.attr({".content":{html:dv(t)}}):this.attr({".content":{text:t}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),jk=Ft.extend({presentationAttributes:Nd?Ft.prototype.presentationAttributes:Ft.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var e=Ft.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"CONTENT")&&(this.updateContent(this.model),e=this.removeFlag(e,"CONTENT")),e},update:function(e,t){var n=this.model;if(Nd)Ft.prototype.update.call(this,n,t);else{var r=Rn(t||n.get("attrs"),".content");Ft.prototype.update.call(this,n,r),(!t||Dn(t,".content"))&&this.updateContent(n,t)}},updateContent:function(e,t){var n=xt({},(t||e.get("attrs"))[".content"]);n=Rn(n,"text");var r=Zu(e.get("content"),e.get("size"),n,{svgDocument:this.paper.svg}),i=Ks({},".content",n,"/");i[".content"].text=r,Ft.prototype.update.call(this,e,i)}});var Gv={};Dt(Gv,{BorderedImage:()=>Wk,Circle:()=>zk,Cylinder:()=>Jk,DoubleLink:()=>nR,Ellipse:()=>Vk,EmbeddedImage:()=>Yk,HeaderedRectangle:()=>$k,Image:()=>Hk,InscribedImage:()=>Xk,Link:()=>tR,Path:()=>Gk,Polygon:()=>Zk,Polyline:()=>Uk,Rectangle:()=>Bk,ShadowLink:()=>rR,TextBlock:()=>eR});var Bk=pt.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),zk=pt.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),Vk=pt.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),Gk=pt.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),Zk=pt.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),Uk=pt.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),Hk=pt.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),Wk=pt.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),Yk=pt.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),Xk=pt.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),$k=pt.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]}),Vv=10,Jk=pt.define("standard.Cylinder",{attrs:{body:{lateralArea:Vv,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:Vv,refRx:"50%",ry:Vv,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(e===void 0)return this.attr("body/lateralArea");var n=Nt(e),r={lateralArea:e},i=n?{refCy:e,refRy:e,cy:null,ry:null}:{refCy:null,refRy:null,cy:e,ry:e};return this.attr({body:r,top:i},t)}},{attributes:{lateralArea:{set:function(e,t){var n=Nt(e);n&&(e=parseFloat(e)/100);var r=t.x,i=t.y,o=t.width,s=t.height,a=o/2,u=n?s*e:e,l=Y.KAPPA,h=l*a,f=l*(n?s*e:e),y=r,I=r+o/2,b=r+o,D=i+u,E=D-u,P=i+s-u,z=i+s,H=["M",y,D,"L",y,P,"C",r,P+f,I-h,z,I,z,"C",I+h,z,b,P+f,b,P,"L",b,D,"C",b,D-f,I+h,E,I,E,"C",I-h,E,y,D-f,y,D,"Z"];return{d:H.join(" ")}}}}}),qk={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},Qk={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},Kk=nc.test("svgforeignobject")?qk:Qk,eR=pt.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},Kk]},{attributes:{text:{set:function(e,t,n,r){if(n instanceof HTMLElement)n.textContent=e;else{var i=r.style||{},o={text:e,width:-5,height:"100%"},s=Ie({textVerticalAnchor:"middle"},i);return Yu.textWrap.set.call(this,o,t,n,s),{fill:i.color||null}}},position:function(e,t,n){if(n instanceof SVGElement)return t.center()}}}}),tR=gt.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),nR=gt.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),rR=gt.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]});var Uv={};Dt(Uv,{Atomic:()=>iR,Coupled:()=>oR,Link:()=>sR,Model:()=>Zv});var Zv=Ye.define("devs.Model",{inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},{markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',initialize:function(){Ye.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(e,t,n){var r=$n(this.get("inPorts")),i=qs($n(this.get("outPorts")),r),o=this.createPortItems("in",r),s=this.createPortItems("out",i);this.prop("ports/items",o.concat(s),Ie({rewrite:!0},n))},createPortItem:function(e,t){return{id:t,group:e,attrs:{".port-label":{text:t}}}},createPortItems:function(e,t){return Se(t).map(this.createPortItem.bind(this,e))},_addGroupPort:function(e,t,n){var r=this.get(t);return this.set(t,Array.isArray(r)?r.concat(e):[e],n)},addOutPort:function(e,t){return this._addGroupPort(e,"outPorts",t)},addInPort:function(e,t){return this._addGroupPort(e,"inPorts",t)},_removeGroupPort:function(e,t,n){return this.set(t,So(this.get(t),e),n)},removeOutPort:function(e,t){return this._removeGroupPort(e,"outPorts",t)},removeInPort:function(e,t){return this._removeGroupPort(e,"inPorts",t)},_changeGroup:function(e,t,n){return this.prop("ports/groups/"+e,je(t)?t:{},n)},changeInGroup:function(e,t){return this._changeGroup("in",e,t)},changeOutGroup:function(e,t){return this._changeGroup("out",e,t)}}),iR=Zv.define("devs.Atomic",{size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}}),oR=Zv.define("devs.Coupled",{size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}}),sR=gt.define("devs.Link",{attrs:{".connection":{"stroke-width":2}}});var Yv={};Dt(Yv,{And:()=>dR,Gate:()=>Ed,Gate11:()=>Wv,Gate21:()=>_o,IO:()=>Hv,Input:()=>aR,Nand:()=>gR,Nor:()=>hR,Not:()=>lR,Or:()=>fR,Output:()=>uR,Repeater:()=>cR,Wire:()=>vR,Xnor:()=>mR,Xor:()=>pR});var Ed=Ye.define("logic.Gate",{size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},{operation:function(){return!0}}),Hv=Ed.define("logic.IO",{size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>'}),aR=Hv.define("logic.Input",{attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}}),uR=Hv.define("logic.Output",{attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}}),Wv=Ed.define("logic.Gate11",{attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>'}),_o=Ed.define("logic.Gate21",{attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>'}),cR=Wv.define("logic.Repeater",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(e){return e}}),lR=Wv.define("logic.Not",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e){return!e}}),fR=_o.define("logic.Or",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(e,t){return e||t}}),dR=_o.define("logic.And",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return e&&t}}),hR=_o.define("logic.Nor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e,t){return!(e||t)}}),gR=_o.define("logic.Nand",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return!(e&&t)}}),pR=_o.define("logic.Xor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e,t){return(!e||t)&&(e||!t)}}),mR=_o.define("logic.Xnor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return(!e||!t)&&(e||t)}}),vR=gt.define("logic.Wire",{attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},{arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join("")});var Xv={};Dt(Xv,{BishopBlack:()=>DR,BishopWhite:()=>xR,KingBlack:()=>IR,KingWhite:()=>yR,KnightBlack:()=>NR,KnightWhite:()=>MR,PawnBlack:()=>TR,PawnWhite:()=>ER,QueenBlack:()=>AR,QueenWhite:()=>CR,RookBlack:()=>bR,RookWhite:()=>wR});var yR=Ye.define("chess.KingWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>'}),IR=Ye.define("chess.KingBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),CR=Ye.define("chess.QueenWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>'}),AR=Ye.define("chess.QueenBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),wR=Ye.define("chess.RookWhite",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),bR=Ye.define("chess.RookBlack",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>'}),xR=Ye.define("chess.BishopWhite",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),DR=Ye.define("chess.BishopBlack",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>'}),MR=Ye.define("chess.KnightWhite",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>'}),NR=Ye.define("chess.KnightBlack",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>'}),ER=Ye.define("chess.PawnWhite",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),TR=Ye.define("chess.PawnBlack",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'});var $v={};Dt($v,{Attribute:()=>ic,Derived:()=>LR,Entity:()=>MD,ISA:()=>_R,IdentifyingRelationship:()=>PR,Key:()=>kR,Line:()=>FR,Multivalued:()=>OR,Normal:()=>RR,Relationship:()=>ND,WeakEntity:()=>SR});var MD=pt.define("erd.Entity",{size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),SR=MD.define("erd.WeakEntity",{attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}}),ND=pt.define("erd.Relationship",{size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),PR=ND.define("erd.IdentifyingRelationship",{attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}}),ic=pt.define("erd.Attribute",{size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>'}),OR=ic.define("erd.Multivalued",{attrs:{".inner":{display:"block"},text:{text:"multivalued"}}}),LR=ic.define("erd.Derived",{attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}}),kR=ic.define("erd.Key",{attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}}),RR=ic.define("erd.Normal",{attrs:{text:{text:"Normal"}}}),_R=pt.define("erd.ISA",{type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),FR=gt.define("erd.Line",{},{cardinality:function(e){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:e}}}])}});var Jv={};Dt(Jv,{Arrow:()=>VR,EndState:()=>zR,StartState:()=>BR,State:()=>jR});var jR=rc.define("fsa.State",{attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}}),BR=pt.define("fsa.StartState",{size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>'}),zR=pt.define("fsa.EndState",{size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),VR=gt.define("fsa.Arrow",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0});var qv={};Dt(qv,{Arrow:()=>ZR,Member:()=>GR});var GR=pt.define("org.Member",{size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>'}),ZR=gt.define("org.Arrow",{source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1});var Qv={};Dt(Qv,{Link:()=>YR,Place:()=>UR,PlaceView:()=>HR,Transition:()=>WR});var UR=Ye.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),HR=Ft.extend({presentationAttributes:Ft.addPresentationAttributes({tokens:["TOKENS"]}),initFlag:Ft.prototype.initFlag.concat(["TOKENS"]),confirmUpdate:function(...e){let t=Ft.prototype.confirmUpdate.call(this,...e);return this.hasFlag(t,"TOKENS")&&(this.renderTokens(),this.update(),t=this.removeFlag(t,"TOKENS")),t},renderTokens:function(){let e=this.vel.findOne(".tokens").empty();["one","two","three","alot"].forEach(function(n){e.removeClass(n)});var t=this.model.get("tokens");if(t)switch(t){case 1:e.addClass("one"),e.append(Y("circle"));break;case 2:e.addClass("two"),e.append([Y("circle"),Y("circle")]);break;case 3:e.addClass("three"),e.append([Y("circle"),Y("circle"),Y("circle")]);break;default:e.addClass("alot"),e.append(Y("text").text(t+""));break}}}),WR=Ye.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),YR=gt.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}});var ty={};Dt(ty,{Abstract:()=>XR,AbstractView:()=>$R,Aggregation:()=>e_,Association:()=>n_,Class:()=>Kv,ClassView:()=>ey,Composition:()=>t_,EndState:()=>o_,Generalization:()=>QR,Implementation:()=>KR,Interface:()=>JR,InterfaceView:()=>qR,StartState:()=>i_,State:()=>r_,Transition:()=>s_});var Kv=Ye.define("uml.Class",{attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),Ye.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var e=this.get("attrs"),t=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],n=0;t.forEach(function(r){var i=Array.isArray(r.text)?r.text:[r.text],o=i.length*20+20;e[".uml-class-"+r.type+"-text"].text=i.join(`
`),e[".uml-class-"+r.type+"-rect"].height=o,e[".uml-class-"+r.type+"-rect"].transform="translate(0,"+n+")",n+=o})}}),ey=Ft.extend({initialize:function(){Ft.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),XR=Kv.define("uml.Abstract",{attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},{getClassName:function(){return["<<Abstract>>",this.get("name")]}}),$R=ey,JR=Kv.define("uml.Interface",{attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},{getClassName:function(){return["<<Interface>>",this.get("name")]}}),qR=ey,QR=gt.define("uml.Generalization",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}),KR=gt.define("uml.Implementation",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}),e_=gt.define("uml.Aggregation",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}),t_=gt.define("uml.Composition",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}),n_=gt.define("uml.Association"),r_=Ye.define("uml.State",{attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),Ye.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join(`
`))},updatePath:function(){var e="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",e,{silent:!0})}}),i_=rc.define("uml.StartState",{type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}}),o_=Ye.define("uml.EndState",{size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),s_=gt.define("uml.Transition",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}});function ED(e,t){if(t===0)return"0%";let n=1e3;return`${Math.round(e/t*100*n)/n}%`}function TD(e){return function(t,n,r,i){var o=n.isNodeConnection(r)?u_:a_;return o(e,t,n,r,i)}}function a_(e,t,n,r,i){var o=n.model.angle(),s=n.getNodeUnrotatedBBox(r),a=n.model.getBBox().center();i.rotate(a,o);var u=i.x-s.x,l=i.y-s.y;return e&&(u=ED(u,s.width),l=ED(l,s.height)),t.anchor={name:"topLeft",args:{dx:u,dy:l,rotate:!0}},t}function u_(e,t,n,r,i){var o=n.getConnection();if(!o)return t;var s=o.closestPointLength(i);if(e){var a=o.length();t.anchor={name:"connectionRatio",args:{ratio:s/a}}}else t.anchor={name:"connectionLength",args:{length:s}};return t}var qJ=TD(!1),SD=TD(!0);var oc={};Dt(oc,{Boundary:()=>ny,Button:()=>da,Connect:()=>Bo,HoverConnect:()=>iy,Remove:()=>ry,Segments:()=>l_,SourceAnchor:()=>h_,SourceArrowhead:()=>d_,TargetAnchor:()=>g_,TargetArrowhead:()=>f_,Vertices:()=>c_});var OD=on.extend({tagName:"circle",svgElement:!0,className:"marker-vertex",events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onDoubleClick",dbltap:"onDoubleClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},attributes:{r:6,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move"},position:function(e,t){let{vel:n,options:r}=this,{scale:i}=r,o=Y.createSVGMatrix().translate(e,t);i&&(o=o.scale(i)),n.transform(o,{absolute:!0})},onPointerDown:function(e){this.options.guard(e)||(e.stopPropagation(),e.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,e.data),this.trigger("will-change",this,e))},onPointerMove:function(e){this.trigger("changing",this,e)},onDoubleClick:function(e){this.trigger("remove",this,e)},onPointerUp:function(e){this.trigger("changed",this,e),this.undelegateDocumentEvents(),this.options.paper.delegateEvents()}}),c_=Cn.extend({name:"vertices",options:{handleClass:OD,snapRadius:20,redundancyRemoval:!0,vertexAdding:!0,stopPropagation:!0,scale:null},children:[{tagName:"path",selector:"connection",className:"joint-vertices-path",attributes:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"cell"}}],handles:null,events:{"mousedown .joint-vertices-path":"onPathPointerDown","touchstart .joint-vertices-path":"onPathPointerDown"},onRender:function(){return this.options.vertexAdding&&(this.renderChildren(),this.updatePath()),this.resetHandles(),this.renderHandles(),this},update:function(){var e=this.relatedView,t=e.model.vertices();return t.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.vertexAdding&&this.updatePath(),this},resetHandles:function(){var e=this.handles;if(this.handles=[],this.stopListening(),!!Array.isArray(e))for(var t=0,n=e.length;t<n;t++)e[t].remove()},renderHandles:function(){for(var e=this.relatedView,t=e.model.vertices(),n=0,r=t.length;n<r;n++){var i=t[n],o=new this.options.handleClass({index:n,paper:this.paper,scale:this.options.scale,guard:s=>this.guard(s)});o.render(),o.position(i.x,i.y),this.simulateRelatedView(o.el),o.vel.appendTo(this.el),this.handles.push(o),this.startHandleListening(o)}},updateHandles:function(){for(var e=this.relatedView,t=e.model.vertices(),n=0,r=t.length;n<r;n++){var i=t[n],o=this.handles[n];if(!o)return;o.position(i.x,i.y)}},updatePath:function(){var e=this.childNodes.connection;e&&e.setAttribute("d",this.relatedView.getSerializedConnection())},startHandleListening:function(e){var t=this.relatedView;t.can("vertexMove")&&(this.listenTo(e,"will-change",this.onHandleWillChange),this.listenTo(e,"changing",this.onHandleChanging),this.listenTo(e,"changed",this.onHandleChanged)),t.can("vertexRemove")&&this.listenTo(e,"remove",this.onHandleRemove)},getNeighborPoints:function(e){var t=this.relatedView,n=t.model.vertices(),r=e>0?n[e-1]:t.sourceAnchor,i=e<n.length-1?n[e+1]:t.targetAnchor;return{prev:new k(r),next:new k(i)}},onHandleWillChange:function(e,t){this.focus();let{relatedView:n,options:r}=this;n.model.startBatch("vertex-move",{ui:!0,tool:this.cid}),r.stopPropagation||n.notifyPointerdown(...n.paper.getPointerArgs(t))},onHandleChanging:function(e,t){let{options:n,relatedView:r}=this;var i=e.options.index,[o,s,a]=r.paper.getPointerArgs(t),u={x:s,y:a};this.snapVertex(u,i),r.model.vertex(i,u,{ui:!0,tool:this.cid}),e.position(u.x,u.y),n.stopPropagation||r.notifyPointermove(o,s,a)},onHandleChanged:function(e,t){let{options:n,relatedView:r}=this;if(n.vertexAdding&&this.updatePath(),!!n.redundancyRemoval){var i=r.removeRedundantLinearVertices({ui:!0,tool:this.cid});i&&this.render(),this.blur(),r.model.stopBatch("vertex-move",{ui:!0,tool:this.cid}),this.eventData(t).vertexAdded&&r.model.stopBatch("vertex-add",{ui:!0,tool:this.cid});var[o,s,a]=r.paper.getPointerArgs(t);n.stopPropagation||r.notifyPointerup(o,s,a),r.checkMouseleave(o)}},snapVertex:function(e,t){var n=this.options.snapRadius;if(n>0){var r=this.getNeighborPoints(t),i=r.prev,o=r.next;Math.abs(e.x-i.x)<n?e.x=i.x:Math.abs(e.x-o.x)<n&&(e.x=o.x),Math.abs(e.y-i.y)<n?e.y=r.prev.y:Math.abs(e.y-o.y)<n&&(e.y=o.y)}},onHandleRemove:function(e,t){var n=e.options.index,r=this.relatedView;r.model.removeVertex(n,{ui:!0}),this.options.vertexAdding&&this.updatePath(),r.checkMouseleave(qe(t))},onPathPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=qe(e),n=this.paper.snapToGrid(t.clientX,t.clientY).toJSON(),r=this.relatedView;r.model.startBatch("vertex-add",{ui:!0,tool:this.cid});var i=r.getVertexIndex(n.x,n.y);this.snapVertex(n,i),r.model.insertVertex(i,n,{ui:!0,tool:this.cid}),this.update();var o=this.handles[i];this.eventData(t,{vertexAdded:!0}),o.onPointerDown(t)}},onRemove:function(){this.resetHandles()}},{VertexHandle:OD});function jo(e,t){let{model:n}=e;return t?n.getBBox():n.isLink()?e.getConnection().bbox():e.getNodeUnrotatedBBox(e.el)}function Td(e,t,n){var r=SD.call(this.paper,{},t,n,e,this.model);return r.anchor}function LD(e,t,n,r,i,o){var s=o.options.snapRadius,a=r==="source",u=a?0:-1,l=this.model.vertex(u)||this.getEndAnchor(a?"target":"source");return l&&(Math.abs(l.x-e.x)<s&&(e.x=l.x),Math.abs(l.y-e.y)<s&&(e.y=l.y)),e}var kD=on.extend({tagName:"g",svgElement:!0,className:"marker-segment",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},children:[{tagName:"line",selector:"line",attributes:{stroke:"#33334F","stroke-width":2,fill:"none","pointer-events":"none"}},{tagName:"rect",selector:"handle",attributes:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2}}],onRender:function(){this.renderChildren()},position:function(e,t,n,r){let{scale:i}=this.options,o=Y.createSVGMatrix().translate(e,t).rotate(n);i&&(o=o.scale(i));var s=this.childNodes.handle;s.setAttribute("transform",Y.matrixToTransformString(o)),s.setAttribute("cursor",n%180===0?"row-resize":"col-resize");var a=r.getClosestPoint(new k(e,t)),u=this.childNodes.line;u.setAttribute("x1",e),u.setAttribute("y1",t),u.setAttribute("x2",a.x),u.setAttribute("y2",a.y)},onPointerDown:function(e){this.options.guard(e)||(this.trigger("change:start",this,e),e.stopPropagation(),e.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,e.data))},onPointerMove:function(e){this.trigger("changing",this,e)},onPointerUp:function(e){this.undelegateDocumentEvents(),this.options.paper.delegateEvents(),this.trigger("change:end",this,e)},show:function(){this.el.style.display=""},hide:function(){this.el.style.display="none"}}),l_=Cn.extend({name:"segments",precision:.5,options:{handleClass:kD,segmentLengthThreshold:40,redundancyRemoval:!0,anchor:Td,snapRadius:10,snapHandle:!0,stopPropagation:!0},handles:null,onRender:function(){this.resetHandles();var e=this.relatedView,t=e.model.vertices();t.unshift(e.sourcePoint),t.push(e.targetPoint);for(var n=0,r=t.length;n<r-1;n++){var i=t[n],o=t[n+1],s=this.renderHandle(i,o);this.simulateRelatedView(s.el),this.handles.push(s),s.options.index=n}return this},renderHandle:function(e,t){var n=new this.options.handleClass({paper:this.paper,scale:this.options.scale,guard:r=>this.guard(r)});return n.render(),this.updateHandle(n,e,t),n.vel.appendTo(this.el),this.startHandleListening(n),n},update:function(){return this.render(),this},startHandleListening:function(e){this.listenTo(e,"change:start",this.onHandleChangeStart),this.listenTo(e,"changing",this.onHandleChanging),this.listenTo(e,"change:end",this.onHandleChangeEnd)},resetHandles:function(){var e=this.handles;if(this.handles=[],this.stopListening(),!!Array.isArray(e))for(var t=0,n=e.length;t<n;t++)e[t].remove()},shiftHandleIndexes:function(e){for(var t=this.handles,n=0,r=t.length;n<r;n++)t[n].options.index+=e},resetAnchor:function(e,t){var n=this.relatedView.model;t?n.prop([e,"anchor"],t,{rewrite:!0,ui:!0,tool:this.cid}):n.removeProp([e,"anchor"],{ui:!0,tool:this.cid})},snapHandle:function(e,t,n){var r=e.options.index,i=this.relatedView,o=i.model,s=o.vertices(),a=e.options.axis,u=s[r-2]||n.sourceAnchor,l=s[r+1]||n.targetAnchor,h=this.options.snapRadius;return Math.abs(t[a]-u[a])<h?t[a]=u[a]:Math.abs(t[a]-l[a])<h&&(t[a]=l[a]),t},onHandleChanging:function(e,t){let{options:n}=this;var r=this.eventData(t),i=this.relatedView,o=i.paper,s=e.options.index-1,a=qe(t),u=o.snapToGrid(a.clientX,a.clientY),l=this.snapHandle(e,u.clone(),r),h=e.options.axis,f=this.options.snapHandle?0:u[h]-l[h],y=i.model,I=Wt(y.vertices()),b=this.options.anchor;typeof b!="function"&&(b=null);let D=e.options.index,E=[i.sourcePoint.clone(),...I,i.targetPoint.clone()],P=0;if(D-1>=0){let G=E[D-1],q=E[D];new ge(G,q).vector().theta()%90!==0&&(I.splice(D-1,0,r.originalVertices[D-1]),P++,this.shiftHandleIndexes(1))}var z=I[s+P],H=I[s+1+P];if(D+2<E.length){let G=E[D+1],q=E[D+2];if(new ge(G,q).vector().theta()%90!==0){let Q=r.originalVertices.length===1,Ee=Q?0:D,De=r.firstHandleShifted&&!Q?1:0,ut=1+P;I.splice(D+ut,0,r.originalVertices[Ee-De])}}var X=i.sourceView,ne=i.sourceBBox,p=!1,v=!1;if(z?s===0?ne.containsPoint(z)?(I.shift(),this.shiftHandleIndexes(-1),p=!0):(z[h]=l[h],v=!0):z[h]=l[h]:(z=i.sourceAnchor.toJSON(),z[h]=l[h],ne.containsPoint(z)?(z[h]=l[h],p=!0):(I.unshift(z),this.shiftHandleIndexes(1),r.firstHandleShifted=!0,v=!0)),b&&X){if(p){var x=r.sourceAnchor.clone();x[h]=l[h];var N=b.call(i,x,X,i.sourceMagnet||X.el,"source",i);this.resetAnchor("source",N)}v&&this.resetAnchor("source",r.sourceAnchorDef)}var S=i.targetView,j=i.targetBBox,B=!1,W=!1;if(H?s===I.length-2?j.containsPoint(H)?(I.pop(),B=!0):(H[h]=l[h],W=!0):H[h]=l[h]:(H=i.targetAnchor.toJSON(),H[h]=l[h],j.containsPoint(H)?B=!0:(I.push(H),W=!0)),b&&S){if(B){var ae=r.targetAnchor.clone();ae[h]=l[h];var de=b.call(i,ae,S,i.targetMagnet||S.el,"target",i);this.resetAnchor("target",de)}W&&this.resetAnchor("target",r.targetAnchorDef)}if(I.some(G=>!G))throw new Error("Segments: incompatible router in use");y.vertices(I,{ui:!0,tool:this.cid}),this.updateHandle(e,z,H,f),n.stopPropagation||i.notifyPointermove(a,u.x,u.y)},onHandleChangeStart:function(e,t){let{options:n,handles:r,relatedView:i}=this,{model:o,paper:s}=i;var a=e.options.index;if(Array.isArray(r)){for(var u=0,l=r.length;u<l;u++)u!==a&&r[u].hide();this.focus(),this.eventData(t,{sourceAnchor:i.sourceAnchor.clone(),targetAnchor:i.targetAnchor.clone(),sourceAnchorDef:vn(o.prop(["source","anchor"])),targetAnchorDef:vn(o.prop(["target","anchor"])),originalVertices:Wt(o.vertices()),firstHandleShifted:!1}),o.startBatch("segment-move",{ui:!0,tool:this.cid}),n.stopPropagation||i.notifyPointerdown(...s.getPointerArgs(t))}},onHandleChangeEnd:function(e,t){let{options:n,relatedView:r}=this,{paper:i,model:o}=r;n.redundancyRemoval&&r.removeRedundantLinearVertices({ui:!0,tool:this.cid});let s=qe(t),a=i.snapToGrid(s.clientX,s.clientY);this.render(),this.blur(),o.stopBatch("segment-move",{ui:!0,tool:this.cid}),n.stopPropagation||r.notifyPointerup(s,a.x,a.y),r.checkMouseleave(s)},updateHandle:function(e,t,n,r){var i=Math.abs(t.x-n.x)<this.precision,o=Math.abs(t.y-n.y)<this.precision;if(i||o){var s=new ge(t,n),a=s.length();if(a<this.options.segmentLengthThreshold)e.hide();else{var u=s.midpoint(),l=i?"x":"y";u[l]+=r||0;var h=s.vector().vectorAngle(new k(1,0));e.position(u.x,u.y,h,this.relatedView),e.show(),e.options.axis=l}}else e.hide()},onRemove:function(){this.resetHandles()}},{SegmentHandle:kD});var RD=Cn.extend({tagName:"path",xAxisVector:new k(1,0),events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{scale:null},onRender:function(){this.update()},update:function(){var e=this.ratio,t=this.relatedView,n=t.getTangentAtRatio(e),r,i;if(n?(r=n.start,i=n.vector().vectorAngle(this.xAxisVector)||0):(r=t.getPointAtRatio(e),i=0),!r)return this;var o=Y.createSVGMatrix().translate(r.x,r.y).rotate(i);let{scale:s}=this.options;return s&&(o=o.scale(s)),this.vel.transform(o,{absolute:!0}),this},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.relatedView;t.model.startBatch("arrowhead-move",{ui:!0,tool:this.cid}),t.can("arrowheadMove")&&(t.startArrowheadMove(this.arrowheadType),this.delegateDocumentEvents(),t.paper.undelegateEvents()),this.focus(),this.el.style.pointerEvents="none"}},onPointerMove:function(e){var t=qe(e),n=this.paper.snapToGrid(t.clientX,t.clientY);this.relatedView.pointermove(t,n.x,n.y)},onPointerUp:function(e){this.undelegateDocumentEvents();var t=this.relatedView,n=t.paper,r=qe(e),i=n.snapToGrid(r.clientX,r.clientY);t.pointerup(r,i.x,i.y),n.delegateEvents(),this.blur(),this.el.style.pointerEvents="",t.model.stopBatch("arrowhead-move",{ui:!0,tool:this.cid})}}),f_=RD.extend({name:"target-arrowhead",ratio:1,arrowheadType:"target",attributes:{d:"M -10 -8 10 0 -10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"target-arrowhead"}}),d_=RD.extend({name:"source-arrowhead",ratio:0,arrowheadType:"source",attributes:{d:"M 10 -8 -10 0 10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"source-arrowhead"}});var ny=Cn.extend({name:"boundary",tagName:"rect",options:{padding:10,useModelGeometry:!1},attributes:{fill:"none",stroke:"#33334F","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"},onRender:function(){this.update()},update:function(){let{relatedView:e,options:t,vel:n}=this,{useModelGeometry:r,rotate:i}=t,o=Mn(t.padding),s=jo(e,r).moveAndExpand({x:-o.left,y:-o.top,width:o.left+o.right,height:o.top+o.bottom});var a=e.model;if(a.isElement()){var u=a.angle();if(u)if(i){var l=a.getBBox().center();n.rotate(u,l.x,l.y,{absolute:!0})}else s=s.bbox(u)}return n.attr(s.toJSON()),this}});var _D=Cn.extend({tagName:"g",type:null,children:[{tagName:"circle",selector:"anchor",attributes:{cursor:"pointer"}},{tagName:"rect",selector:"area",attributes:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onPointerDblClick",dbltap:"onPointerDblClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{snap:LD,anchor:Td,scale:null,resetAnchor:!0,customAnchorAttributes:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttributes:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,restrictArea:!0,redundancyRemoval:!0},onRender:function(){this.renderChildren(),this.toggleArea(!1),this.update()},update:function(){var e=this.type,t=this.relatedView,n=t.getEndView(e);return n?(this.updateAnchor(),this.updateArea(),this.el.style.display=""):this.el.style.display="none",this},updateAnchor:function(){var e=this.childNodes;if(!e)return;var t=e.anchor;if(!t)return;var n=this.relatedView,r=this.type,i=n.getEndAnchor(r),o=this.options,s=n.model.prop([r,"anchor"]);let a=`translate(${i.x},${i.y})`;o.scale&&(a+=` scale(${o.scale})`),t.setAttribute("transform",a);var u=s?o.customAnchorAttributes:o.defaultAnchorAttributes;for(var l in u)t.setAttribute(l,u[l])},updateArea:function(){var e=this.childNodes;if(e){var t=e.area;if(t){var n=this.relatedView,r=this.type,i=n.getEndView(r),o=i.model,s=n.getEndMagnet(r),a=this.options.areaPadding;isFinite(a)||(a=0);var u,l,h;i.isNodeConnection(s)?(u=i.getNodeBBox(s),l=0,h=u.center()):(u=i.getNodeUnrotatedBBox(s),l=o.angle(),h=u.center(),l&&h.rotate(o.getBBox().center(),-l)),u.inflate(a),t.setAttribute("x",-u.width/2),t.setAttribute("y",-u.height/2),t.setAttribute("width",u.width),t.setAttribute("height",u.height),t.setAttribute("transform","translate("+h.x+","+h.y+") rotate("+l+")")}}},toggleArea:function(e){var t=this.childNodes;if(t){var n=t.area;n&&(n.style.display=e?"":"none")}},onPointerDown:function(e){this.guard(e)||(e.stopPropagation(),e.preventDefault(),this.paper.undelegateEvents(),this.delegateDocumentEvents(),this.focus(),this.toggleArea(this.options.restrictArea),this.relatedView.model.startBatch("anchor-move",{ui:!0,tool:this.cid}))},resetAnchor:function(e){var t=this.type,n=this.relatedView.model;e?n.prop([t,"anchor"],e,{rewrite:!0,ui:!0,tool:this.cid}):n.removeProp([t,"anchor"],{ui:!0,tool:this.cid})},onPointerMove:function(e){var t=this.relatedView,n=this.type,r=t.getEndView(n),i=r.model,o=t.getEndMagnet(n),s=qe(e),a=this.paper.clientToLocalPoint(s.clientX,s.clientY),u=this.options.snap;if(typeof u=="function"&&(a=u.call(t,a,r,o,n,t,this),a=new k(a)),this.options.restrictArea)if(r.isNodeConnection(o)){var l=r.getClosestPoint(a);l&&(a=l)}else{var h=r.getNodeUnrotatedBBox(o),f=i.angle(),y=i.getBBox().center(),I=a.clone().rotate(y,f);h.containsPoint(I)||(a=h.pointNearestToPoint(I).rotate(y,-f))}var b,D=this.options.anchor;typeof D=="function"&&(b=D.call(t,a,r,o,n,t)),this.resetAnchor(b),this.update()},onPointerUp:function(e){let t=qe(e);this.paper.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);var n=this.relatedView;this.options.redundancyRemoval&&n.removeRedundantLinearVertices({ui:!0,tool:this.cid}),n.checkMouseleave(t),n.model.stopBatch("anchor-move",{ui:!0,tool:this.cid})},onPointerDblClick:function(){var e=this.options.resetAnchor;e!==!1&&(e===!0&&(e=null),this.resetAnchor(Wt(e)),this.update())}}),h_=_D.extend({name:"source-anchor",type:"source"}),g_=_D.extend({name:"target-anchor",type:"target"});var da=Cn.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,scale:null,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){let{vel:e}=this;e.transform(this.getCellMatrix(),{absolute:!0})},getCellMatrix(){return this.relatedView.model.isLink()?this.getLinkMatrix():this.getElementMatrix()},getElementMatrix(){let{relatedView:e,options:t}=this,{x:n=0,y:r=0,offset:i={},useModelGeometry:o,rotate:s,scale:a}=t,u=jo(e,o),l=e.model.angle();s||(u=u.bbox(l));let{x:h=0,y:f=0}=i;Nt(n)?n=parseFloat(n)/100*u.width:ln(n)&&(n=Number(fn(n,u))),Nt(r)?r=parseFloat(r)/100*u.height:ln(r)&&(r=Number(fn(r,u)));let y=Y.createSVGMatrix().translate(u.x+u.width/2,u.y+u.height/2);return s&&(y=y.rotate(l)),y=y.translate(n+h-u.width/2,r+f-u.height/2),a&&(y=y.scale(a)),y},getLinkMatrix(){let{relatedView:e,options:t}=this,{offset:n=0,distance:r=0,rotate:i,scale:o}=t,s,a,u;Nt(r)?s=e.getTangentAtRatio(parseFloat(r)/100):s=e.getTangentAtLength(r),s?(a=s.start,u=s.vector().vectorAngle(new k(1,0))||0):(a=e.getConnection().start,u=0);let l=Y.createSVGMatrix().translate(a.x,a.y).rotate(u).translate(0,n);return i||(l=l.rotate(-u)),o&&(l=l.scale(o)),l},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.action;typeof t=="function"&&t.call(this.relatedView,e,this.relatedView,this)}}}),ry=da.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(e,t,n){t.model.remove({ui:!0,tool:n.cid})}}});var Bo=da.extend({name:"connect",documentEvents:{mousemove:"drag",touchmove:"drag",mouseup:"dragend",touchend:"dragend",touchcancel:"dragend"},children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#333333",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -4 -1 L 0 -1 L 0 -4 L 4 0 L 0 4 0 1 -4 1 z",fill:"#FFFFFF",stroke:"none","stroke-width":2,"pointer-events":"none"}}],options:{distance:80,offset:0,magnet:e=>e.el,action:(e,t,n)=>n.dragstart(e)},getMagnetNode:function(){let{options:e,relatedView:t}=this,{magnet:n}=e,r;switch(typeof n){case"function":{r=n.call(this,t,this);break}case"string":{[r]=t.findBySelector(n);break}default:{r=n;break}}if(r||(r=t.el),r instanceof SVGElement)return r;throw new Error("Connect: magnet must be an SVGElement")},dragstart:function(e){let{paper:t,relatedView:n}=this,r=qe(e),{x:i,y:o}=t.clientToLocalPoint(r.clientX,r.clientY);n.dragLinkStart(r,this.getMagnetNode(),i,o),t.undelegateEvents(),this.delegateDocumentEvents(null,r.data),this.focus()},drag:function(e){let{paper:t,relatedView:n}=this,r=qe(e),{x:i,y:o}=t.snapToGrid(r.clientX,r.clientY);n.dragLink(r,i,o)},dragend:function(e){let{paper:t,relatedView:n}=this,r=qe(e),{x:i,y:o}=t.snapToGrid(r.clientX,r.clientY);n.dragLinkEnd(r,i,o),this.undelegateDocumentEvents(),t.delegateEvents(),this.blur(),n.checkMouseleave(r)}});var FD=Cr(hi(),1);var iy=Bo.extend({name:"hover-connect",defaultMarkup:[{tagName:"circle",attributes:{r:7,fill:"#333333",cursor:"pointer"}},{tagName:"path",attributes:{d:"M -4 -1 L 0 -1 L 0 -4 L 4 0 L 0 4 0 1 -4 1 z",fill:"#FFFFFF",stroke:"none","stroke-width":2}}],children(){let{options:e,defaultMarkup:t}=this;return[{tagName:"path",selector:"track",attributes:{fill:"none",stroke:"transparent","stroke-width":e.trackWidth||15,cursor:"pointer"}},{tagName:"g",selector:"button",attributes:{"pointer-events":"none",display:"none"},children:e.markup||t}]},events:Object.assign({mousemove:"onMousemove",mouseenter:"onMouseenter",mouseleave:"onMouseleave"},Bo.prototype.events),onRender:function(){this.renderChildren(),this.update()},trackPath:null,update(){let{childNodes:e}=this;this.trackPath=this.getTrackPath(),Bo.prototype.update.apply(this,arguments),e.track.setAttribute("d",this.trackPath.serialize())},position(){let{el:e,childNodes:t}=this;t.button.setAttribute("transform",Y.matrixToTransformString(this.getButtonMatrix())),e.setAttribute("transform",Y.matrixToTransformString(this.getTrackMatrix()))},getButtonMatrix(){let{options:e,trackPath:t}=this,{offset:n=0,distance:r=0,rotate:i,scale:o}=e,s,a,u;Nt(r)?s=t.tangentAtRatio(parseFloat(r)/100):s=t.tangentAtLength(r),s?(a=s.start,u=s.vector().vectorAngle(new k(1,0))||0):(a=t.start,u=0);let l=Y.createSVGMatrix().translate(a.x,a.y).rotate(u).translate(0,n);return i||(l=l.rotate(-u)),o&&(l=l.scale(o)),l},getTrackPath(){return this.relatedView.getConnection()},getTrackMatrix(){return Y.createSVGMatrix()},getTrackRatioFromEvent(e){let{relatedView:t,trackPath:n}=this,r=t.paper.clientToLocalPoint(e.clientX,e.clientY),i=Y.transformPoint(r,this.getTrackMatrix().inverse());return n.closestPointLength(i)},canShowButton(){return FD.default._data(this.paper.el,"events")},showButton(){this.childNodes.button.style.display="block"},hideButton(){this.childNodes.button.style.display=""},onMousemove(e){let{trackPath:t}=this;if(!t)return;let{options:n}=this;n.distance=this.getTrackRatioFromEvent(e),this.position()},onMouseenter(){this.canShowButton()&&this.showButton()},onMouseleave(){this.hideButton()}});var sc={};Dt(sc,{Boundary:()=>ny,Button:()=>da,Connect:()=>Bo,Control:()=>p_,HoverConnect:()=>jD,Remove:()=>ry});var p_=Cn.extend({tagName:"g",children:[{tagName:"circle",selector:"handle",attributes:{cursor:"pointer","stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6}},{tagName:"rect",selector:"extras",attributes:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onPointerDblClick",dbltap:"onPointerDblClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{handleAttributes:null,selector:"root",padding:6,scale:null},getPosition:function(){},setPosition:function(){},resetPosition:function(){},onRender:function(){this.renderChildren(),this.toggleExtras(!1),this.update()},update:function(){let{handle:e,extras:t}=this.childNodes;if(e)this.updateHandle(e);else throw new Error("Control: markup selector `handle` is required");return t&&this.updateExtras(t),this},updateHandle:function(e){let{relatedView:t,options:n}=this,{model:r}=t,i=this.getPosition(t,this),o=r.getAbsolutePointFromRelative(i),{handleAttributes:s,scale:a}=n,u=`translate(${o.x},${o.y})`;if(a&&(u+=` scale(${a})`),e.setAttribute("transform",u),s)for(let l in s)e.setAttribute(l,s[l])},updateExtras:function(e){let{relatedView:t,options:n}=this,{selector:r}=this.options;if(!r){this.toggleExtras(!1);return}let[i]=t.findBySelector(r);if(!i)throw new Error("Control: invalid selector.");let o=n.padding;isFinite(o)||(o=0);let s=t.getNodeUnrotatedBBox(i),a=t.model,u=a.angle(),l=s.center();u&&l.rotate(a.getBBox().center(),-u),s.inflate(o),e.setAttribute("x",-s.width/2),e.setAttribute("y",-s.height/2),e.setAttribute("width",s.width),e.setAttribute("height",s.height),e.setAttribute("transform",`translate(${l.x},${l.y}) rotate(${u})`)},toggleExtras:function(e){let{extras:t}=this.childNodes;t&&(t.style.display=e?"":"none")},onPointerDown:function(e){let{relatedView:t,paper:n}=this;this.guard(e)||(e.stopPropagation(),e.preventDefault(),n.undelegateEvents(),this.delegateDocumentEvents(),this.focus(),this.toggleExtras(!0),t.model.startBatch("control-move",{ui:!0,tool:this.cid}))},onPointerMove:function(e){let{relatedView:t,paper:n}=this,{model:r}=t,{clientX:i,clientY:o}=qe(e),s=n.clientToLocalPoint(i,o),a=r.getRelativePointFromAbsolute(s);this.setPosition(t,a,this),this.update()},onPointerUp:function(e){let{relatedView:t,paper:n}=this;n.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleExtras(!1),t.model.stopBatch("control-move",{ui:!0,tool:this.cid})},onPointerDblClick:function(){let{relatedView:e}=this;this.resetPosition(e,this),this.update()}});var jD=iy.extend({getTrackPath(){let{relatedView:e,options:t}=this,{useModelGeometry:n,trackPath:r="M 0 0 H calc(w) V calc(h) H 0 Z"}=t;if(typeof r=="function"&&(r=r.call(this,e)),ln(r)){let i=jo(e,n);r=fn(r,i)}return new Ce(Y.normalizePathData(r))},getTrackMatrix(){let{relatedView:e,options:t}=this,{useModelGeometry:n,rotate:r}=t,i=jo(e,n),o=e.model.angle();r||(i=i.bbox(o));let s=Y.createSVGMatrix().translate(i.x+i.width/2,i.y+i.height/2);return r&&(s=s.rotate(o)),s=s.translate(-i.width/2,-i.height/2),s}});var BD=.7,m_=.3,zD=.15,oy=["#3f84e5","#49306B","#fe7f2d","#ad343e","#899e8b","#ede9e9","#b2a29f","#392F2D"],Sd=class extends Pr.Element{defaults(){return Kr(jr({},super.defaults),{type:"Actor",size:{width:40,height:80},attrs:{background:{width:"calc(w)",height:"calc(h)",fill:"transparent"},body:{d:`M 0 calc(0.4 * h) h calc(w) M 0 calc(h) calc(0.5 * w) calc(${BD} * h) calc(w) calc(h) M calc(0.5 * w) calc(${BD} * h) V calc(${m_} * h)`,fill:"none",stroke:oy[7],strokeWidth:2},head:{cx:"calc(0.5 * w)",cy:`calc(${zD} * h)`,r:`calc(${zD} * h)`,stroke:oy[7],strokeWidth:2,fill:"#ffffff"},label:{y:"calc(h + 10)",x:"calc(0.5 * w)",textAnchor:"middle",textVerticalAnchor:"top",fontSize:14,fontFamily:"sans-serif",fill:oy[7],textWrap:{width:"calc(3 * w)",height:null}}}})}preinitialize(...t){super.preinitialize(...t),this.markup=dt.svg`
            <rect @selector="background" />
            <path @selector="body" />
            <circle @selector="head" />
            <text @selector="label" />
        `}};var ha=class extends Fo.standard.Rectangle{constructor(){super({markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"headerText"},{tagName:"rect",selector:"variablesRect"},{tagName:"rect",selector:"functionsRect"}]}),this.variablesCounter=0,this.variables=[]}defaults(){return dt.defaultsDeep({type:"UmlClassModel.Class",size:{width:150,height:100},attrs:{body:{fill:"#2ECC71",rx:5,ry:5,strokeWidth:2,stroke:"black"},headerText:{width:150,height:40,text:"Class",fontSize:12,fontWeight:"bold",fontFamily:"Arial, helvetica, sans-serif","ref-y":0,"ref-x":0,ref:"body","text-anchor":"middle"},variablesRect:{width:150,height:40,fill:"#3498db",stroke:"black","ref-y":20,"ref-x":0,ref:"body"},functionsRect:{width:150,height:40,fill:"#9b59b6",stroke:"black","ref-y":100-40,"ref-x":0,ref:"body"}}},Fo.standard.Rectangle.prototype.defaults)}updateView(){let t=this.attributes;t.attrs.variablesRect.height=parseInt(t.attrs?.variablesRect?.height?.toString()||"0")+20,this.attr(t.attrs),this.resize(this.attributes.size?.width||0,(this.attributes.size?.height||0)+20)}counterVariablesUp(){this.variablesCounter+=20}getcounterVariables(){return this.variablesCounter}removeVariable(t){this.variables.splice(t,1),this.updateView()}};function VD(e){let t=new Sd,n=new ha;t.position(20,120),n.position(20,20),e.addCell(t),e.addCell(n)}function sy(e,t,n){return new Pr.Paper({el:e,model:t,width:"100%",height:"100%",gridSize:10,drawGrid:!0,interactive:n})}var v_=["editor"],y_=["toolBox"],GD=(()=>{let t=class t{constructor(){this.inputId=null,this.diagram=null,this.allowEdit=!1,this.diagramChanged=new wi}ngAfterViewInit(){this.setupJointJs()}setupJointJs(){let r=new Pr.Graph,i=new Pr.Graph,o=sy(this.editorRef.nativeElement,r,!0),s=sy(this.toolBoxRef.nativeElement,i,!1);VD(i),s.on("element:pointerup",(a,u,l,h)=>{let f=a.model.clone(),y=Math.floor(Math.random()*(500-20+1))+20,I=Math.floor(Math.random()*(500-20+1))+20;f.position(y,I),r.addCell(f)}),o.on("cell:mouseenter",function(a){let u=new Pr.ToolsView({tools:[new sc.Boundary({padding:3,rotate:!0,useModelGeometry:!0}),new oc.Remove({scale:1.2,distance:15})]});a.addTools(u)}),o.on("element:pointerdblclick",function(a,u){let l="headerText",h="variablesRect",f="functionsRect";switch(u.target.attributes[0].value){case l:console.log("Header section double-clicked");break;case h:let b=["test"],D=150,E=100,P=20,z=(E-P)/2;if(!(a.model instanceof ha))throw new Error("elementView.model is not instanceof UmlClass");a.model.updateView();let H=0,X=a.model.position(),ne=new Fo.standard.TextBlock({position:{x:X.x,y:X.y+P+a.model.getcounterVariables()},size:{width:D,height:20},text:"Sample Text",fill:"black",fontSize:10,fontFamily:"Arial, helvetica, sans-serif","ref-y":P,"ref-x":0,ref:"variablesRect","text-anchor":"middle","pointer-events":"none"});var I=a.model.attr();I.body2=ne,a.model.embed(ne),r.addCell(ne),H+=20,a.model.counterVariablesUp();break;case f:console.log("Functions section double-clicked");break;default:console.log("Clicked outside the sections");break}}),o.on("cell:mouseleave",function(a){a.removeTools()})}emitDiagramChanged(){let i=nA([{name:"test"}]);this.diagramChanged.emit(i)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=C0({type:t,selectors:[["uml-editor"]],viewQuery:function(i,o){if(i&1&&(kg(v_,7),kg(y_,7)),i&2){let s;Lg(s=Rg())&&(o.editorRef=s.first),Lg(s=Rg())&&(o.toolBoxRef=s.first)}},inputs:{inputId:"inputId",diagram:"diagram",allowEdit:"allowEdit"},outputs:{diagramChanged:"diagramChanged"},standalone:!0,features:[YC],decls:6,vars:0,consts:[[1,"left"],["toolBox",""],[1,"right"],["editor",""]],template:function(i,o){i&1&&(qa(0,"div",0),pl(1,"div",null,1),Qa(),qa(3,"div",2),pl(4,"div",null,3),Qa())},styles:[`:host{display:flex;flex-direction:row;height:100%;width:100%;gap:2px;padding:4px}:host .left{width:30%;background-color:gray}:host .right{width:100%}:host #editor{width:100%;height:100%;border:1px solid #ccc}
`],encapsulation:3,changeDetection:0});let e=t;return e})();var ay=null;function uy(){return ay}function ZD(e){ay||(ay=e)}var Pd=class{},Wi=new kt("DocumentToken");function UD(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var HD="browser",C_="server";function cy(e){return e===C_}var Od=class{};var dy=class extends Pd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},hy=class e extends dy{static makeCurrent(){ZD(new e)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=w_();return n==null?null:b_(n)}resetBaseElement(){ac=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return UD(document.cookie,t)}},ac=null;function w_(){return ac=ac||document.querySelector("base"),ac?ac.getAttribute("href"):null}function b_(e){return new URL(e,"http://a").pathname}var x_=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=cn({token:t,factory:t.\u0275fac});let e=t;return e})(),gy=new kt("EventManagerPlugins"),$D=(()=>{let t=class t{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new wt(5101,!1);return this._eventNameToPlugin.set(r,i),i}};t.\u0275fac=function(i){return new(i||t)(Mt(gy),Mt(Qt))},t.\u0275prov=cn({token:t,factory:t.\u0275fac});let e=t;return e})(),Ld=class{constructor(t){this._doc=t}},ly="ng-app-id",JD=(()=>{let t=class t{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=cy(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${ly}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(ly),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(ly,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};t.\u0275fac=function(i){return new(i||t)(Mt(Wi),Mt(Ig),Mt(Ag,8),Mt(ds))},t.\u0275prov=cn({token:t,factory:t.\u0275fac});let e=t;return e})(),fy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},my=/%COMP%/g,qD="%COMP%",D_=`_nghost-${qD}`,M_=`_ngcontent-${qD}`,N_=!0,E_=new kt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>N_});function T_(e){return M_.replace(my,e)}function S_(e){return D_.replace(my,e)}function QD(e,t){return t.map(n=>n.replace(my,e))}var WD=(()=>{let t=class t{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=cy(u),this.defaultRenderer=new uc(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Zr.ShadowDom&&(i=Kr(jr({},i),{encapsulation:Zr.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof kd?o.applyToHost(r):o instanceof cc&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case Zr.Emulated:s=new kd(l,h,i,this.appId,f,a,u,y);break;case Zr.ShadowDom:return new py(l,h,r,i,a,u,this.nonce,y);default:s=new cc(l,h,i,f,a,u,y);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(i){return new(i||t)(Mt($D),Mt(JD),Mt(Ig),Mt(E_),Mt(Wi),Mt(ds),Mt(Qt),Mt(Ag))},t.\u0275prov=cn({token:t,factory:t.\u0275fac});let e=t;return e})(),uc=class{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(fy[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(YD(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(YD(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new wt(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=fy[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=fy[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(ao.DashCase|ao.Important)?t.style.setProperty(n,r,i&ao.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&ao.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if(typeof t=="string"&&(t=uy().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function YD(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var py=class extends uc{constructor(t,n,r,i,o,s,a,u){super(t,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=QD(i.id,i.styles);for(let h of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},cc=class extends uc{constructor(t,n,r,i,o,s,a,u){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?QD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},kd=class extends cc{constructor(t,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(t,n,r,o,s,a,u,l),this.contentAttr=T_(l),this.hostAttr=S_(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},P_=(()=>{let t=class t extends Ld{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};t.\u0275fac=function(i){return new(i||t)(Mt(Wi))},t.\u0275prov=cn({token:t,factory:t.\u0275fac});let e=t;return e})(),XD=["alt","control","meta","shift"],O_={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},L_={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},k_=(()=>{let t=class t extends Ld{constructor(r){super(r)}supports(r){return t.parseEventName(r)!=null}addEventListener(r,i,o){let s=t.parseEventName(i),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>uy().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=t._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),XD.forEach(h=>{let f=i.indexOf(h);f>-1&&(i.splice(f,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=O_[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),XD.forEach(a=>{if(a!==o){let u=L_[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{t.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};t.\u0275fac=function(i){return new(i||t)(Mt(Wi))},t.\u0275prov=cn({token:t,factory:t.\u0275fac});let e=t;return e})();function KD(e,t){return KC(jr({rootComponent:e},R_(t)))}function R_(e){return{appProviders:[...z_,...e?.providers??[]],platformProviders:B_}}function __(){hy.makeCurrent()}function F_(){return new ni}function j_(){return aC(document),document}var B_=[{provide:ds,useValue:HD},{provide:Cg,useValue:__,multi:!0},{provide:Wi,useFactory:j_,deps:[]}];var z_=[{provide:hl,useValue:"root"},{provide:ni,useFactory:F_,deps:[]},{provide:gy,useClass:P_,multi:!0,deps:[Wi,Qt,ds]},{provide:gy,useClass:k_,multi:!0,deps:[Wi]},WD,JD,$D,{provide:Ua,useExisting:WD},{provide:Od,useClass:x_,deps:[]},[]];var Rd={schedule(e,t){let n=setTimeout(e,t);return()=>clearTimeout(n)},scheduleBeforeRender(e){if(typeof window>"u")return Rd.schedule(e,0);if(typeof window.requestAnimationFrame>"u")return Rd.schedule(e,16);let t=window.requestAnimationFrame(e);return()=>window.cancelAnimationFrame(t)}};function V_(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function G_(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}function Z_(e){return typeof e=="function"}var vy;function U_(e,t){if(!vy){let n=Element.prototype;vy=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}return e.nodeType===Node.ELEMENT_NODE?vy.call(e,t):!1}function H_(e,t){return e===t||e!==e&&t!==t}function W_(e){let t={};return e.forEach(({propName:n,templateName:r,transform:i})=>{t[V_(r)]=[n,i]}),t}function Y_(e,t){return t.get(hs).resolveComponentFactory(e).inputs}function X_(e,t){let n=e.childNodes,r=t.map(()=>[]),i=-1;t.some((o,s)=>o==="*"?(i=s,!0):!1);for(let o=0,s=n.length;o<s;++o){let a=n[o],u=$_(a,t,i);u!==-1&&r[u].push(a)}return r}function $_(e,t,n){let r=n;return G_(e)&&t.some((i,o)=>i!=="*"&&U_(e,i)?(r=o,!0):!1),r}var J_=10,yy=class{constructor(t,n){this.componentFactory=n.get(hs).resolveComponentFactory(t)}create(t){return new Iy(this.componentFactory,t)}},Iy=class{constructor(t,n){this.componentFactory=t,this.injector=n,this.eventEmitters=new Ta(1),this.events=this.eventEmitters.pipe(Oa(r=>Pa(...r))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:r})=>r)),this.ngZone=this.injector.get(Qt),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(t){this.runInZone(()=>{if(this.scheduledDestroyFn!==null){this.scheduledDestroyFn(),this.scheduledDestroyFn=null;return}this.componentRef===null&&this.initializeComponent(t)})}disconnect(){this.runInZone(()=>{this.componentRef===null||this.scheduledDestroyFn!==null||(this.scheduledDestroyFn=Rd.schedule(()=>{this.componentRef!==null&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},J_))})}getInputValue(t){return this.runInZone(()=>this.componentRef===null?this.initialInputValues.get(t):this.componentRef.instance[t])}setInputValue(t,n,r){this.runInZone(()=>{if(r&&(n=r.call(this.componentRef?.instance,n)),this.componentRef===null){this.initialInputValues.set(t,n);return}H_(n,this.getInputValue(t))&&!(n===void 0&&this.unchangedInputs.has(t))||(this.recordInputChange(t,n),this.unchangedInputs.delete(t),this.hasInputChanges=!0,this.componentRef.instance[t]=n,this.scheduleDetectChanges())})}initializeComponent(t){let n=fs.create({providers:[],parent:this.injector}),r=X_(t,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(n,r,t),this.viewChangeDetectorRef=this.componentRef.injector.get(zC),this.implementsOnChanges=Z_(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(Ka).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:t,transform:n})=>{this.initialInputValues.has(t)&&this.setInputValue(t,this.initialInputValues.get(t),n)}),this.initialInputValues.clear()}initializeOutputs(t){let n=this.componentFactory.outputs.map(({propName:r,templateName:i})=>t.instance[r].pipe(Sa(s=>({name:i,value:s}))));this.eventEmitters.next(n)}callNgOnChanges(t){if(!this.implementsOnChanges||this.inputChanges===null)return;let n=this.inputChanges;this.inputChanges=null,t.instance.ngOnChanges(n)}markViewForCheck(t){this.hasInputChanges&&(this.hasInputChanges=!1,t.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=Rd.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(t,n){if(!this.implementsOnChanges)return;this.inputChanges===null&&(this.inputChanges={});let r=this.inputChanges[t];if(r){r.currentValue=n;return}let i=this.unchangedInputs.has(t),o=i?void 0:this.getInputValue(t);this.inputChanges[t]=new Ga(o,n,i)}detectChanges(){this.componentRef!==null&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(t){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(t):t()}},Cy=class extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}};function eM(e,t){let n=Y_(e,t.injector),r=t.strategyFactory||new yy(e,t.injector),i=W_(n),s=class s extends Cy{get ngElementStrategy(){if(!this._ngElementStrategy){let u=this._ngElementStrategy=r.create(this.injector||t.injector);n.forEach(({propName:l,transform:h})=>{if(!this.hasOwnProperty(l))return;let f=this[l];delete this[l],u.setInputValue(l,f,h)})}return this._ngElementStrategy}constructor(u){super(),this.injector=u}attributeChangedCallback(u,l,h,f){let[y,I]=i[u];this.ngElementStrategy.setInputValue(y,h,I)}connectedCallback(){let u=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),u=!0),this.ngElementStrategy.connect(this),u||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(u=>{let l=new CustomEvent(u.name,{detail:u.value});this.dispatchEvent(l)})}};s.observedAttributes=Object.keys(i);let o=s;return n.forEach(({propName:a,transform:u})=>{Object.defineProperty(o.prototype,a,{get(){return this.ngElementStrategy.getInputValue(a)},set(l){this.ngElementStrategy.setInputValue(a,l,u)},configurable:!0,enumerable:!0})}),o}function tM(e,t){return eI(this,null,function*(){try{let n=yield KD(t),r=eM(t,{injector:n.injector});customElements.define(e,r)}catch(n){console.error(n)}})}tM("uml-editor",GD).then(()=>console.debug("UmlEditorComponent loaded"));
