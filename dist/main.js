(()=>{var UN={717:(Wn,pr,Yn)=>{var ki,dt,ut;ut="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global,ki=[Yn(670),Yn(276),pr],void 0!==(dt=function(Sr,Vn,Gt){ut.Backbone=function(Lr,ut,Ne,Qn){var Sr=Lr.Backbone,Vn=Array.prototype.slice;ut.VERSION="1.4.1",ut.$=Qn,ut.noConflict=function(){return Lr.Backbone=Sr,this},ut.emulateHTTP=!1,ut.emulateJSON=!1;var Nr,Gt=ut.Events={},gi=/\s+/,Ot=function(M,P,z,ne,Me){var R,Se=0;if(z&&"object"==typeof z)for((void 0!==ne&&"context"in Me&&void 0===Me.context&&(Me.context=ne),R=Ne.keys(z));Se<R.length;Se++)P=Ot(M,P,R[Se],z[R[Se]],Me);else if(z&&gi.test(z))for(R=z.split(gi);Se<R.length;Se++)P=M(P,R[Se],ne,Me);else P=M(P,z,ne,Me);return P};Gt.on=function(M,P,z){return this._events=Ot(Xi,this._events||{},M,P,{context:z,ctx:this,listening:Nr}),Nr&&((this._listeners||(this._listeners={}))[Nr.id]=Nr,Nr.interop=!1),this},Gt.listenTo=function(M,P,z){if(!M)return this;var ne=M._listenId||(M._listenId=Ne.uniqueId("l")),Me=this._listeningTo||(this._listeningTo={}),Se=Nr=Me[ne];Se||(this._listenId||(this._listenId=Ne.uniqueId("l")),Se=Nr=Me[ne]=new vo(this,M));var R=pi(M,P,z,this);if(Nr=void 0,R)throw R;return Se.interop&&Se.on(P,z),this};var Xi=function(M,P,z,ne){if(z){var Me=M[P]||(M[P]=[]),Se=ne.context,R=ne.ctx,U=ne.listening;U&&U.count++,Me.push({callback:z,context:Se,ctx:Se||R,listening:U})}return M},pi=function(M,P,z,ne){try{M.on(P,z,ne)}catch(Me){return Me}};Gt.off=function(M,P,z){return this._events?(this._events=Ot(nt,this._events,M,P,{context:z,listeners:this._listeners}),this):this},Gt.stopListening=function(M,P,z){var ne=this._listeningTo;if(!ne)return this;for(var Me=M?[M._listenId]:Ne.keys(ne),Se=0;Se<Me.length;Se++){var R=ne[Me[Se]];if(!R)break;R.obj.off(P,z,this),R.interop&&R.off(P,z)}return Ne.isEmpty(ne)&&(this._listeningTo=void 0),this};var nt=function(M,P,z,ne){if(M){var U,Me=ne.context,Se=ne.listeners,R=0;if(!P&&!Me&&!z){for(U=Ne.keys(Se);R<U.length;R++)Se[U[R]].cleanup();return}for(U=P?[P]:Ne.keys(M);R<U.length;R++){var fe=M[P=U[R]];if(!fe)break;for(var ae=[],J=0;J<fe.length;J++){var Ce=fe[J];if(z&&z!==Ce.callback&&z!==Ce.callback._callback||Me&&Me!==Ce.context)ae.push(Ce);else{var Xe=Ce.listening;Xe&&Xe.off(P,z)}}ae.length?M[P]=ae:delete M[P]}return M}};Gt.once=function(M,P,z){var ne=Ot(Ct,{},M,P,this.off.bind(this));return"string"==typeof M&&null==z&&(P=void 0),this.on(ne,P,z)},Gt.listenToOnce=function(M,P,z){var ne=Ot(Ct,{},P,z,this.stopListening.bind(this,M));return this.listenTo(M,ne)};var Ct=function(M,P,z,ne){if(z){var Me=M[P]=Ne.once(function(){ne(P,Me),z.apply(this,arguments)});Me._callback=z}return M};Gt.trigger=function(M){if(!this._events)return this;for(var P=Math.max(0,arguments.length-1),z=Array(P),ne=0;ne<P;ne++)z[ne]=arguments[ne+1];return Ot(ui,this._events,M,void 0,z),this};var ui=function(M,P,z,ne){if(M){var Me=M[P],Se=M.all;Me&&Se&&(Se=Se.slice()),Me&&vt(Me,ne),Se&&vt(Se,[P].concat(ne))}return M},vt=function(M,P){var z,ne=-1,Me=M.length,Se=P[0],R=P[1],U=P[2];switch(P.length){case 0:for(;++ne<Me;)(z=M[ne]).callback.call(z.ctx);return;case 1:for(;++ne<Me;)(z=M[ne]).callback.call(z.ctx,Se);return;case 2:for(;++ne<Me;)(z=M[ne]).callback.call(z.ctx,Se,R);return;case 3:for(;++ne<Me;)(z=M[ne]).callback.call(z.ctx,Se,R,U);return;default:for(;++ne<Me;)(z=M[ne]).callback.apply(z.ctx,P);return}},vo=function(M,P){this.id=M._listenId,this.listener=M,this.obj=P,this.interop=!0,this.count=0,this._events=void 0};vo.prototype.on=Gt.on,vo.prototype.off=function(M,P){var z;this.interop?(this._events=Ot(nt,this._events,M,P,{context:void 0,listeners:void 0}),z=!this._events):(this.count--,z=0===this.count),z&&this.cleanup()},vo.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},Gt.bind=Gt.on,Gt.unbind=Gt.off,Ne.extend(ut,Gt);var Dn=ut.Model=function(M,P){var z=M||{};P||(P={}),this.preinitialize.apply(this,arguments),this.cid=Ne.uniqueId(this.cidPrefix),this.attributes={},P.collection&&(this.collection=P.collection),P.parse&&(z=this.parse(z,P)||{});var ne=Ne.result(this,"defaults");z=Ne.defaults(Ne.extend({},ne,z),ne),this.set(z,P),this.changed={},this.initialize.apply(this,arguments)};Ne.extend(Dn.prototype,Gt,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(M){return Ne.clone(this.attributes)},sync:function(){return ut.sync.apply(this,arguments)},get:function(M){return this.attributes[M]},escape:function(M){return Ne.escape(this.get(M))},has:function(M){return null!=this.get(M)},matches:function(M){return!!Ne.iteratee(M,this)(this.attributes)},set:function(M,P,z){if(null==M)return this;var ne;if("object"==typeof M?(ne=M,z=P):(ne={})[M]=P,z||(z={}),!this._validate(ne,z))return!1;var Me=z.unset,Se=z.silent,R=[],U=this._changing;this._changing=!0,U||(this._previousAttributes=Ne.clone(this.attributes),this.changed={});var fe=this.attributes,ae=this.changed,J=this._previousAttributes;for(var Ce in ne)Ne.isEqual(fe[Ce],P=ne[Ce])||R.push(Ce),Ne.isEqual(J[Ce],P)?delete ae[Ce]:ae[Ce]=P,Me?delete fe[Ce]:fe[Ce]=P;if(this.idAttribute in ne){var Xe=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,Xe,z)}if(!Se){R.length&&(this._pending=z);for(var _e=0;_e<R.length;_e++)this.trigger("change:"+R[_e],this,fe[R[_e]],z)}if(U)return this;if(!Se)for(;this._pending;)z=this._pending,this._pending=!1,this.trigger("change",this,z);return this._pending=!1,this._changing=!1,this},unset:function(M,P){return this.set(M,void 0,Ne.extend({},P,{unset:!0}))},clear:function(M){var P={};for(var z in this.attributes)P[z]=void 0;return this.set(P,Ne.extend({},M,{unset:!0}))},hasChanged:function(M){return null==M?!Ne.isEmpty(this.changed):Ne.has(this.changed,M)},changedAttributes:function(M){if(!M)return!!this.hasChanged()&&Ne.clone(this.changed);var ne,P=this._changing?this._previousAttributes:this.attributes,z={};for(var Me in M){var Se=M[Me];Ne.isEqual(P[Me],Se)||(z[Me]=Se,ne=!0)}return!!ne&&z},previous:function(M){return null!=M&&this._previousAttributes?this._previousAttributes[M]:null},previousAttributes:function(){return Ne.clone(this._previousAttributes)},fetch:function(M){M=Ne.extend({parse:!0},M);var P=this,z=M.success;return M.success=function(ne){var Me=M.parse?P.parse(ne,M):ne;if(!P.set(Me,M))return!1;z&&z.call(M.context,P,ne,M),P.trigger("sync",P,ne,M)},Ci(this,M),this.sync("read",this,M)},save:function(M,P,z){var ne;null==M||"object"==typeof M?(ne=M,z=P):(ne={})[M]=P;var Me=(z=Ne.extend({validate:!0,parse:!0},z)).wait;if(ne&&!Me){if(!this.set(ne,z))return!1}else if(!this._validate(ne,z))return!1;var Se=this,R=z.success,U=this.attributes;z.success=function(J){Se.attributes=U;var Ce=z.parse?Se.parse(J,z):J;if(Me&&(Ce=Ne.extend({},ne,Ce)),Ce&&!Se.set(Ce,z))return!1;R&&R.call(z.context,Se,J,z),Se.trigger("sync",Se,J,z)},Ci(this,z),ne&&Me&&(this.attributes=Ne.extend({},U,ne));var fe=this.isNew()?"create":z.patch?"patch":"update";"patch"===fe&&!z.attrs&&(z.attrs=ne);var ae=this.sync(fe,this,z);return this.attributes=U,ae},destroy:function(M){M=M?Ne.clone(M):{};var P=this,z=M.success,ne=M.wait,Me=function(){P.stopListening(),P.trigger("destroy",P,P.collection,M)};M.success=function(R){ne&&Me(),z&&z.call(M.context,P,R,M),P.isNew()||P.trigger("sync",P,R,M)};var Se=!1;return this.isNew()?Ne.defer(M.success):(Ci(this,M),Se=this.sync("delete",this,M)),ne||Me(),Se},url:function(){var M=Ne.result(this,"urlRoot")||Ne.result(this.collection,"url")||fi();if(this.isNew())return M;var P=this.get(this.idAttribute);return M.replace(/[^\/]$/,"$&/")+encodeURIComponent(P)},parse:function(M,P){return M},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(M){return this._validate({},Ne.extend({},M,{validate:!0}))},_validate:function(M,P){if(!P.validate||!this.validate)return!0;M=Ne.extend({},this.attributes,M);var z=this.validationError=this.validate(M,P)||null;return!z||(this.trigger("invalid",this,z,Ne.extend(P,{validationError:z})),!1)}});var fr=ut.Collection=function(M,P){P||(P={}),this.preinitialize.apply(this,arguments),P.model&&(this.model=P.model),void 0!==P.comparator&&(this.comparator=P.comparator),this._reset(),this.initialize.apply(this,arguments),M&&this.reset(M,Ne.extend({silent:!0},P))},Zn={add:!0,remove:!0,merge:!0},Cr={add:!0,remove:!1},y=function(M,P,z){z=Math.min(Math.max(z,0),M.length);var Se,ne=Array(M.length-z),Me=P.length;for(Se=0;Se<ne.length;Se++)ne[Se]=M[Se+z];for(Se=0;Se<Me;Se++)M[Se+z]=P[Se];for(Se=0;Se<ne.length;Se++)M[Se+Me+z]=ne[Se]};Ne.extend(fr.prototype,Gt,{model:Dn,preinitialize:function(){},initialize:function(){},toJSON:function(M){return this.map(function(P){return P.toJSON(M)})},sync:function(){return ut.sync.apply(this,arguments)},add:function(M,P){return this.set(M,Ne.extend({merge:!1},P,Cr))},remove:function(M,P){P=Ne.extend({},P);var z=!Ne.isArray(M);M=z?[M]:M.slice();var ne=this._removeModels(M,P);return!P.silent&&ne.length&&(P.changes={added:[],merged:[],removed:ne},this.trigger("update",this,P)),z?ne[0]:ne},set:function(M,P){if(null!=M){(P=Ne.extend({},Zn,P)).parse&&!this._isModel(M)&&(M=this.parse(M,P)||[]);var z=!Ne.isArray(M);M=z?[M]:M.slice();var ne=P.at;null!=ne&&(ne=+ne),ne>this.length&&(ne=this.length),ne<0&&(ne+=this.length+1);var We,Ze,Me=[],Se=[],R=[],U=[],fe={},ae=P.add,J=P.merge,Ce=P.remove,Xe=!1,_e=this.comparator&&null==ne&&!1!==P.sort,Qe=Ne.isString(this.comparator)?this.comparator:null;for(Ze=0;Ze<M.length;Ze++){var ht=this.get(We=M[Ze]);if(ht){if(J&&We!==ht){var it=this._isModel(We)?We.attributes:We;P.parse&&(it=ht.parse(it,P)),ht.set(it,P),R.push(ht),_e&&!Xe&&(Xe=ht.hasChanged(Qe))}fe[ht.cid]||(fe[ht.cid]=!0,Me.push(ht)),M[Ze]=ht}else ae&&(We=M[Ze]=this._prepareModel(We,P))&&(Se.push(We),this._addReference(We,P),fe[We.cid]=!0,Me.push(We))}if(Ce){for(Ze=0;Ze<this.length;Ze++)fe[(We=this.models[Ze]).cid]||U.push(We);U.length&&this._removeModels(U,P)}var pt=!1;if(Me.length&&!_e&&ae&&Ce?(pt=this.length!==Me.length||Ne.some(this.models,function(un,Mn){return un!==Me[Mn]}),this.models.length=0,y(this.models,Me,0),this.length=this.models.length):Se.length&&(_e&&(Xe=!0),y(this.models,Se,ne??this.length),this.length=this.models.length),Xe&&this.sort({silent:!0}),!P.silent){for(Ze=0;Ze<Se.length;Ze++)null!=ne&&(P.index=ne+Ze),(We=Se[Ze]).trigger("add",We,this,P);(Xe||pt)&&this.trigger("sort",this,P),(Se.length||U.length||R.length)&&(P.changes={added:Se,removed:U,merged:R},this.trigger("update",this,P))}return z?M[0]:M}},reset:function(M,P){P=P?Ne.clone(P):{};for(var z=0;z<this.models.length;z++)this._removeReference(this.models[z],P);return P.previousModels=this.models,this._reset(),M=this.add(M,Ne.extend({silent:!0},P)),P.silent||this.trigger("reset",this,P),M},push:function(M,P){return this.add(M,Ne.extend({at:this.length},P))},pop:function(M){var P=this.at(this.length-1);return this.remove(P,M)},unshift:function(M,P){return this.add(M,Ne.extend({at:0},P))},shift:function(M){var P=this.at(0);return this.remove(P,M)},slice:function(){return Vn.apply(this.models,arguments)},get:function(M){if(null!=M)return this._byId[M]||this._byId[this.modelId(this._isModel(M)?M.attributes:M,M.idAttribute)]||M.cid&&this._byId[M.cid]},has:function(M){return null!=this.get(M)},at:function(M){return M<0&&(M+=this.length),this.models[M]},where:function(M,P){return this[P?"find":"filter"](M)},findWhere:function(M){return this.where(M,!0)},sort:function(M){var P=this.comparator;if(!P)throw new Error("Cannot sort a set without a comparator");M||(M={});var z=P.length;return Ne.isFunction(P)&&(P=P.bind(this)),1===z||Ne.isString(P)?this.models=this.sortBy(P):this.models.sort(P),M.silent||this.trigger("sort",this,M),this},pluck:function(M){return this.map(M+"")},fetch:function(M){var P=(M=Ne.extend({parse:!0},M)).success,z=this;return M.success=function(ne){z[M.reset?"reset":"set"](ne,M),P&&P.call(M.context,z,ne,M),z.trigger("sync",z,ne,M)},Ci(this,M),this.sync("read",this,M)},create:function(M,P){var z=(P=P?Ne.clone(P):{}).wait;if(!(M=this._prepareModel(M,P)))return!1;z||this.add(M,P);var ne=this,Me=P.success;return P.success=function(Se,R,U){z&&ne.add(Se,U),Me&&Me.call(U.context,Se,R,U)},M.save(null,P),M},parse:function(M,P){return M},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(M,P){return M[P||this.model.prototype.idAttribute||"id"]},values:function(){return new an(this,fs)},keys:function(){return new an(this,mn)},entries:function(){return new an(this,li)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(M,P){return this._isModel(M)?(M.collection||(M.collection=this),M):((P=P?Ne.clone(P):{}).collection=this,(z=this.model.prototype?new this.model(M,P):this.model(M,P)).validationError?(this.trigger("invalid",this,z.validationError,P),!1):z);var z},_removeModels:function(M,P){for(var z=[],ne=0;ne<M.length;ne++){var Me=this.get(M[ne]);if(Me){var Se=this.indexOf(Me);this.models.splice(Se,1),this.length--,delete this._byId[Me.cid];var R=this.modelId(Me.attributes,Me.idAttribute);null!=R&&delete this._byId[R],P.silent||(P.index=Se,Me.trigger("remove",Me,this,P)),z.push(Me),this._removeReference(Me,P)}}return z},_isModel:function(M){return M instanceof Dn},_addReference:function(M,P){this._byId[M.cid]=M;var z=this.modelId(M.attributes,M.idAttribute);null!=z&&(this._byId[z]=M),M.on("all",this._onModelEvent,this)},_removeReference:function(M,P){delete this._byId[M.cid];var z=this.modelId(M.attributes,M.idAttribute);null!=z&&delete this._byId[z],this===M.collection&&delete M.collection,M.off("all",this._onModelEvent,this)},_onModelEvent:function(M,P,z,ne){if(P){if(("add"===M||"remove"===M)&&z!==this)return;if("destroy"===M&&this.remove(P,ne),"changeId"===M){var Me=this.modelId(P.previousAttributes(),P.idAttribute),Se=this.modelId(P.attributes,P.idAttribute);null!=Me&&delete this._byId[Me],null!=Se&&(this._byId[Se]=P)}}this.trigger.apply(this,arguments)}});var mi="function"==typeof Symbol&&Symbol.iterator;mi&&(fr.prototype[mi]=fr.prototype.values);var an=function(M,P){this._collection=M,this._kind=P,this._index=0},fs=1,mn=2,li=3;mi&&(an.prototype[mi]=function(){return this}),an.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var P,M=this._collection.at(this._index);if(this._index++,this._kind===fs)P=M;else{var z=this._collection.modelId(M.attributes,M.idAttribute);P=this._kind===mn?z:[z,M]}return{value:P,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var jt=ut.View=function(M){this.cid=Ne.uniqueId("view"),this.preinitialize.apply(this,arguments),Ne.extend(this,Ne.pick(M,Qr)),this._ensureElement(),this.initialize.apply(this,arguments)},$i=/^(\S+)\s*(.*)$/,Qr=["model","collection","el","id","attributes","className","tagName","events"];Ne.extend(jt.prototype,Gt,{tagName:"div",$:function(M){return this.$el.find(M)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(M){return this.undelegateEvents(),this._setElement(M),this.delegateEvents(),this},_setElement:function(M){this.$el=M instanceof ut.$?M:ut.$(M),this.el=this.$el[0]},delegateEvents:function(M){if(M||(M=Ne.result(this,"events")),!M)return this;for(var P in this.undelegateEvents(),M){var z=M[P];if(Ne.isFunction(z)||(z=this[z]),z){var ne=P.match($i);this.delegate(ne[1],ne[2],z.bind(this))}}return this},delegate:function(M,P,z){return this.$el.on(M+".delegateEvents"+this.cid,P,z),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(M,P,z){return this.$el.off(M+".delegateEvents"+this.cid,P,z),this},_createElement:function(M){return document.createElement(M)},_ensureElement:function(){if(this.el)this.setElement(Ne.result(this,"el"));else{var M=Ne.extend({},Ne.result(this,"attributes"));this.id&&(M.id=Ne.result(this,"id")),this.className&&(M.class=Ne.result(this,"className")),this.setElement(this._createElement(Ne.result(this,"tagName"))),this._setAttributes(M)}},_setAttributes:function(M){this.$el.attr(M)}});var wr=function(M,P,z,ne){Ne.each(z,function(Me,Se){P[Se]&&(M.prototype[Se]=function(M,P,z,ne){switch(P){case 1:return function(){return M[z](this[ne])};case 2:return function(Me){return M[z](this[ne],Me)};case 3:return function(Me,Se){return M[z](this[ne],Ji(Me,this),Se)};case 4:return function(Me,Se,R){return M[z](this[ne],Ji(Me,this),Se,R)};default:return function(){var Me=Vn.call(arguments);return Me.unshift(this[ne]),M[z].apply(M,Me)}}}(P,Me,Se,ne))})},Ji=function(M,P){return Ne.isFunction(M)?M:Ne.isObject(M)&&!P._isModel(M)?Li(M):Ne.isString(M)?function(z){return z.get(M)}:M},Li=function(M){var P=Ne.matches(M);return function(z){return P(z.attributes)}};Ne.each([[fr,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[Dn,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],function(M){var P=M[0],z=M[1],ne=M[2];P.mixin=function(Me){var Se=Ne.reduce(Ne.functions(Me),function(R,U){return R[U]=0,R},{});wr(P,Me,Se,ne)},wr(P,Ne,z,ne)}),ut.sync=function(M,P,z){var ne=Ar[M];Ne.defaults(z||(z={}),{emulateHTTP:ut.emulateHTTP,emulateJSON:ut.emulateJSON});var Me={type:ne,dataType:"json"};if(z.url||(Me.url=Ne.result(P,"url")||fi()),null==z.data&&P&&("create"===M||"update"===M||"patch"===M)&&(Me.contentType="application/json",Me.data=JSON.stringify(z.attrs||P.toJSON(z))),z.emulateJSON&&(Me.contentType="application/x-www-form-urlencoded",Me.data=Me.data?{model:Me.data}:{}),z.emulateHTTP&&("PUT"===ne||"DELETE"===ne||"PATCH"===ne)){Me.type="POST",z.emulateJSON&&(Me.data._method=ne);var Se=z.beforeSend;z.beforeSend=function(fe){if(fe.setRequestHeader("X-HTTP-Method-Override",ne),Se)return Se.apply(this,arguments)}}"GET"!==Me.type&&!z.emulateJSON&&(Me.processData=!1);var R=z.error;z.error=function(fe,ae,J){z.textStatus=ae,z.errorThrown=J,R&&R.call(z.context,fe,ae,J)};var U=z.xhr=ut.ajax(Ne.extend(Me,z));return P.trigger("request",P,U,z),U};var Ar={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};ut.ajax=function(){return ut.$.ajax.apply(ut.$,arguments)};var yi=ut.Router=function(M){M||(M={}),this.preinitialize.apply(this,arguments),M.routes&&(this.routes=M.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Ii=/\((.*?)\)/g,qi=/(\(\?)?:\w+/g,ds=/\*\w+/g,Vo=/[\-{}\[\]+?.,\\\^$|#\s]/g;Ne.extend(yi.prototype,Gt,{preinitialize:function(){},initialize:function(){},route:function(M,P,z){Ne.isRegExp(M)||(M=this._routeToRegExp(M)),Ne.isFunction(P)&&(z=P,P=""),z||(z=this[P]);var ne=this;return ut.history.route(M,function(Me){var Se=ne._extractParameters(M,Me);!1!==ne.execute(z,Se,P)&&(ne.trigger.apply(ne,["route:"+P].concat(Se)),ne.trigger("route",P,Se),ut.history.trigger("route",ne,P,Se))}),this},execute:function(M,P,z){M&&M.apply(this,P)},navigate:function(M,P){return ut.history.navigate(M,P),this},_bindRoutes:function(){if(this.routes){this.routes=Ne.result(this,"routes");for(var M,P=Ne.keys(this.routes);null!=(M=P.pop());)this.route(M,this.routes[M])}},_routeToRegExp:function(M){return M=M.replace(Vo,"\\$&").replace(Ii,"(?:$1)?").replace(qi,function(P,z){return z?P:"([^/?]+)"}).replace(ds,"([^?]*?)"),new RegExp("^"+M+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(M,P){var z=M.exec(P).slice(1);return Ne.map(z,function(ne,Me){return Me===z.length-1?ne||null:ne?decodeURIComponent(ne):null})}});var br=ut.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Ri=/^[#\/]|\s+$/g,Ur=/^\/+|\/+$/g,So=/#.*$/;br.started=!1,Ne.extend(br.prototype,Gt,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(M){return decodeURI(M.replace(/%25/g,"%2525"))},getSearch:function(){var M=this.location.href.replace(/#.*/,"").match(/\?.+/);return M?M[0]:""},getHash:function(M){var P=(M||this).location.href.match(/#(.*)$/);return P?P[1]:""},getPath:function(){var M=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===M.charAt(0)?M.slice(1):M},getFragment:function(M){return null==M&&(M=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),M.replace(Ri,"")},start:function(M){if(br.started)throw new Error("Backbone.history has already been started");if(br.started=!0,this.options=Ne.extend({root:"/"},this.options,M),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Ur,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var P=this.root.slice(0,-1)||"/";return this.location.replace(P+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var z=document.body,ne=z.insertBefore(this.iframe,z.firstChild).contentWindow;ne.document.open(),ne.document.close(),ne.location.hash="#"+this.fragment}var Me=window.addEventListener||function(Se,R){return attachEvent("on"+Se,R)};if(this._usePushState?Me("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Me("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var M=window.removeEventListener||function(P,z){return detachEvent("on"+P,z)};this._usePushState?M("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&M("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),br.started=!1},route:function(M,P){this.handlers.unshift({route:M,callback:P})},checkUrl:function(M){var P=this.getFragment();if(P===this.fragment&&this.iframe&&(P=this.getHash(this.iframe.contentWindow)),P===this.fragment)return!1;this.iframe&&this.navigate(P),this.loadUrl()},loadUrl:function(M){return!!this.matchRoot()&&(M=this.fragment=this.getFragment(M),Ne.some(this.handlers,function(P){if(P.route.test(M))return P.callback(M),!0}))},navigate:function(M,P){if(!br.started)return!1;(!P||!0===P)&&(P={trigger:!!P}),M=this.getFragment(M||"");var z=this.root;(""===M||"?"===M.charAt(0))&&(z=z.slice(0,-1)||"/");var ne=z+M;M=M.replace(So,"");var Me=this.decodeFragment(M);if(this.fragment!==Me){if(this.fragment=Me,this._usePushState)this.history[P.replace?"replaceState":"pushState"]({},document.title,ne);else{if(!this._wantsHashChange)return this.location.assign(ne);if(this._updateHash(this.location,M,P.replace),this.iframe&&M!==this.getHash(this.iframe.contentWindow)){var Se=this.iframe.contentWindow;P.replace||(Se.document.open(),Se.document.close()),this._updateHash(Se.location,M,P.replace)}}if(P.trigger)return this.loadUrl(M)}},_updateHash:function(M,P,z){if(z){var ne=M.href.replace(/(javascript:|#).*$/,"");M.replace(ne+"#"+P)}else M.hash="#"+P}}),ut.history=new br;Dn.extend=fr.extend=yi.extend=jt.extend=br.extend=function(M,P){var ne,z=this;return ne=M&&Ne.has(M,"constructor")?M.constructor:function(){return z.apply(this,arguments)},Ne.extend(ne,z,P),ne.prototype=Ne.create(z.prototype,M),ne.prototype.constructor=ne,ne.__super__=z.prototype,ne};var fi=function(){throw new Error('A "url" property or function must be specified')},Ci=function(M,P){var z=P.error;P.error=function(ne){z&&z.call(P.context,M,ne,P),M.trigger("error",M,ne,P)}};return ut}(ut,Gt,Sr,Vn)}.apply(pr,ki))&&(Wn.exports=dt)},276:function(Wn,pr){var ki;!function(dt,Lr){"use strict";"object"==typeof Wn.exports?Wn.exports=dt.document?Lr(dt,!0):function(ut){if(!ut.document)throw new Error("jQuery requires a window with a document");return Lr(ut)}:Lr(dt)}(typeof window<"u"?window:this,function(dt,Lr){"use strict";var ut=[],Ne=Object.getPrototypeOf,Qn=ut.slice,Sr=ut.flat?function(l){return ut.flat.call(l)}:function(l){return ut.concat.apply([],l)},Vn=ut.push,Gt=ut.indexOf,gi={},Nr=gi.toString,Ot=gi.hasOwnProperty,Xi=Ot.toString,pi=Xi.call(Object),nt={},Ct=function(h){return"function"==typeof h&&"number"!=typeof h.nodeType&&"function"!=typeof h.item},ui=function(h){return null!=h&&h===h.window},vt=dt.document,vo={type:!0,src:!0,nonce:!0,noModule:!0};function Dn(l,h,p){var v,b,D=(p=p||vt).createElement("script");if(D.text=l,h)for(v in vo)(b=h[v]||h.getAttribute&&h.getAttribute(v))&&D.setAttribute(v,b);p.head.appendChild(D).parentNode.removeChild(D)}function fr(l){return null==l?l+"":"object"==typeof l||"function"==typeof l?gi[Nr.call(l)]||"object":typeof l}var Cr=/HTML$/i,y=function(l,h){return new y.fn.init(l,h)};function mi(l){var h=!!l&&"length"in l&&l.length,p=fr(l);return!Ct(l)&&!ui(l)&&("array"===p||0===h||"number"==typeof h&&h>0&&h-1 in l)}function an(l,h){return l.nodeName&&l.nodeName.toLowerCase()===h.toLowerCase()}y.fn=y.prototype={jquery:"3.7.1",constructor:y,length:0,toArray:function(){return Qn.call(this)},get:function(l){return null==l?Qn.call(this):l<0?this[l+this.length]:this[l]},pushStack:function(l){var h=y.merge(this.constructor(),l);return h.prevObject=this,h},each:function(l){return y.each(this,l)},map:function(l){return this.pushStack(y.map(this,function(h,p){return l.call(h,p,h)}))},slice:function(){return this.pushStack(Qn.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(y.grep(this,function(l,h){return(h+1)%2}))},odd:function(){return this.pushStack(y.grep(this,function(l,h){return h%2}))},eq:function(l){var h=this.length,p=+l+(l<0?h:0);return this.pushStack(p>=0&&p<h?[this[p]]:[])},end:function(){return this.prevObject||this.constructor()},push:Vn,sort:ut.sort,splice:ut.splice},y.extend=y.fn.extend=function(){var l,h,p,v,b,D,N=arguments[0]||{},Z=1,B=arguments.length,ee=!1;for("boolean"==typeof N&&(ee=N,N=arguments[Z]||{},Z++),"object"!=typeof N&&!Ct(N)&&(N={}),Z===B&&(N=this,Z--);Z<B;Z++)if(null!=(l=arguments[Z]))for(h in l)v=l[h],"__proto__"!==h&&N!==v&&(ee&&v&&(y.isPlainObject(v)||(b=Array.isArray(v)))?(p=N[h],D=b&&!Array.isArray(p)?[]:b||y.isPlainObject(p)?p:{},b=!1,N[h]=y.extend(ee,D,v)):void 0!==v&&(N[h]=v));return N},y.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(l){throw new Error(l)},noop:function(){},isPlainObject:function(l){var h,p;return!(!l||"[object Object]"!==Nr.call(l)||(h=Ne(l))&&("function"!=typeof(p=Ot.call(h,"constructor")&&h.constructor)||Xi.call(p)!==pi))},isEmptyObject:function(l){var h;for(h in l)return!1;return!0},globalEval:function(l,h,p){Dn(l,{nonce:h&&h.nonce},p)},each:function(l,h){var p,v=0;if(mi(l))for(p=l.length;v<p&&!1!==h.call(l[v],v,l[v]);v++);else for(v in l)if(!1===h.call(l[v],v,l[v]))break;return l},text:function(l){var h,p="",v=0,b=l.nodeType;if(!b)for(;h=l[v++];)p+=y.text(h);return 1===b||11===b?l.textContent:9===b?l.documentElement.textContent:3===b||4===b?l.nodeValue:p},makeArray:function(l,h){var p=h||[];return null!=l&&(mi(Object(l))?y.merge(p,"string"==typeof l?[l]:l):Vn.call(p,l)),p},inArray:function(l,h,p){return null==h?-1:Gt.call(h,l,p)},isXMLDoc:function(l){var p=l&&(l.ownerDocument||l).documentElement;return!Cr.test(l&&l.namespaceURI||p&&p.nodeName||"HTML")},merge:function(l,h){for(var p=+h.length,v=0,b=l.length;v<p;v++)l[b++]=h[v];return l.length=b,l},grep:function(l,h,p){for(var b=[],D=0,N=l.length,Z=!p;D<N;D++)!h(l[D],D)!==Z&&b.push(l[D]);return b},map:function(l,h,p){var v,b,D=0,N=[];if(mi(l))for(v=l.length;D<v;D++)null!=(b=h(l[D],D,p))&&N.push(b);else for(D in l)null!=(b=h(l[D],D,p))&&N.push(b);return Sr(N)},guid:1,support:nt}),"function"==typeof Symbol&&(y.fn[Symbol.iterator]=ut[Symbol.iterator]),y.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(l,h){gi["[object "+h+"]"]=h.toLowerCase()});var fs=ut.pop,mn=ut.sort,li=ut.splice,jt="[\\x20\\t\\r\\n\\f]",$i=new RegExp("^"+jt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+jt+"+$","g");y.contains=function(l,h){var p=h&&h.parentNode;return l===p||!(!p||1!==p.nodeType||!(l.contains?l.contains(p):l.compareDocumentPosition&&16&l.compareDocumentPosition(p)))};var Qr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function To(l,h){return h?"\0"===l?"\ufffd":l.slice(0,-1)+"\\"+l.charCodeAt(l.length-1).toString(16)+" ":"\\"+l}y.escapeSelector=function(l){return(l+"").replace(Qr,To)};var wr=vt,Ji=Vn;!function(){var l,h,p,v,b,N,Z,B,ee,ve,D=Ji,Ae=y.expando,le=0,Pe=0,Tt=te(),rn=te(),St=te(),Jn=te(),mr=function(L,W){return L===W&&(b=!0),0},eo="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Qt="(?:\\\\[\\da-fA-F]{1,6}"+jt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ht="\\["+jt+"*("+Qt+")(?:"+jt+"*([*^$|!~]?=)"+jt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Qt+"))|)"+jt+"*\\]",Rn=":("+Qt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Ht+")*)|.*)\\)|)",Kt=new RegExp(jt+"+","g"),or=new RegExp("^"+jt+"*,"+jt+"*"),Ps=new RegExp("^"+jt+"*([>+~]|"+jt+")"+jt+"*"),Po=new RegExp(jt+"|>"),ct=new RegExp(Rn),Oo=new RegExp("^"+Qt+"$"),Ti={ID:new RegExp("^#("+Qt+")"),CLASS:new RegExp("^\\.("+Qt+")"),TAG:new RegExp("^("+Qt+"|[*])"),ATTR:new RegExp("^"+Ht),PSEUDO:new RegExp("^"+Rn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+jt+"*(even|odd|(([+-]|)(\\d*)n|)"+jt+"*(?:([+-]|)"+jt+"*(\\d+)|))"+jt+"*\\)|)","i"),bool:new RegExp("^(?:"+eo+")$","i"),needsContext:new RegExp("^"+jt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+jt+"*((?:-\\d)?\\d*)"+jt+"*\\)|)(?=[^-]|$)","i")},Ho=/^(?:input|select|textarea|button)$/i,to=/^h\d$/i,Fe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Wo=/[+~]/,ei=new RegExp("\\\\[\\da-fA-F]{1,6}"+jt+"?|\\\\([^\\r\\n\\f])","g"),no=function(L,W){var Q="0x"+L.slice(1)-65536;return W||(Q<0?String.fromCharCode(Q+65536):String.fromCharCode(Q>>10|55296,1023&Q|56320))},w=function(){ro()},S=dl(function(L){return!0===L.disabled&&an(L,"fieldset")},{dir:"parentNode",next:"legend"});try{D.apply(ut=Qn.call(wr.childNodes),wr.childNodes)}catch{D={apply:function(W,Q){Ji.apply(W,Qn.call(Q))},call:function(W){Ji.apply(W,Qn.call(arguments,1))}}}function j(L,W,Q,me){var De,Ve,Ke,Oe,et,on,wt,Vt=W&&W.ownerDocument,ln=W?W.nodeType:9;if(Q=Q||[],"string"!=typeof L||!L||1!==ln&&9!==ln&&11!==ln)return Q;if(!me&&(ro(W),W=W||N,B)){if(11!==ln&&(et=Fe.exec(L)))if(De=et[1]){if(9===ln){if(!(Ke=W.getElementById(De)))return Q;if(Ke.id===De)return D.call(Q,Ke),Q}else if(Vt&&(Ke=Vt.getElementById(De))&&j.contains(W,Ke)&&Ke.id===De)return D.call(Q,Ke),Q}else{if(et[2])return D.apply(Q,W.getElementsByTagName(L)),Q;if((De=et[3])&&W.getElementsByClassName)return D.apply(Q,W.getElementsByClassName(De)),Q}if(!(Jn[L+" "]||ee&&ee.test(L))){if(wt=L,Vt=W,1===ln&&(Po.test(L)||Ps.test(L))){for(((Vt=Wo.test(L)&&Fr(W.parentNode)||W)!=W||!nt.scope)&&((Oe=W.getAttribute("id"))?Oe=y.escapeSelector(Oe):W.setAttribute("id",Oe=Ae)),Ve=(on=zc(L)).length;Ve--;)on[Ve]=(Oe?"#"+Oe:":scope")+" "+Gc(on[Ve]);wt=on.join(",")}try{return D.apply(Q,Vt.querySelectorAll(wt)),Q}catch{Jn(L,!0)}finally{Oe===Ae&&W.removeAttribute("id")}}}return $f(L.replace($i,"$1"),W,Q,me)}function te(){var L=[];return function W(Q,me){return L.push(Q+" ")>h.cacheLength&&delete W[L.shift()],W[Q+" "]=me}}function G(L){return L[Ae]=!0,L}function ce(L){var W=N.createElement("fieldset");try{return!!L(W)}catch{return!1}finally{W.parentNode&&W.parentNode.removeChild(W),W=null}}function Ge(L){return function(W){return an(W,"input")&&W.type===L}}function Bt(L){return function(W){return(an(W,"input")||an(W,"button"))&&W.type===L}}function Nt(L){return function(W){return"form"in W?W.parentNode&&!1===W.disabled?"label"in W?"label"in W.parentNode?W.parentNode.disabled===L:W.disabled===L:W.isDisabled===L||W.isDisabled!==!L&&S(W)===L:W.disabled===L:"label"in W&&W.disabled===L}}function Kn(L){return G(function(W){return W=+W,G(function(Q,me){for(var De,Ve=L([],Q.length,W),Ke=Ve.length;Ke--;)Q[De=Ve[Ke]]&&(Q[De]=!(me[De]=Q[De]))})})}function Fr(L){return L&&typeof L.getElementsByTagName<"u"&&L}function ro(L){var W,Q=L?L.ownerDocument||L:wr;return Q==N||9!==Q.nodeType||!Q.documentElement||(Z=(N=Q).documentElement,B=!y.isXMLDoc(N),ve=Z.matches||Z.webkitMatchesSelector||Z.msMatchesSelector,Z.msMatchesSelector&&wr!=N&&(W=N.defaultView)&&W.top!==W&&W.addEventListener("unload",w),nt.getById=ce(function(me){return Z.appendChild(me).id=y.expando,!N.getElementsByName||!N.getElementsByName(y.expando).length}),nt.disconnectedMatch=ce(function(me){return ve.call(me,"*")}),nt.scope=ce(function(){return N.querySelectorAll(":scope")}),nt.cssHas=ce(function(){try{return N.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),nt.getById?(h.filter.ID=function(me){var De=me.replace(ei,no);return function(Ve){return Ve.getAttribute("id")===De}},h.find.ID=function(me,De){if(typeof De.getElementById<"u"&&B){var Ve=De.getElementById(me);return Ve?[Ve]:[]}}):(h.filter.ID=function(me){var De=me.replace(ei,no);return function(Ve){var Ke=typeof Ve.getAttributeNode<"u"&&Ve.getAttributeNode("id");return Ke&&Ke.value===De}},h.find.ID=function(me,De){if(typeof De.getElementById<"u"&&B){var Ve,Ke,Oe,et=De.getElementById(me);if(et){if((Ve=et.getAttributeNode("id"))&&Ve.value===me)return[et];for(Oe=De.getElementsByName(me),Ke=0;et=Oe[Ke++];)if((Ve=et.getAttributeNode("id"))&&Ve.value===me)return[et]}return[]}}),h.find.TAG=function(me,De){return typeof De.getElementsByTagName<"u"?De.getElementsByTagName(me):De.querySelectorAll(me)},h.find.CLASS=function(me,De){if(typeof De.getElementsByClassName<"u"&&B)return De.getElementsByClassName(me)},ee=[],ce(function(me){var De;Z.appendChild(me).innerHTML="<a id='"+Ae+"' href='' disabled='disabled'></a><select id='"+Ae+"-\r\\' disabled='disabled'><option selected=''></option></select>",me.querySelectorAll("[selected]").length||ee.push("\\["+jt+"*(?:value|"+eo+")"),me.querySelectorAll("[id~="+Ae+"-]").length||ee.push("~="),me.querySelectorAll("a#"+Ae+"+*").length||ee.push(".#.+[+~]"),me.querySelectorAll(":checked").length||ee.push(":checked"),(De=N.createElement("input")).setAttribute("type","hidden"),me.appendChild(De).setAttribute("name","D"),Z.appendChild(me).disabled=!0,2!==me.querySelectorAll(":disabled").length&&ee.push(":enabled",":disabled"),(De=N.createElement("input")).setAttribute("name",""),me.appendChild(De),me.querySelectorAll("[name='']").length||ee.push("\\["+jt+"*name"+jt+"*="+jt+"*(?:''|\"\")")}),nt.cssHas||ee.push(":has"),ee=ee.length&&new RegExp(ee.join("|")),mr=function(me,De){if(me===De)return b=!0,0;var Ve=!me.compareDocumentPosition-!De.compareDocumentPosition;return Ve||(1&(Ve=(me.ownerDocument||me)==(De.ownerDocument||De)?me.compareDocumentPosition(De):1)||!nt.sortDetached&&De.compareDocumentPosition(me)===Ve?me===N||me.ownerDocument==wr&&j.contains(wr,me)?-1:De===N||De.ownerDocument==wr&&j.contains(wr,De)?1:v?Gt.call(v,me)-Gt.call(v,De):0:4&Ve?-1:1)}),N}for(l in j.matches=function(L,W){return j(L,null,null,W)},j.matchesSelector=function(L,W){if(ro(L),B&&!Jn[W+" "]&&(!ee||!ee.test(W)))try{var Q=ve.call(L,W);if(Q||nt.disconnectedMatch||L.document&&11!==L.document.nodeType)return Q}catch{Jn(W,!0)}return j(W,N,null,[L]).length>0},j.contains=function(L,W){return(L.ownerDocument||L)!=N&&ro(L),y.contains(L,W)},j.attr=function(L,W){(L.ownerDocument||L)!=N&&ro(L);var Q=h.attrHandle[W.toLowerCase()],me=Q&&Ot.call(h.attrHandle,W.toLowerCase())?Q(L,W,!B):void 0;return void 0!==me?me:L.getAttribute(W)},j.error=function(L){throw new Error("Syntax error, unrecognized expression: "+L)},y.uniqueSort=function(L){var W,Q=[],me=0,De=0;if(b=!nt.sortStable,v=!nt.sortStable&&Qn.call(L,0),mn.call(L,mr),b){for(;W=L[De++];)W===L[De]&&(me=Q.push(De));for(;me--;)li.call(L,Q[me],1)}return v=null,L},y.fn.uniqueSort=function(){return this.pushStack(y.uniqueSort(Qn.apply(this)))},(h=y.expr={cacheLength:50,createPseudo:G,match:Ti,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(L){return L[1]=L[1].replace(ei,no),L[3]=(L[3]||L[4]||L[5]||"").replace(ei,no),"~="===L[2]&&(L[3]=" "+L[3]+" "),L.slice(0,4)},CHILD:function(L){return L[1]=L[1].toLowerCase(),"nth"===L[1].slice(0,3)?(L[3]||j.error(L[0]),L[4]=+(L[4]?L[5]+(L[6]||1):2*("even"===L[3]||"odd"===L[3])),L[5]=+(L[7]+L[8]||"odd"===L[3])):L[3]&&j.error(L[0]),L},PSEUDO:function(L){var W,Q=!L[6]&&L[2];return Ti.CHILD.test(L[0])?null:(L[3]?L[2]=L[4]||L[5]||"":Q&&ct.test(Q)&&(W=zc(Q,!0))&&(W=Q.indexOf(")",Q.length-W)-Q.length)&&(L[0]=L[0].slice(0,W),L[2]=Q.slice(0,W)),L.slice(0,3))}},filter:{TAG:function(L){var W=L.replace(ei,no).toLowerCase();return"*"===L?function(){return!0}:function(Q){return an(Q,W)}},CLASS:function(L){var W=Tt[L+" "];return W||(W=new RegExp("(^|"+jt+")"+L+"("+jt+"|$)"))&&Tt(L,function(Q){return W.test("string"==typeof Q.className&&Q.className||typeof Q.getAttribute<"u"&&Q.getAttribute("class")||"")})},ATTR:function(L,W,Q){return function(me){var De=j.attr(me,L);return null==De?"!="===W:!W||(De+="","="===W?De===Q:"!="===W?De!==Q:"^="===W?Q&&0===De.indexOf(Q):"*="===W?Q&&De.indexOf(Q)>-1:"$="===W?Q&&De.slice(-Q.length)===Q:"~="===W?(" "+De.replace(Kt," ")+" ").indexOf(Q)>-1:"|="===W&&(De===Q||De.slice(0,Q.length+1)===Q+"-"))}},CHILD:function(L,W,Q,me,De){var Ve="nth"!==L.slice(0,3),Ke="last"!==L.slice(-4),Oe="of-type"===W;return 1===me&&0===De?function(et){return!!et.parentNode}:function(et,on,wt){var Vt,ln,It,Fn,ni,Hr=Ve!==Ke?"nextSibling":"previousSibling",io=et.parentNode,Xo=Oe&&et.nodeName.toLowerCase(),tn=!wt&&!Oe,ri=!1;if(io){if(Ve){for(;Hr;){for(It=et;It=It[Hr];)if(Oe?an(It,Xo):1===It.nodeType)return!1;ni=Hr="only"===L&&!ni&&"nextSibling"}return!0}if(ni=[Ke?io.firstChild:io.lastChild],Ke&&tn){for(ri=(Fn=(Vt=(ln=io[Ae]||(io[Ae]={}))[L]||[])[0]===le&&Vt[1])&&Vt[2],It=Fn&&io.childNodes[Fn];It=++Fn&&It&&It[Hr]||(ri=Fn=0)||ni.pop();)if(1===It.nodeType&&++ri&&It===et){ln[L]=[le,Fn,ri];break}}else if(tn&&(ri=Fn=(Vt=(ln=et[Ae]||(et[Ae]={}))[L]||[])[0]===le&&Vt[1]),!1===ri)for(;(It=++Fn&&It&&It[Hr]||(ri=Fn=0)||ni.pop())&&(!(Oe?an(It,Xo):1===It.nodeType)||!++ri||(tn&&((ln=It[Ae]||(It[Ae]={}))[L]=[le,ri]),It!==et)););return(ri-=De)===me||ri%me==0&&ri/me>=0}}},PSEUDO:function(L,W){var Q,me=h.pseudos[L]||h.setFilters[L.toLowerCase()]||j.error("unsupported pseudo: "+L);return me[Ae]?me(W):me.length>1?(Q=[L,L,"",W],h.setFilters.hasOwnProperty(L.toLowerCase())?G(function(De,Ve){for(var Ke,Oe=me(De,W),et=Oe.length;et--;)De[Ke=Gt.call(De,Oe[et])]=!(Ve[Ke]=Oe[et])}):function(De){return me(De,0,Q)}):me}},pseudos:{not:G(function(L){var W=[],Q=[],me=Xf(L.replace($i,"$1"));return me[Ae]?G(function(De,Ve,Ke,Oe){for(var et,on=me(De,null,Oe,[]),wt=De.length;wt--;)(et=on[wt])&&(De[wt]=!(Ve[wt]=et))}):function(De,Ve,Ke){return W[0]=De,me(W,null,Ke,Q),W[0]=null,!Q.pop()}}),has:G(function(L){return function(W){return j(L,W).length>0}}),contains:G(function(L){return L=L.replace(ei,no),function(W){return(W.textContent||y.text(W)).indexOf(L)>-1}}),lang:G(function(L){return Oo.test(L||"")||j.error("unsupported lang: "+L),L=L.replace(ei,no).toLowerCase(),function(W){var Q;do{if(Q=B?W.lang:W.getAttribute("xml:lang")||W.getAttribute("lang"))return(Q=Q.toLowerCase())===L||0===Q.indexOf(L+"-")}while((W=W.parentNode)&&1===W.nodeType);return!1}}),target:function(L){var W=dt.location&&dt.location.hash;return W&&W.slice(1)===L.id},root:function(L){return L===Z},focus:function(L){return L===function F(){try{return N.activeElement}catch{}}()&&N.hasFocus()&&!!(L.type||L.href||~L.tabIndex)},enabled:Nt(!1),disabled:Nt(!0),checked:function(L){return an(L,"input")&&!!L.checked||an(L,"option")&&!!L.selected},selected:function(L){return!0===L.selected},empty:function(L){for(L=L.firstChild;L;L=L.nextSibling)if(L.nodeType<6)return!1;return!0},parent:function(L){return!h.pseudos.empty(L)},header:function(L){return to.test(L.nodeName)},input:function(L){return Ho.test(L.nodeName)},button:function(L){return an(L,"input")&&"button"===L.type||an(L,"button")},text:function(L){var W;return an(L,"input")&&"text"===L.type&&(null==(W=L.getAttribute("type"))||"text"===W.toLowerCase())},first:Kn(function(){return[0]}),last:Kn(function(L,W){return[W-1]}),eq:Kn(function(L,W,Q){return[Q<0?Q+W:Q]}),even:Kn(function(L,W){for(var Q=0;Q<W;Q+=2)L.push(Q);return L}),odd:Kn(function(L,W){for(var Q=1;Q<W;Q+=2)L.push(Q);return L}),lt:Kn(function(L,W,Q){var me;for(me=Q<0?Q+W:Q>W?W:Q;--me>=0;)L.push(me);return L}),gt:Kn(function(L,W,Q){for(var me=Q<0?Q+W:Q;++me<W;)L.push(me);return L})}}).pseudos.nth=h.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})h.pseudos[l]=Ge(l);for(l in{submit:!0,reset:!0})h.pseudos[l]=Bt(l);function ti(){}function zc(L,W){var Q,me,De,Ve,Ke,Oe,et,on=rn[L+" "];if(on)return W?0:on.slice(0);for(Ke=L,Oe=[],et=h.preFilter;Ke;){for(Ve in(!Q||(me=or.exec(Ke)))&&(me&&(Ke=Ke.slice(me[0].length)||Ke),Oe.push(De=[])),Q=!1,(me=Ps.exec(Ke))&&(Q=me.shift(),De.push({value:Q,type:me[0].replace($i," ")}),Ke=Ke.slice(Q.length)),h.filter)(me=Ti[Ve].exec(Ke))&&(!et[Ve]||(me=et[Ve](me)))&&(Q=me.shift(),De.push({value:Q,type:Ve,matches:me}),Ke=Ke.slice(Q.length));if(!Q)break}return W?Ke.length:Ke?j.error(L):rn(L,Oe).slice(0)}function Gc(L){for(var W=0,Q=L.length,me="";W<Q;W++)me+=L[W].value;return me}function dl(L,W,Q){var me=W.dir,De=W.next,Ve=De||me,Ke=Q&&"parentNode"===Ve,Oe=Pe++;return W.first?function(et,on,wt){for(;et=et[me];)if(1===et.nodeType||Ke)return L(et,on,wt);return!1}:function(et,on,wt){var Vt,ln,It=[le,Oe];if(wt){for(;et=et[me];)if((1===et.nodeType||Ke)&&L(et,on,wt))return!0}else for(;et=et[me];)if(1===et.nodeType||Ke)if(ln=et[Ae]||(et[Ae]={}),De&&an(et,De))et=et[me]||et;else{if((Vt=ln[Ve])&&Vt[0]===le&&Vt[1]===Oe)return It[2]=Vt[2];if(ln[Ve]=It,It[2]=L(et,on,wt))return!0}return!1}}function Yo(L){return L.length>1?function(W,Q,me){for(var De=L.length;De--;)if(!L[De](W,Q,me))return!1;return!0}:L[0]}function hl(L,W,Q,me,De){for(var Ve,Ke=[],Oe=0,et=L.length,on=null!=W;Oe<et;Oe++)(Ve=L[Oe])&&(!Q||Q(Ve,me,De))&&(Ke.push(Ve),on&&W.push(Oe));return Ke}function Wf(L,W,Q,me,De,Ve){return me&&!me[Ae]&&(me=Wf(me)),De&&!De[Ae]&&(De=Wf(De,Ve)),G(function(Ke,Oe,et,on){var wt,Vt,ln,It,Fn=[],ni=[],Hr=Oe.length,io=Ke||function WI(L,W,Q){for(var me=0,De=W.length;me<De;me++)j(L,W[me],Q);return Q}(W||"*",et.nodeType?[et]:et,[]),Xo=!L||!Ke&&W?io:hl(io,Fn,L,et,on);if(Q?Q(Xo,It=De||(Ke?L:Hr||me)?[]:Oe,et,on):It=Xo,me)for(wt=hl(It,ni),me(wt,[],et,on),Vt=wt.length;Vt--;)(ln=wt[Vt])&&(It[ni[Vt]]=!(Xo[ni[Vt]]=ln));if(Ke){if(De||L){if(De){for(wt=[],Vt=It.length;Vt--;)(ln=It[Vt])&&wt.push(Xo[Vt]=ln);De(null,It=[],wt,on)}for(Vt=It.length;Vt--;)(ln=It[Vt])&&(wt=De?Gt.call(Ke,ln):Fn[Vt])>-1&&(Ke[wt]=!(Oe[wt]=ln))}}else It=hl(It===Oe?It.splice(Hr,It.length):It),De?De(null,Oe,It,on):D.apply(Oe,It)})}function Yf(L){for(var W,Q,me,De=L.length,Ve=h.relative[L[0].type],Ke=Ve||h.relative[" "],Oe=Ve?1:0,et=dl(function(Vt){return Vt===W},Ke,!0),on=dl(function(Vt){return Gt.call(W,Vt)>-1},Ke,!0),wt=[function(Vt,ln,It){var Fn=!Ve&&(It||ln!=p)||((W=ln).nodeType?et(Vt,ln,It):on(Vt,ln,It));return W=null,Fn}];Oe<De;Oe++)if(Q=h.relative[L[Oe].type])wt=[dl(Yo(wt),Q)];else{if((Q=h.filter[L[Oe].type].apply(null,L[Oe].matches))[Ae]){for(me=++Oe;me<De&&!h.relative[L[me].type];me++);return Wf(Oe>1&&Yo(wt),Oe>1&&Gc(L.slice(0,Oe-1).concat({value:" "===L[Oe-2].type?"*":""})).replace($i,"$1"),Q,Oe<me&&Yf(L.slice(Oe,me)),me<De&&Yf(L=L.slice(me)),me<De&&Gc(L))}wt.push(Q)}return Yo(wt)}function Xf(L,W){var Q,me=[],De=[],Ve=St[L+" "];if(!Ve){for(W||(W=zc(L)),Q=W.length;Q--;)(Ve=Yf(W[Q]))[Ae]?me.push(Ve):De.push(Ve);Ve=St(L,function kg(L,W){var Q=W.length>0,me=L.length>0,De=function(Ve,Ke,Oe,et,on){var wt,Vt,ln,It=0,Fn="0",ni=Ve&&[],Hr=[],io=p,Xo=Ve||me&&h.find.TAG("*",on),tn=le+=null==io?1:Math.random()||.1,ri=Xo.length;for(on&&(p=Ke==N||Ke||on);Fn!==ri&&null!=(wt=Xo[Fn]);Fn++){if(me&&wt){for(Vt=0,!Ke&&wt.ownerDocument!=N&&(ro(wt),Oe=!B);ln=L[Vt++];)if(ln(wt,Ke||N,Oe)){D.call(et,wt);break}on&&(le=tn)}Q&&((wt=!ln&&wt)&&It--,Ve&&ni.push(wt))}if(It+=Fn,Q&&Fn!==It){for(Vt=0;ln=W[Vt++];)ln(ni,Hr,Ke,Oe);if(Ve){if(It>0)for(;Fn--;)ni[Fn]||Hr[Fn]||(Hr[Fn]=fs.call(et));Hr=hl(Hr)}D.apply(et,Hr),on&&!Ve&&Hr.length>0&&It+W.length>1&&y.uniqueSort(et)}return on&&(le=tn,p=io),ni};return Q?G(De):De}(De,me)),Ve.selector=L}return Ve}function $f(L,W,Q,me){var De,Ve,Ke,Oe,et,on="function"==typeof L&&L,wt=!me&&zc(L=on.selector||L);if(Q=Q||[],1===wt.length){if((Ve=wt[0]=wt[0].slice(0)).length>2&&"ID"===(Ke=Ve[0]).type&&9===W.nodeType&&B&&h.relative[Ve[1].type]){if(!(W=(h.find.ID(Ke.matches[0].replace(ei,no),W)||[])[0]))return Q;on&&(W=W.parentNode),L=L.slice(Ve.shift().value.length)}for(De=Ti.needsContext.test(L)?0:Ve.length;De--&&!h.relative[Oe=(Ke=Ve[De]).type];)if((et=h.find[Oe])&&(me=et(Ke.matches[0].replace(ei,no),Wo.test(Ve[0].type)&&Fr(W.parentNode)||W))){if(Ve.splice(De,1),!(L=me.length&&Gc(Ve)))return D.apply(Q,me),Q;break}}return(on||Xf(L,wt))(me,W,!B,Q,!W||Wo.test(L)&&Fr(W.parentNode)||W),Q}ti.prototype=h.filters=h.pseudos,h.setFilters=new ti,nt.sortStable=Ae.split("").sort(mr).join("")===Ae,ro(),nt.sortDetached=ce(function(L){return 1&L.compareDocumentPosition(N.createElement("fieldset"))}),y.find=j,y.expr[":"]=y.expr.pseudos,y.unique=y.uniqueSort,j.compile=Xf,j.select=$f,j.setDocument=ro,j.tokenize=zc,j.escape=y.escapeSelector,j.getText=y.text,j.isXML=y.isXMLDoc,j.selectors=y.expr,j.support=y.support,j.uniqueSort=y.uniqueSort}();var Li=function(l,h,p){for(var v=[],b=void 0!==p;(l=l[h])&&9!==l.nodeType;)if(1===l.nodeType){if(b&&y(l).is(p))break;v.push(l)}return v},vi=function(l,h){for(var p=[];l;l=l.nextSibling)1===l.nodeType&&l!==h&&p.push(l);return p},rr=y.expr.match.needsContext,Ar=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function yi(l,h,p){return Ct(h)?y.grep(l,function(v,b){return!!h.call(v,b,v)!==p}):h.nodeType?y.grep(l,function(v){return v===h!==p}):"string"!=typeof h?y.grep(l,function(v){return Gt.call(h,v)>-1!==p}):y.filter(h,l,p)}y.filter=function(l,h,p){var v=h[0];return p&&(l=":not("+l+")"),1===h.length&&1===v.nodeType?y.find.matchesSelector(v,l)?[v]:[]:y.find.matches(l,y.grep(h,function(b){return 1===b.nodeType}))},y.fn.extend({find:function(l){var h,p,v=this.length,b=this;if("string"!=typeof l)return this.pushStack(y(l).filter(function(){for(h=0;h<v;h++)if(y.contains(b[h],this))return!0}));for(p=this.pushStack([]),h=0;h<v;h++)y.find(l,b[h],p);return v>1?y.uniqueSort(p):p},filter:function(l){return this.pushStack(yi(this,l||[],!1))},not:function(l){return this.pushStack(yi(this,l||[],!0))},is:function(l){return!!yi(this,"string"==typeof l&&rr.test(l)?y(l):l||[],!1).length}});var Ii,qi=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ds=y.fn.init=function(l,h,p){var v,b;if(!l)return this;if(p=p||Ii,"string"==typeof l){if(!(v="<"===l[0]&&">"===l[l.length-1]&&l.length>=3?[null,l,null]:qi.exec(l))||!v[1]&&h)return!h||h.jquery?(h||p).find(l):this.constructor(h).find(l);if(v[1]){if(y.merge(this,y.parseHTML(v[1],(h=h instanceof y?h[0]:h)&&h.nodeType?h.ownerDocument||h:vt,!0)),Ar.test(v[1])&&y.isPlainObject(h))for(v in h)Ct(this[v])?this[v](h[v]):this.attr(v,h[v]);return this}return(b=vt.getElementById(v[2]))&&(this[0]=b,this.length=1),this}return l.nodeType?(this[0]=l,this.length=1,this):Ct(l)?void 0!==p.ready?p.ready(l):l(y):y.makeArray(l,this)};ds.prototype=y.fn,Ii=y(vt);var Vo=/^(?:parents|prev(?:Until|All))/,br={children:!0,contents:!0,next:!0,prev:!0};function Ri(l,h){for(;(l=l[h])&&1!==l.nodeType;);return l}y.fn.extend({has:function(l){var h=y(l,this),p=h.length;return this.filter(function(){for(var v=0;v<p;v++)if(y.contains(this,h[v]))return!0})},closest:function(l,h){var p,v=0,b=this.length,D=[],N="string"!=typeof l&&y(l);if(!rr.test(l))for(;v<b;v++)for(p=this[v];p&&p!==h;p=p.parentNode)if(p.nodeType<11&&(N?N.index(p)>-1:1===p.nodeType&&y.find.matchesSelector(p,l))){D.push(p);break}return this.pushStack(D.length>1?y.uniqueSort(D):D)},index:function(l){return l?"string"==typeof l?Gt.call(y(l),this[0]):Gt.call(this,l.jquery?l[0]:l):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(l,h){return this.pushStack(y.uniqueSort(y.merge(this.get(),y(l,h))))},addBack:function(l){return this.add(null==l?this.prevObject:this.prevObject.filter(l))}}),y.each({parent:function(l){var h=l.parentNode;return h&&11!==h.nodeType?h:null},parents:function(l){return Li(l,"parentNode")},parentsUntil:function(l,h,p){return Li(l,"parentNode",p)},next:function(l){return Ri(l,"nextSibling")},prev:function(l){return Ri(l,"previousSibling")},nextAll:function(l){return Li(l,"nextSibling")},prevAll:function(l){return Li(l,"previousSibling")},nextUntil:function(l,h,p){return Li(l,"nextSibling",p)},prevUntil:function(l,h,p){return Li(l,"previousSibling",p)},siblings:function(l){return vi((l.parentNode||{}).firstChild,l)},children:function(l){return vi(l.firstChild)},contents:function(l){return null!=l.contentDocument&&Ne(l.contentDocument)?l.contentDocument:(an(l,"template")&&(l=l.content||l),y.merge([],l.childNodes))}},function(l,h){y.fn[l]=function(p,v){var b=y.map(this,h,p);return"Until"!==l.slice(-5)&&(v=p),v&&"string"==typeof v&&(b=y.filter(v,b)),this.length>1&&(br[l]||y.uniqueSort(b),Vo.test(l)&&b.reverse()),this.pushStack(b)}});var Ur=/[^\x20\t\r\n\f]+/g;function Fi(l){return l}function fi(l){throw l}function Ci(l,h,p,v){var b;try{l&&Ct(b=l.promise)?b.call(l).done(h).fail(p):l&&Ct(b=l.then)?b.call(l,h,p):h.apply(void 0,[l].slice(v))}catch(D){p.apply(void 0,[D])}}y.Callbacks=function(l){l="string"==typeof l?function So(l){var h={};return y.each(l.match(Ur)||[],function(p,v){h[v]=!0}),h}(l):y.extend({},l);var h,p,v,b,D=[],N=[],Z=-1,B=function(){for(b=b||l.once,v=h=!0;N.length;Z=-1)for(p=N.shift();++Z<D.length;)!1===D[Z].apply(p[0],p[1])&&l.stopOnFalse&&(Z=D.length,p=!1);l.memory||(p=!1),h=!1,b&&(D=p?[]:"")},ee={add:function(){return D&&(p&&!h&&(Z=D.length-1,N.push(p)),function ve(Ae){y.each(Ae,function(le,Pe){Ct(Pe)?(!l.unique||!ee.has(Pe))&&D.push(Pe):Pe&&Pe.length&&"string"!==fr(Pe)&&ve(Pe)})}(arguments),p&&!h&&B()),this},remove:function(){return y.each(arguments,function(ve,Ae){for(var le;(le=y.inArray(Ae,D,le))>-1;)D.splice(le,1),le<=Z&&Z--}),this},has:function(ve){return ve?y.inArray(ve,D)>-1:D.length>0},empty:function(){return D&&(D=[]),this},disable:function(){return b=N=[],D=p="",this},disabled:function(){return!D},lock:function(){return b=N=[],!p&&!h&&(D=p=""),this},locked:function(){return!!b},fireWith:function(ve,Ae){return b||(Ae=[ve,(Ae=Ae||[]).slice?Ae.slice():Ae],N.push(Ae),h||B()),this},fire:function(){return ee.fireWith(this,arguments),this},fired:function(){return!!v}};return ee},y.extend({Deferred:function(l){var h=[["notify","progress",y.Callbacks("memory"),y.Callbacks("memory"),2],["resolve","done",y.Callbacks("once memory"),y.Callbacks("once memory"),0,"resolved"],["reject","fail",y.Callbacks("once memory"),y.Callbacks("once memory"),1,"rejected"]],p="pending",v={state:function(){return p},always:function(){return b.done(arguments).fail(arguments),this},catch:function(D){return v.then(null,D)},pipe:function(){var D=arguments;return y.Deferred(function(N){y.each(h,function(Z,B){var ee=Ct(D[B[4]])&&D[B[4]];b[B[1]](function(){var ve=ee&&ee.apply(this,arguments);ve&&Ct(ve.promise)?ve.promise().progress(N.notify).done(N.resolve).fail(N.reject):N[B[0]+"With"](this,ee?[ve]:arguments)})}),D=null}).promise()},then:function(D,N,Z){var B=0;function ee(ve,Ae,le,Pe){return function(){var Tt=this,rn=arguments,St=function(){var mr,eo;if(!(ve<B)){if((mr=le.apply(Tt,rn))===Ae.promise())throw new TypeError("Thenable self-resolution");Ct(eo=mr&&("object"==typeof mr||"function"==typeof mr)&&mr.then)?Pe?eo.call(mr,ee(B,Ae,Fi,Pe),ee(B,Ae,fi,Pe)):(B++,eo.call(mr,ee(B,Ae,Fi,Pe),ee(B,Ae,fi,Pe),ee(B,Ae,Fi,Ae.notifyWith))):(le!==Fi&&(Tt=void 0,rn=[mr]),(Pe||Ae.resolveWith)(Tt,rn))}},Jn=Pe?St:function(){try{St()}catch(mr){y.Deferred.exceptionHook&&y.Deferred.exceptionHook(mr,Jn.error),ve+1>=B&&(le!==fi&&(Tt=void 0,rn=[mr]),Ae.rejectWith(Tt,rn))}};ve?Jn():(y.Deferred.getErrorHook?Jn.error=y.Deferred.getErrorHook():y.Deferred.getStackHook&&(Jn.error=y.Deferred.getStackHook()),dt.setTimeout(Jn))}}return y.Deferred(function(ve){h[0][3].add(ee(0,ve,Ct(Z)?Z:Fi,ve.notifyWith)),h[1][3].add(ee(0,ve,Ct(D)?D:Fi)),h[2][3].add(ee(0,ve,Ct(N)?N:fi))}).promise()},promise:function(D){return null!=D?y.extend(D,v):v}},b={};return y.each(h,function(D,N){var Z=N[2],B=N[5];v[N[1]]=Z.add,B&&Z.add(function(){p=B},h[3-D][2].disable,h[3-D][3].disable,h[0][2].lock,h[0][3].lock),Z.add(N[3].fire),b[N[0]]=function(){return b[N[0]+"With"](this===b?void 0:this,arguments),this},b[N[0]+"With"]=Z.fireWith}),v.promise(b),l&&l.call(b,b),b},when:function(l){var h=arguments.length,p=h,v=Array(p),b=Qn.call(arguments),D=y.Deferred(),N=function(Z){return function(B){v[Z]=this,b[Z]=arguments.length>1?Qn.call(arguments):B,--h||D.resolveWith(v,b)}};if(h<=1&&(Ci(l,D.done(N(p)).resolve,D.reject,!h),"pending"===D.state()||Ct(b[p]&&b[p].then)))return D.then();for(;p--;)Ci(b[p],N(p),D.reject);return D.promise()}});var M=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;y.Deferred.exceptionHook=function(l,h){dt.console&&dt.console.warn&&l&&M.test(l.name)&&dt.console.warn("jQuery.Deferred exception: "+l.message,l.stack,h)},y.readyException=function(l){dt.setTimeout(function(){throw l})};var P=y.Deferred();function z(){vt.removeEventListener("DOMContentLoaded",z),dt.removeEventListener("load",z),y.ready()}y.fn.ready=function(l){return P.then(l).catch(function(h){y.readyException(h)}),this},y.extend({isReady:!1,readyWait:1,ready:function(l){(!0===l?--y.readyWait:y.isReady)||(y.isReady=!0,!(!0!==l&&--y.readyWait>0)&&P.resolveWith(vt,[y]))}}),y.ready.then=P.then,"complete"===vt.readyState||"loading"!==vt.readyState&&!vt.documentElement.doScroll?dt.setTimeout(y.ready):(vt.addEventListener("DOMContentLoaded",z),dt.addEventListener("load",z));var ne=function(l,h,p,v,b,D,N){var Z=0,B=l.length,ee=null==p;if("object"===fr(p))for(Z in b=!0,p)ne(l,h,Z,p[Z],!0,D,N);else if(void 0!==v&&(b=!0,Ct(v)||(N=!0),ee&&(N?(h.call(l,v),h=null):(ee=h,h=function(ve,Ae,le){return ee.call(y(ve),le)})),h))for(;Z<B;Z++)h(l[Z],p,N?v:v.call(l[Z],Z,h(l[Z],p)));return b?l:ee?h.call(l):B?h(l[0],p):D},Me=/^-ms-/,Se=/-([a-z])/g;function R(l,h){return h.toUpperCase()}function U(l){return l.replace(Me,"ms-").replace(Se,R)}var fe=function(l){return 1===l.nodeType||9===l.nodeType||!+l.nodeType};function ae(){this.expando=y.expando+ae.uid++}ae.uid=1,ae.prototype={cache:function(l){var h=l[this.expando];return h||(h={},fe(l)&&(l.nodeType?l[this.expando]=h:Object.defineProperty(l,this.expando,{value:h,configurable:!0}))),h},set:function(l,h,p){var v,b=this.cache(l);if("string"==typeof h)b[U(h)]=p;else for(v in h)b[U(v)]=h[v];return b},get:function(l,h){return void 0===h?this.cache(l):l[this.expando]&&l[this.expando][U(h)]},access:function(l,h,p){return void 0===h||h&&"string"==typeof h&&void 0===p?this.get(l,h):(this.set(l,h,p),void 0!==p?p:h)},remove:function(l,h){var p,v=l[this.expando];if(void 0!==v){if(void 0!==h)for((p=(h=Array.isArray(h)?h.map(U):(h=U(h))in v?[h]:h.match(Ur)||[]).length);p--;)delete v[h[p]];(void 0===h||y.isEmptyObject(v))&&(l.nodeType?l[this.expando]=void 0:delete l[this.expando])}},hasData:function(l){var h=l[this.expando];return void 0!==h&&!y.isEmptyObject(h)}};var J=new ae,Ce=new ae,Xe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_e=/[A-Z]/g;function We(l,h,p){var v;if(void 0===p&&1===l.nodeType)if(v="data-"+h.replace(_e,"-$&").toLowerCase(),"string"==typeof(p=l.getAttribute(v))){try{p=function Qe(l){return"true"===l||"false"!==l&&("null"===l?null:l===+l+""?+l:Xe.test(l)?JSON.parse(l):l)}(p)}catch{}Ce.set(l,h,p)}else p=void 0;return p}y.extend({hasData:function(l){return Ce.hasData(l)||J.hasData(l)},data:function(l,h,p){return Ce.access(l,h,p)},removeData:function(l,h){Ce.remove(l,h)},_data:function(l,h,p){return J.access(l,h,p)},_removeData:function(l,h){J.remove(l,h)}}),y.fn.extend({data:function(l,h){var p,v,b,D=this[0],N=D&&D.attributes;if(void 0===l){if(this.length&&(b=Ce.get(D),1===D.nodeType&&!J.get(D,"hasDataAttrs"))){for(p=N.length;p--;)N[p]&&0===(v=N[p].name).indexOf("data-")&&(v=U(v.slice(5)),We(D,v,b[v]));J.set(D,"hasDataAttrs",!0)}return b}return"object"==typeof l?this.each(function(){Ce.set(this,l)}):ne(this,function(Z){var B;if(D&&void 0===Z)return void 0!==(B=Ce.get(D,l))||void 0!==(B=We(D,l))?B:void 0;this.each(function(){Ce.set(this,l,Z)})},null,h,arguments.length>1,null,!0)},removeData:function(l){return this.each(function(){Ce.remove(this,l)})}}),y.extend({queue:function(l,h,p){var v;if(l)return v=J.get(l,h=(h||"fx")+"queue"),p&&(!v||Array.isArray(p)?v=J.access(l,h,y.makeArray(p)):v.push(p)),v||[]},dequeue:function(l,h){var p=y.queue(l,h=h||"fx"),v=p.length,b=p.shift(),D=y._queueHooks(l,h);"inprogress"===b&&(b=p.shift(),v--),b&&("fx"===h&&p.unshift("inprogress"),delete D.stop,b.call(l,function(){y.dequeue(l,h)},D)),!v&&D&&D.empty.fire()},_queueHooks:function(l,h){var p=h+"queueHooks";return J.get(l,p)||J.access(l,p,{empty:y.Callbacks("once memory").add(function(){J.remove(l,[h+"queue",p])})})}}),y.fn.extend({queue:function(l,h){var p=2;return"string"!=typeof l&&(h=l,l="fx",p--),arguments.length<p?y.queue(this[0],l):void 0===h?this:this.each(function(){var v=y.queue(this,l,h);y._queueHooks(this,l),"fx"===l&&"inprogress"!==v[0]&&y.dequeue(this,l)})},dequeue:function(l){return this.each(function(){y.dequeue(this,l)})},clearQueue:function(l){return this.queue(l||"fx",[])},promise:function(l,h){var p,v=1,b=y.Deferred(),D=this,N=this.length,Z=function(){--v||b.resolveWith(D,[D])};for("string"!=typeof l&&(h=l,l=void 0),l=l||"fx";N--;)(p=J.get(D[N],l+"queueHooks"))&&p.empty&&(v++,p.empty.add(Z));return Z(),b.promise(h)}});var Ze=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ht=new RegExp("^(?:([+-])=|)("+Ze+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],pt=vt.documentElement,cn=function(l){return y.contains(l.ownerDocument,l)},un={composed:!0};pt.getRootNode&&(cn=function(l){return y.contains(l.ownerDocument,l)||l.getRootNode(un)===l.ownerDocument});var Mn=function(l,h){return"none"===(l=h||l).style.display||""===l.style.display&&cn(l)&&"none"===y.css(l,"display")};function Sn(l,h,p,v){var b,D,N=20,Z=v?function(){return v.cur()}:function(){return y.css(l,h,"")},B=Z(),ee=p&&p[3]||(y.cssNumber[h]?"":"px"),ve=l.nodeType&&(y.cssNumber[h]||"px"!==ee&&+B)&&ht.exec(y.css(l,h));if(ve&&ve[3]!==ee){for(ee=ee||ve[3],ve=+(B/=2)||1;N--;)y.style(l,h,ve+ee),(1-D)*(1-(D=Z()/B||.5))<=0&&(N=0),ve/=D;y.style(l,h,(ve*=2)+ee),p=p||[]}return p&&(ve=+ve||+B||0,b=p[1]?ve+(p[1]+1)*p[2]:+p[2],v&&(v.unit=ee,v.start=ve,v.end=b)),b}var Et={};function ot(l){var h,p=l.ownerDocument,v=l.nodeName,b=Et[v];return b||(h=p.body.appendChild(p.createElement(v)),b=y.css(h,"display"),h.parentNode.removeChild(h),"none"===b&&(b="block"),Et[v]=b,b)}function Un(l,h){for(var p,v,b=[],D=0,N=l.length;D<N;D++)(v=l[D]).style&&(p=v.style.display,h?("none"===p&&(b[D]=J.get(v,"display")||null,b[D]||(v.style.display="")),""===v.style.display&&Mn(v)&&(b[D]=ot(v))):"none"!==p&&(b[D]="none",J.set(v,"display",p)));for(D=0;D<N;D++)null!=b[D]&&(l[D].style.display=b[D]);return l}y.fn.extend({show:function(){return Un(this,!0)},hide:function(){return Un(this)},toggle:function(l){return"boolean"==typeof l?l?this.show():this.hide():this.each(function(){Mn(this)?y(this).show():y(this).hide()})}});var h,p,gn=/^(?:checkbox|radio)$/i,Xn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,nn=/^$|^module$|\/(?:java|ecma)script/i;h=vt.createDocumentFragment().appendChild(vt.createElement("div")),(p=vt.createElement("input")).setAttribute("type","radio"),p.setAttribute("checked","checked"),p.setAttribute("name","t"),h.appendChild(p),nt.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,h.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!h.cloneNode(!0).lastChild.defaultValue,h.innerHTML="<option></option>",nt.option=!!h.lastChild;var Ue={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function kt(l,h){var p;return p=typeof l.getElementsByTagName<"u"?l.getElementsByTagName(h||"*"):typeof l.querySelectorAll<"u"?l.querySelectorAll(h||"*"):[],void 0===h||h&&an(l,h)?y.merge([l],p):p}function Ye(l,h){for(var p=0,v=l.length;p<v;p++)J.set(l[p],"globalEval",!h||J.get(h[p],"globalEval"))}Ue.tbody=Ue.tfoot=Ue.colgroup=Ue.caption=Ue.thead,Ue.th=Ue.td,nt.option||(Ue.optgroup=Ue.option=[1,"<select multiple='multiple'>","</select>"]);var Xt=/<|&#?\w+;/;function yt(l,h,p,v,b){for(var D,N,Z,B,ee,ve,Ae=h.createDocumentFragment(),le=[],Pe=0,Tt=l.length;Pe<Tt;Pe++)if((D=l[Pe])||0===D)if("object"===fr(D))y.merge(le,D.nodeType?[D]:D);else if(Xt.test(D)){for(N=N||Ae.appendChild(h.createElement("div")),Z=(Xn.exec(D)||["",""])[1].toLowerCase(),N.innerHTML=(B=Ue[Z]||Ue._default)[1]+y.htmlPrefilter(D)+B[2],ve=B[0];ve--;)N=N.lastChild;y.merge(le,N.childNodes),(N=Ae.firstChild).textContent=""}else le.push(h.createTextNode(D));for(Ae.textContent="",Pe=0;D=le[Pe++];)if(v&&y.inArray(D,v)>-1)b&&b.push(D);else if(ee=cn(D),N=kt(Ae.appendChild(D),"script"),ee&&Ye(N),p)for(ve=0;D=N[ve++];)nn.test(D.type||"")&&p.push(D);return Ae}var $n=/^([^.]*)(?:\.(.+)|)/;function Dr(){return!0}function vn(){return!1}function pn(l,h,p,v,b,D){var N,Z;if("object"==typeof h){for(Z in"string"!=typeof p&&(v=v||p,p=void 0),h)pn(l,Z,p,v,h[Z],D);return l}if(null==v&&null==b?(b=p,v=p=void 0):null==b&&("string"==typeof p?(b=v,v=void 0):(b=v,v=p,p=void 0)),!1===b)b=vn;else if(!b)return l;return 1===D&&(N=b,b=function(B){return y().off(B),N.apply(this,arguments)},b.guid=N.guid||(N.guid=y.guid++)),l.each(function(){y.event.add(this,h,b,v,p)})}function xr(l,h,p){p?(J.set(l,h,!1),y.event.add(l,h,{namespace:!1,handler:function(v){var b,D=J.get(this,h);if(1&v.isTrigger&&this[h]){if(D)(y.event.special[h]||{}).delegateType&&v.stopPropagation();else if(D=Qn.call(arguments),J.set(this,h,D),this[h](),b=J.get(this,h),J.set(this,h,!1),D!==b)return v.stopImmediatePropagation(),v.preventDefault(),b}else D&&(J.set(this,h,y.event.trigger(D[0],D.slice(1),this)),v.stopPropagation(),v.isImmediatePropagationStopped=Dr)}})):void 0===J.get(l,h)&&y.event.add(l,h,Dr)}y.event={global:{},add:function(l,h,p,v,b){var D,N,Z,B,ee,ve,Ae,le,Pe,Tt,rn,St=J.get(l);if(fe(l))for(p.handler&&(p=(D=p).handler,b=D.selector),b&&y.find.matchesSelector(pt,b),p.guid||(p.guid=y.guid++),(B=St.events)||(B=St.events=Object.create(null)),(N=St.handle)||(N=St.handle=function(Jn){return typeof y<"u"&&y.event.triggered!==Jn.type?y.event.dispatch.apply(l,arguments):void 0}),ee=(h=(h||"").match(Ur)||[""]).length;ee--;)Pe=rn=(Z=$n.exec(h[ee])||[])[1],Tt=(Z[2]||"").split(".").sort(),Pe&&(Ae=y.event.special[Pe]||{},Ae=y.event.special[Pe=(b?Ae.delegateType:Ae.bindType)||Pe]||{},ve=y.extend({type:Pe,origType:rn,data:v,handler:p,guid:p.guid,selector:b,needsContext:b&&y.expr.match.needsContext.test(b),namespace:Tt.join(".")},D),(le=B[Pe])||((le=B[Pe]=[]).delegateCount=0,(!Ae.setup||!1===Ae.setup.call(l,v,Tt,N))&&l.addEventListener&&l.addEventListener(Pe,N)),Ae.add&&(Ae.add.call(l,ve),ve.handler.guid||(ve.handler.guid=p.guid)),b?le.splice(le.delegateCount++,0,ve):le.push(ve),y.event.global[Pe]=!0)},remove:function(l,h,p,v,b){var D,N,Z,B,ee,ve,Ae,le,Pe,Tt,rn,St=J.hasData(l)&&J.get(l);if(St&&(B=St.events)){for(ee=(h=(h||"").match(Ur)||[""]).length;ee--;)if(Pe=rn=(Z=$n.exec(h[ee])||[])[1],Tt=(Z[2]||"").split(".").sort(),Pe){for(Ae=y.event.special[Pe]||{},le=B[Pe=(v?Ae.delegateType:Ae.bindType)||Pe]||[],Z=Z[2]&&new RegExp("(^|\\.)"+Tt.join("\\.(?:.*\\.|)")+"(\\.|$)"),N=D=le.length;D--;)ve=le[D],(b||rn===ve.origType)&&(!p||p.guid===ve.guid)&&(!Z||Z.test(ve.namespace))&&(!v||v===ve.selector||"**"===v&&ve.selector)&&(le.splice(D,1),ve.selector&&le.delegateCount--,Ae.remove&&Ae.remove.call(l,ve));N&&!le.length&&((!Ae.teardown||!1===Ae.teardown.call(l,Tt,St.handle))&&y.removeEvent(l,Pe,St.handle),delete B[Pe])}else for(Pe in B)y.event.remove(l,Pe+h[ee],p,v,!0);y.isEmptyObject(B)&&J.remove(l,"handle events")}},dispatch:function(l){var h,p,v,b,D,N,Z=new Array(arguments.length),B=y.event.fix(l),ee=(J.get(this,"events")||Object.create(null))[B.type]||[],ve=y.event.special[B.type]||{};for(Z[0]=B,h=1;h<arguments.length;h++)Z[h]=arguments[h];if(B.delegateTarget=this,!ve.preDispatch||!1!==ve.preDispatch.call(this,B)){for(N=y.event.handlers.call(this,B,ee),h=0;(b=N[h++])&&!B.isPropagationStopped();)for(B.currentTarget=b.elem,p=0;(D=b.handlers[p++])&&!B.isImmediatePropagationStopped();)(!B.rnamespace||!1===D.namespace||B.rnamespace.test(D.namespace))&&(B.handleObj=D,B.data=D.data,void 0!==(v=((y.event.special[D.origType]||{}).handle||D.handler).apply(b.elem,Z))&&!1===(B.result=v)&&(B.preventDefault(),B.stopPropagation()));return ve.postDispatch&&ve.postDispatch.call(this,B),B.result}},handlers:function(l,h){var p,v,b,D,N,Z=[],B=h.delegateCount,ee=l.target;if(B&&ee.nodeType&&!("click"===l.type&&l.button>=1))for(;ee!==this;ee=ee.parentNode||this)if(1===ee.nodeType&&("click"!==l.type||!0!==ee.disabled)){for(D=[],N={},p=0;p<B;p++)void 0===N[b=(v=h[p]).selector+" "]&&(N[b]=v.needsContext?y(b,this).index(ee)>-1:y.find(b,this,null,[ee]).length),N[b]&&D.push(v);D.length&&Z.push({elem:ee,handlers:D})}return ee=this,B<h.length&&Z.push({elem:ee,handlers:h.slice(B)}),Z},addProp:function(l,h){Object.defineProperty(y.Event.prototype,l,{enumerable:!0,configurable:!0,get:Ct(h)?function(){if(this.originalEvent)return h(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[l]},set:function(p){Object.defineProperty(this,l,{enumerable:!0,configurable:!0,writable:!0,value:p})}})},fix:function(l){return l[y.expando]?l:new y.Event(l)},special:{load:{noBubble:!0},click:{setup:function(l){var h=this||l;return gn.test(h.type)&&h.click&&an(h,"input")&&xr(h,"click",!0),!1},trigger:function(l){var h=this||l;return gn.test(h.type)&&h.click&&an(h,"input")&&xr(h,"click"),!0},_default:function(l){var h=l.target;return gn.test(h.type)&&h.click&&an(h,"input")&&J.get(h,"click")||an(h,"a")}},beforeunload:{postDispatch:function(l){void 0!==l.result&&l.originalEvent&&(l.originalEvent.returnValue=l.result)}}}},y.removeEvent=function(l,h,p){l.removeEventListener&&l.removeEventListener(h,p)},y.Event=function(l,h){if(!(this instanceof y.Event))return new y.Event(l,h);l&&l.type?(this.originalEvent=l,this.type=l.type,this.isDefaultPrevented=l.defaultPrevented||void 0===l.defaultPrevented&&!1===l.returnValue?Dr:vn,this.target=l.target&&3===l.target.nodeType?l.target.parentNode:l.target,this.currentTarget=l.currentTarget,this.relatedTarget=l.relatedTarget):this.type=l,h&&y.extend(this,h),this.timeStamp=l&&l.timeStamp||Date.now(),this[y.expando]=!0},y.Event.prototype={constructor:y.Event,isDefaultPrevented:vn,isPropagationStopped:vn,isImmediatePropagationStopped:vn,isSimulated:!1,preventDefault:function(){var l=this.originalEvent;this.isDefaultPrevented=Dr,l&&!this.isSimulated&&l.preventDefault()},stopPropagation:function(){var l=this.originalEvent;this.isPropagationStopped=Dr,l&&!this.isSimulated&&l.stopPropagation()},stopImmediatePropagation:function(){var l=this.originalEvent;this.isImmediatePropagationStopped=Dr,l&&!this.isSimulated&&l.stopImmediatePropagation(),this.stopPropagation()}},y.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},y.event.addProp),y.each({focus:"focusin",blur:"focusout"},function(l,h){function p(v){if(vt.documentMode){var b=J.get(this,"handle"),D=y.event.fix(v);D.type="focusin"===v.type?"focus":"blur",D.isSimulated=!0,b(v),D.target===D.currentTarget&&b(D)}else y.event.simulate(h,v.target,y.event.fix(v))}y.event.special[l]={setup:function(){var v;if(xr(this,l,!0),!vt.documentMode)return!1;(v=J.get(this,h))||this.addEventListener(h,p),J.set(this,h,(v||0)+1)},trigger:function(){return xr(this,l),!0},teardown:function(){var v;if(!vt.documentMode)return!1;(v=J.get(this,h)-1)?J.set(this,h,v):(this.removeEventListener(h,p),J.remove(this,h))},_default:function(v){return J.get(v.target,l)},delegateType:h},y.event.special[h]={setup:function(){var v=this.ownerDocument||this.document||this,b=vt.documentMode?this:v,D=J.get(b,h);D||(vt.documentMode?this.addEventListener(h,p):v.addEventListener(l,p,!0)),J.set(b,h,(D||0)+1)},teardown:function(){var v=this.ownerDocument||this.document||this,b=vt.documentMode?this:v,D=J.get(b,h)-1;D?J.set(b,h,D):(vt.documentMode?this.removeEventListener(h,p):v.removeEventListener(l,p,!0),J.remove(b,h))}}}),y.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(l,h){y.event.special[l]={delegateType:h,bindType:h,handle:function(p){var v,D=p.relatedTarget,N=p.handleObj;return(!D||D!==this&&!y.contains(this,D))&&(p.type=N.origType,v=N.handler.apply(this,arguments),p.type=h),v}}}),y.fn.extend({on:function(l,h,p,v){return pn(this,l,h,p,v)},one:function(l,h,p,v){return pn(this,l,h,p,v,1)},off:function(l,h,p){var v,b;if(l&&l.preventDefault&&l.handleObj)return v=l.handleObj,y(l.delegateTarget).off(v.namespace?v.origType+"."+v.namespace:v.origType,v.selector,v.handler),this;if("object"==typeof l){for(b in l)this.off(b,h,l[b]);return this}return(!1===h||"function"==typeof h)&&(p=h,h=void 0),!1===p&&(p=vn),this.each(function(){y.event.remove(this,l,p,h)})}});var _r=/<script|<style|<link/i,Hn=/checked\s*(?:[^=]|=\s*.checked.)/i,en=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function rt(l,h){return an(l,"table")&&an(11!==h.nodeType?h:h.firstChild,"tr")&&y(l).children("tbody")[0]||l}function q(l){return l.type=(null!==l.getAttribute("type"))+"/"+l.type,l}function ue(l){return"true/"===(l.type||"").slice(0,5)?l.type=l.type.slice(5):l.removeAttribute("type"),l}function qe(l,h){var p,v,b,N,Z,B;if(1===h.nodeType){if(J.hasData(l)&&(B=J.get(l).events))for(b in J.remove(h,"handle events"),B)for(p=0,v=B[b].length;p<v;p++)y.event.add(h,b,B[b][p]);Ce.hasData(l)&&(N=Ce.access(l),Z=y.extend({},N),Ce.set(h,Z))}}function _t(l,h){var p=h.nodeName.toLowerCase();"input"===p&&gn.test(l.type)?h.checked=l.checked:("input"===p||"textarea"===p)&&(h.defaultValue=l.defaultValue)}function Ln(l,h,p,v){h=Sr(h);var b,D,N,Z,B,ee,ve=0,Ae=l.length,le=Ae-1,Pe=h[0],Tt=Ct(Pe);if(Tt||Ae>1&&"string"==typeof Pe&&!nt.checkClone&&Hn.test(Pe))return l.each(function(rn){var St=l.eq(rn);Tt&&(h[0]=Pe.call(this,rn,St.html())),Ln(St,h,p,v)});if(Ae&&(D=(b=yt(h,l[0].ownerDocument,!1,l,v)).firstChild,1===b.childNodes.length&&(b=D),D||v)){for(Z=(N=y.map(kt(b,"script"),q)).length;ve<Ae;ve++)B=b,ve!==le&&(B=y.clone(B,!0,!0),Z&&y.merge(N,kt(B,"script"))),p.call(l[ve],B,ve);if(Z)for(ee=N[N.length-1].ownerDocument,y.map(N,ue),ve=0;ve<Z;ve++)nn.test((B=N[ve]).type||"")&&!J.access(B,"globalEval")&&y.contains(ee,B)&&(B.src&&"module"!==(B.type||"").toLowerCase()?y._evalUrl&&!B.noModule&&y._evalUrl(B.src,{nonce:B.nonce||B.getAttribute("nonce")},ee):Dn(B.textContent.replace(en,""),B,ee))}return l}function ke(l,h,p){for(var v,b=h?y.filter(h,l):l,D=0;null!=(v=b[D]);D++)!p&&1===v.nodeType&&y.cleanData(kt(v)),v.parentNode&&(p&&cn(v)&&Ye(kt(v,"script")),v.parentNode.removeChild(v));return l}y.extend({htmlPrefilter:function(l){return l},clone:function(l,h,p){var v,b,D,N,Z=l.cloneNode(!0),B=cn(l);if(!(nt.noCloneChecked||1!==l.nodeType&&11!==l.nodeType||y.isXMLDoc(l)))for(N=kt(Z),v=0,b=(D=kt(l)).length;v<b;v++)_t(D[v],N[v]);if(h)if(p)for(D=D||kt(l),N=N||kt(Z),v=0,b=D.length;v<b;v++)qe(D[v],N[v]);else qe(l,Z);return(N=kt(Z,"script")).length>0&&Ye(N,!B&&kt(l,"script")),Z},cleanData:function(l){for(var h,p,v,b=y.event.special,D=0;void 0!==(p=l[D]);D++)if(fe(p)){if(h=p[J.expando]){if(h.events)for(v in h.events)b[v]?y.event.remove(p,v):y.removeEvent(p,v,h.handle);p[J.expando]=void 0}p[Ce.expando]&&(p[Ce.expando]=void 0)}}}),y.fn.extend({detach:function(l){return ke(this,l,!0)},remove:function(l){return ke(this,l)},text:function(l){return ne(this,function(h){return void 0===h?y.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=h)})},null,l,arguments.length)},append:function(){return Ln(this,arguments,function(l){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||rt(this,l).appendChild(l)})},prepend:function(){return Ln(this,arguments,function(l){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var h=rt(this,l);h.insertBefore(l,h.firstChild)}})},before:function(){return Ln(this,arguments,function(l){this.parentNode&&this.parentNode.insertBefore(l,this)})},after:function(){return Ln(this,arguments,function(l){this.parentNode&&this.parentNode.insertBefore(l,this.nextSibling)})},empty:function(){for(var l,h=0;null!=(l=this[h]);h++)1===l.nodeType&&(y.cleanData(kt(l,!1)),l.textContent="");return this},clone:function(l,h){return l=l??!1,h=h??l,this.map(function(){return y.clone(this,l,h)})},html:function(l){return ne(this,function(h){var p=this[0]||{},v=0,b=this.length;if(void 0===h&&1===p.nodeType)return p.innerHTML;if("string"==typeof h&&!_r.test(h)&&!Ue[(Xn.exec(h)||["",""])[1].toLowerCase()]){h=y.htmlPrefilter(h);try{for(;v<b;v++)1===(p=this[v]||{}).nodeType&&(y.cleanData(kt(p,!1)),p.innerHTML=h);p=0}catch{}}p&&this.empty().append(h)},null,l,arguments.length)},replaceWith:function(){var l=[];return Ln(this,arguments,function(h){var p=this.parentNode;y.inArray(this,l)<0&&(y.cleanData(kt(this)),p&&p.replaceChild(h,this))},l)}}),y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(l,h){y.fn[l]=function(p){for(var v,b=[],D=y(p),N=D.length-1,Z=0;Z<=N;Z++)v=Z===N?this:this.clone(!0),y(D[Z])[h](v),Vn.apply(b,v.get());return this.pushStack(b)}});var Re=new RegExp("^("+Ze+")(?!px)[a-z%]+$","i"),pe=/^--/,Le=function(l){var h=l.ownerDocument.defaultView;return(!h||!h.opener)&&(h=dt),h.getComputedStyle(l)},at=function(l,h,p){var v,b,D={};for(b in h)D[b]=l.style[b],l.style[b]=h[b];for(b in v=p.call(l),h)l.style[b]=D[b];return v},gt=new RegExp(it.join("|"),"i");function Je(l,h,p){var v,b,D,N,Z=pe.test(h),B=l.style;return(p=p||Le(l))&&(N=p.getPropertyValue(h)||p[h],Z&&N&&(N=N.replace($i,"$1")||void 0),""===N&&!cn(l)&&(N=y.style(l,h)),!nt.pixelBoxStyles()&&Re.test(N)&&gt.test(h)&&(v=B.width,b=B.minWidth,D=B.maxWidth,B.minWidth=B.maxWidth=B.width=N,N=p.width,B.width=v,B.minWidth=b,B.maxWidth=D)),void 0!==N?N+"":N}function ft(l,h){return{get:function(){if(!l())return(this.get=h).apply(this,arguments);delete this.get}}}!function(){function l(){if(ee){B.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ee.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",pt.appendChild(B).appendChild(ee);var ve=dt.getComputedStyle(ee);p="1%"!==ve.top,Z=12===h(ve.marginLeft),ee.style.right="60%",D=36===h(ve.right),v=36===h(ve.width),ee.style.position="absolute",b=12===h(ee.offsetWidth/3),pt.removeChild(B),ee=null}}function h(ve){return Math.round(parseFloat(ve))}var p,v,b,D,N,Z,B=vt.createElement("div"),ee=vt.createElement("div");ee.style&&(ee.style.backgroundClip="content-box",ee.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===ee.style.backgroundClip,y.extend(nt,{boxSizingReliable:function(){return l(),v},pixelBoxStyles:function(){return l(),D},pixelPosition:function(){return l(),p},reliableMarginLeft:function(){return l(),Z},scrollboxSize:function(){return l(),b},reliableTrDimensions:function(){var ve,Ae,le,Pe;return null==N&&(ve=vt.createElement("table"),Ae=vt.createElement("tr"),le=vt.createElement("div"),ve.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ae.style.cssText="box-sizing:content-box;border:1px solid",Ae.style.height="1px",le.style.height="9px",le.style.display="block",pt.appendChild(ve).appendChild(Ae).appendChild(le),Pe=dt.getComputedStyle(Ae),N=parseInt(Pe.height,10)+parseInt(Pe.borderTopWidth,10)+parseInt(Pe.borderBottomWidth,10)===Ae.offsetHeight,pt.removeChild(ve)),N}}))}();var Lt=["Webkit","Moz","ms"],Pt=vt.createElement("div").style,En={};function Kr(l){return y.cssProps[l]||En[l]||(l in Pt?l:En[l]=function An(l){for(var h=l[0].toUpperCase()+l.slice(1),p=Lt.length;p--;)if((l=Lt[p]+h)in Pt)return l}(l)||l)}var Rr=/^(none|table(?!-c[ea]).+)/,Es={position:"absolute",visibility:"hidden",display:"block"},qs={letterSpacing:"0",fontWeight:"400"};function ma(l,h,p){var v=ht.exec(h);return v?Math.max(0,v[2]-(p||0))+(v[3]||"px"):h}function Ts(l,h,p,v,b,D){var N="width"===h?1:0,Z=0,B=0,ee=0;if(p===(v?"border":"content"))return 0;for(;N<4;N+=2)"margin"===p&&(ee+=y.css(l,p+it[N],!0,b)),v?("content"===p&&(B-=y.css(l,"padding"+it[N],!0,b)),"margin"!==p&&(B-=y.css(l,"border"+it[N]+"Width",!0,b))):(B+=y.css(l,"padding"+it[N],!0,b),"padding"!==p?B+=y.css(l,"border"+it[N]+"Width",!0,b):Z+=y.css(l,"border"+it[N]+"Width",!0,b));return!v&&D>=0&&(B+=Math.max(0,Math.ceil(l["offset"+h[0].toUpperCase()+h.slice(1)]-D-B-Z-.5))||0),B+ee}function Qs(l,h,p){var v=Le(l),D=(!nt.boxSizingReliable()||p)&&"border-box"===y.css(l,"boxSizing",!1,v),N=D,Z=Je(l,h,v),B="offset"+h[0].toUpperCase()+h.slice(1);if(Re.test(Z)){if(!p)return Z;Z="auto"}return(!nt.boxSizingReliable()&&D||!nt.reliableTrDimensions()&&an(l,"tr")||"auto"===Z||!parseFloat(Z)&&"inline"===y.css(l,"display",!1,v))&&l.getClientRects().length&&(D="border-box"===y.css(l,"boxSizing",!1,v),(N=B in l)&&(Z=l[B])),(Z=parseFloat(Z)||0)+Ts(l,h,p||(D?"border":"content"),N,v,Z)+"px"}function ir(l,h,p,v,b){return new ir.prototype.init(l,h,p,v,b)}y.extend({cssHooks:{opacity:{get:function(l,h){if(h){var p=Je(l,"opacity");return""===p?"1":p}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(l,h,p,v){if(l&&3!==l.nodeType&&8!==l.nodeType&&l.style){var b,D,N,Z=U(h),B=pe.test(h),ee=l.style;if(B||(h=Kr(Z)),N=y.cssHooks[h]||y.cssHooks[Z],void 0===p)return N&&"get"in N&&void 0!==(b=N.get(l,!1,v))?b:ee[h];if("string"==(D=typeof p)&&(b=ht.exec(p))&&b[1]&&(p=Sn(l,h,b),D="number"),null==p||p!=p)return;"number"===D&&!B&&(p+=b&&b[3]||(y.cssNumber[Z]?"":"px")),!nt.clearCloneStyle&&""===p&&0===h.indexOf("background")&&(ee[h]="inherit"),(!N||!("set"in N)||void 0!==(p=N.set(l,p,v)))&&(B?ee.setProperty(h,p):ee[h]=p)}},css:function(l,h,p,v){var b,D,N,Z=U(h);return pe.test(h)||(h=Kr(Z)),(N=y.cssHooks[h]||y.cssHooks[Z])&&"get"in N&&(b=N.get(l,!0,p)),void 0===b&&(b=Je(l,h,v)),"normal"===b&&h in qs&&(b=qs[h]),""===p||p?(D=parseFloat(b),!0===p||isFinite(D)?D||0:b):b}}),y.each(["height","width"],function(l,h){y.cssHooks[h]={get:function(p,v,b){if(v)return!Rr.test(y.css(p,"display"))||p.getClientRects().length&&p.getBoundingClientRect().width?Qs(p,h,b):at(p,Es,function(){return Qs(p,h,b)})},set:function(p,v,b){var D,N=Le(p),Z=!nt.scrollboxSize()&&"absolute"===N.position,ee=(Z||b)&&"border-box"===y.css(p,"boxSizing",!1,N),ve=b?Ts(p,h,b,ee,N):0;return ee&&Z&&(ve-=Math.ceil(p["offset"+h[0].toUpperCase()+h.slice(1)]-parseFloat(N[h])-Ts(p,h,"border",!1,N)-.5)),ve&&(D=ht.exec(v))&&"px"!==(D[3]||"px")&&(p.style[h]=v,v=y.css(p,h)),ma(0,v,ve)}}}),y.cssHooks.marginLeft=ft(nt.reliableMarginLeft,function(l,h){if(h)return(parseFloat(Je(l,"marginLeft"))||l.getBoundingClientRect().left-at(l,{marginLeft:0},function(){return l.getBoundingClientRect().left}))+"px"}),y.each({margin:"",padding:"",border:"Width"},function(l,h){y.cssHooks[l+h]={expand:function(p){for(var v=0,b={},D="string"==typeof p?p.split(" "):[p];v<4;v++)b[l+it[v]+h]=D[v]||D[v-2]||D[0];return b}},"margin"!==l&&(y.cssHooks[l+h].set=ma)}),y.fn.extend({css:function(l,h){return ne(this,function(p,v,b){var D,N,Z={},B=0;if(Array.isArray(v)){for(D=Le(p),N=v.length;B<N;B++)Z[v[B]]=y.css(p,v[B],!1,D);return Z}return void 0!==b?y.style(p,v,b):y.css(p,v)},l,h,arguments.length>1)}}),y.Tween=ir,ir.prototype={constructor:ir,init:function(l,h,p,v,b,D){this.elem=l,this.prop=p,this.easing=b||y.easing._default,this.options=h,this.start=this.now=this.cur(),this.end=v,this.unit=D||(y.cssNumber[p]?"":"px")},cur:function(){var l=ir.propHooks[this.prop];return l&&l.get?l.get(this):ir.propHooks._default.get(this)},run:function(l){var h,p=ir.propHooks[this.prop];return this.pos=h=this.options.duration?y.easing[this.easing](l,this.options.duration*l,0,1,this.options.duration):l,this.now=(this.end-this.start)*h+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),p&&p.set?p.set(this):ir.propHooks._default.set(this),this}},ir.prototype.init.prototype=ir.prototype,ir.propHooks={_default:{get:function(l){var h;return 1!==l.elem.nodeType||null!=l.elem[l.prop]&&null==l.elem.style[l.prop]?l.elem[l.prop]:(h=y.css(l.elem,l.prop,""))&&"auto"!==h?h:0},set:function(l){y.fx.step[l.prop]?y.fx.step[l.prop](l):1!==l.elem.nodeType||!y.cssHooks[l.prop]&&null==l.elem.style[Kr(l.prop)]?l.elem[l.prop]=l.now:y.style(l.elem,l.prop,l.now+l.unit)}}},ir.propHooks.scrollTop=ir.propHooks.scrollLeft={set:function(l){l.elem.nodeType&&l.elem.parentNode&&(l.elem[l.prop]=l.now)}},y.easing={linear:function(l){return l},swing:function(l){return.5-Math.cos(l*Math.PI)/2},_default:"swing"},y.fx=ir.prototype.init,y.fx.step={};var ji,No,Ss=/^(?:toggle|show|hide)$/,va=/queueHooks$/;function Qi(){No&&(!1===vt.hidden&&dt.requestAnimationFrame?dt.requestAnimationFrame(Qi):dt.setTimeout(Qi,y.fx.interval),y.fx.tick())}function wi(){return dt.setTimeout(function(){ji=void 0}),ji=Date.now()}function Ai(l,h){var p,v=0,b={height:l};for(h=h?1:0;v<4;v+=2-h)b["margin"+(p=it[v])]=b["padding"+p]=l;return h&&(b.opacity=b.width=l),b}function Lc(l,h,p){for(var v,b=(bi.tweeners[h]||[]).concat(bi.tweeners["*"]),D=0,N=b.length;D<N;D++)if(v=b[D].call(p,h,l))return v}function bi(l,h,p){var v,b,D=0,N=bi.prefilters.length,Z=y.Deferred().always(function(){delete B.elem}),B=function(){if(b)return!1;for(var Ae=ji||wi(),le=Math.max(0,ee.startTime+ee.duration-Ae),Tt=1-(le/ee.duration||0),rn=0,St=ee.tweens.length;rn<St;rn++)ee.tweens[rn].run(Tt);return Z.notifyWith(l,[ee,Tt,le]),Tt<1&&St?le:(St||Z.notifyWith(l,[ee,1,0]),Z.resolveWith(l,[ee]),!1)},ee=Z.promise({elem:l,props:y.extend({},h),opts:y.extend(!0,{specialEasing:{},easing:y.easing._default},p),originalProperties:h,originalOptions:p,startTime:ji||wi(),duration:p.duration,tweens:[],createTween:function(Ae,le){var Pe=y.Tween(l,ee.opts,Ae,le,ee.opts.specialEasing[Ae]||ee.opts.easing);return ee.tweens.push(Pe),Pe},stop:function(Ae){var le=0,Pe=Ae?ee.tweens.length:0;if(b)return this;for(b=!0;le<Pe;le++)ee.tweens[le].run(1);return Ae?(Z.notifyWith(l,[ee,1,0]),Z.resolveWith(l,[ee,Ae])):Z.rejectWith(l,[ee,Ae]),this}}),ve=ee.props;for(function xo(l,h){var p,v,b,D,N;for(p in l)if(b=h[v=U(p)],D=l[p],Array.isArray(D)&&(b=D[1],D=l[p]=D[0]),p!==v&&(l[v]=D,delete l[p]),(N=y.cssHooks[v])&&"expand"in N)for(p in D=N.expand(D),delete l[v],D)p in l||(l[p]=D[p],h[p]=b);else h[v]=b}(ve,ee.opts.specialEasing);D<N;D++)if(v=bi.prefilters[D].call(ee,l,ve,ee.opts))return Ct(v.stop)&&(y._queueHooks(ee.elem,ee.opts.queue).stop=v.stop.bind(v)),v;return y.map(ve,Lc,ee),Ct(ee.opts.start)&&ee.opts.start.call(l,ee),ee.progress(ee.opts.progress).done(ee.opts.done,ee.opts.complete).fail(ee.opts.fail).always(ee.opts.always),y.fx.timer(y.extend(B,{elem:l,anim:ee,queue:ee.opts.queue})),ee}y.Animation=y.extend(bi,{tweeners:{"*":[function(l,h){var p=this.createTween(l,h);return Sn(p.elem,l,ht.exec(h),p),p}]},tweener:function(l,h){Ct(l)?(h=l,l=["*"]):l=l.match(Ur);for(var p,v=0,b=l.length;v<b;v++)(bi.tweeners[p=l[v]]=bi.tweeners[p]||[]).unshift(h)},prefilters:[function Rc(l,h,p){var v,b,D,N,Z,B,ee,ve,Ae="width"in h||"height"in h,le=this,Pe={},Tt=l.style,rn=l.nodeType&&Mn(l),St=J.get(l,"fxshow");for(v in p.queue||(null==(N=y._queueHooks(l,"fx")).unqueued&&(N.unqueued=0,Z=N.empty.fire,N.empty.fire=function(){N.unqueued||Z()}),N.unqueued++,le.always(function(){le.always(function(){N.unqueued--,y.queue(l,"fx").length||N.empty.fire()})})),h)if(Ss.test(b=h[v])){if(delete h[v],D=D||"toggle"===b,b===(rn?"hide":"show")){if("show"!==b||!St||void 0===St[v])continue;rn=!0}Pe[v]=St&&St[v]||y.style(l,v)}if((B=!y.isEmptyObject(h))||!y.isEmptyObject(Pe))for(v in Ae&&1===l.nodeType&&(p.overflow=[Tt.overflow,Tt.overflowX,Tt.overflowY],null==(ee=St&&St.display)&&(ee=J.get(l,"display")),"none"===(ve=y.css(l,"display"))&&(ee?ve=ee:(Un([l],!0),ee=l.style.display||ee,ve=y.css(l,"display"),Un([l]))),("inline"===ve||"inline-block"===ve&&null!=ee)&&"none"===y.css(l,"float")&&(B||(le.done(function(){Tt.display=ee}),null==ee&&(ee="none"===(ve=Tt.display)?"":ve)),Tt.display="inline-block")),p.overflow&&(Tt.overflow="hidden",le.always(function(){Tt.overflow=p.overflow[0],Tt.overflowX=p.overflow[1],Tt.overflowY=p.overflow[2]})),B=!1,Pe)B||(St?"hidden"in St&&(rn=St.hidden):St=J.access(l,"fxshow",{display:ee}),D&&(St.hidden=!rn),rn&&Un([l],!0),le.done(function(){for(v in rn||Un([l]),J.remove(l,"fxshow"),Pe)y.style(l,v,Pe[v])})),B=Lc(rn?St[v]:0,v,le),v in St||(St[v]=B.start,rn&&(B.end=B.start,B.start=0))}],prefilter:function(l,h){h?bi.prefilters.unshift(l):bi.prefilters.push(l)}}),y.speed=function(l,h,p){var v=l&&"object"==typeof l?y.extend({},l):{complete:p||!p&&h||Ct(l)&&l,duration:l,easing:p&&h||h&&!Ct(h)&&h};return y.fx.off?v.duration=0:"number"!=typeof v.duration&&(v.duration=v.duration in y.fx.speeds?y.fx.speeds[v.duration]:y.fx.speeds._default),(null==v.queue||!0===v.queue)&&(v.queue="fx"),v.old=v.complete,v.complete=function(){Ct(v.old)&&v.old.call(this),v.queue&&y.dequeue(this,v.queue)},v},y.fn.extend({fadeTo:function(l,h,p,v){return this.filter(Mn).css("opacity",0).show().end().animate({opacity:h},l,p,v)},animate:function(l,h,p,v){var b=y.isEmptyObject(l),D=y.speed(h,p,v),N=function(){var Z=bi(this,y.extend({},l),D);(b||J.get(this,"finish"))&&Z.stop(!0)};return N.finish=N,b||!1===D.queue?this.each(N):this.queue(D.queue,N)},stop:function(l,h,p){var v=function(b){var D=b.stop;delete b.stop,D(p)};return"string"!=typeof l&&(p=h,h=l,l=void 0),h&&this.queue(l||"fx",[]),this.each(function(){var b=!0,D=null!=l&&l+"queueHooks",N=y.timers,Z=J.get(this);if(D)Z[D]&&Z[D].stop&&v(Z[D]);else for(D in Z)Z[D]&&Z[D].stop&&va.test(D)&&v(Z[D]);for(D=N.length;D--;)N[D].elem===this&&(null==l||N[D].queue===l)&&(N[D].anim.stop(p),b=!1,N.splice(D,1));(b||!p)&&y.dequeue(this,l)})},finish:function(l){return!1!==l&&(l=l||"fx"),this.each(function(){var h,p=J.get(this),v=p[l+"queue"],b=p[l+"queueHooks"],D=y.timers,N=v?v.length:0;for(p.finish=!0,y.queue(this,l,[]),b&&b.stop&&b.stop.call(this,!0),h=D.length;h--;)D[h].elem===this&&D[h].queue===l&&(D[h].anim.stop(!0),D.splice(h,1));for(h=0;h<N;h++)v[h]&&v[h].finish&&v[h].finish.call(this);delete p.finish})}}),y.each(["toggle","show","hide"],function(l,h){var p=y.fn[h];y.fn[h]=function(v,b,D){return null==v||"boolean"==typeof v?p.apply(this,arguments):this.animate(Ai(h,!0),v,b,D)}}),y.each({slideDown:Ai("show"),slideUp:Ai("hide"),slideToggle:Ai("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(l,h){y.fn[l]=function(p,v,b){return this.animate(h,p,v,b)}}),y.timers=[],y.fx.tick=function(){var l,h=0,p=y.timers;for(ji=Date.now();h<p.length;h++)!(l=p[h])()&&p[h]===l&&p.splice(h--,1);p.length||y.fx.stop(),ji=void 0},y.fx.timer=function(l){y.timers.push(l),y.fx.start()},y.fx.interval=13,y.fx.start=function(){No||(No=!0,Qi())},y.fx.stop=function(){No=null},y.fx.speeds={slow:600,fast:200,_default:400},y.fn.delay=function(l,h){return l=y.fx&&y.fx.speeds[l]||l,this.queue(h=h||"fx",function(p,v){var b=dt.setTimeout(p,l);v.stop=function(){dt.clearTimeout(b)}})},function(){var l=vt.createElement("input"),p=vt.createElement("select").appendChild(vt.createElement("option"));l.type="checkbox",nt.checkOn=""!==l.value,nt.optSelected=p.selected,(l=vt.createElement("input")).value="t",l.type="radio",nt.radioValue="t"===l.value}();var ya,yo=y.expr.attrHandle;y.fn.extend({attr:function(l,h){return ne(this,y.attr,l,h,arguments.length>1)},removeAttr:function(l){return this.each(function(){y.removeAttr(this,l)})}}),y.extend({attr:function(l,h,p){var v,b,D=l.nodeType;if(3!==D&&8!==D&&2!==D)return typeof l.getAttribute>"u"?y.prop(l,h,p):((1!==D||!y.isXMLDoc(l))&&(b=y.attrHooks[h.toLowerCase()]||(y.expr.match.bool.test(h)?ya:void 0)),void 0!==p?null===p?void y.removeAttr(l,h):b&&"set"in b&&void 0!==(v=b.set(l,p,h))?v:(l.setAttribute(h,p+""),p):b&&"get"in b&&null!==(v=b.get(l,h))?v:(v=y.find.attr(l,h))??void 0)},attrHooks:{type:{set:function(l,h){if(!nt.radioValue&&"radio"===h&&an(l,"input")){var p=l.value;return l.setAttribute("type",h),p&&(l.value=p),h}}}},removeAttr:function(l,h){var p,v=0,b=h&&h.match(Ur);if(b&&1===l.nodeType)for(;p=b[v++];)l.removeAttribute(p)}}),ya={set:function(l,h,p){return!1===h?y.removeAttr(l,p):l.setAttribute(p,p),p}},y.each(y.expr.match.bool.source.match(/\w+/g),function(l,h){var p=yo[h]||y.find.attr;yo[h]=function(v,b,D){var N,Z,B=b.toLowerCase();return D||(Z=yo[B],yo[B]=N,N=null!=p(v,b,D)?B:null,yo[B]=Z),N}});var qa=/^(?:input|select|textarea|button)$/i,Di=/^(?:a|area)$/i;function Mi(l){return(l.match(Ur)||[]).join(" ")}function Zo(l){return l.getAttribute&&l.getAttribute("class")||""}function Ia(l){return Array.isArray(l)?l:"string"==typeof l&&l.match(Ur)||[]}y.fn.extend({prop:function(l,h){return ne(this,y.prop,l,h,arguments.length>1)},removeProp:function(l){return this.each(function(){delete this[y.propFix[l]||l]})}}),y.extend({prop:function(l,h,p){var v,b,D=l.nodeType;if(3!==D&&8!==D&&2!==D)return(1!==D||!y.isXMLDoc(l))&&(b=y.propHooks[h=y.propFix[h]||h]),void 0!==p?b&&"set"in b&&void 0!==(v=b.set(l,p,h))?v:l[h]=p:b&&"get"in b&&null!==(v=b.get(l,h))?v:l[h]},propHooks:{tabIndex:{get:function(l){var h=y.find.attr(l,"tabindex");return h?parseInt(h,10):qa.test(l.nodeName)||Di.test(l.nodeName)&&l.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),nt.optSelected||(y.propHooks.selected={get:function(l){return null},set:function(l){}}),y.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){y.propFix[this.toLowerCase()]=this}),y.fn.extend({addClass:function(l){var h,p,v,b,D,N;return Ct(l)?this.each(function(Z){y(this).addClass(l.call(this,Z,Zo(this)))}):(h=Ia(l)).length?this.each(function(){if(v=Zo(this),p=1===this.nodeType&&" "+Mi(v)+" "){for(D=0;D<h.length;D++)p.indexOf(" "+(b=h[D])+" ")<0&&(p+=b+" ");N=Mi(p),v!==N&&this.setAttribute("class",N)}}):this},removeClass:function(l){var h,p,v,b,D,N;return Ct(l)?this.each(function(Z){y(this).removeClass(l.call(this,Z,Zo(this)))}):arguments.length?(h=Ia(l)).length?this.each(function(){if(v=Zo(this),p=1===this.nodeType&&" "+Mi(v)+" "){for(D=0;D<h.length;D++)for(b=h[D];p.indexOf(" "+b+" ")>-1;)p=p.replace(" "+b+" "," ");N=Mi(p),v!==N&&this.setAttribute("class",N)}}):this:this.attr("class","")},toggleClass:function(l,h){var p,v,b,D,N=typeof l,Z="string"===N||Array.isArray(l);return Ct(l)?this.each(function(B){y(this).toggleClass(l.call(this,B,Zo(this),h),h)}):"boolean"==typeof h&&Z?h?this.addClass(l):this.removeClass(l):(p=Ia(l),this.each(function(){if(Z)for(D=y(this),b=0;b<p.length;b++)D.hasClass(v=p[b])?D.removeClass(v):D.addClass(v);else(void 0===l||"boolean"===N)&&((v=Zo(this))&&J.set(this,"__className__",v),this.setAttribute&&this.setAttribute("class",v||!1===l?"":J.get(this,"__className__")||""))}))},hasClass:function(l){var h,p,v=0;for(h=" "+l+" ";p=this[v++];)if(1===p.nodeType&&(" "+Mi(Zo(p))+" ").indexOf(h)>-1)return!0;return!1}});var Qa=/\r/g;y.fn.extend({val:function(l){var h,p,v,b=this[0];return arguments.length?(v=Ct(l),this.each(function(D){var N;1===this.nodeType&&(null==(N=v?l.call(this,D,y(this).val()):l)?N="":"number"==typeof N?N+="":Array.isArray(N)&&(N=y.map(N,function(Z){return null==Z?"":Z+""})),(!(h=y.valHooks[this.type]||y.valHooks[this.nodeName.toLowerCase()])||!("set"in h)||void 0===h.set(this,N,"value"))&&(this.value=N))})):b?(h=y.valHooks[b.type]||y.valHooks[b.nodeName.toLowerCase()])&&"get"in h&&void 0!==(p=h.get(b,"value"))?p:"string"==typeof(p=b.value)?p.replace(Qa,""):p??"":void 0}}),y.extend({valHooks:{option:{get:function(l){return y.find.attr(l,"value")??Mi(y.text(l))}},select:{get:function(l){var h,p,v,b=l.options,D=l.selectedIndex,N="select-one"===l.type,Z=N?null:[],B=N?D+1:b.length;for(v=D<0?B:N?D:0;v<B;v++)if(((p=b[v]).selected||v===D)&&!p.disabled&&(!p.parentNode.disabled||!an(p.parentNode,"optgroup"))){if(h=y(p).val(),N)return h;Z.push(h)}return Z},set:function(l,h){for(var p,v,b=l.options,D=y.makeArray(h),N=b.length;N--;)((v=b[N]).selected=y.inArray(y.valHooks.option.get(v),D)>-1)&&(p=!0);return p||(l.selectedIndex=-1),D}}}}),y.each(["radio","checkbox"],function(){y.valHooks[this]={set:function(l,h){if(Array.isArray(h))return l.checked=y.inArray(y(l).val(),h)>-1}},nt.checkOn||(y.valHooks[this].get=function(l){return null===l.getAttribute("value")?"on":l.value})});var Ns=dt.location,Ka={guid:Date.now()},Ca=/\?/;y.parseXML=function(l){var h,p;if(!l||"string"!=typeof l)return null;try{h=(new dt.DOMParser).parseFromString(l,"text/xml")}catch{}return p=h&&h.getElementsByTagName("parsererror")[0],(!h||p)&&y.error("Invalid XML: "+(p?y.map(p.childNodes,function(v){return v.textContent}).join("\n"):l)),h};var ec=/^(?:focusinfocus|focusoutblur)$/,wa=function(l){l.stopPropagation()};y.extend(y.event,{trigger:function(l,h,p,v){var b,D,N,Z,B,ee,ve,Ae,le=[p||vt],Pe=Ot.call(l,"type")?l.type:l,Tt=Ot.call(l,"namespace")?l.namespace.split("."):[];if(D=Ae=N=p=p||vt,3!==p.nodeType&&8!==p.nodeType&&!ec.test(Pe+y.event.triggered)&&(Pe.indexOf(".")>-1&&(Tt=Pe.split("."),Pe=Tt.shift(),Tt.sort()),B=Pe.indexOf(":")<0&&"on"+Pe,(l=l[y.expando]?l:new y.Event(Pe,"object"==typeof l&&l)).isTrigger=v?2:3,l.namespace=Tt.join("."),l.rnamespace=l.namespace?new RegExp("(^|\\.)"+Tt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l.result=void 0,l.target||(l.target=p),h=null==h?[l]:y.makeArray(h,[l]),ve=y.event.special[Pe]||{},v||!ve.trigger||!1!==ve.trigger.apply(p,h))){if(!v&&!ve.noBubble&&!ui(p)){for(ec.test((Z=ve.delegateType||Pe)+Pe)||(D=D.parentNode);D;D=D.parentNode)le.push(D),N=D;N===(p.ownerDocument||vt)&&le.push(N.defaultView||N.parentWindow||dt)}for(b=0;(D=le[b++])&&!l.isPropagationStopped();)Ae=D,l.type=b>1?Z:ve.bindType||Pe,(ee=(J.get(D,"events")||Object.create(null))[l.type]&&J.get(D,"handle"))&&ee.apply(D,h),(ee=B&&D[B])&&ee.apply&&fe(D)&&(l.result=ee.apply(D,h),!1===l.result&&l.preventDefault());return l.type=Pe,!v&&!l.isDefaultPrevented()&&(!ve._default||!1===ve._default.apply(le.pop(),h))&&fe(p)&&B&&Ct(p[Pe])&&!ui(p)&&((N=p[B])&&(p[B]=null),y.event.triggered=Pe,l.isPropagationStopped()&&Ae.addEventListener(Pe,wa),p[Pe](),l.isPropagationStopped()&&Ae.removeEventListener(Pe,wa),y.event.triggered=void 0,N&&(p[B]=N)),l.result}},simulate:function(l,h,p){var v=y.extend(new y.Event,p,{type:l,isSimulated:!0});y.event.trigger(v,null,h)}}),y.fn.extend({trigger:function(l,h){return this.each(function(){y.event.trigger(l,h,this)})},triggerHandler:function(l,h){var p=this[0];if(p)return y.event.trigger(l,h,p,!0)}});var tc=/\[\]$/,Aa=/\r?\n/g,ba=/^(?:submit|button|image|reset|file)$/i,nc=/^(?:input|select|textarea|keygen)/i;function xs(l,h,p,v){var b;if(Array.isArray(h))y.each(h,function(D,N){p||tc.test(l)?v(l,N):xs(l+"["+("object"==typeof N&&null!=N?D:"")+"]",N,p,v)});else if(p||"object"!==fr(h))v(l,h);else for(b in h)xs(l+"["+b+"]",h[b],p,v)}y.param=function(l,h){var p,v=[],b=function(D,N){var Z=Ct(N)?N():N;v[v.length]=encodeURIComponent(D)+"="+encodeURIComponent(Z??"")};if(null==l)return"";if(Array.isArray(l)||l.jquery&&!y.isPlainObject(l))y.each(l,function(){b(this.name,this.value)});else for(p in l)xs(p,l[p],h,b);return v.join("&")},y.fn.extend({serialize:function(){return y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var l=y.prop(this,"elements");return l?y.makeArray(l):this}).filter(function(){var l=this.type;return this.name&&!y(this).is(":disabled")&&nc.test(this.nodeName)&&!ba.test(l)&&(this.checked||!gn.test(l))}).map(function(l,h){var p=y(this).val();return null==p?null:Array.isArray(p)?y.map(p,function(v){return{name:h.name,value:v.replace(Aa,"\r\n")}}):{name:h.name,value:p.replace(Aa,"\r\n")}}).get()}});var Fc=/%20/g,Ks=/#.*$/,Da=/([?&])_=[^&]*/,Ma=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ki=/^(?:GET|HEAD)$/,jc=/^\/\//,_s={},Ea={},Bi="*/".concat("*"),zi=vt.createElement("a");function ic(l){return function(h,p){"string"!=typeof h&&(p=h,h="*");var v,b=0,D=h.toLowerCase().match(Ur)||[];if(Ct(p))for(;v=D[b++];)"+"===v[0]?(v=v.slice(1)||"*",(l[v]=l[v]||[]).unshift(p)):(l[v]=l[v]||[]).push(p)}}function hs(l,h,p,v){var b={},D=l===Ea;function N(Z){var B;return b[Z]=!0,y.each(l[Z]||[],function(ee,ve){var Ae=ve(h,p,v);return"string"!=typeof Ae||D||b[Ae]?D?!(B=Ae):void 0:(h.dataTypes.unshift(Ae),N(Ae),!1)}),B}return N(h.dataTypes[0])||!b["*"]&&N("*")}function Ei(l,h){var p,v,b=y.ajaxSettings.flatOptions||{};for(p in h)void 0!==h[p]&&((b[p]?l:v||(v={}))[p]=h[p]);return v&&y.extend(!0,l,v),l}zi.href=Ns.href,y.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ns.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ns.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":y.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(l,h){return h?Ei(Ei(l,y.ajaxSettings),h):Ei(y.ajaxSettings,l)},ajaxPrefilter:ic(_s),ajaxTransport:ic(Ea),ajax:function(l,h){"object"==typeof l&&(h=l,l=void 0);var p,v,b,D,N,Z,B,ee,ve,Ae,le=y.ajaxSetup({},h=h||{}),Pe=le.context||le,Tt=le.context&&(Pe.nodeType||Pe.jquery)?y(Pe):y.event,rn=y.Deferred(),St=y.Callbacks("once memory"),Jn=le.statusCode||{},mr={},eo={},Qt="canceled",Ht={readyState:0,getResponseHeader:function(Kt){var or;if(B){if(!D)for(D={};or=Ma.exec(b);)D[or[1].toLowerCase()+" "]=(D[or[1].toLowerCase()+" "]||[]).concat(or[2]);or=D[Kt.toLowerCase()+" "]}return null==or?null:or.join(", ")},getAllResponseHeaders:function(){return B?b:null},setRequestHeader:function(Kt,or){return null==B&&(Kt=eo[Kt.toLowerCase()]=eo[Kt.toLowerCase()]||Kt,mr[Kt]=or),this},overrideMimeType:function(Kt){return null==B&&(le.mimeType=Kt),this},statusCode:function(Kt){var or;if(Kt)if(B)Ht.always(Kt[Ht.status]);else for(or in Kt)Jn[or]=[Jn[or],Kt[or]];return this},abort:function(Kt){var or=Kt||Qt;return p&&p.abort(or),Rn(0,or),this}};if(rn.promise(Ht),le.url=((l||le.url||Ns.href)+"").replace(jc,Ns.protocol+"//"),le.type=h.method||h.type||le.method||le.type,le.dataTypes=(le.dataType||"*").toLowerCase().match(Ur)||[""],null==le.crossDomain){Z=vt.createElement("a");try{Z.href=le.url,Z.href=Z.href,le.crossDomain=zi.protocol+"//"+zi.host!=Z.protocol+"//"+Z.host}catch{le.crossDomain=!0}}if(le.data&&le.processData&&"string"!=typeof le.data&&(le.data=y.param(le.data,le.traditional)),hs(_s,le,h,Ht),B)return Ht;for(ve in(ee=y.event&&le.global)&&0==y.active++&&y.event.trigger("ajaxStart"),le.type=le.type.toUpperCase(),le.hasContent=!Ki.test(le.type),v=le.url.replace(Ks,""),le.hasContent?le.data&&le.processData&&0===(le.contentType||"").indexOf("application/x-www-form-urlencoded")&&(le.data=le.data.replace(Fc,"+")):(Ae=le.url.slice(v.length),le.data&&(le.processData||"string"==typeof le.data)&&(v+=(Ca.test(v)?"&":"?")+le.data,delete le.data),!1===le.cache&&(v=v.replace(Da,"$1"),Ae=(Ca.test(v)?"&":"?")+"_="+Ka.guid+++Ae),le.url=v+Ae),le.ifModified&&(y.lastModified[v]&&Ht.setRequestHeader("If-Modified-Since",y.lastModified[v]),y.etag[v]&&Ht.setRequestHeader("If-None-Match",y.etag[v])),(le.data&&le.hasContent&&!1!==le.contentType||h.contentType)&&Ht.setRequestHeader("Content-Type",le.contentType),Ht.setRequestHeader("Accept",le.dataTypes[0]&&le.accepts[le.dataTypes[0]]?le.accepts[le.dataTypes[0]]+("*"!==le.dataTypes[0]?", "+Bi+"; q=0.01":""):le.accepts["*"]),le.headers)Ht.setRequestHeader(ve,le.headers[ve]);if(le.beforeSend&&(!1===le.beforeSend.call(Pe,Ht,le)||B))return Ht.abort();if(Qt="abort",St.add(le.complete),Ht.done(le.success),Ht.fail(le.error),p=hs(Ea,le,h,Ht)){if(Ht.readyState=1,ee&&Tt.trigger("ajaxSend",[Ht,le]),B)return Ht;le.async&&le.timeout>0&&(N=dt.setTimeout(function(){Ht.abort("timeout")},le.timeout));try{B=!1,p.send(mr,Rn)}catch(Kt){if(B)throw Kt;Rn(-1,Kt)}}else Rn(-1,"No Transport");function Rn(Kt,or,Ps,Po){var ct,Oo,Ti,Ho,to,Fe=or;B||(B=!0,N&&dt.clearTimeout(N),p=void 0,b=Po||"",Ht.readyState=Kt>0?4:0,ct=Kt>=200&&Kt<300||304===Kt,Ps&&(Ho=function Uo(l,h,p){for(var v,b,D,N,Z=l.contents,B=l.dataTypes;"*"===B[0];)B.shift(),void 0===v&&(v=l.mimeType||h.getResponseHeader("Content-Type"));if(v)for(b in Z)if(Z[b]&&Z[b].test(v)){B.unshift(b);break}if(B[0]in p)D=B[0];else{for(b in p){if(!B[0]||l.converters[b+" "+B[0]]){D=b;break}N||(N=b)}D=D||N}if(D)return D!==B[0]&&B.unshift(D),p[D]}(le,Ht,Ps)),!ct&&y.inArray("script",le.dataTypes)>-1&&y.inArray("json",le.dataTypes)<0&&(le.converters["text script"]=function(){}),Ho=function oc(l,h,p,v){var b,D,N,Z,B,ee={},ve=l.dataTypes.slice();if(ve[1])for(N in l.converters)ee[N.toLowerCase()]=l.converters[N];for(D=ve.shift();D;)if(l.responseFields[D]&&(p[l.responseFields[D]]=h),!B&&v&&l.dataFilter&&(h=l.dataFilter(h,l.dataType)),B=D,D=ve.shift())if("*"===D)D=B;else if("*"!==B&&B!==D){if(!(N=ee[B+" "+D]||ee["* "+D]))for(b in ee)if((Z=b.split(" "))[1]===D&&(N=ee[B+" "+Z[0]]||ee["* "+Z[0]])){!0===N?N=ee[b]:!0!==ee[b]&&(D=Z[0],ve.unshift(Z[1]));break}if(!0!==N)if(N&&l.throws)h=N(h);else try{h=N(h)}catch(Ae){return{state:"parsererror",error:N?Ae:"No conversion from "+B+" to "+D}}}return{state:"success",data:h}}(le,Ho,Ht,ct),ct?(le.ifModified&&((to=Ht.getResponseHeader("Last-Modified"))&&(y.lastModified[v]=to),(to=Ht.getResponseHeader("etag"))&&(y.etag[v]=to)),204===Kt||"HEAD"===le.type?Fe="nocontent":304===Kt?Fe="notmodified":(Fe=Ho.state,Oo=Ho.data,ct=!(Ti=Ho.error))):(Ti=Fe,(Kt||!Fe)&&(Fe="error",Kt<0&&(Kt=0))),Ht.status=Kt,Ht.statusText=(or||Fe)+"",ct?rn.resolveWith(Pe,[Oo,Fe,Ht]):rn.rejectWith(Pe,[Ht,Fe,Ti]),Ht.statusCode(Jn),Jn=void 0,ee&&Tt.trigger(ct?"ajaxSuccess":"ajaxError",[Ht,le,ct?Oo:Ti]),St.fireWith(Pe,[Ht,Fe]),ee&&(Tt.trigger("ajaxComplete",[Ht,le]),--y.active||y.event.trigger("ajaxStop")))}return Ht},getJSON:function(l,h,p){return y.get(l,h,p,"json")},getScript:function(l,h){return y.get(l,void 0,h,"script")}}),y.each(["get","post"],function(l,h){y[h]=function(p,v,b,D){return Ct(v)&&(D=D||b,b=v,v=void 0),y.ajax(y.extend({url:p,type:h,dataType:D,data:v,success:b},y.isPlainObject(p)&&p))}}),y.ajaxPrefilter(function(l){var h;for(h in l.headers)"content-type"===h.toLowerCase()&&(l.contentType=l.headers[h]||"")}),y._evalUrl=function(l,h,p){return y.ajax({url:l,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(v){y.globalEval(v,h,p)}})},y.fn.extend({wrapAll:function(l){var h;return this[0]&&(Ct(l)&&(l=l.call(this[0])),h=y(l,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&h.insertBefore(this[0]),h.map(function(){for(var p=this;p.firstElementChild;)p=p.firstElementChild;return p}).append(this)),this},wrapInner:function(l){return Ct(l)?this.each(function(h){y(this).wrapInner(l.call(this,h))}):this.each(function(){var h=y(this),p=h.contents();p.length?p.wrapAll(l):h.append(l)})},wrap:function(l){var h=Ct(l);return this.each(function(p){y(this).wrapAll(h?l.call(this,p):l)})},unwrap:function(l){return this.parent(l).not("body").each(function(){y(this).replaceWith(this.childNodes)}),this}}),y.expr.pseudos.hidden=function(l){return!y.expr.pseudos.visible(l)},y.expr.pseudos.visible=function(l){return!!(l.offsetWidth||l.offsetHeight||l.getClientRects().length)},y.ajaxSettings.xhr=function(){try{return new dt.XMLHttpRequest}catch{}};var Ta={0:200,1223:204},_o=y.ajaxSettings.xhr();nt.cors=!!_o&&"withCredentials"in _o,nt.ajax=_o=!!_o,y.ajaxTransport(function(l){var h,p;if(nt.cors||_o&&!l.crossDomain)return{send:function(v,b){var D,N=l.xhr();if(N.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(D in l.xhrFields)N[D]=l.xhrFields[D];for(D in l.mimeType&&N.overrideMimeType&&N.overrideMimeType(l.mimeType),!l.crossDomain&&!v["X-Requested-With"]&&(v["X-Requested-With"]="XMLHttpRequest"),v)N.setRequestHeader(D,v[D]);h=function(Z){return function(){h&&(h=p=N.onload=N.onerror=N.onabort=N.ontimeout=N.onreadystatechange=null,"abort"===Z?N.abort():"error"===Z?"number"!=typeof N.status?b(0,"error"):b(N.status,N.statusText):b(Ta[N.status]||N.status,N.statusText,"text"!==(N.responseType||"text")||"string"!=typeof N.responseText?{binary:N.response}:{text:N.responseText},N.getAllResponseHeaders()))}},N.onload=h(),p=N.onerror=N.ontimeout=h("error"),void 0!==N.onabort?N.onabort=p:N.onreadystatechange=function(){4===N.readyState&&dt.setTimeout(function(){h&&p()})},h=h("abort");try{N.send(l.hasContent&&l.data||null)}catch(Z){if(h)throw Z}},abort:function(){h&&h()}}}),y.ajaxPrefilter(function(l){l.crossDomain&&(l.contents.script=!1)}),y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(l){return y.globalEval(l),l}}}),y.ajaxPrefilter("script",function(l){void 0===l.cache&&(l.cache=!1),l.crossDomain&&(l.type="GET")}),y.ajaxTransport("script",function(l){var h,p;if(l.crossDomain||l.scriptAttrs)return{send:function(v,b){h=y("<script>").attr(l.scriptAttrs||{}).prop({charset:l.scriptCharset,src:l.url}).on("load error",p=function(D){h.remove(),p=null,D&&b("error"===D.type?404:200,D.type)}),vt.head.appendChild(h[0])},abort:function(){p&&p()}}});var l,Gi=[],Sa=/(=)\?(?=&|$)|\?\?/;y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var l=Gi.pop()||y.expando+"_"+Ka.guid++;return this[l]=!0,l}}),y.ajaxPrefilter("json jsonp",function(l,h,p){var v,b,D,N=!1!==l.jsonp&&(Sa.test(l.url)?"url":"string"==typeof l.data&&0===(l.contentType||"").indexOf("application/x-www-form-urlencoded")&&Sa.test(l.data)&&"data");if(N||"jsonp"===l.dataTypes[0])return v=l.jsonpCallback=Ct(l.jsonpCallback)?l.jsonpCallback():l.jsonpCallback,N?l[N]=l[N].replace(Sa,"$1"+v):!1!==l.jsonp&&(l.url+=(Ca.test(l.url)?"&":"?")+l.jsonp+"="+v),l.converters["script json"]=function(){return D||y.error(v+" was not called"),D[0]},l.dataTypes[0]="json",b=dt[v],dt[v]=function(){D=arguments},p.always(function(){void 0===b?y(dt).removeProp(v):dt[v]=b,l[v]&&(l.jsonpCallback=h.jsonpCallback,Gi.push(v)),D&&Ct(b)&&b(D[0]),D=b=void 0}),"script"}),nt.createHTMLDocument=((l=vt.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===l.childNodes.length),y.parseHTML=function(l,h,p){return"string"!=typeof l?[]:("boolean"==typeof h&&(p=h,h=!1),h||(nt.createHTMLDocument?((v=(h=vt.implementation.createHTMLDocument("")).createElement("base")).href=vt.location.href,h.head.appendChild(v)):h=vt),D=!p&&[],(b=Ar.exec(l))?[h.createElement(b[1])]:(b=yt([l],h,D),D&&D.length&&y(D).remove(),y.merge([],b.childNodes)));var v,b,D},y.fn.load=function(l,h,p){var v,b,D,N=this,Z=l.indexOf(" ");return Z>-1&&(v=Mi(l.slice(Z)),l=l.slice(0,Z)),Ct(h)?(p=h,h=void 0):h&&"object"==typeof h&&(b="POST"),N.length>0&&y.ajax({url:l,type:b||"GET",dataType:"html",data:h}).done(function(B){D=arguments,N.html(v?y("<div>").append(y.parseHTML(B)).find(v):B)}).always(p&&function(B,ee){N.each(function(){p.apply(this,D||[B.responseText,ee,B])})}),this},y.expr.pseudos.animated=function(l){return y.grep(y.timers,function(h){return l===h.elem}).length},y.offset={setOffset:function(l,h,p){var v,b,D,N,Z,B,ve=y.css(l,"position"),Ae=y(l),le={};"static"===ve&&(l.style.position="relative"),Z=Ae.offset(),D=y.css(l,"top"),B=y.css(l,"left"),("absolute"===ve||"fixed"===ve)&&(D+B).indexOf("auto")>-1?(N=(v=Ae.position()).top,b=v.left):(N=parseFloat(D)||0,b=parseFloat(B)||0),Ct(h)&&(h=h.call(l,p,y.extend({},Z))),null!=h.top&&(le.top=h.top-Z.top+N),null!=h.left&&(le.left=h.left-Z.left+b),"using"in h?h.using.call(l,le):Ae.css(le)}},y.fn.extend({offset:function(l){if(arguments.length)return void 0===l?this:this.each(function(b){y.offset.setOffset(this,l,b)});var h,p,v=this[0];return v?v.getClientRects().length?{top:(h=v.getBoundingClientRect()).top+(p=v.ownerDocument.defaultView).pageYOffset,left:h.left+p.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var l,h,p,v=this[0],b={top:0,left:0};if("fixed"===y.css(v,"position"))h=v.getBoundingClientRect();else{for(h=this.offset(),p=v.ownerDocument,l=v.offsetParent||p.documentElement;l&&(l===p.body||l===p.documentElement)&&"static"===y.css(l,"position");)l=l.parentNode;l&&l!==v&&1===l.nodeType&&((b=y(l).offset()).top+=y.css(l,"borderTopWidth",!0),b.left+=y.css(l,"borderLeftWidth",!0))}return{top:h.top-b.top-y.css(v,"marginTop",!0),left:h.left-b.left-y.css(v,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var l=this.offsetParent;l&&"static"===y.css(l,"position");)l=l.offsetParent;return l||pt})}}),y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(l,h){var p="pageYOffset"===h;y.fn[l]=function(v){return ne(this,function(b,D,N){var Z;if(ui(b)?Z=b:9===b.nodeType&&(Z=b.defaultView),void 0===N)return Z?Z[h]:b[D];Z?Z.scrollTo(p?Z.pageXOffset:N,p?N:Z.pageYOffset):b[D]=N},l,v,arguments.length)}}),y.each(["top","left"],function(l,h){y.cssHooks[h]=ft(nt.pixelPosition,function(p,v){if(v)return v=Je(p,h),Re.test(v)?y(p).position()[h]+"px":v})}),y.each({Height:"height",Width:"width"},function(l,h){y.each({padding:"inner"+l,content:h,"":"outer"+l},function(p,v){y.fn[v]=function(b,D){var N=arguments.length&&(p||"boolean"!=typeof b),Z=p||(!0===b||!0===D?"margin":"border");return ne(this,function(B,ee,ve){var Ae;return ui(B)?0===v.indexOf("outer")?B["inner"+l]:B.document.documentElement["client"+l]:9===B.nodeType?(Ae=B.documentElement,Math.max(B.body["scroll"+l],Ae["scroll"+l],B.body["offset"+l],Ae["offset"+l],Ae["client"+l])):void 0===ve?y.css(B,ee,Z):y.style(B,ee,ve,Z)},h,N?b:void 0,N)}})}),y.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(l,h){y.fn[h]=function(p){return this.on(h,p)}}),y.fn.extend({bind:function(l,h,p){return this.on(l,null,h,p)},unbind:function(l,h){return this.off(l,null,h)},delegate:function(l,h,p,v){return this.on(h,l,p,v)},undelegate:function(l,h,p){return 1===arguments.length?this.off(l,"**"):this.off(h,l||"**",p)},hover:function(l,h){return this.on("mouseenter",l).on("mouseleave",h||l)}}),y.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(l,h){y.fn[h]=function(p,v){return arguments.length>0?this.on(h,null,p,v):this.trigger(h)}});var Na=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;y.proxy=function(l,h){var p,v,b;if("string"==typeof h&&(p=l[h],h=l,l=p),Ct(l))return v=Qn.call(arguments,2),b=function(){return l.apply(h||this,v.concat(Qn.call(arguments)))},b.guid=l.guid=l.guid||y.guid++,b},y.holdReady=function(l){l?y.readyWait++:y.ready(!0)},y.isArray=Array.isArray,y.parseJSON=JSON.parse,y.nodeName=an,y.isFunction=Ct,y.isWindow=ui,y.camelCase=U,y.type=fr,y.now=Date.now,y.isNumeric=function(l){var h=y.type(l);return("number"===h||"string"===h)&&!isNaN(l-parseFloat(l))},y.trim=function(l){return null==l?"":(l+"").replace(Na,"$1")},void 0!==(ki=function(){return y}.apply(pr,[]))&&(Wn.exports=ki);var xa=dt.jQuery,Bc=dt.$;return y.noConflict=function(l){return dt.$===y&&(dt.$=Bc),l&&dt.jQuery===y&&(dt.jQuery=xa),y},typeof Lr>"u"&&(dt.jQuery=dt.$=y),y})},332:()=>{"use strict";!function(R){const U=R.performance;function fe(en){U&&U.mark&&U.mark(en)}function ae(en,rt){U&&U.measure&&U.measure(en,rt)}fe("Zone");const J=R.__Zone_symbol_prefix||"__zone_symbol__";function Ce(en){return J+en}const Xe=!0===R[Ce("forceDuplicateZoneCheck")];if(R.Zone){if(Xe||"function"!=typeof R.Zone.__symbol__)throw new Error("Zone already loaded.");return R.Zone}let _e=(()=>{class en{static#e=this.__symbol__=Ce;static assertZonePatched(){if(R.Promise!==Dr.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let q=en.current;for(;q.parent;)q=q.parent;return q}static get current(){return pn.zone}static get currentTask(){return xr}static __load_patch(q,ue,qe=!1){if(Dr.hasOwnProperty(q)){if(!qe&&Xe)throw Error("Already loaded patch: "+q)}else if(!R["__Zone_disable_"+q]){const _t="Zone:"+q;fe(_t),Dr[q]=ue(R,en,vn),ae(_t,_t)}}get parent(){return this._parent}get name(){return this._name}constructor(q,ue){this._parent=q,this._name=ue?ue.name||"unnamed":"<root>",this._properties=ue&&ue.properties||{},this._zoneDelegate=new We(this,this._parent&&this._parent._zoneDelegate,ue)}get(q){const ue=this.getZoneWith(q);if(ue)return ue._properties[q]}getZoneWith(q){let ue=this;for(;ue;){if(ue._properties.hasOwnProperty(q))return ue;ue=ue._parent}return null}fork(q){if(!q)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,q)}wrap(q,ue){if("function"!=typeof q)throw new Error("Expecting function got: "+q);const qe=this._zoneDelegate.intercept(this,q,ue),_t=this;return function(){return _t.runGuarded(qe,this,arguments,ue)}}run(q,ue,qe,_t){pn={parent:pn,zone:this};try{return this._zoneDelegate.invoke(this,q,ue,qe,_t)}finally{pn=pn.parent}}runGuarded(q,ue=null,qe,_t){pn={parent:pn,zone:this};try{try{return this._zoneDelegate.invoke(this,q,ue,qe,_t)}catch(Ln){if(this._zoneDelegate.handleError(this,Ln))throw Ln}}finally{pn=pn.parent}}runTask(q,ue,qe){if(q.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(q.zone||Un).name+"; Execution: "+this.name+")");if(q.state===gn&&(q.type===$n||q.type===yt))return;const _t=q.state!=Ue;_t&&q._transitionTo(Ue,nn),q.runCount++;const Ln=xr;xr=q,pn={parent:pn,zone:this};try{q.type==yt&&q.data&&!q.data.isPeriodic&&(q.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,q,ue,qe)}catch(ke){if(this._zoneDelegate.handleError(this,ke))throw ke}}finally{q.state!==gn&&q.state!==Ye&&(q.type==$n||q.data&&q.data.isPeriodic?_t&&q._transitionTo(nn,Ue):(q.runCount=0,this._updateTaskCount(q,-1),_t&&q._transitionTo(gn,Ue,gn))),pn=pn.parent,xr=Ln}}scheduleTask(q){if(q.zone&&q.zone!==this){let qe=this;for(;qe;){if(qe===q.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${q.zone.name}`);qe=qe.parent}}q._transitionTo(Xn,gn);const ue=[];q._zoneDelegates=ue,q._zone=this;try{q=this._zoneDelegate.scheduleTask(this,q)}catch(qe){throw q._transitionTo(Ye,Xn,gn),this._zoneDelegate.handleError(this,qe),qe}return q._zoneDelegates===ue&&this._updateTaskCount(q,1),q.state==Xn&&q._transitionTo(nn,Xn),q}scheduleMicroTask(q,ue,qe,_t){return this.scheduleTask(new Ze(Xt,q,ue,qe,_t,void 0))}scheduleMacroTask(q,ue,qe,_t,Ln){return this.scheduleTask(new Ze(yt,q,ue,qe,_t,Ln))}scheduleEventTask(q,ue,qe,_t,Ln){return this.scheduleTask(new Ze($n,q,ue,qe,_t,Ln))}cancelTask(q){if(q.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(q.zone||Un).name+"; Execution: "+this.name+")");if(q.state===nn||q.state===Ue){q._transitionTo(kt,nn,Ue);try{this._zoneDelegate.cancelTask(this,q)}catch(ue){throw q._transitionTo(Ye,kt),this._zoneDelegate.handleError(this,ue),ue}return this._updateTaskCount(q,-1),q._transitionTo(gn,kt),q.runCount=0,q}}_updateTaskCount(q,ue){const qe=q._zoneDelegates;-1==ue&&(q._zoneDelegates=null);for(let _t=0;_t<qe.length;_t++)qe[_t]._updateTaskCount(q.type,ue)}}return en})();const Qe={name:"",onHasTask:(en,rt,q,ue)=>en.hasTask(q,ue),onScheduleTask:(en,rt,q,ue)=>en.scheduleTask(q,ue),onInvokeTask:(en,rt,q,ue,qe,_t)=>en.invokeTask(q,ue,qe,_t),onCancelTask:(en,rt,q,ue)=>en.cancelTask(q,ue)};class We{constructor(rt,q,ue){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=rt,this._parentDelegate=q,this._forkZS=ue&&(ue&&ue.onFork?ue:q._forkZS),this._forkDlgt=ue&&(ue.onFork?q:q._forkDlgt),this._forkCurrZone=ue&&(ue.onFork?this.zone:q._forkCurrZone),this._interceptZS=ue&&(ue.onIntercept?ue:q._interceptZS),this._interceptDlgt=ue&&(ue.onIntercept?q:q._interceptDlgt),this._interceptCurrZone=ue&&(ue.onIntercept?this.zone:q._interceptCurrZone),this._invokeZS=ue&&(ue.onInvoke?ue:q._invokeZS),this._invokeDlgt=ue&&(ue.onInvoke?q:q._invokeDlgt),this._invokeCurrZone=ue&&(ue.onInvoke?this.zone:q._invokeCurrZone),this._handleErrorZS=ue&&(ue.onHandleError?ue:q._handleErrorZS),this._handleErrorDlgt=ue&&(ue.onHandleError?q:q._handleErrorDlgt),this._handleErrorCurrZone=ue&&(ue.onHandleError?this.zone:q._handleErrorCurrZone),this._scheduleTaskZS=ue&&(ue.onScheduleTask?ue:q._scheduleTaskZS),this._scheduleTaskDlgt=ue&&(ue.onScheduleTask?q:q._scheduleTaskDlgt),this._scheduleTaskCurrZone=ue&&(ue.onScheduleTask?this.zone:q._scheduleTaskCurrZone),this._invokeTaskZS=ue&&(ue.onInvokeTask?ue:q._invokeTaskZS),this._invokeTaskDlgt=ue&&(ue.onInvokeTask?q:q._invokeTaskDlgt),this._invokeTaskCurrZone=ue&&(ue.onInvokeTask?this.zone:q._invokeTaskCurrZone),this._cancelTaskZS=ue&&(ue.onCancelTask?ue:q._cancelTaskZS),this._cancelTaskDlgt=ue&&(ue.onCancelTask?q:q._cancelTaskDlgt),this._cancelTaskCurrZone=ue&&(ue.onCancelTask?this.zone:q._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const qe=ue&&ue.onHasTask;(qe||q&&q._hasTaskZS)&&(this._hasTaskZS=qe?ue:Qe,this._hasTaskDlgt=q,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=rt,ue.onScheduleTask||(this._scheduleTaskZS=Qe,this._scheduleTaskDlgt=q,this._scheduleTaskCurrZone=this.zone),ue.onInvokeTask||(this._invokeTaskZS=Qe,this._invokeTaskDlgt=q,this._invokeTaskCurrZone=this.zone),ue.onCancelTask||(this._cancelTaskZS=Qe,this._cancelTaskDlgt=q,this._cancelTaskCurrZone=this.zone))}fork(rt,q){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,rt,q):new _e(rt,q)}intercept(rt,q,ue){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,rt,q,ue):q}invoke(rt,q,ue,qe,_t){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,rt,q,ue,qe,_t):q.apply(ue,qe)}handleError(rt,q){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,rt,q)}scheduleTask(rt,q){let ue=q;if(this._scheduleTaskZS)this._hasTaskZS&&ue._zoneDelegates.push(this._hasTaskDlgtOwner),ue=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,rt,q),ue||(ue=q);else if(q.scheduleFn)q.scheduleFn(q);else{if(q.type!=Xt)throw new Error("Task is missing scheduleFn.");Et(q)}return ue}invokeTask(rt,q,ue,qe){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,rt,q,ue,qe):q.callback.apply(ue,qe)}cancelTask(rt,q){let ue;if(this._cancelTaskZS)ue=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,rt,q);else{if(!q.cancelFn)throw Error("Task is not cancelable");ue=q.cancelFn(q)}return ue}hasTask(rt,q){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,rt,q)}catch(ue){this.handleError(rt,ue)}}_updateTaskCount(rt,q){const ue=this._taskCounts,qe=ue[rt],_t=ue[rt]=qe+q;if(_t<0)throw new Error("More tasks executed then were scheduled.");0!=qe&&0!=_t||this.hasTask(this.zone,{microTask:ue.microTask>0,macroTask:ue.macroTask>0,eventTask:ue.eventTask>0,change:rt})}}class Ze{constructor(rt,q,ue,qe,_t,Ln){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=rt,this.source=q,this.data=qe,this.scheduleFn=_t,this.cancelFn=Ln,!ue)throw new Error("callback is not defined");this.callback=ue;const ke=this;this.invoke=rt===$n&&qe&&qe.useG?Ze.invokeTask:function(){return Ze.invokeTask.call(R,ke,this,arguments)}}static invokeTask(rt,q,ue){rt||(rt=this),_r++;try{return rt.runCount++,rt.zone.runTask(rt,q,ue)}finally{1==_r&&ot(),_r--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(gn,Xn)}_transitionTo(rt,q,ue){if(this._state!==q&&this._state!==ue)throw new Error(`${this.type} '${this.source}': can not transition to '${rt}', expecting state '${q}'${ue?" or '"+ue+"'":""}, was '${this._state}'.`);this._state=rt,rt==gn&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const ht=Ce("setTimeout"),it=Ce("Promise"),pt=Ce("then");let Mn,cn=[],un=!1;function Sn(en){if(Mn||R[it]&&(Mn=R[it].resolve(0)),Mn){let rt=Mn[pt];rt||(rt=Mn.then),rt.call(Mn,en)}else R[ht](en,0)}function Et(en){0===_r&&0===cn.length&&Sn(ot),en&&cn.push(en)}function ot(){if(!un){for(un=!0;cn.length;){const en=cn;cn=[];for(let rt=0;rt<en.length;rt++){const q=en[rt];try{q.zone.runTask(q,null,null)}catch(ue){vn.onUnhandledError(ue)}}}vn.microtaskDrainDone(),un=!1}}const Un={name:"NO ZONE"},gn="notScheduled",Xn="scheduling",nn="scheduled",Ue="running",kt="canceling",Ye="unknown",Xt="microTask",yt="macroTask",$n="eventTask",Dr={},vn={symbol:Ce,currentZoneFrame:()=>pn,onUnhandledError:Hn,microtaskDrainDone:Hn,scheduleMicroTask:Et,showUncaughtError:()=>!_e[Ce("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:Hn,patchMethod:()=>Hn,bindArguments:()=>[],patchThen:()=>Hn,patchMacroTask:()=>Hn,patchEventPrototype:()=>Hn,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>Hn,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>Hn,wrapWithCurrentZone:()=>Hn,filterProperties:()=>[],attachOriginToPatched:()=>Hn,_redefineProperty:()=>Hn,patchCallbacks:()=>Hn,nativeScheduleMicroTask:Sn};let pn={parent:null,zone:new _e(null,null)},xr=null,_r=0;function Hn(){}ae("Zone","Zone"),R.Zone=_e}(globalThis);const Wn=Object.getOwnPropertyDescriptor,pr=Object.defineProperty,Yn=Object.getPrototypeOf,ki=Object.create,dt=Array.prototype.slice,Lr="addEventListener",ut="removeEventListener",Ne=Zone.__symbol__(Lr),Qn=Zone.__symbol__(ut),Sr="true",Vn="false",Gt=Zone.__symbol__("");function gi(R,U){return Zone.current.wrap(R,U)}function Nr(R,U,fe,ae,J){return Zone.current.scheduleMacroTask(R,U,fe,ae,J)}const Ot=Zone.__symbol__,Xi=typeof window<"u",pi=Xi?window:void 0,nt=Xi&&pi||globalThis,Ct="removeAttribute";function ui(R,U){for(let fe=R.length-1;fe>=0;fe--)"function"==typeof R[fe]&&(R[fe]=gi(R[fe],U+"_"+fe));return R}function vo(R){return!R||!1!==R.writable&&!("function"==typeof R.get&&typeof R.set>"u")}const Dn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,fr=!("nw"in nt)&&typeof nt.process<"u"&&"[object process]"==={}.toString.call(nt.process),Zn=!fr&&!Dn&&!(!Xi||!pi.HTMLElement),Cr=typeof nt.process<"u"&&"[object process]"==={}.toString.call(nt.process)&&!Dn&&!(!Xi||!pi.HTMLElement),y={},mi=function(R){if(!(R=R||nt.event))return;let U=y[R.type];U||(U=y[R.type]=Ot("ON_PROPERTY"+R.type));const fe=this||R.target||nt,ae=fe[U];let J;return Zn&&fe===pi&&"error"===R.type?(J=ae&&ae.call(this,R.message,R.filename,R.lineno,R.colno,R.error),!0===J&&R.preventDefault()):(J=ae&&ae.apply(this,arguments),null!=J&&!J&&R.preventDefault()),J};function an(R,U,fe){let ae=Wn(R,U);if(!ae&&fe&&Wn(fe,U)&&(ae={enumerable:!0,configurable:!0}),!ae||!ae.configurable)return;const J=Ot("on"+U+"patched");if(R.hasOwnProperty(J)&&R[J])return;delete ae.writable,delete ae.value;const Ce=ae.get,Xe=ae.set,_e=U.slice(2);let Qe=y[_e];Qe||(Qe=y[_e]=Ot("ON_PROPERTY"+_e)),ae.set=function(We){let Ze=this;!Ze&&R===nt&&(Ze=nt),Ze&&("function"==typeof Ze[Qe]&&Ze.removeEventListener(_e,mi),Xe&&Xe.call(Ze,null),Ze[Qe]=We,"function"==typeof We&&Ze.addEventListener(_e,mi,!1))},ae.get=function(){let We=this;if(!We&&R===nt&&(We=nt),!We)return null;const Ze=We[Qe];if(Ze)return Ze;if(Ce){let ht=Ce.call(this);if(ht)return ae.set.call(this,ht),"function"==typeof We[Ct]&&We.removeAttribute(U),ht}return null},pr(R,U,ae),R[J]=!0}function fs(R,U,fe){if(U)for(let ae=0;ae<U.length;ae++)an(R,"on"+U[ae],fe);else{const ae=[];for(const J in R)"on"==J.slice(0,2)&&ae.push(J);for(let J=0;J<ae.length;J++)an(R,ae[J],fe)}}const mn=Ot("originalInstance");function li(R){const U=nt[R];if(!U)return;nt[Ot(R)]=U,nt[R]=function(){const J=ui(arguments,R);switch(J.length){case 0:this[mn]=new U;break;case 1:this[mn]=new U(J[0]);break;case 2:this[mn]=new U(J[0],J[1]);break;case 3:this[mn]=new U(J[0],J[1],J[2]);break;case 4:this[mn]=new U(J[0],J[1],J[2],J[3]);break;default:throw new Error("Arg list too long.")}},Qr(nt[R],U);const fe=new U(function(){});let ae;for(ae in fe)"XMLHttpRequest"===R&&"responseBlob"===ae||function(J){"function"==typeof fe[J]?nt[R].prototype[J]=function(){return this[mn][J].apply(this[mn],arguments)}:pr(nt[R].prototype,J,{set:function(Ce){"function"==typeof Ce?(this[mn][J]=gi(Ce,R+"."+J),Qr(this[mn][J],Ce)):this[mn][J]=Ce},get:function(){return this[mn][J]}})}(ae);for(ae in U)"prototype"!==ae&&U.hasOwnProperty(ae)&&(nt[R][ae]=U[ae])}function jt(R,U,fe){let ae=R;for(;ae&&!ae.hasOwnProperty(U);)ae=Yn(ae);!ae&&R[U]&&(ae=R);const J=Ot(U);let Ce=null;if(ae&&(!(Ce=ae[J])||!ae.hasOwnProperty(J))&&(Ce=ae[J]=ae[U],vo(ae&&Wn(ae,U)))){const _e=fe(Ce,J,U);ae[U]=function(){return _e(this,arguments)},Qr(ae[U],Ce)}return Ce}function $i(R,U,fe){let ae=null;function J(Ce){const Xe=Ce.data;return Xe.args[Xe.cbIdx]=function(){Ce.invoke.apply(this,arguments)},ae.apply(Xe.target,Xe.args),Ce}ae=jt(R,U,Ce=>function(Xe,_e){const Qe=fe(Xe,_e);return Qe.cbIdx>=0&&"function"==typeof _e[Qe.cbIdx]?Nr(Qe.name,_e[Qe.cbIdx],Qe,J):Ce.apply(Xe,_e)})}function Qr(R,U){R[Ot("OriginalDelegate")]=U}let To=!1,wr=!1;function Li(){if(To)return wr;To=!0;try{const R=pi.navigator.userAgent;(-1!==R.indexOf("MSIE ")||-1!==R.indexOf("Trident/")||-1!==R.indexOf("Edge/"))&&(wr=!0)}catch{}return wr}Zone.__load_patch("ZoneAwarePromise",(R,U,fe)=>{const ae=Object.getOwnPropertyDescriptor,J=Object.defineProperty,Xe=fe.symbol,_e=[],Qe=!1!==R[Xe("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],We=Xe("Promise"),Ze=Xe("then"),ht="__creationTrace__";fe.onUnhandledError=ke=>{if(fe.showUncaughtError()){const Re=ke&&ke.rejection;Re?console.error("Unhandled Promise rejection:",Re instanceof Error?Re.message:Re,"; Zone:",ke.zone.name,"; Task:",ke.task&&ke.task.source,"; Value:",Re,Re instanceof Error?Re.stack:void 0):console.error(ke)}},fe.microtaskDrainDone=()=>{for(;_e.length;){const ke=_e.shift();try{ke.zone.runGuarded(()=>{throw ke.throwOriginal?ke.rejection:ke})}catch(Re){pt(Re)}}};const it=Xe("unhandledPromiseRejectionHandler");function pt(ke){fe.onUnhandledError(ke);try{const Re=U[it];"function"==typeof Re&&Re.call(this,ke)}catch{}}function cn(ke){return ke&&ke.then}function un(ke){return ke}function Mn(ke){return q.reject(ke)}const Sn=Xe("state"),Et=Xe("value"),ot=Xe("finally"),Un=Xe("parentPromiseValue"),gn=Xe("parentPromiseState"),Xn="Promise.then",nn=null,Ue=!0,kt=!1,Ye=0;function Xt(ke,Re){return pe=>{try{vn(ke,Re,pe)}catch(Le){vn(ke,!1,Le)}}}const yt=function(){let ke=!1;return function(pe){return function(){ke||(ke=!0,pe.apply(null,arguments))}}},$n="Promise resolved with itself",Dr=Xe("currentTaskTrace");function vn(ke,Re,pe){const Le=yt();if(ke===pe)throw new TypeError($n);if(ke[Sn]===nn){let at=null;try{("object"==typeof pe||"function"==typeof pe)&&(at=pe&&pe.then)}catch(gt){return Le(()=>{vn(ke,!1,gt)})(),ke}if(Re!==kt&&pe instanceof q&&pe.hasOwnProperty(Sn)&&pe.hasOwnProperty(Et)&&pe[Sn]!==nn)xr(pe),vn(ke,pe[Sn],pe[Et]);else if(Re!==kt&&"function"==typeof at)try{at.call(pe,Le(Xt(ke,Re)),Le(Xt(ke,!1)))}catch(gt){Le(()=>{vn(ke,!1,gt)})()}else{ke[Sn]=Re;const gt=ke[Et];if(ke[Et]=pe,ke[ot]===ot&&Re===Ue&&(ke[Sn]=ke[gn],ke[Et]=ke[Un]),Re===kt&&pe instanceof Error){const Je=U.currentTask&&U.currentTask.data&&U.currentTask.data[ht];Je&&J(pe,Dr,{configurable:!0,enumerable:!1,writable:!0,value:Je})}for(let Je=0;Je<gt.length;)_r(ke,gt[Je++],gt[Je++],gt[Je++],gt[Je++]);if(0==gt.length&&Re==kt){ke[Sn]=Ye;let Je=pe;try{throw new Error("Uncaught (in promise): "+function Ce(ke){return ke&&ke.toString===Object.prototype.toString?(ke.constructor&&ke.constructor.name||"")+": "+JSON.stringify(ke):ke?ke.toString():Object.prototype.toString.call(ke)}(pe)+(pe&&pe.stack?"\n"+pe.stack:""))}catch(ft){Je=ft}Qe&&(Je.throwOriginal=!0),Je.rejection=pe,Je.promise=ke,Je.zone=U.current,Je.task=U.currentTask,_e.push(Je),fe.scheduleMicroTask()}}}return ke}const pn=Xe("rejectionHandledHandler");function xr(ke){if(ke[Sn]===Ye){try{const Re=U[pn];Re&&"function"==typeof Re&&Re.call(this,{rejection:ke[Et],promise:ke})}catch{}ke[Sn]=kt;for(let Re=0;Re<_e.length;Re++)ke===_e[Re].promise&&_e.splice(Re,1)}}function _r(ke,Re,pe,Le,at){xr(ke);const gt=ke[Sn],Je=gt?"function"==typeof Le?Le:un:"function"==typeof at?at:Mn;Re.scheduleMicroTask(Xn,()=>{try{const ft=ke[Et],Lt=!!pe&&ot===pe[ot];Lt&&(pe[Un]=ft,pe[gn]=gt);const Pt=Re.run(Je,void 0,Lt&&Je!==Mn&&Je!==un?[]:[ft]);vn(pe,!0,Pt)}catch(ft){vn(pe,!1,ft)}},pe)}const en=function(){},rt=R.AggregateError;class q{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(Re){return vn(new this(null),Ue,Re)}static reject(Re){return vn(new this(null),kt,Re)}static any(Re){if(!Re||"function"!=typeof Re[Symbol.iterator])return Promise.reject(new rt([],"All promises were rejected"));const pe=[];let Le=0;try{for(let Je of Re)Le++,pe.push(q.resolve(Je))}catch{return Promise.reject(new rt([],"All promises were rejected"))}if(0===Le)return Promise.reject(new rt([],"All promises were rejected"));let at=!1;const gt=[];return new q((Je,ft)=>{for(let Lt=0;Lt<pe.length;Lt++)pe[Lt].then(Pt=>{at||(at=!0,Je(Pt))},Pt=>{gt.push(Pt),Le--,0===Le&&(at=!0,ft(new rt(gt,"All promises were rejected")))})})}static race(Re){let pe,Le,at=new this((ft,Lt)=>{pe=ft,Le=Lt});function gt(ft){pe(ft)}function Je(ft){Le(ft)}for(let ft of Re)cn(ft)||(ft=this.resolve(ft)),ft.then(gt,Je);return at}static all(Re){return q.allWithCallback(Re)}static allSettled(Re){return(this&&this.prototype instanceof q?this:q).allWithCallback(Re,{thenCallback:Le=>({status:"fulfilled",value:Le}),errorCallback:Le=>({status:"rejected",reason:Le})})}static allWithCallback(Re,pe){let Le,at,gt=new this((Pt,En)=>{Le=Pt,at=En}),Je=2,ft=0;const Lt=[];for(let Pt of Re){cn(Pt)||(Pt=this.resolve(Pt));const En=ft;try{Pt.then(An=>{Lt[En]=pe?pe.thenCallback(An):An,Je--,0===Je&&Le(Lt)},An=>{pe?(Lt[En]=pe.errorCallback(An),Je--,0===Je&&Le(Lt)):at(An)})}catch(An){at(An)}Je++,ft++}return Je-=2,0===Je&&Le(Lt),gt}constructor(Re){const pe=this;if(!(pe instanceof q))throw new Error("Must be an instanceof Promise.");pe[Sn]=nn,pe[Et]=[];try{const Le=yt();Re&&Re(Le(Xt(pe,Ue)),Le(Xt(pe,kt)))}catch(Le){vn(pe,!1,Le)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return q}then(Re,pe){let Le=this.constructor?.[Symbol.species];(!Le||"function"!=typeof Le)&&(Le=this.constructor||q);const at=new Le(en),gt=U.current;return this[Sn]==nn?this[Et].push(gt,at,Re,pe):_r(this,gt,at,Re,pe),at}catch(Re){return this.then(null,Re)}finally(Re){let pe=this.constructor?.[Symbol.species];(!pe||"function"!=typeof pe)&&(pe=q);const Le=new pe(en);Le[ot]=ot;const at=U.current;return this[Sn]==nn?this[Et].push(at,Le,Re,Re):_r(this,at,Le,Re,Re),Le}}q.resolve=q.resolve,q.reject=q.reject,q.race=q.race,q.all=q.all;const ue=R[We]=R.Promise;R.Promise=q;const qe=Xe("thenPatched");function _t(ke){const Re=ke.prototype,pe=ae(Re,"then");if(pe&&(!1===pe.writable||!pe.configurable))return;const Le=Re.then;Re[Ze]=Le,ke.prototype.then=function(at,gt){return new q((ft,Lt)=>{Le.call(this,ft,Lt)}).then(at,gt)},ke[qe]=!0}return fe.patchThen=_t,ue&&(_t(ue),jt(R,"fetch",ke=>function Ln(ke){return function(Re,pe){let Le=ke.apply(Re,pe);if(Le instanceof q)return Le;let at=Le.constructor;return at[qe]||_t(at),Le}}(ke))),Promise[U.__symbol__("uncaughtPromiseErrors")]=_e,q}),Zone.__load_patch("toString",R=>{const U=Function.prototype.toString,fe=Ot("OriginalDelegate"),ae=Ot("Promise"),J=Ot("Error"),Ce=function(){if("function"==typeof this){const We=this[fe];if(We)return"function"==typeof We?U.call(We):Object.prototype.toString.call(We);if(this===Promise){const Ze=R[ae];if(Ze)return U.call(Ze)}if(this===Error){const Ze=R[J];if(Ze)return U.call(Ze)}}return U.call(this)};Ce[fe]=U,Function.prototype.toString=Ce;const Xe=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":Xe.call(this)}});let vi=!1;if(typeof window<"u")try{const R=Object.defineProperty({},"passive",{get:function(){vi=!0}});window.addEventListener("test",R,R),window.removeEventListener("test",R,R)}catch{vi=!1}const rr={useG:!0},Ar={},yi={},Ii=new RegExp("^"+Gt+"(\\w+)(true|false)$"),qi=Ot("propagationStopped");function ds(R,U){const fe=(U?U(R):R)+Vn,ae=(U?U(R):R)+Sr,J=Gt+fe,Ce=Gt+ae;Ar[R]={},Ar[R][Vn]=J,Ar[R][Sr]=Ce}function Vo(R,U,fe,ae){const J=ae&&ae.add||Lr,Ce=ae&&ae.rm||ut,Xe=ae&&ae.listeners||"eventListeners",_e=ae&&ae.rmAll||"removeAllListeners",Qe=Ot(J),We="."+J+":",Ze="prependListener",ht="."+Ze+":",it=function(Et,ot,Un){if(Et.isRemoved)return;const gn=Et.callback;let Xn;"object"==typeof gn&&gn.handleEvent&&(Et.callback=Ue=>gn.handleEvent(Ue),Et.originalDelegate=gn);try{Et.invoke(Et,ot,[Un])}catch(Ue){Xn=Ue}const nn=Et.options;return nn&&"object"==typeof nn&&nn.once&&ot[Ce].call(ot,Un.type,Et.originalDelegate?Et.originalDelegate:Et.callback,nn),Xn};function pt(Et,ot,Un){if(!(ot=ot||R.event))return;const gn=Et||ot.target||R,Xn=gn[Ar[ot.type][Un?Sr:Vn]];if(Xn){const nn=[];if(1===Xn.length){const Ue=it(Xn[0],gn,ot);Ue&&nn.push(Ue)}else{const Ue=Xn.slice();for(let kt=0;kt<Ue.length&&(!ot||!0!==ot[qi]);kt++){const Ye=it(Ue[kt],gn,ot);Ye&&nn.push(Ye)}}if(1===nn.length)throw nn[0];for(let Ue=0;Ue<nn.length;Ue++){const kt=nn[Ue];U.nativeScheduleMicroTask(()=>{throw kt})}}}const cn=function(Et){return pt(this,Et,!1)},un=function(Et){return pt(this,Et,!0)};function Mn(Et,ot){if(!Et)return!1;let Un=!0;ot&&void 0!==ot.useG&&(Un=ot.useG);const gn=ot&&ot.vh;let Xn=!0;ot&&void 0!==ot.chkDup&&(Xn=ot.chkDup);let nn=!1;ot&&void 0!==ot.rt&&(nn=ot.rt);let Ue=Et;for(;Ue&&!Ue.hasOwnProperty(J);)Ue=Yn(Ue);if(!Ue&&Et[J]&&(Ue=Et),!Ue||Ue[Qe])return!1;const kt=ot&&ot.eventNameToString,Ye={},Xt=Ue[Qe]=Ue[J],yt=Ue[Ot(Ce)]=Ue[Ce],$n=Ue[Ot(Xe)]=Ue[Xe],Dr=Ue[Ot(_e)]=Ue[_e];let vn;ot&&ot.prepend&&(vn=Ue[Ot(ot.prepend)]=Ue[ot.prepend]);const q=Un?function(pe){if(!Ye.isExisting)return Xt.call(Ye.target,Ye.eventName,Ye.capture?un:cn,Ye.options)}:function(pe){return Xt.call(Ye.target,Ye.eventName,pe.invoke,Ye.options)},ue=Un?function(pe){if(!pe.isRemoved){const Le=Ar[pe.eventName];let at;Le&&(at=Le[pe.capture?Sr:Vn]);const gt=at&&pe.target[at];if(gt)for(let Je=0;Je<gt.length;Je++)if(gt[Je]===pe){gt.splice(Je,1),pe.isRemoved=!0,0===gt.length&&(pe.allRemoved=!0,pe.target[at]=null);break}}if(pe.allRemoved)return yt.call(pe.target,pe.eventName,pe.capture?un:cn,pe.options)}:function(pe){return yt.call(pe.target,pe.eventName,pe.invoke,pe.options)},_t=ot&&ot.diff?ot.diff:function(pe,Le){const at=typeof Le;return"function"===at&&pe.callback===Le||"object"===at&&pe.originalDelegate===Le},Ln=Zone[Ot("UNPATCHED_EVENTS")],ke=R[Ot("PASSIVE_EVENTS")],Re=function(pe,Le,at,gt,Je=!1,ft=!1){return function(){const Lt=this||R;let Pt=arguments[0];ot&&ot.transferEventName&&(Pt=ot.transferEventName(Pt));let En=arguments[1];if(!En)return pe.apply(this,arguments);if(fr&&"uncaughtException"===Pt)return pe.apply(this,arguments);let An=!1;if("function"!=typeof En){if(!En.handleEvent)return pe.apply(this,arguments);An=!0}if(gn&&!gn(pe,En,Lt,arguments))return;const Kr=vi&&!!ke&&-1!==ke.indexOf(Pt),Rr=function pn(pe,Le){return!vi&&"object"==typeof pe&&pe?!!pe.capture:vi&&Le?"boolean"==typeof pe?{capture:pe,passive:!0}:pe?"object"==typeof pe&&!1!==pe.passive?{...pe,passive:!0}:pe:{passive:!0}:pe}(arguments[2],Kr);if(Ln)for(let Ai=0;Ai<Ln.length;Ai++)if(Pt===Ln[Ai])return Kr?pe.call(Lt,Pt,En,Rr):pe.apply(this,arguments);const Es=!!Rr&&("boolean"==typeof Rr||Rr.capture),qs=!(!Rr||"object"!=typeof Rr)&&Rr.once,ma=Zone.current;let Ts=Ar[Pt];Ts||(ds(Pt,kt),Ts=Ar[Pt]);const Qs=Ts[Es?Sr:Vn];let No,ir=Lt[Qs],ji=!1;if(ir){if(ji=!0,Xn)for(let Ai=0;Ai<ir.length;Ai++)if(_t(ir[Ai],En))return}else ir=Lt[Qs]=[];const Ss=Lt.constructor.name,va=yi[Ss];va&&(No=va[Pt]),No||(No=Ss+Le+(kt?kt(Pt):Pt)),Ye.options=Rr,qs&&(Ye.options.once=!1),Ye.target=Lt,Ye.capture=Es,Ye.eventName=Pt,Ye.isExisting=ji;const Qi=Un?rr:void 0;Qi&&(Qi.taskData=Ye);const wi=ma.scheduleEventTask(No,En,Qi,at,gt);return Ye.target=null,Qi&&(Qi.taskData=null),qs&&(Rr.once=!0),!vi&&"boolean"==typeof wi.options||(wi.options=Rr),wi.target=Lt,wi.capture=Es,wi.eventName=Pt,An&&(wi.originalDelegate=En),ft?ir.unshift(wi):ir.push(wi),Je?Lt:void 0}};return Ue[J]=Re(Xt,We,q,ue,nn),vn&&(Ue[Ze]=Re(vn,ht,function(pe){return vn.call(Ye.target,Ye.eventName,pe.invoke,Ye.options)},ue,nn,!0)),Ue[Ce]=function(){const pe=this||R;let Le=arguments[0];ot&&ot.transferEventName&&(Le=ot.transferEventName(Le));const at=arguments[2],gt=!!at&&("boolean"==typeof at||at.capture),Je=arguments[1];if(!Je)return yt.apply(this,arguments);if(gn&&!gn(yt,Je,pe,arguments))return;const ft=Ar[Le];let Lt;ft&&(Lt=ft[gt?Sr:Vn]);const Pt=Lt&&pe[Lt];if(Pt)for(let En=0;En<Pt.length;En++){const An=Pt[En];if(_t(An,Je))return Pt.splice(En,1),An.isRemoved=!0,0===Pt.length&&(An.allRemoved=!0,pe[Lt]=null,"string"==typeof Le)&&(pe[Gt+"ON_PROPERTY"+Le]=null),An.zone.cancelTask(An),nn?pe:void 0}return yt.apply(this,arguments)},Ue[Xe]=function(){const pe=this||R;let Le=arguments[0];ot&&ot.transferEventName&&(Le=ot.transferEventName(Le));const at=[],gt=br(pe,kt?kt(Le):Le);for(let Je=0;Je<gt.length;Je++){const ft=gt[Je];at.push(ft.originalDelegate?ft.originalDelegate:ft.callback)}return at},Ue[_e]=function(){const pe=this||R;let Le=arguments[0];if(Le){ot&&ot.transferEventName&&(Le=ot.transferEventName(Le));const at=Ar[Le];if(at){const ft=pe[at[Vn]],Lt=pe[at[Sr]];if(ft){const Pt=ft.slice();for(let En=0;En<Pt.length;En++){const An=Pt[En];this[Ce].call(this,Le,An.originalDelegate?An.originalDelegate:An.callback,An.options)}}if(Lt){const Pt=Lt.slice();for(let En=0;En<Pt.length;En++){const An=Pt[En];this[Ce].call(this,Le,An.originalDelegate?An.originalDelegate:An.callback,An.options)}}}}else{const at=Object.keys(pe);for(let gt=0;gt<at.length;gt++){const ft=Ii.exec(at[gt]);let Lt=ft&&ft[1];Lt&&"removeListener"!==Lt&&this[_e].call(this,Lt)}this[_e].call(this,"removeListener")}if(nn)return this},Qr(Ue[J],Xt),Qr(Ue[Ce],yt),Dr&&Qr(Ue[_e],Dr),$n&&Qr(Ue[Xe],$n),!0}let Sn=[];for(let Et=0;Et<fe.length;Et++)Sn[Et]=Mn(fe[Et],ae);return Sn}function br(R,U){if(!U){const Ce=[];for(let Xe in R){const _e=Ii.exec(Xe);let Qe=_e&&_e[1];if(Qe&&(!U||Qe===U)){const We=R[Xe];if(We)for(let Ze=0;Ze<We.length;Ze++)Ce.push(We[Ze])}}return Ce}let fe=Ar[U];fe||(ds(U),fe=Ar[U]);const ae=R[fe[Vn]],J=R[fe[Sr]];return ae?J?ae.concat(J):ae.slice():J?J.slice():[]}function Ri(R,U){const fe=R.Event;fe&&fe.prototype&&U.patchMethod(fe.prototype,"stopImmediatePropagation",ae=>function(J,Ce){J[qi]=!0,ae&&ae.apply(J,Ce)})}function Ur(R,U,fe,ae,J){const Ce=Zone.__symbol__(ae);if(U[Ce])return;const Xe=U[Ce]=U[ae];U[ae]=function(_e,Qe,We){return Qe&&Qe.prototype&&J.forEach(function(Ze){const ht=`${fe}.${ae}::`+Ze,it=Qe.prototype;try{if(it.hasOwnProperty(Ze)){const pt=R.ObjectGetOwnPropertyDescriptor(it,Ze);pt&&pt.value?(pt.value=R.wrapWithCurrentZone(pt.value,ht),R._redefineProperty(Qe.prototype,Ze,pt)):it[Ze]&&(it[Ze]=R.wrapWithCurrentZone(it[Ze],ht))}else it[Ze]&&(it[Ze]=R.wrapWithCurrentZone(it[Ze],ht))}catch{}}),Xe.call(U,_e,Qe,We)},R.attachOriginToPatched(U[ae],Xe)}function So(R,U,fe){if(!fe||0===fe.length)return U;const ae=fe.filter(Ce=>Ce.target===R);if(!ae||0===ae.length)return U;const J=ae[0].ignoreProperties;return U.filter(Ce=>-1===J.indexOf(Ce))}function Fi(R,U,fe,ae){R&&fs(R,So(R,U,fe),ae)}function fi(R){return Object.getOwnPropertyNames(R).filter(U=>U.startsWith("on")&&U.length>2).map(U=>U.substring(2))}Zone.__load_patch("util",(R,U,fe)=>{const ae=fi(R);fe.patchOnProperties=fs,fe.patchMethod=jt,fe.bindArguments=ui,fe.patchMacroTask=$i;const J=U.__symbol__("BLACK_LISTED_EVENTS"),Ce=U.__symbol__("UNPATCHED_EVENTS");R[Ce]&&(R[J]=R[Ce]),R[J]&&(U[J]=U[Ce]=R[J]),fe.patchEventPrototype=Ri,fe.patchEventTarget=Vo,fe.isIEOrEdge=Li,fe.ObjectDefineProperty=pr,fe.ObjectGetOwnPropertyDescriptor=Wn,fe.ObjectCreate=ki,fe.ArraySlice=dt,fe.patchClass=li,fe.wrapWithCurrentZone=gi,fe.filterProperties=So,fe.attachOriginToPatched=Qr,fe._redefineProperty=Object.defineProperty,fe.patchCallbacks=Ur,fe.getGlobalObjects=()=>({globalSources:yi,zoneSymbolEventNames:Ar,eventNames:ae,isBrowser:Zn,isMix:Cr,isNode:fr,TRUE_STR:Sr,FALSE_STR:Vn,ZONE_SYMBOL_PREFIX:Gt,ADD_EVENT_LISTENER_STR:Lr,REMOVE_EVENT_LISTENER_STR:ut})});const P=Ot("zoneTask");function z(R,U,fe,ae){let J=null,Ce=null;fe+=ae;const Xe={};function _e(We){const Ze=We.data;return Ze.args[0]=function(){return We.invoke.apply(this,arguments)},Ze.handleId=J.apply(R,Ze.args),We}function Qe(We){return Ce.call(R,We.data.handleId)}J=jt(R,U+=ae,We=>function(Ze,ht){if("function"==typeof ht[0]){const it={isPeriodic:"Interval"===ae,delay:"Timeout"===ae||"Interval"===ae?ht[1]||0:void 0,args:ht},pt=ht[0];ht[0]=function(){try{return pt.apply(this,arguments)}finally{it.isPeriodic||("number"==typeof it.handleId?delete Xe[it.handleId]:it.handleId&&(it.handleId[P]=null))}};const cn=Nr(U,ht[0],it,_e,Qe);if(!cn)return cn;const un=cn.data.handleId;return"number"==typeof un?Xe[un]=cn:un&&(un[P]=cn),un&&un.ref&&un.unref&&"function"==typeof un.ref&&"function"==typeof un.unref&&(cn.ref=un.ref.bind(un),cn.unref=un.unref.bind(un)),"number"==typeof un||un?un:cn}return We.apply(R,ht)}),Ce=jt(R,fe,We=>function(Ze,ht){const it=ht[0];let pt;"number"==typeof it?pt=Xe[it]:(pt=it&&it[P],pt||(pt=it)),pt&&"string"==typeof pt.type?"notScheduled"!==pt.state&&(pt.cancelFn&&pt.data.isPeriodic||0===pt.runCount)&&("number"==typeof it?delete Xe[it]:it&&(it[P]=null),pt.zone.cancelTask(pt)):We.apply(R,ht)})}Zone.__load_patch("legacy",R=>{const U=R[Zone.__symbol__("legacyPatch")];U&&U()}),Zone.__load_patch("timers",R=>{const U="set",fe="clear";z(R,U,fe,"Timeout"),z(R,U,fe,"Interval"),z(R,U,fe,"Immediate")}),Zone.__load_patch("requestAnimationFrame",R=>{z(R,"request","cancel","AnimationFrame"),z(R,"mozRequest","mozCancel","AnimationFrame"),z(R,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(R,U)=>{const fe=["alert","prompt","confirm"];for(let ae=0;ae<fe.length;ae++)jt(R,fe[ae],(Ce,Xe,_e)=>function(Qe,We){return U.current.run(Ce,R,We,_e)})}),Zone.__load_patch("EventTarget",(R,U,fe)=>{(function Se(R,U){U.patchEventPrototype(R,U)})(R,fe),function Me(R,U){if(Zone[U.symbol("patchEventTarget")])return;const{eventNames:fe,zoneSymbolEventNames:ae,TRUE_STR:J,FALSE_STR:Ce,ZONE_SYMBOL_PREFIX:Xe}=U.getGlobalObjects();for(let Qe=0;Qe<fe.length;Qe++){const We=fe[Qe],it=Xe+(We+Ce),pt=Xe+(We+J);ae[We]={},ae[We][Ce]=it,ae[We][J]=pt}const _e=R.EventTarget;_e&&_e.prototype&&U.patchEventTarget(R,U,[_e&&_e.prototype])}(R,fe);const ae=R.XMLHttpRequestEventTarget;ae&&ae.prototype&&fe.patchEventTarget(R,fe,[ae.prototype])}),Zone.__load_patch("MutationObserver",(R,U,fe)=>{li("MutationObserver"),li("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(R,U,fe)=>{li("IntersectionObserver")}),Zone.__load_patch("FileReader",(R,U,fe)=>{li("FileReader")}),Zone.__load_patch("on_property",(R,U,fe)=>{!function Ci(R,U){if(fr&&!Cr||Zone[R.symbol("patchEvents")])return;const fe=U.__Zone_ignore_on_properties;let ae=[];if(Zn){const J=window;ae=ae.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const Ce=function Ji(){try{const R=pi.navigator.userAgent;if(-1!==R.indexOf("MSIE ")||-1!==R.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:J,ignoreProperties:["error"]}]:[];Fi(J,fi(J),fe&&fe.concat(Ce),Yn(J))}ae=ae.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let J=0;J<ae.length;J++){const Ce=U[ae[J]];Ce&&Ce.prototype&&Fi(Ce.prototype,fi(Ce.prototype),fe)}}(fe,R)}),Zone.__load_patch("customElements",(R,U,fe)=>{!function ne(R,U){const{isBrowser:fe,isMix:ae}=U.getGlobalObjects();(fe||ae)&&R.customElements&&"customElements"in R&&U.patchCallbacks(U,R.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(R,fe)}),Zone.__load_patch("XHR",(R,U)=>{!function Qe(We){const Ze=We.XMLHttpRequest;if(!Ze)return;const ht=Ze.prototype;let pt=ht[Ne],cn=ht[Qn];if(!pt){const Ye=We.XMLHttpRequestEventTarget;if(Ye){const Xt=Ye.prototype;pt=Xt[Ne],cn=Xt[Qn]}}const un="readystatechange",Mn="scheduled";function Sn(Ye){const Xt=Ye.data,yt=Xt.target;yt[Ce]=!1,yt[_e]=!1;const $n=yt[J];pt||(pt=yt[Ne],cn=yt[Qn]),$n&&cn.call(yt,un,$n);const Dr=yt[J]=()=>{if(yt.readyState===yt.DONE)if(!Xt.aborted&&yt[Ce]&&Ye.state===Mn){const pn=yt[U.__symbol__("loadfalse")];if(0!==yt.status&&pn&&pn.length>0){const xr=Ye.invoke;Ye.invoke=function(){const _r=yt[U.__symbol__("loadfalse")];for(let Hn=0;Hn<_r.length;Hn++)_r[Hn]===Ye&&_r.splice(Hn,1);!Xt.aborted&&Ye.state===Mn&&xr.call(Ye)},pn.push(Ye)}else Ye.invoke()}else!Xt.aborted&&!1===yt[Ce]&&(yt[_e]=!0)};return pt.call(yt,un,Dr),yt[fe]||(yt[fe]=Ye),Ue.apply(yt,Xt.args),yt[Ce]=!0,Ye}function Et(){}function ot(Ye){const Xt=Ye.data;return Xt.aborted=!0,kt.apply(Xt.target,Xt.args)}const Un=jt(ht,"open",()=>function(Ye,Xt){return Ye[ae]=0==Xt[2],Ye[Xe]=Xt[1],Un.apply(Ye,Xt)}),Xn=Ot("fetchTaskAborting"),nn=Ot("fetchTaskScheduling"),Ue=jt(ht,"send",()=>function(Ye,Xt){if(!0===U.current[nn]||Ye[ae])return Ue.apply(Ye,Xt);{const yt={target:Ye,url:Ye[Xe],isPeriodic:!1,args:Xt,aborted:!1},$n=Nr("XMLHttpRequest.send",Et,yt,Sn,ot);Ye&&!0===Ye[_e]&&!yt.aborted&&$n.state===Mn&&$n.invoke()}}),kt=jt(ht,"abort",()=>function(Ye,Xt){const yt=function it(Ye){return Ye[fe]}(Ye);if(yt&&"string"==typeof yt.type){if(null==yt.cancelFn||yt.data&&yt.data.aborted)return;yt.zone.cancelTask(yt)}else if(!0===U.current[Xn])return kt.apply(Ye,Xt)})}(R);const fe=Ot("xhrTask"),ae=Ot("xhrSync"),J=Ot("xhrListener"),Ce=Ot("xhrScheduled"),Xe=Ot("xhrURL"),_e=Ot("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",R=>{R.navigator&&R.navigator.geolocation&&function vt(R,U){const fe=R.constructor.name;for(let ae=0;ae<U.length;ae++){const J=U[ae],Ce=R[J];if(Ce){if(!vo(Wn(R,J)))continue;R[J]=(_e=>{const Qe=function(){return _e.apply(this,ui(arguments,fe+"."+J))};return Qr(Qe,_e),Qe})(Ce)}}}(R.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(R,U)=>{function fe(ae){return function(J){br(R,ae).forEach(Xe=>{const _e=R.PromiseRejectionEvent;if(_e){const Qe=new _e(ae,{promise:J.promise,reason:J.rejection});Xe.invoke(Qe)}})}}R.PromiseRejectionEvent&&(U[Ot("unhandledPromiseRejectionHandler")]=fe("unhandledrejection"),U[Ot("rejectionHandledHandler")]=fe("rejectionhandled"))}),Zone.__load_patch("queueMicrotask",(R,U,fe)=>{!function M(R,U){U.patchMethod(R,"queueMicrotask",fe=>function(ae,J){Zone.current.scheduleMicroTask("queueMicrotask",J[0])})}(R,fe)})},670:(Wn,pr,Yn)=>{"use strict";Yn.r(pr),Yn.d(pr,{VERSION:()=>dt,after:()=>Aa,all:()=>Ta,allKeys:()=>pt,any:()=>_o,assign:()=>pn,before:()=>ba,bind:()=>qa,bindAll:()=>Zo,chain:()=>xo,chunk:()=>Ho,clone:()=>rt,collect:()=>zi,compact:()=>eo,compose:()=>tc,constant:()=>Ci,contains:()=>Gi,countBy:()=>ee,create:()=>en,debounce:()=>Ca,default:()=>no,defaults:()=>xr,defer:()=>Ns,delay:()=>Qa,detect:()=>_s,difference:()=>Ht,drop:()=>Jn,each:()=>Bi,escape:()=>ma,every:()=>Ta,extend:()=>vn,extendOwn:()=>pn,filter:()=>Uo,find:()=>_s,findIndex:()=>Ks,findKey:()=>xs,findLastIndex:()=>Da,findWhere:()=>Ea,first:()=>St,flatten:()=>Qt,foldl:()=>hs,foldr:()=>Ei,forEach:()=>Bi,functions:()=>$n,get:()=>Ln,groupBy:()=>Z,has:()=>ke,head:()=>St,identity:()=>Re,include:()=>Gi,includes:()=>Gi,indexBy:()=>B,indexOf:()=>Ki,initial:()=>rn,inject:()=>hs,intersection:()=>Ps,invert:()=>yt,invoke:()=>Sa,isArguments:()=>So,isArray:()=>br,isArrayBuffer:()=>Ji,isBoolean:()=>an,isDataView:()=>Vo,isDate:()=>$i,isElement:()=>fs,isEmpty:()=>Ce,isEqual:()=>it,isError:()=>To,isFinite:()=>Fi,isFunction:()=>rr,isMap:()=>Xn,isMatch:()=>Xe,isNaN:()=>fi,isNull:()=>y,isNumber:()=>jt,isObject:()=>Cr,isRegExp:()=>Qr,isSet:()=>Ue,isString:()=>li,isSymbol:()=>wr,isTypedArray:()=>R,isUndefined:()=>mi,isWeakMap:()=>nn,isWeakSet:()=>kt,iteratee:()=>Je,keys:()=>J,last:()=>mr,lastIndexOf:()=>jc,map:()=>zi,mapObject:()=>Lt,matcher:()=>pe,matches:()=>pe,max:()=>Bc,memoize:()=>Ia,methods:()=>$n,min:()=>l,mixin:()=>Fe,negate:()=>wa,noop:()=>Pt,now:()=>Rr,object:()=>Oo,omit:()=>Tt,once:()=>nc,pairs:()=>Xt,partial:()=>yo,partition:()=>ve,pick:()=>Pe,pluck:()=>Na,property:()=>Le,propertyOf:()=>En,random:()=>Kr,range:()=>Ti,reduce:()=>hs,reduceRight:()=>Ei,reject:()=>oc,rest:()=>Jn,restArguments:()=>Zn,result:()=>Ai,sample:()=>v,select:()=>Uo,shuffle:()=>b,size:()=>Ae,some:()=>_o,sortBy:()=>D,sortedIndex:()=>Ma,tail:()=>Jn,take:()=>St,tap:()=>q,template:()=>wi,templateSettings:()=>ir,throttle:()=>Ka,times:()=>An,toArray:()=>p,toPath:()=>ue,transpose:()=>Po,unescape:()=>Qs,union:()=>or,uniq:()=>Kt,unique:()=>Kt,uniqueId:()=>Rc,unzip:()=>Po,values:()=>Ye,where:()=>xa,without:()=>Rn,wrap:()=>ec,zip:()=>ct});var ki={};Yn.r(ki),Yn.d(ki,{VERSION:()=>dt,after:()=>Aa,all:()=>Ta,allKeys:()=>pt,any:()=>_o,assign:()=>pn,before:()=>ba,bind:()=>qa,bindAll:()=>Zo,chain:()=>xo,chunk:()=>Ho,clone:()=>rt,collect:()=>zi,compact:()=>eo,compose:()=>tc,constant:()=>Ci,contains:()=>Gi,countBy:()=>ee,create:()=>en,debounce:()=>Ca,default:()=>Wo,defaults:()=>xr,defer:()=>Ns,delay:()=>Qa,detect:()=>_s,difference:()=>Ht,drop:()=>Jn,each:()=>Bi,escape:()=>ma,every:()=>Ta,extend:()=>vn,extendOwn:()=>pn,filter:()=>Uo,find:()=>_s,findIndex:()=>Ks,findKey:()=>xs,findLastIndex:()=>Da,findWhere:()=>Ea,first:()=>St,flatten:()=>Qt,foldl:()=>hs,foldr:()=>Ei,forEach:()=>Bi,functions:()=>$n,get:()=>Ln,groupBy:()=>Z,has:()=>ke,head:()=>St,identity:()=>Re,include:()=>Gi,includes:()=>Gi,indexBy:()=>B,indexOf:()=>Ki,initial:()=>rn,inject:()=>hs,intersection:()=>Ps,invert:()=>yt,invoke:()=>Sa,isArguments:()=>So,isArray:()=>br,isArrayBuffer:()=>Ji,isBoolean:()=>an,isDataView:()=>Vo,isDate:()=>$i,isElement:()=>fs,isEmpty:()=>Ce,isEqual:()=>it,isError:()=>To,isFinite:()=>Fi,isFunction:()=>rr,isMap:()=>Xn,isMatch:()=>Xe,isNaN:()=>fi,isNull:()=>y,isNumber:()=>jt,isObject:()=>Cr,isRegExp:()=>Qr,isSet:()=>Ue,isString:()=>li,isSymbol:()=>wr,isTypedArray:()=>R,isUndefined:()=>mi,isWeakMap:()=>nn,isWeakSet:()=>kt,iteratee:()=>Je,keys:()=>J,last:()=>mr,lastIndexOf:()=>jc,map:()=>zi,mapObject:()=>Lt,matcher:()=>pe,matches:()=>pe,max:()=>Bc,memoize:()=>Ia,methods:()=>$n,min:()=>l,mixin:()=>Fe,negate:()=>wa,noop:()=>Pt,now:()=>Rr,object:()=>Oo,omit:()=>Tt,once:()=>nc,pairs:()=>Xt,partial:()=>yo,partition:()=>ve,pick:()=>Pe,pluck:()=>Na,property:()=>Le,propertyOf:()=>En,random:()=>Kr,range:()=>Ti,reduce:()=>hs,reduceRight:()=>Ei,reject:()=>oc,rest:()=>Jn,restArguments:()=>Zn,result:()=>Ai,sample:()=>v,select:()=>Uo,shuffle:()=>b,size:()=>Ae,some:()=>_o,sortBy:()=>D,sortedIndex:()=>Ma,tail:()=>Jn,take:()=>St,tap:()=>q,template:()=>wi,templateSettings:()=>ir,throttle:()=>Ka,times:()=>An,toArray:()=>p,toPath:()=>ue,transpose:()=>Po,unescape:()=>Qs,union:()=>or,uniq:()=>Kt,unique:()=>Kt,uniqueId:()=>Rc,unzip:()=>Po,values:()=>Ye,where:()=>xa,without:()=>Rn,wrap:()=>ec,zip:()=>ct});var dt="1.13.6",Lr="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},ut=Array.prototype,Ne=Object.prototype,Qn=typeof Symbol<"u"?Symbol.prototype:null,Sr=ut.push,Vn=ut.slice,Gt=Ne.toString,gi=Ne.hasOwnProperty,Nr=typeof ArrayBuffer<"u",Ot=typeof DataView<"u",Xi=Array.isArray,pi=Object.keys,nt=Object.create,Ct=Nr&&ArrayBuffer.isView,ui=isNaN,vt=isFinite,vo=!{toString:null}.propertyIsEnumerable("toString"),Dn=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],fr=Math.pow(2,53)-1;function Zn(w,S){return S=null==S?w.length-1:+S,function(){for(var F=Math.max(arguments.length-S,0),j=Array(F),te=0;te<F;te++)j[te]=arguments[te+S];switch(S){case 0:return w.call(this,j);case 1:return w.call(this,arguments[0],j);case 2:return w.call(this,arguments[0],arguments[1],j)}var G=Array(S+1);for(te=0;te<S;te++)G[te]=arguments[te];return G[S]=j,w.apply(this,G)}}function Cr(w){var S=typeof w;return"function"===S||"object"===S&&!!w}function y(w){return null===w}function mi(w){return void 0===w}function an(w){return!0===w||!1===w||"[object Boolean]"===Gt.call(w)}function fs(w){return!(!w||1!==w.nodeType)}function mn(w){var S="[object "+w+"]";return function(F){return Gt.call(F)===S}}const li=mn("String"),jt=mn("Number"),$i=mn("Date"),Qr=mn("RegExp"),To=mn("Error"),wr=mn("Symbol"),Ji=mn("ArrayBuffer");var Li=mn("Function");"object"!=typeof Int8Array&&"function"!=typeof(Lr.document&&Lr.document.childNodes)&&(Li=function(w){return"function"==typeof w||!1});const rr=Li,Ar=mn("Object");var yi=Ot&&Ar(new DataView(new ArrayBuffer(8))),Ii=typeof Map<"u"&&Ar(new Map),qi=mn("DataView");const Vo=yi?function ds(w){return null!=w&&rr(w.getInt8)&&Ji(w.buffer)}:qi,br=Xi||mn("Array");function Ri(w,S){return null!=w&&gi.call(w,S)}var Ur=mn("Arguments");!function(){Ur(arguments)||(Ur=function(w){return Ri(w,"callee")})}();const So=Ur;function Fi(w){return!wr(w)&&vt(w)&&!isNaN(parseFloat(w))}function fi(w){return jt(w)&&ui(w)}function Ci(w){return function(){return w}}function M(w){return function(S){var F=w(S);return"number"==typeof F&&F>=0&&F<=fr}}function P(w){return function(S){return S?.[w]}}const z=P("byteLength"),ne=M(z);var Me=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const R=Nr?function Se(w){return Ct?Ct(w)&&!Vo(w):ne(w)&&Me.test(Gt.call(w))}:Ci(!1),U=P("length");function ae(w,S){S=function fe(w){for(var S={},F=w.length,j=0;j<F;++j)S[w[j]]=!0;return{contains:function(te){return!0===S[te]},push:function(te){return S[te]=!0,w.push(te)}}}(S);var F=Dn.length,j=w.constructor,te=rr(j)&&j.prototype||Ne,G="constructor";for(Ri(w,G)&&!S.contains(G)&&S.push(G);F--;)(G=Dn[F])in w&&w[G]!==te[G]&&!S.contains(G)&&S.push(G)}function J(w){if(!Cr(w))return[];if(pi)return pi(w);var S=[];for(var F in w)Ri(w,F)&&S.push(F);return vo&&ae(w,S),S}function Ce(w){if(null==w)return!0;var S=U(w);return"number"==typeof S&&(br(w)||li(w)||So(w))?0===S:0===U(J(w))}function Xe(w,S){var F=J(S),j=F.length;if(null==w)return!j;for(var te=Object(w),G=0;G<j;G++){var ce=F[G];if(S[ce]!==te[ce]||!(ce in te))return!1}return!0}function _e(w){return w instanceof _e?w:this instanceof _e?void(this._wrapped=w):new _e(w)}function Qe(w){return new Uint8Array(w.buffer||w,w.byteOffset||0,z(w))}_e.VERSION=dt,_e.prototype.valueOf=_e.prototype.toJSON=_e.prototype.value=function(){return this._wrapped},_e.prototype.toString=function(){return String(this._wrapped)};var We="[object DataView]";function Ze(w,S,F,j){if(w===S)return 0!==w||1/w==1/S;if(null==w||null==S)return!1;if(w!=w)return S!=S;var te=typeof w;return("function"===te||"object"===te||"object"==typeof S)&&ht(w,S,F,j)}function ht(w,S,F,j){w instanceof _e&&(w=w._wrapped),S instanceof _e&&(S=S._wrapped);var te=Gt.call(w);if(te!==Gt.call(S))return!1;if(yi&&"[object Object]"==te&&Vo(w)){if(!Vo(S))return!1;te=We}switch(te){case"[object RegExp]":case"[object String]":return""+w==""+S;case"[object Number]":return+w!=+w?+S!=+S:0==+w?1/+w==1/S:+w==+S;case"[object Date]":case"[object Boolean]":return+w==+S;case"[object Symbol]":return Qn.valueOf.call(w)===Qn.valueOf.call(S);case"[object ArrayBuffer]":case We:return ht(Qe(w),Qe(S),F,j)}var G="[object Array]"===te;if(!G&&R(w)){if(z(w)!==z(S))return!1;if(w.buffer===S.buffer&&w.byteOffset===S.byteOffset)return!0;G=!0}if(!G){if("object"!=typeof w||"object"!=typeof S)return!1;var Ge=w.constructor,Bt=S.constructor;if(Ge!==Bt&&!(rr(Ge)&&Ge instanceof Ge&&rr(Bt)&&Bt instanceof Bt)&&"constructor"in w&&"constructor"in S)return!1}j=j||[];for(var Nt=(F=F||[]).length;Nt--;)if(F[Nt]===w)return j[Nt]===S;if(F.push(w),j.push(S),G){if((Nt=w.length)!==S.length)return!1;for(;Nt--;)if(!Ze(w[Nt],S[Nt],F,j))return!1}else{var Fr,Kn=J(w);if(Nt=Kn.length,J(S).length!==Nt)return!1;for(;Nt--;)if(!Ri(S,Fr=Kn[Nt])||!Ze(w[Fr],S[Fr],F,j))return!1}return F.pop(),j.pop(),!0}function it(w,S){return Ze(w,S)}function pt(w){if(!Cr(w))return[];var S=[];for(var F in w)S.push(F);return vo&&ae(w,S),S}function cn(w){var S=U(w);return function(F){if(null==F)return!1;var j=pt(F);if(U(j))return!1;for(var te=0;te<S;te++)if(!rr(F[w[te]]))return!1;return w!==Un||!rr(F[un])}}var un="forEach",Sn=["clear","delete"],Et=["get","has","set"],ot=Sn.concat(un,Et),Un=Sn.concat(Et),gn=["add"].concat(Sn,un,"has");const Xn=Ii?cn(ot):mn("Map"),nn=Ii?cn(Un):mn("WeakMap"),Ue=Ii?cn(gn):mn("Set"),kt=mn("WeakSet");function Ye(w){for(var S=J(w),F=S.length,j=Array(F),te=0;te<F;te++)j[te]=w[S[te]];return j}function Xt(w){for(var S=J(w),F=S.length,j=Array(F),te=0;te<F;te++)j[te]=[S[te],w[S[te]]];return j}function yt(w){for(var S={},F=J(w),j=0,te=F.length;j<te;j++)S[w[F[j]]]=F[j];return S}function $n(w){var S=[];for(var F in w)rr(w[F])&&S.push(F);return S.sort()}function Dr(w,S){return function(F){var j=arguments.length;if(S&&(F=Object(F)),j<2||null==F)return F;for(var te=1;te<j;te++)for(var G=arguments[te],ce=w(G),Ge=ce.length,Bt=0;Bt<Ge;Bt++){var Nt=ce[Bt];(!S||void 0===F[Nt])&&(F[Nt]=G[Nt])}return F}}const vn=Dr(pt),pn=Dr(J),xr=Dr(pt,!0);function Hn(w){if(!Cr(w))return{};if(nt)return nt(w);var S=function(){};S.prototype=w;var F=new S;return S.prototype=null,F}function en(w,S){var F=Hn(w);return S&&pn(F,S),F}function rt(w){return Cr(w)?br(w)?w.slice():vn({},w):w}function q(w,S){return S(w),w}function ue(w){return br(w)?w:[w]}function qe(w){return _e.toPath(w)}function _t(w,S){for(var F=S.length,j=0;j<F;j++){if(null==w)return;w=w[S[j]]}return F?w:void 0}function Ln(w,S,F){var j=_t(w,qe(S));return mi(j)?F:j}function ke(w,S){for(var F=(S=qe(S)).length,j=0;j<F;j++){var te=S[j];if(!Ri(w,te))return!1;w=w[te]}return!!F}function Re(w){return w}function pe(w){return w=pn({},w),function(S){return Xe(S,w)}}function Le(w){return w=qe(w),function(S){return _t(S,w)}}function at(w,S,F){if(void 0===S)return w;switch(F??3){case 1:return function(j){return w.call(S,j)};case 3:return function(j,te,G){return w.call(S,j,te,G)};case 4:return function(j,te,G,ce){return w.call(S,j,te,G,ce)}}return function(){return w.apply(S,arguments)}}function gt(w,S,F){return null==w?Re:rr(w)?at(w,S,F):Cr(w)&&!br(w)?pe(w):Le(w)}function Je(w,S){return gt(w,S,1/0)}function ft(w,S,F){return _e.iteratee!==Je?_e.iteratee(w,S):gt(w,S,F)}function Lt(w,S,F){S=ft(S,F);for(var j=J(w),te=j.length,G={},ce=0;ce<te;ce++){var Ge=j[ce];G[Ge]=S(w[Ge],Ge,w)}return G}function Pt(){}function En(w){return null==w?Pt:function(S){return Ln(w,S)}}function An(w,S,F){var j=Array(Math.max(0,w));S=at(S,F,1);for(var te=0;te<w;te++)j[te]=S(te);return j}function Kr(w,S){return null==S&&(S=w,w=0),w+Math.floor(Math.random()*(S-w+1))}_e.toPath=ue,_e.iteratee=Je;const Rr=Date.now||function(){return(new Date).getTime()};function Es(w){var S=function(G){return w[G]},F="(?:"+J(w).join("|")+")",j=RegExp(F),te=RegExp(F,"g");return function(G){return j.test(G=null==G?"":""+G)?G.replace(te,S):G}}const qs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ma=Es(qs),Qs=Es(yt(qs)),ir=_e.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ji=/(.)^/,No={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ss=/\\|'|\r|\n|\u2028|\u2029/g;function va(w){return"\\"+No[w]}var Qi=/^\s*(\w|\$)+\s*$/;function wi(w,S,F){!S&&F&&(S=F),S=xr({},S,_e.templateSettings);var j=RegExp([(S.escape||ji).source,(S.interpolate||ji).source,(S.evaluate||ji).source].join("|")+"|$","g"),te=0,G="__p+='";w.replace(j,function(Nt,Kn,Fr,ro,ti){return G+=w.slice(te,ti).replace(Ss,va),te=ti+Nt.length,Kn?G+="'+\n((__t=("+Kn+"))==null?'':_.escape(__t))+\n'":Fr?G+="'+\n((__t=("+Fr+"))==null?'':__t)+\n'":ro&&(G+="';\n"+ro+"\n__p+='"),Nt}),G+="';\n";var Ge,ce=S.variable;if(ce){if(!Qi.test(ce))throw new Error("variable is not a bare identifier: "+ce)}else G="with(obj||{}){\n"+G+"}\n",ce="obj";G="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+G+"return __p;\n";try{Ge=new Function(ce,"_",G)}catch(Nt){throw Nt.source=G,Nt}var Bt=function(Nt){return Ge.call(this,Nt,_e)};return Bt.source="function("+ce+"){\n"+G+"}",Bt}function Ai(w,S,F){var j=(S=qe(S)).length;if(!j)return rr(F)?F.call(w):F;for(var te=0;te<j;te++){var G=w?.[S[te]];void 0===G&&(G=F,te=j),w=rr(G)?G.call(w):G}return w}var Lc=0;function Rc(w){var S=++Lc+"";return w?w+S:S}function xo(w){var S=_e(w);return S._chain=!0,S}function bi(w,S,F,j,te){if(!(j instanceof S))return w.apply(F,te);var G=Hn(w.prototype),ce=w.apply(G,te);return Cr(ce)?ce:G}var ya=Zn(function(w,S){var F=ya.placeholder,j=function(){for(var te=0,G=S.length,ce=Array(G),Ge=0;Ge<G;Ge++)ce[Ge]=S[Ge]===F?arguments[te++]:S[Ge];for(;te<arguments.length;)ce.push(arguments[te++]);return bi(w,j,this,this,ce)};return j});ya.placeholder=_e;const yo=ya,qa=Zn(function(w,S,F){if(!rr(w))throw new TypeError("Bind must be called on a function");var j=Zn(function(te){return bi(w,j,S,this,F.concat(te))});return j}),Di=M(U);function Mi(w,S,F,j){if(j=j||[],S||0===S){if(S<=0)return j.concat(w)}else S=1/0;for(var te=j.length,G=0,ce=U(w);G<ce;G++){var Ge=w[G];if(Di(Ge)&&(br(Ge)||So(Ge)))if(S>1)Mi(Ge,S-1,F,j),te=j.length;else for(var Bt=0,Nt=Ge.length;Bt<Nt;)j[te++]=Ge[Bt++];else F||(j[te++]=Ge)}return j}const Zo=Zn(function(w,S){var F=(S=Mi(S,!1,!1)).length;if(F<1)throw new Error("bindAll must be passed function names");for(;F--;){var j=S[F];w[j]=qa(w[j],w)}return w});function Ia(w,S){var F=function(j){var te=F.cache,G=""+(S?S.apply(this,arguments):j);return Ri(te,G)||(te[G]=w.apply(this,arguments)),te[G]};return F.cache={},F}const Qa=Zn(function(w,S,F){return setTimeout(function(){return w.apply(null,F)},S)}),Ns=yo(Qa,_e,1);function Ka(w,S,F){var j,te,G,ce,Ge=0;F||(F={});var Bt=function(){Ge=!1===F.leading?0:Rr(),j=null,ce=w.apply(te,G),j||(te=G=null)},Nt=function(){var Kn=Rr();!Ge&&!1===F.leading&&(Ge=Kn);var Fr=S-(Kn-Ge);return te=this,G=arguments,Fr<=0||Fr>S?(j&&(clearTimeout(j),j=null),Ge=Kn,ce=w.apply(te,G),j||(te=G=null)):!j&&!1!==F.trailing&&(j=setTimeout(Bt,Fr)),ce};return Nt.cancel=function(){clearTimeout(j),Ge=0,j=te=G=null},Nt}function Ca(w,S,F){var j,te,G,ce,Ge,Bt=function(){var Kn=Rr()-te;S>Kn?j=setTimeout(Bt,S-Kn):(j=null,F||(ce=w.apply(Ge,G)),j||(G=Ge=null))},Nt=Zn(function(Kn){return Ge=this,G=Kn,te=Rr(),j||(j=setTimeout(Bt,S),F&&(ce=w.apply(Ge,G))),ce});return Nt.cancel=function(){clearTimeout(j),j=G=Ge=null},Nt}function ec(w,S){return yo(S,w)}function wa(w){return function(){return!w.apply(this,arguments)}}function tc(){var w=arguments,S=w.length-1;return function(){for(var F=S,j=w[S].apply(this,arguments);F--;)j=w[F].call(this,j);return j}}function Aa(w,S){return function(){if(--w<1)return S.apply(this,arguments)}}function ba(w,S){var F;return function(){return--w>0&&(F=S.apply(this,arguments)),w<=1&&(S=null),F}}const nc=yo(ba,2);function xs(w,S,F){S=ft(S,F);for(var te,j=J(w),G=0,ce=j.length;G<ce;G++)if(S(w[te=j[G]],te,w))return te}function Fc(w){return function(S,F,j){F=ft(F,j);for(var te=U(S),G=w>0?0:te-1;G>=0&&G<te;G+=w)if(F(S[G],G,S))return G;return-1}}const Ks=Fc(1),Da=Fc(-1);function Ma(w,S,F,j){for(var te=(F=ft(F,j,1))(S),G=0,ce=U(w);G<ce;){var Ge=Math.floor((G+ce)/2);F(w[Ge])<te?G=Ge+1:ce=Ge}return G}function rc(w,S,F){return function(j,te,G){var ce=0,Ge=U(j);if("number"==typeof G)w>0?ce=G>=0?G:Math.max(G+Ge,ce):Ge=G>=0?Math.min(G+1,Ge):G+Ge+1;else if(F&&G&&Ge)return j[G=F(j,te)]===te?G:-1;if(te!=te)return(G=S(Vn.call(j,ce,Ge),fi))>=0?G+ce:-1;for(G=w>0?ce:Ge-1;G>=0&&G<Ge;G+=w)if(j[G]===te)return G;return-1}}const Ki=rc(1,Ks,Ma),jc=rc(-1,Da);function _s(w,S,F){var te=(Di(w)?Ks:xs)(w,S,F);if(void 0!==te&&-1!==te)return w[te]}function Ea(w,S){return _s(w,pe(S))}function Bi(w,S,F){var j,te;if(S=at(S,F),Di(w))for(j=0,te=w.length;j<te;j++)S(w[j],j,w);else{var G=J(w);for(j=0,te=G.length;j<te;j++)S(w[G[j]],G[j],w)}return w}function zi(w,S,F){S=ft(S,F);for(var j=!Di(w)&&J(w),te=(j||w).length,G=Array(te),ce=0;ce<te;ce++){var Ge=j?j[ce]:ce;G[ce]=S(w[Ge],Ge,w)}return G}function ic(w){return function(F,j,te,G){var ce=arguments.length>=3;return function(F,j,te,G){var ce=!Di(F)&&J(F),Ge=(ce||F).length,Bt=w>0?0:Ge-1;for(G||(te=F[ce?ce[Bt]:Bt],Bt+=w);Bt>=0&&Bt<Ge;Bt+=w){var Nt=ce?ce[Bt]:Bt;te=j(te,F[Nt],Nt,F)}return te}(F,at(j,G,4),te,ce)}}const hs=ic(1),Ei=ic(-1);function Uo(w,S,F){var j=[];return S=ft(S,F),Bi(w,function(te,G,ce){S(te,G,ce)&&j.push(te)}),j}function oc(w,S,F){return Uo(w,wa(ft(S)),F)}function Ta(w,S,F){S=ft(S,F);for(var j=!Di(w)&&J(w),te=(j||w).length,G=0;G<te;G++){var ce=j?j[G]:G;if(!S(w[ce],ce,w))return!1}return!0}function _o(w,S,F){S=ft(S,F);for(var j=!Di(w)&&J(w),te=(j||w).length,G=0;G<te;G++){var ce=j?j[G]:G;if(S(w[ce],ce,w))return!0}return!1}function Gi(w,S,F,j){return Di(w)||(w=Ye(w)),("number"!=typeof F||j)&&(F=0),Ki(w,S,F)>=0}const Sa=Zn(function(w,S,F){var j,te;return rr(S)?te=S:(S=qe(S),j=S.slice(0,-1),S=S[S.length-1]),zi(w,function(G){var ce=te;if(!ce){if(j&&j.length&&(G=_t(G,j)),null==G)return;ce=G[S]}return null==ce?ce:ce.apply(G,F)})});function Na(w,S){return zi(w,Le(S))}function xa(w,S){return Uo(w,pe(S))}function Bc(w,S,F){var G,ce,j=-1/0,te=-1/0;if(null==S||"number"==typeof S&&"object"!=typeof w[0]&&null!=w)for(var Ge=0,Bt=(w=Di(w)?w:Ye(w)).length;Ge<Bt;Ge++)null!=(G=w[Ge])&&G>j&&(j=G);else S=ft(S,F),Bi(w,function(Nt,Kn,Fr){((ce=S(Nt,Kn,Fr))>te||ce===-1/0&&j===-1/0)&&(j=Nt,te=ce)});return j}function l(w,S,F){var G,ce,j=1/0,te=1/0;if(null==S||"number"==typeof S&&"object"!=typeof w[0]&&null!=w)for(var Ge=0,Bt=(w=Di(w)?w:Ye(w)).length;Ge<Bt;Ge++)null!=(G=w[Ge])&&G<j&&(j=G);else S=ft(S,F),Bi(w,function(Nt,Kn,Fr){((ce=S(Nt,Kn,Fr))<te||ce===1/0&&j===1/0)&&(j=Nt,te=ce)});return j}var h=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function p(w){return w?br(w)?Vn.call(w):li(w)?w.match(h):Di(w)?zi(w,Re):Ye(w):[]}function v(w,S,F){if(null==S||F)return Di(w)||(w=Ye(w)),w[Kr(w.length-1)];var j=p(w),te=U(j);S=Math.max(Math.min(S,te),0);for(var G=te-1,ce=0;ce<S;ce++){var Ge=Kr(ce,G),Bt=j[ce];j[ce]=j[Ge],j[Ge]=Bt}return j.slice(0,S)}function b(w){return v(w,1/0)}function D(w,S,F){var j=0;return S=ft(S,F),Na(zi(w,function(te,G,ce){return{value:te,index:j++,criteria:S(te,G,ce)}}).sort(function(te,G){var ce=te.criteria,Ge=G.criteria;if(ce!==Ge){if(ce>Ge||void 0===ce)return 1;if(ce<Ge||void 0===Ge)return-1}return te.index-G.index}),"value")}function N(w,S){return function(F,j,te){var G=S?[[],[]]:{};return j=ft(j,te),Bi(F,function(ce,Ge){var Bt=j(ce,Ge,F);w(G,ce,Bt)}),G}}const Z=N(function(w,S,F){Ri(w,F)?w[F].push(S):w[F]=[S]}),B=N(function(w,S,F){w[F]=S}),ee=N(function(w,S,F){Ri(w,F)?w[F]++:w[F]=1}),ve=N(function(w,S,F){w[F?0:1].push(S)},!0);function Ae(w){return null==w?0:Di(w)?w.length:J(w).length}function le(w,S,F){return S in F}const Pe=Zn(function(w,S){var F={},j=S[0];if(null==w)return F;rr(j)?(S.length>1&&(j=at(j,S[1])),S=pt(w)):(j=le,S=Mi(S,!1,!1),w=Object(w));for(var te=0,G=S.length;te<G;te++){var ce=S[te],Ge=w[ce];j(Ge,ce,w)&&(F[ce]=Ge)}return F}),Tt=Zn(function(w,S){var j,F=S[0];return rr(F)?(F=wa(F),S.length>1&&(j=S[1])):(S=zi(Mi(S,!1,!1),String),F=function(te,G){return!Gi(S,G)}),Pe(w,F,j)});function rn(w,S,F){return Vn.call(w,0,Math.max(0,w.length-(null==S||F?1:S)))}function St(w,S,F){return null==w||w.length<1?null==S||F?void 0:[]:null==S||F?w[0]:rn(w,w.length-S)}function Jn(w,S,F){return Vn.call(w,null==S||F?1:S)}function mr(w,S,F){return null==w||w.length<1?null==S||F?void 0:[]:null==S||F?w[w.length-1]:Jn(w,Math.max(0,w.length-S))}function eo(w){return Uo(w,Boolean)}function Qt(w,S){return Mi(w,S,!1)}const Ht=Zn(function(w,S){return S=Mi(S,!0,!0),Uo(w,function(F){return!Gi(S,F)})}),Rn=Zn(function(w,S){return Ht(w,S)});function Kt(w,S,F,j){an(S)||(j=F,F=S,S=!1),null!=F&&(F=ft(F,j));for(var te=[],G=[],ce=0,Ge=U(w);ce<Ge;ce++){var Bt=w[ce],Nt=F?F(Bt,ce,w):Bt;S&&!F?((!ce||G!==Nt)&&te.push(Bt),G=Nt):F?Gi(G,Nt)||(G.push(Nt),te.push(Bt)):Gi(te,Bt)||te.push(Bt)}return te}const or=Zn(function(w){return Kt(Mi(w,!0,!0))});function Ps(w){for(var S=[],F=arguments.length,j=0,te=U(w);j<te;j++){var G=w[j];if(!Gi(S,G)){var ce;for(ce=1;ce<F&&Gi(arguments[ce],G);ce++);ce===F&&S.push(G)}}return S}function Po(w){for(var S=w&&Bc(w,U).length||0,F=Array(S),j=0;j<S;j++)F[j]=Na(w,j);return F}const ct=Zn(Po);function Oo(w,S){for(var F={},j=0,te=U(w);j<te;j++)S?F[w[j]]=S[j]:F[w[j][0]]=w[j][1];return F}function Ti(w,S,F){null==S&&(S=w||0,w=0),F||(F=S<w?-1:1);for(var j=Math.max(Math.ceil((S-w)/F),0),te=Array(j),G=0;G<j;G++,w+=F)te[G]=w;return te}function Ho(w,S){if(null==S||S<1)return[];for(var F=[],j=0,te=w.length;j<te;)F.push(Vn.call(w,j,j+=S));return F}function to(w,S){return w._chain?_e(S).chain():S}function Fe(w){return Bi($n(w),function(S){var F=_e[S]=w[S];_e.prototype[S]=function(){var j=[this._wrapped];return Sr.apply(j,arguments),to(this,F.apply(_e,j))}}),_e}Bi(["pop","push","reverse","shift","sort","splice","unshift"],function(w){var S=ut[w];_e.prototype[w]=function(){var F=this._wrapped;return null!=F&&(S.apply(F,arguments),("shift"===w||"splice"===w)&&0===F.length&&delete F[0]),to(this,F)}}),Bi(["concat","join","slice"],function(w){var S=ut[w];_e.prototype[w]=function(){var F=this._wrapped;return null!=F&&(F=S.apply(F,arguments)),to(this,F)}});const Wo=_e;var ei=Fe(ki);ei._=ei;const no=ei}},HI={};function Mt(Wn){var pr=HI[Wn];if(void 0!==pr)return pr.exports;var Yn=HI[Wn]={exports:{}};return UN[Wn].call(Yn.exports,Yn,Yn.exports,Mt),Yn.exports}Mt.d=(Wn,pr)=>{for(var Yn in pr)Mt.o(pr,Yn)&&!Mt.o(Wn,Yn)&&Object.defineProperty(Wn,Yn,{enumerable:!0,get:pr[Yn]})},Mt.o=(Wn,pr)=>Object.prototype.hasOwnProperty.call(Wn,pr),Mt.r=Wn=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Wn,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Wn,"__esModule",{value:!0})},(()=>{"use strict";var Wn={};Mt.r(Wn),Mt.d(Wn,{ellipseWithEllipse:()=>EE,ellipseWithLine:()=>Kv,exists:()=>ME,lineWithLine:()=>Tc,pathWithEllipse:()=>LE,pathWithLine:()=>kE,pathWithPath:()=>FE,pathWithPolygon:()=>zh,pathWithPolyline:()=>ry,pathWithRect:()=>RE,polygonWithEllipse:()=>Bh,polygonWithLine:()=>ny,polygonWithPolygon:()=>OE,polygonWithPolyline:()=>PE,polygonWithRect:()=>_E,polylineWithEllipse:()=>ty,polylineWithLine:()=>jh,polylineWithPolyline:()=>xE,polylineWithRect:()=>NE,rectWithEllipse:()=>SE,rectWithLine:()=>TE,rectWithRect:()=>ey});var pr={};Mt.r(pr),Mt.d(pr,{Curve:()=>Pn,Ellipse:()=>fo,Line:()=>$e,Path:()=>lt,Point:()=>H,Polygon:()=>Mo,Polyline:()=>tr,Rect:()=>He,bezier:()=>Ij,ellipse:()=>dj,intersection:()=>wj,line:()=>Dc,normalizeAngle:()=>ws,point:()=>kh,random:()=>Zv,rect:()=>mj,scale:()=>aj,snapToGrid:()=>bc,toDeg:()=>_h,toRad:()=>Do,types:()=>sn});var Yn={};Mt.r(Yn),Mt.d(Yn,{absolute:()=>zz,bottom:()=>Wz,ellipse:()=>Xz,ellipseSpread:()=>Yz,fn:()=>Gz,left:()=>Zz,line:()=>Vz,right:()=>Uz,top:()=>Hz});var ki={};Mt.r(ki),Mt.d(ki,{bottom:()=>Kz,inside:()=>r5,insideOriented:()=>n5,left:()=>Jz,manual:()=>$z,outside:()=>t5,outsideOriented:()=>e5,radial:()=>i5,radialOriented:()=>o5,right:()=>qz,top:()=>Qz});var dt={};Mt.r(dt),Mt.d(dt,{Circle:()=>By,Ellipse:()=>f5,Generic:()=>xn,Image:()=>g5,Path:()=>fS,Polygon:()=>d5,Polyline:()=>h5,Rect:()=>c5,Rhombus:()=>p5,Text:()=>l5,TextBlock:()=>m5,TextBlockView:()=>v5,TextView:()=>u5});var Lr={};Mt.r(Lr),Mt.d(Lr,{BorderedImage:()=>D5,Circle:()=>y5,Cylinder:()=>S5,DoubleLink:()=>k5,Ellipse:()=>I5,EmbeddedImage:()=>M5,HeaderedRectangle:()=>T5,Image:()=>b5,InscribedImage:()=>E5,Link:()=>O5,Path:()=>C5,Polygon:()=>w5,Polyline:()=>A5,Rectangle:()=>zy,ShadowLink:()=>L5,TextBlock:()=>P5});var ut={};Mt.r(ut),Mt.d(ut,{Atomic:()=>R5,Coupled:()=>F5,Link:()=>j5,Model:()=>Vy});var Ne={};Mt.r(Ne),Mt.d(Ne,{And:()=>U5,Gate:()=>og,Gate11:()=>Uy,Gate21:()=>Pc,IO:()=>Zy,Input:()=>B5,Nand:()=>W5,Nor:()=>H5,Not:()=>V5,Or:()=>Z5,Output:()=>z5,Repeater:()=>G5,Wire:()=>$5,Xnor:()=>X5,Xor:()=>Y5});var Qn={};Mt.r(Qn),Mt.d(Qn,{BishopBlack:()=>rG,BishopWhite:()=>nG,KingBlack:()=>q5,KingWhite:()=>J5,KnightBlack:()=>oG,KnightWhite:()=>iG,PawnBlack:()=>aG,PawnWhite:()=>sG,QueenBlack:()=>K5,QueenWhite:()=>Q5,RookBlack:()=>tG,RookWhite:()=>eG});var Sr={};Mt.r(Sr),Mt.d(Sr,{Attribute:()=>kf,Derived:()=>fG,Entity:()=>dS,ISA:()=>gG,IdentifyingRelationship:()=>uG,Key:()=>dG,Line:()=>pG,Multivalued:()=>lG,Normal:()=>hG,Relationship:()=>hS,WeakEntity:()=>cG});var Vn={};Mt.r(Vn),Mt.d(Vn,{Arrow:()=>IG,EndState:()=>yG,StartState:()=>vG,State:()=>mG});var Gt={};Mt.r(Gt),Mt.d(Gt,{Arrow:()=>wG,Member:()=>CG});var gi={};Mt.r(gi),Mt.d(gi,{Link:()=>MG,Place:()=>AG,PlaceView:()=>bG,Transition:()=>DG});var Nr={};Mt.r(Nr),Mt.d(Nr,{Abstract:()=>EG,AbstractView:()=>TG,Aggregation:()=>PG,Association:()=>kG,Class:()=>Hy,ClassView:()=>Wy,Composition:()=>OG,EndState:()=>FG,Generalization:()=>xG,Implementation:()=>_G,Interface:()=>SG,InterfaceView:()=>NG,StartState:()=>RG,State:()=>LG,Transition:()=>jG});var Ot={};Mt.r(Ot),Mt.d(Ot,{basic:()=>dt,chess:()=>Qn,devs:()=>ut,erd:()=>Sr,fsa:()=>Vn,logic:()=>Ne,org:()=>Gt,pn:()=>gi,standard:()=>Lr,uml:()=>Nr});var Xi={};Mt.r(Xi),Mt.d(Xi,{manhattan:()=>eI,metro:()=>oV,normal:()=>GG,oneSide:()=>VG,orthogonal:()=>Jy,rightAngle:()=>dV});var pi={};Mt.r(pi),Mt.d(pi,{curve:()=>oI,jumpover:()=>MV,normal:()=>EV,rounded:()=>NV,smooth:()=>xV,straight:()=>rI});var nt={};Mt.r(nt),Mt.d(nt,{addClass:()=>UV,list:()=>HV,mask:()=>VV,opacity:()=>ZV,stroke:()=>zV});var Ct={};Mt.r(Ct),Mt.d(Ct,{connectionClosest:()=>WS,connectionLength:()=>YV,connectionPerpendicular:()=>JV,connectionRatio:()=>WV,resolveRef:()=>Bf});var ui={};Mt.r(ui),Mt.d(ui,{anchor:()=>nZ,bbox:()=>rZ,boundary:()=>oZ,rectangle:()=>iZ});var vt={};function vo(e,t){return Object.is(e,t)}Mt.r(vt),Mt.d(vt,{bottom:()=>fZ,bottomLeft:()=>mZ,bottomRight:()=>vZ,center:()=>uZ,left:()=>dZ,midSide:()=>IZ,modelCenter:()=>CZ,perpendicular:()=>yZ,right:()=>hZ,top:()=>lZ,topLeft:()=>gZ,topRight:()=>pZ});let Dn=null,fr=!1,Zn=1;const Cr=Symbol("SIGNAL");function y(e){const t=Dn;return Dn=e,t}const mn={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function li(e){if(fr)throw new Error("");if(null===Dn)return;Dn.consumerOnSignalRead(e);const t=Dn.nextProducerIndex++;qi(Dn),t<Dn.producerNode.length&&Dn.producerNode[t]!==e&&Ii(Dn)&&yi(Dn.producerNode[t],Dn.producerIndexOfThis[t]),Dn.producerNode[t]!==e&&(Dn.producerNode[t]=e,Dn.producerIndexOfThis[t]=Ii(Dn)?Ar(e,Dn,t):0),Dn.producerLastReadVersion[t]=e.version}function $i(e){if((!Ii(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Zn)){if(!e.producerMustRecompute(e)&&!vi(e))return e.dirty=!1,void(e.lastCleanEpoch=Zn);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Zn}}function Qr(e){if(void 0===e.liveConsumerNode)return;const t=fr;fr=!0;try{for(const n of e.liveConsumerNode)n.dirty||wr(n)}finally{fr=t}}function To(){return!1!==Dn?.consumerAllowSignalWrites}function wr(e){e.dirty=!0,Qr(e),e.consumerMarkedDirty?.(e)}function Ji(e){return e&&(e.nextProducerIndex=0),y(e)}function Li(e,t){if(y(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ii(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)yi(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function vi(e){qi(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||($i(n),r!==n.version))return!0}return!1}function rr(e){if(qi(e),Ii(e))for(let t=0;t<e.producerNode.length;t++)yi(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ar(e,t,n){if(ds(e),qi(e),0===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Ar(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function yi(e,t){if(ds(e),qi(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)yi(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];qi(i),i.producerIndexOfThis[r]=t}}function Ii(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function qi(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function ds(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}let fi=function Fi(){throw new Error};function Ci(){fi()}let P=null;function Se(e,t){To()||Ci();const n=e.value;Object.is(n,t)||e.equal(n,t)||(e.value=t,function ae(e){e.version++,function jt(){Zn++}(),Qr(e),P?.()}(e))}const fe=(()=>({...mn,equal:vo,value:void 0}))();const Ce=()=>{},Xe=(()=>({...mn,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:Ce}))();function Qe(e){return"function"==typeof e}function We(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ze=We(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ht(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class it{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Qe(r))try{r()}catch(o){t=o instanceof Ze?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{un(o)}catch(s){t=t??[],s instanceof Ze?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ze(t)}}add(t){var n;if(t&&t!==this)if(this.closed)un(t);else{if(t instanceof it){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ht(n,t)}remove(t){const{_finalizers:n}=this;n&&ht(n,t),t instanceof it&&t._removeParent(this)}}it.EMPTY=(()=>{const e=new it;return e.closed=!0,e})();const pt=it.EMPTY;function cn(e){return e instanceof it||e&&"closed"in e&&Qe(e.remove)&&Qe(e.add)&&Qe(e.unsubscribe)}function un(e){Qe(e)?e():e.unsubscribe()}const Mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Sn={setTimeout(e,t,...n){const{delegate:r}=Sn;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Sn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Et(e){Sn.setTimeout(()=>{const{onUnhandledError:t}=Mn;if(!t)throw e;t(e)})}function ot(){}const Un=nn("C",void 0,void 0);function nn(e,t,n){return{kind:e,value:t,error:n}}let Ue=null;function kt(e){if(Mn.useDeprecatedSynchronousErrorHandling){const t=!Ue;if(t&&(Ue={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Ue;if(Ue=null,n)throw r}}else e()}class Xt extends it{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,cn(t)&&t.add(this)):this.destination=Hn}static create(t,n,r){return new vn(t,n,r)}next(t){this.isStopped?_r(function Xn(e){return nn("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?_r(function gn(e){return nn("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?_r(Un,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yt=Function.prototype.bind;function $n(e,t){return yt.call(e,t)}class Dr{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){pn(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){pn(r)}else pn(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){pn(n)}}}class vn extends Xt{constructor(t,n,r){let i;if(super(),Qe(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Mn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&$n(t.next,o),error:t.error&&$n(t.error,o),complete:t.complete&&$n(t.complete,o)}):i=t}this.destination=new Dr(i)}}function pn(e){Mn.useDeprecatedSynchronousErrorHandling?function Ye(e){Mn.useDeprecatedSynchronousErrorHandling&&Ue&&(Ue.errorThrown=!0,Ue.error=e)}(e):Et(e)}function _r(e,t){const{onStoppedNotification:n}=Mn;n&&Sn.setTimeout(()=>n(e,t))}const Hn={closed:!0,next:ot,error:function xr(e){throw e},complete:ot},en="function"==typeof Symbol&&Symbol.observable||"@@observable";function rt(e){return e}let qe=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function ke(e){return e&&e instanceof Xt||function Ln(e){return e&&Qe(e.next)&&Qe(e.error)&&Qe(e.complete)}(e)&&cn(e)}(n)?n:new vn(n,r,i);return kt(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=_t(r))((i,o)=>{const s=new vn({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[en](){return this}pipe(...n){return function ue(e){return 0===e.length?rt:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=_t(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function _t(e){var t;return null!==(t=e??Mn.Promise)&&void 0!==t?t:Promise}const Re=We(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let pe=(()=>{class e extends qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Le(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Re}next(n){kt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){kt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){kt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?pt:(this.currentObservers=null,o.push(n),new it(()=>{this.currentObservers=null,ht(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new qe;return n.source=this,n}}return e.create=(t,n)=>new Le(t,n),e})();class Le extends pe{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:pt}}function gt(e){return t=>{if(function at(e){return Qe(e?.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Je(e,t,n,r,i){return new ft(e,t,n,r,i)}class ft extends Xt{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Lt(e,t){return gt((n,r)=>{let i=0;n.subscribe(Je(r,o=>{r.next(e.call(t,o,i++))}))})}function xo(e){return this instanceof xo?(this.v=e,this):new xo(e)}function yo(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Qi(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const tc=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Aa(e){return Qe(e?.then)}function ba(e){return Qe(e[en])}function nc(e){return Symbol.asyncIterator&&Qe(e?.[Symbol.asyncIterator])}function xs(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ks=function Fc(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Da(e){return Qe(e?.[Ks])}function Ma(e){return function bi(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(g){r[g]&&(i[g]=function(m){return new Promise(function(C,A){o.push([g,m,C,A])>1||a(g,m)})})}function a(g,m){try{!function c(g){g.value instanceof xo?Promise.resolve(g.value.v).then(u,d):f(o[0][2],g)}(r[g](m))}catch(C){f(o[0][3],C)}}function u(g){a("next",g)}function d(g){a("throw",g)}function f(g,m){g(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield xo(n.read());if(i)return yield xo(void 0);yield yield xo(r)}}finally{n.releaseLock()}})}function rc(e){return Qe(e?.getReader)}function Ki(e){if(e instanceof qe)return e;if(null!=e){if(ba(e))return function jc(e){return new qe(t=>{const n=e[en]();if(Qe(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(tc(e))return function _s(e){return new qe(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Aa(e))return function Ea(e){return new qe(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Et)})}(e);if(nc(e))return zi(e);if(Da(e))return function Bi(e){return new qe(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(rc(e))return function ic(e){return zi(Ma(e))}(e)}throw xs(e)}function zi(e){return new qe(t=>{(function hs(e,t){var n,r,i,o;return function ji(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=yo(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Ei(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function oc(e,t,n=1/0){return Qe(t)?oc((r,i)=>Lt((o,s)=>t(r,o,i,s))(Ki(e(r,i))),n):("number"==typeof t&&(n=t),gt((r,i)=>function Uo(e,t,n,r,i,o,s,a){const c=[];let u=0,d=0,f=!1;const g=()=>{f&&!c.length&&!u&&t.complete()},m=A=>u<r?C(A):c.push(A),C=A=>{o&&t.next(A),u++;let E=!1;Ki(n(A,d++)).subscribe(Je(t,_=>{i?.(_),o?m(_):t.next(_)},()=>{E=!0},void 0,()=>{if(E)try{for(u--;c.length&&u<r;){const _=c.shift();s?Ei(t,s,()=>C(_)):C(_)}g()}catch(_){t.error(_)}}))};return e.subscribe(Je(t,m,()=>{f=!0,g()})),()=>{a?.()}}(r,i,e,n)))}const _o=new qe(e=>e.complete());function xa(e){return e[e.length-1]}function l(e){return function Na(e){return e&&Qe(e.schedule)}(xa(e))?e.pop():void 0}function p(e,t=0){return gt((n,r)=>{n.subscribe(Je(r,i=>Ei(r,e,()=>r.next(i),t),()=>Ei(r,e,()=>r.complete(),t),i=>Ei(r,e,()=>r.error(i),t)))})}function v(e,t=0){return gt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function B(e,t){if(!e)throw new Error("Iterable cannot be null");return new qe(n=>{Ei(n,t,()=>{const r=e[Symbol.asyncIterator]();Ei(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ae(e,t){return t?function ve(e,t){if(null!=e){if(ba(e))return function b(e,t){return Ki(e).pipe(v(t),p(t))}(e,t);if(tc(e))return function N(e,t){return new qe(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Aa(e))return function D(e,t){return Ki(e).pipe(v(t),p(t))}(e,t);if(nc(e))return B(e,t);if(Da(e))return function Z(e,t){return new qe(n=>{let r;return Ei(n,t,()=>{r=e[Ks](),Ei(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Qe(r?.return)&&r.return()})}(e,t);if(rc(e))return function ee(e,t){return B(Ma(e),t)}(e,t)}throw xs(e)}(e,t):Ki(e)}function le(...e){const t=l(e),n=function h(e,t){return"number"==typeof xa(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Ki(r[0]):function Ta(e=1/0){return oc(rt,e)}(n)(Ae(r,t)):_o}class Pe extends pe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function rn(e={}){const{connector:t=(()=>new pe),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,c,u=0,d=!1,f=!1;const g=()=>{a?.unsubscribe(),a=void 0},m=()=>{g(),s=c=void 0,d=f=!1},C=()=>{const A=s;m(),A?.unsubscribe()};return gt((A,E)=>{u++,!f&&!d&&g();const _=c=c??t();E.add(()=>{u--,0===u&&!f&&!d&&(a=St(C,i))}),_.subscribe(E),!s&&u>0&&(s=new vn({next:O=>_.next(O),error:O=>{f=!0,g(),a=St(m,n,O),_.error(O)},complete:()=>{d=!0,g(),a=St(m,r),_.complete()}}),Ki(A).subscribe(s))})(o)}}function St(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new vn({next:()=>{r.unsubscribe(),e()}});return Ki(t(...n)).subscribe(r)}function Jn(e,t){return gt((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Je(r,c=>{i?.unsubscribe();let u=0;const d=o++;Ki(e(c,d)).subscribe(i=Je(r,f=>r.next(t?t(c,f,d,u++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function eo(e,t){return e===t}function Qt(e){for(let t in e)if(e[t]===Qt)return t;throw Error("Could not find renamed property on target object.")}function Rn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Rn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Kt(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Ps=Qt({__forward_ref__:Qt});function Po(e){return e.__forward_ref__=Po,e.toString=function(){return Rn(this())},e}function ct(e){return function Oo(e){return"function"==typeof e&&e.hasOwnProperty(Ps)&&e.__forward_ref__===Po}(e)?e():e}function Ti(e){return e&&!!e.\u0275providers}class Fe extends Error{constructor(t,n){super(function Wo(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}const ei=Qt({\u0275cmp:Qt}),no=Qt({\u0275dir:Qt}),w=Qt({\u0275pipe:Qt}),F=Qt({\u0275fac:Qt}),j=Qt({__NG_ELEMENT_ID__:Qt}),te=Qt({__NG_ENV_ID__:Qt});function ce(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function G(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function ro(e,t){throw new Fe(-201,!1)}function W(e,t){null==e&&function Q(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Oe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function wt(e){return ln(e,ni)||ln(e,io)}function ln(e,t){return e.hasOwnProperty(t)?e[t]:null}function Fn(e){return e&&(e.hasOwnProperty(Hr)||e.hasOwnProperty(Xo))?e[Hr]:null}const ni=Qt({\u0275prov:Qt}),Hr=Qt({\u0275inj:Qt}),io=Qt({ngInjectableDef:Qt}),Xo=Qt({ngInjectorDef:Qt});var tn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(tn||{});let ri;function YI(){return ri}function Io(e){const t=ri;return ri=e,t}function XI(e,t,n){const r=wt(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&tn.Optional?null:void 0!==t?t:void ro(Rn(e))}const sr=globalThis;class Rt{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Oe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const gl={},Bg="__NG_DI_FLAG__",Jf="ngTempTokenPath",YN=/\n/gm,JI="__source";let Vc;function _a(e){const t=Vc;return Vc=e,t}function JN(e,t=tn.Default){if(void 0===Vc)throw new Fe(-203,!1);return null===Vc?XI(e,void 0,t):Vc.get(e,t&tn.Optional?null:void 0,t)}function Nn(e,t=tn.Default){return(YI()||JN)(ct(e),t)}function Gn(e,t=tn.Default){return Nn(e,qf(t))}function qf(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function zg(e){const t=[];for(let n=0;n<e.length;n++){const r=ct(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Fe(900,!1);let i,o=tn.Default;for(let s=0;s<r.length;s++){const a=r[s],c=qN(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}t.push(Nn(i,o))}else t.push(Nn(r))}return t}function qN(e){return e[Bg]}function ea(e){return{toString:e}.toString()}var Qf=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Qf||{}),gs=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(gs||{});const Os={},_n=[];function QI(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Gg(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];e0(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function KI(e){return 3===e||4===e||6===e}function e0(e){return 64===e.charCodeAt(0)}function ml(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||t0(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function t0(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const n0="ng-template";function ex(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(n&&"class"===o&&-1!==QI(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function r0(e){return 4===e.type&&e.value!==n0}function tx(e,t,n){return t===(4!==e.type||n?e.value:n0)}function nx(e,t,n){let r=4;const i=e.attrs||[],o=function ox(e){for(let t=0;t<e.length;t++)if(KI(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!tx(e,c,n)||""===c&&1===t.length){if(ps(r))return!1;s=!0}}else{const u=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!ex(e.attrs,u,n)){if(ps(r))return!1;s=!0}continue}const f=rx(8&r?"class":c,i,r0(e),n);if(-1===f){if(ps(r))return!1;s=!0;continue}if(""!==u){let g;g=f>o?"":i[f+1].toLowerCase();const m=8&r?g:null;if(m&&-1!==QI(m,u,0)||2&r&&u!==g){if(ps(r))return!1;s=!0}}}}else{if(!s&&!ps(r)&&!ps(c))return!1;if(s&&ps(c))continue;s=!1,r=c|1&r}}return ps(r)||s}function ps(e){return 0==(1&e)}function rx(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function sx(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function o0(e,t,n=!1){for(let r=0;r<t.length;r++)if(nx(e,t[r],n))return!0;return!1}function s0(e,t){return e?":not("+t.trim()+")":t}function cx(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!ps(s)&&(t+=s0(o,i),i=""),r=s,o=o||!ps(r);n++}return""!==i&&(t+=s0(o,i)),t}function a0(e){return ea(()=>{const t=l0(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Qf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||gs.Emulated,styles:e.styles||_n,_:null,schemas:e.schemas||null,tView:null,id:""};f0(n);const r=e.dependencies;return n.directiveDefs=Kf(r,!1),n.pipeDefs=Kf(r,!0),n.id=function gx(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function fx(e){return fn(e)||ii(e)}function dx(e){return null!==e}function u0(e,t){if(null==e)return Os;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function $o(e){return ea(()=>{const t=l0(e);return f0(t),t})}function fn(e){return e[ei]||null}function ii(e){return e[no]||null}function Si(e){return e[w]||null}function l0(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Os,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||_n,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:u0(e.inputs,t),outputs:u0(e.outputs),debugInfo:null}}function f0(e){e.features?.forEach(t=>t(e))}function Kf(e,t){if(!e)return null;const n=t?Si:fx;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(dx)}const Pr=0,je=1,Dt=2,vr=3,ms=4,Zi=5,vs=6,Zc=7,er=8,oo=9,Uc=10,Wt=11,vl=12,d0=13,Hc=14,Mr=15,yl=16,Wc=17,ks=18,Il=19,h0=20,Pa=21,ed=22,ac=23,Yt=25,Vg=1,Ls=7,Yc=9,jr=10;var Xc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(Xc||{});function Ni(e){return Array.isArray(e)&&"object"==typeof e[Vg]}function di(e){return Array.isArray(e)&&!0===e[Vg]}function Zg(e){return 0!=(4&e.flags)}function cc(e){return e.componentOffset>-1}function nd(e){return 1==(1&e.flags)}function ys(e){return!!e.template}function Ug(e){return 0!=(512&e[Dt])}function uc(e,t){return e.hasOwnProperty(F)?e[F]:null}class v0{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function y0(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ix),yx}function yx(){const e=C0(this),t=e?.current;if(t){const n=e.previous;if(n===Os)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Ix(e,t,n,r){const i=this.declaredInputs[n],o=C0(e)||function Cx(e,t){return e[I0]=t}(e,{previous:Os,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new v0(c&&c.currentValue,t,a===Os),e[r]=t}const I0="__ngSimpleChanges__";function C0(e){return e[I0]||null}const Rs=function(e,t,n){};function ar(e){for(;Array.isArray(e);)e=e[Pr];return e}function so(e,t){return ar(t[e.index])}function Al(e,t){return e.data[t]}function ko(e,t){const n=t[e];return Ni(n)?n:n[Pr]}function $g(e){return 128==(128&e[Dt])}function Fs(e,t){return null==t?null:e[t]}function b0(e){e[Wc]=0}function Mx(e){1024&e[Dt]||(e[Dt]|=1024,$g(e)&&id(e))}function M0(e){return 9216&e[Dt]||e[ac]?.dirty}function E0(e){M0(e)&&id(e)}function id(e){let t=e[vr];for(;null!==t&&!(di(t)&&t[Dt]&Xc.HasChildViewsToRefresh||Ni(t)&&8192&t[Dt]);){if(di(t))t[Dt]|=Xc.HasChildViewsToRefresh;else if(t[Dt]|=8192,!$g(t))break;t=t[vr]}}function od(e,t){if(256==(256&e[Dt]))throw new Fe(911,!1);null===e[Pa]&&(e[Pa]=[]),e[Pa].push(t)}const Ft={lFrame:R0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function S0(){return Ft.bindingsEnabled}function be(){return Ft.lFrame.lView}function bn(){return Ft.lFrame.tView}function qn(){let e=N0();for(;null!==e&&64===e.type;)e=e.parent;return e}function N0(){return Ft.lFrame.currentTNode}function js(e,t){const n=Ft.lFrame;n.currentTNode=e,n.isParent=t}function qg(){return Ft.lFrame.isParent}function jx(e,t){const n=Ft.lFrame;n.bindingIndex=n.bindingRootIndex=e,Kg(t)}function Kg(e){Ft.lFrame.currentDirectiveIndex=e}function O0(){return Ft.lFrame.currentQueryIndex}function tp(e){Ft.lFrame.currentQueryIndex=e}function zx(e){const t=e[je];return 2===t.type?t.declTNode:1===t.type?e[Zi]:null}function k0(e,t,n){if(n&tn.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&tn.Host||(i=zx(o),null===i||(o=o[Hc],10&i.type))););if(null===i)return!1;t=i,e=o}const r=Ft.lFrame=L0();return r.currentTNode=t,r.lView=e,!0}function np(e){const t=L0(),n=e[je];Ft.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function L0(){const e=Ft.lFrame,t=null===e?null:e.child;return null===t?R0(e):t}function R0(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function F0(){const e=Ft.lFrame;return Ft.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const j0=F0;function rp(){const e=F0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function lc(e){Ft.lFrame.selectedIndex=e}let z0=!0;function sd(){return z0}function Oa(e){z0=e}function ad(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),null!=d&&(e.destroyHooks??=[]).push(n,d)}}function cd(e,t,n){G0(e,t,3,n)}function ud(e,t,n,r){(3&e[Dt])===n&&G0(e,t,n,r)}function ip(e,t){let n=e[Dt];(3&n)===t&&(n&=16383,n+=1,e[Dt]=n)}function G0(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&e[Wc]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[Wc]+=65536),(a<o||-1==o)&&(Yx(e,n,t,c),e[Wc]=(4294901760&e[Wc])+c+2),c++}function V0(e,t){Rs(4,e,t);const n=y(null);try{t.call(e)}finally{y(n),Rs(5,e,t)}}function Yx(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[Dt]>>14<e[Wc]>>16&&(3&e[Dt])===t&&(e[Dt]+=16384,V0(a,o)):V0(a,o)}const qc=-1;class Dl{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function sp(e){return e!==qc}function Ml(e){return 32767&e}function El(e,t){let n=function Qx(e){return e>>16}(e),r=t;for(;n>0;)r=r[Hc],n--;return r}let ap=!0;function ld(e){const t=ap;return ap=e,t}const Z0=255,U0=5;let Kx=0;const zs={};function fd(e,t){const n=H0(e,t);if(-1!==n)return n;const r=t[je];r.firstCreatePass&&(e.injectorIndex=t.length,cp(r.data,e),cp(t,null),cp(r.blueprint,null));const i=dd(e,t),o=e.injectorIndex;if(sp(i)){const s=Ml(i),a=El(i,t),c=a[je].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|c[s+u]}return t[o+8]=i,o}function cp(e,t){e.push(0,0,0,0,0,0,0,0,t)}function H0(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function dd(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Q0(i),null===r)return qc;if(n++,i=i[Hc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return qc}function up(e,t,n){!function e1(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(j)&&(r=n[j]),null==r&&(r=n[j]=Kx++);const i=r&Z0;t.data[e+(i>>U0)]|=1<<i}(e,t,n)}function W0(e,t,n){if(n&tn.Optional||void 0!==e)return e;ro()}function Y0(e,t,n,r){if(n&tn.Optional&&void 0===r&&(r=null),!(n&(tn.Self|tn.Host))){const i=e[oo],o=Io(void 0);try{return i?i.get(t,r,n&tn.Optional):XI(t,r,n&tn.Optional)}finally{Io(o)}}return W0(r,0,n)}function X0(e,t,n,r=tn.Default,i){if(null!==e){if(2048&t[Dt]&&!(r&tn.Self)){const s=function s1(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[Dt]&&!(512&s[Dt]);){const a=$0(o,s,n,r|tn.Self,zs);if(a!==zs)return a;let c=o.parent;if(!c){const u=s[h0];if(u){const d=u.get(n,zs,r);if(d!==zs)return d}c=Q0(s),s=s[Hc]}o=c}return i}(e,t,n,r,zs);if(s!==zs)return s}const o=$0(e,t,n,r,zs);if(o!==zs)return o}return Y0(t,n,r,i)}function $0(e,t,n,r,i){const o=function r1(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(j)?e[j]:void 0;return"number"==typeof t?t>=0?t&Z0:i1:t}(n);if("function"==typeof o){if(!k0(t,e,r))return r&tn.Host?W0(i,0,r):Y0(t,n,r,i);try{let s;if(s=o(r),null!=s||r&tn.Optional)return s;ro()}finally{j0()}}else if("number"==typeof o){let s=null,a=H0(e,t),c=qc,u=r&tn.Host?t[Mr][Zi]:null;for((-1===a||r&tn.SkipSelf)&&(c=-1===a?dd(e,t):t[a+8],c!==qc&&q0(r,!1)?(s=t[je],a=Ml(c),t=El(c,t)):a=-1);-1!==a;){const d=t[je];if(J0(o,a,d.data)){const f=n1(a,t,n,s,r,u);if(f!==zs)return f}c=t[a+8],c!==qc&&q0(r,t[je].data[a+8]===u)&&J0(o,a,t)?(s=d,a=Ml(c),t=El(c,t)):a=-1}}return i}function n1(e,t,n,r,i,o){const s=t[je],a=s.data[e+8],d=hd(a,s,n,null==r?cc(a)&&ap:r!=s&&0!=(3&a.type),i&tn.Host&&o===a);return null!==d?fc(t,s,d,a):zs}function hd(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,c=e.directiveStart,d=o>>20,g=i?a+d:e.directiveEnd;for(let m=r?a:a+d;m<g;m++){const C=s[m];if(m<c&&n===C||m>=c&&C.type===n)return m}if(i){const m=s[c];if(m&&ys(m)&&m.type===n)return c}return null}function fc(e,t,n,r){let i=e[n];const o=t.data;if(function Xx(e){return e instanceof Dl}(i)){const s=i;s.resolving&&function Nt(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${e}${n}`)}(ce(o[n]));const a=ld(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Io(s.injectImpl):null;k0(e,r,tn.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Wx(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=y0(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==u&&Io(u),ld(a),s.resolving=!1,j0()}}return i}function J0(e,t,n){return!!(n[t+(e>>U0)]&1<<e)}function q0(e,t){return!(e&tn.Self||e&tn.Host&&t)}class oi{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return X0(this._tNode,this._lView,t,qf(r),n)}}function i1(){return new oi(qn(),be())}function Q0(e){const t=e[je],n=t.type;return 2===n?t.declTNode:1===n?e[Zi]:null}function ou(e,t){e.forEach(n=>Array.isArray(n)?ou(n,t):t(n))}function eC(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function gd(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const xl=new Rt("ENVIRONMENT_INITIALIZER"),sC=new Rt("INJECTOR",-1),Ip=new Rt("INJECTOR_DEF_TYPES");class vd{get(t,n=gl){if(n===gl){const r=new Error(`NullInjectorError: No provider for ${Rn(t)}!`);throw r.name="NullInjectorError",r}return n}}function S1(...e){return{\u0275providers:cC(0,e),\u0275fromNgModule:!0}}function cC(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return ou(t,s=>{const a=s;yd(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&uC(i,o),n}function uC(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];Cp(i,o=>{t(o,r)})}}function yd(e,t,n,r){if(!(e=ct(e)))return!1;let i=null,o=Fn(e);const s=!o&&fn(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const c=e.ngModule;if(o=Fn(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)yd(u,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{ou(o.imports,d=>{yd(d,t,n,r)&&(u||=[],u.push(d))})}finally{}void 0!==u&&uC(u,t)}if(!a){const u=uc(i)||(()=>new i);t({provide:i,useFactory:u,deps:_n},i),t({provide:Ip,useValue:i,multi:!0},i),t({provide:xl,useValue:()=>Nn(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const u=e;Cp(c,d=>{t(d,u)})}}}return i!==e&&void 0!==e.providers}function Cp(e,t){for(let n of e)Ti(n)&&(n=n.\u0275providers),Array.isArray(n)?Cp(n,t):t(n)}const N1=Qt({provide:String,useValue:Qt});function wp(e){return null!==e&&"object"==typeof e&&N1 in e}function dc(e){return"function"==typeof e}const Ap=new Rt("Set Injector scope."),Id={},_1={};let bp;function Cd(){return void 0===bp&&(bp=new vd),bp}class ra{}class cu extends ra{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mp(t,s=>this.processProvider(s)),this.records.set(sC,uu(void 0,this)),i.has("environment")&&this.records.set(ra,uu(void 0,this));const o=this.records.get(Ap);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ip,_n,tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=_a(this),r=Io(void 0);try{return t()}finally{_a(n),Io(r)}}get(t,n=gl,r=tn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(te))return t[te](this);r=qf(r);const o=_a(this),s=Io(void 0);try{if(!(r&tn.SkipSelf)){let c=this.records.get(t);if(void 0===c){const u=function R1(e){return"function"==typeof e||"object"==typeof e&&e instanceof Rt}(t)&&wt(t);c=u&&this.injectableDefInScope(u)?uu(Dp(t),Id):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&tn.Self?Cd():this.parent).get(t,n=r&tn.Optional&&n===gl?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Jf]=a[Jf]||[]).unshift(Rn(t)),o)throw a;return function QN(e,t,n,r){const i=e[Jf];throw t[JI]&&i.unshift(t[JI]),e.message=function KN(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Rn(t);if(Array.isArray(t))i=t.map(Rn).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Rn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(YN,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Jf]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Io(s),_a(o)}}resolveInjectorInitializers(){const t=_a(this),n=Io(void 0);try{const i=this.get(xl,_n,tn.Self);for(const o of i)o()}finally{_a(t),Io(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Rn(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processProvider(t){let n=dc(t=ct(t))?t:ct(t&&t.provide);const r=function O1(e){return wp(e)?uu(void 0,e.useValue):uu(function dC(e,t,n){let r;if(dc(e)){const i=ct(e);return uc(i)||Dp(i)}if(wp(e))r=()=>ct(e.useValue);else if(function fC(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...zg(e.deps||[]));else if(function lC(e){return!(!e||!e.useExisting)}(e))r=()=>Nn(ct(e.useExisting));else{const i=ct(e&&(e.useClass||e.provide));if(!function k1(e){return!!e.deps}(e))return uc(i)||Dp(i);r=()=>new i(...zg(e.deps))}return r}(e),Id)}(t);if(dc(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=uu(void 0,Id,!0),i.factory=()=>zg(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Id&&(n.value=_1,n.value=n.factory()),"object"==typeof n.value&&n.value&&function L1(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ct(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Dp(e){const t=wt(e),n=null!==t?t.factory:uc(e);if(null!==n)return n;if(e instanceof Rt)throw new Fe(204,!1);if(e instanceof Function)return function P1(e){const t=e.length;if(t>0)throw function Sl(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Fe(204,!1);const n=function It(e){return e&&(e[ni]||e[io])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Fe(204,!1)}function uu(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Mp(e,t){for(const n of e)Array.isArray(n)?Mp(n,t):n&&Ti(n)?Mp(n.\u0275providers,t):t(n)}function mC(e,t=null,n=null,r){const i=function vC(e,t=null,n=null,r,i=new Set){const o=[n||_n,S1(e)];return r=r||("object"==typeof e?void 0:Rn(e)),new cu(o,t||Cd(),r||null,i)}(e,t,n,r);return i.resolveInjectorInitializers(),i}let Sp,Jo=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=gl;static#t=this.NULL=new vd;static create(n,r){if(Array.isArray(n))return mC({name:""},r,n,"");{const i=n.name??"";return mC({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=Oe({token:e,providedIn:"any",factory:()=>Nn(sC)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();const Np=new Rt("AppId",{providedIn:"root",factory:()=>H1}),H1="ng",IC=new Rt("Platform Initializer"),lu=new Rt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),CC=new Rt("CSP nonce",{providedIn:"root",factory:()=>function ka(){if(void 0!==Sp)return Sp;if(typeof document<"u")return document;throw new Fe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Md(e){return 128==(128&e.flags)}var Fa=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Fa||{});const kp=new Map;let i_=0;const Rp="__ngContext__";function Hi(e,t){Ni(t)?(e[Rp]=t[Il],function s_(e){kp.set(e[Il],e)}(t)):e[Rp]=t}let Fp;function jp(e,t){return Fp(e,t)}function Ll(e){const t=e[vr];return di(t)?t[vr]:t}function jC(e){return zC(e[vl])}function BC(e){return zC(e[ms])}function zC(e){for(;null!==e&&!di(e);)e=e[ms];return e}function du(e,t,n,r,i){if(null!=r){let o,s=!1;di(r)?o=r:Ni(r)&&(s=!0,r=r[Pr]);const a=ar(r);0===e&&null!==n?null==i?UC(t,n,a):gc(t,n,a,i||null,!0):1===e&&null!==n?gc(t,n,a,i||null,!0):2===e?function Pd(e,t,n){const r=xd(e,t);r&&function M_(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function S_(e,t,n,r,i){const o=n[Ls];o!==ar(n)&&du(t,e,r,o,i);for(let a=jr;a<n.length;a++){const c=n[a];jl(c[je],c,e,t,r,o)}}(t,e,o,n,i)}}function Sd(e,t,n){return e.createElement(t,n)}function VC(e,t){const n=e[Yc],r=n.indexOf(t);n.splice(r,1)}function Rl(e,t){if(e.length<=jr)return;const n=jr+t,r=e[n];if(r){const i=r[yl];null!==i&&i!==e&&VC(i,r),t>0&&(e[n-1][ms]=r[ms]);const o=gd(e,jr+t);!function v_(e,t){jl(e,t,t[Wt],2,null,null),t[Pr]=null,t[Zi]=null}(r[je],r);const s=o[ks];null!==s&&s.detachView(o[je]),r[vr]=null,r[ms]=null,r[Dt]&=-129}return r}function Nd(e,t){if(!(256&t[Dt])){const n=t[Wt];n.destroyNode&&jl(e,t,n,3,null,null),function C_(e){let t=e[vl];if(!t)return zp(e[je],e);for(;t;){let n=null;if(Ni(t))n=t[vl];else{const r=t[jr];r&&(n=r)}if(!n){for(;t&&!t[ms]&&t!==e;)Ni(t)&&zp(t[je],t),t=t[vr];null===t&&(t=e),Ni(t)&&zp(t[je],t),n=t&&t[ms]}t=n}}(t)}}function zp(e,t){if(!(256&t[Dt])){t[Dt]&=-129,t[Dt]|=256,t[ac]&&rr(t[ac]),function D_(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Dl)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Rs(4,a,c);try{c.call(a)}finally{Rs(5,a,c)}}else{Rs(4,i,o);try{o.call(i)}finally{Rs(5,i,o)}}}}}(e,t),function b_(e,t){const n=e.cleanup,r=t[Zc];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[Zc]=null);const i=t[Pa];if(null!==i){t[Pa]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[je].type&&t[Wt].destroy();const n=t[yl];if(null!==n&&di(t[vr])){n!==t[vr]&&VC(n,t);const r=t[ks];null!==r&&r.detachView(e)}!function a_(e){kp.delete(e[Il])}(t)}}function Gp(e,t,n){return function ZC(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Pr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===gs.None||o===gs.Emulated)return null}return so(r,n)}}(e,t.parent,n)}function gc(e,t,n,r,i){e.insertBefore(t,n,r,i)}function UC(e,t,n){e.appendChild(t,n)}function HC(e,t,n,r,i){null!==r?gc(e,t,n,r,i):UC(e,t,n)}function xd(e,t){return e.parentNode(t)}let Vp,XC=function YC(e,t,n){return 40&e.type?so(e,n):null};function _d(e,t,n,r){const i=Gp(e,r,t),o=t[Wt],a=function WC(e,t,n){return XC(e,t,n)}(r.parent||t[Zi],r,t);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)HC(o,i,n[c],a,!1);else HC(o,i,n,a,!1);void 0!==Vp&&Vp(o,r,t,n,i)}function Fl(e,t){if(null!==t){const n=t.type;if(3&n)return so(t,e);if(4&n)return Zp(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Fl(e,r);{const i=e[t.index];return di(i)?Zp(-1,i):ar(i)}}if(32&n)return jp(t,e)()||ar(e[t.index]);{const r=JC(e,t);return null!==r?Array.isArray(r)?r[0]:Fl(Ll(e[Mr]),r):Fl(e,t.next)}}return null}function JC(e,t){return null!==t?e[Mr][Zi].projection[t.projection]:null}function Zp(e,t){const n=jr+e+1;if(n<t.length){const r=t[n],i=r[je].firstChild;if(null!==i)return Fl(r,i)}return t[Ls]}function Up(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===t&&(a&&Hi(ar(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)Up(e,t,n.child,r,i,o,!1),du(t,e,i,a,o);else if(32&c){const u=jp(n,r);let d;for(;d=u();)du(t,e,i,d,o);du(t,e,i,a,o)}else 16&c?QC(e,t,r,n,i,o):du(t,e,i,a,o);n=s?n.projectionNext:n.next}}function jl(e,t,n,r,i,o){Up(n,r,e.firstChild,t,i,o,!1)}function QC(e,t,n,r,i,o){const s=n[Mr],c=s[Zi].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)du(t,e,i,c[u],o);else{let u=c;const d=s[vr];Md(r)&&(u.flags|=128),Up(e,t,u,d,i,o,!0)}}function KC(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function ew(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Gg(e,t,r),null!==i&&KC(e,t,i),null!==o&&function x_(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}let hw=(e,t,n)=>null;function im(e,t,n=!1){return hw(e,t,n)}class fP{}class mw{}class hP{resolveComponentFactory(t){throw function dP(e){const t=Error(`No component factory found for ${Rn(e)}.`);return t.ngComponent=e,t}(t)}}let vu=(()=>{class e{static#e=this.NULL=new hP}return e})();function gP(){return yu(qn(),be())}function yu(e,t){return new Iu(so(e,t))}let Iu=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=gP}return e})();function pP(e){return e instanceof Iu?e.nativeElement:e}class yw{}let vP=(()=>{class e{static#e=this.\u0275prov=Oe({token:e,providedIn:"root",factory:()=>null})}return e})();class Gd{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const yP=new Gd("17.0.6"),am={};function Vd(e,t){const n=function z(e){const t=Object.create(fe);t.value=e;const n=()=>(li(t),t.value);return n[Cr]=t,n}(e),r=n[Cr];return t?.equal&&(r.equal=t.equal),n.set=i=>Se(r,i),n.update=i=>function R(e,t){To()||Ci(),Se(e,t(e.value))}(r,i),n.asReadonly=IP.bind(n),n}function IP(){const e=this[Cr];if(void 0===e.readonlyFn){const t=()=>this();t[Cr]=e,e.readonlyFn=t}return e.readonlyFn}function Hl(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(ar(o)),di(o)&&Tw(o,r);const s=n.type;if(8&s)Hl(e,t,n.child,r);else if(32&s){const a=jp(n,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=JC(t,n);if(Array.isArray(a))r.push(...a);else{const c=Ll(t[Mr]);Hl(c[je],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Tw(e,t){for(let n=jr;n<e.length;n++){const r=e[n],i=r[je].firstChild;null!==i&&Hl(r[je],r,i,t)}e[Ls]!==e[Pr]&&t.push(e[Ls])}let Sw=[];const PP={...mn,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{id(e.lView)},consumerOnSignalRead(){this.lView[ac]=this}};function um(e){return e.ngOriginalError}class oa{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&um(t);for(;n&&um(n);)n=um(n);return n||null}}const _w=new Rt("",{providedIn:"root",factory:()=>!1}),$t={};function dn(e,t=tn.Default){const n=be();return null===n?Nn(e,t):X0(qn(),n,ct(e),t)}function Wd(e,t,n,r,i,o,s,a,c,u,d){const f=t.blueprint.slice();return f[Pr]=i,f[Dt]=140|r,(null!==u||e&&2048&e[Dt])&&(f[Dt]|=2048),b0(f),f[vr]=f[Hc]=e,f[er]=n,f[Uc]=s||e&&e[Uc],f[Wt]=a||e&&e[Wt],f[oo]=c||e&&e[oo]||null,f[Zi]=o,f[Il]=function o_(){return i_++}(),f[vs]=d,f[h0]=u,f[Mr]=2==t.type?e[Mr]:f,f}function Cu(e,t,n,r,i){let o=e.data[t];if(null===o)o=function lm(e,t,n,r,i){const o=N0(),s=qg(),c=e.data[t]=function YP(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return function Jc(){return null!==Ft.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(e,t,n,r,i),function Fx(){return Ft.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function bl(){const e=Ft.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return js(o,!0),o}function Wl(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Rw(e,t,n,r,i){const o=function Ui(){return Ft.lFrame.selectedIndex}(),s=2&r;try{lc(-1),s&&t.length>Yt&&function Lw(e,t,n,r){if(!r)if(3==(3&t[Dt])){const o=e.preOrderCheckHooks;null!==o&&cd(t,o,n)}else{const o=e.preOrderHooks;null!==o&&ud(t,o,0,n)}lc(n)}(e,t,Yt,!1),Rs(s?2:0,i),n(r,i)}finally{lc(o),Rs(s?3:1,i)}}function fm(e,t,n){if(Zg(t)){const r=y(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{y(r)}}}function dm(e,t,n){S0()&&(function e2(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;cc(n)&&function a2(e,t,n){const r=so(t,e),i=Fw(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Yd(e,Wd(e,i,null,s,r,t,null,e[Uc].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||fd(n,t),Hi(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const c=e.data[a],u=fc(t,e,a,n);Hi(u,t),null!==s&&c2(0,a-i,u,c,0,s),ys(c)&&(ko(n.index,t)[er]=fc(t,e,a,n))}}(e,t,n,so(n,t)),64==(64&n.flags)&&Vw(e,t,n))}function hm(e,t,n=so){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function Fw(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=gm(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function gm(e,t,n,r,i,o,s,a,c,u,d){const f=Yt+r,g=f+i,m=function GP(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:$t);return n}(f,g),C="function"==typeof u?u():u;return m[je]={type:e,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:t,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:C,incompleteFirstPass:!1,ssrId:d}}let jw=e=>null;function Bw(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?zw(n,t,i,o):r.hasOwnProperty(i)&&zw(n,t,r[i],o)}return n}function zw(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function pm(e,t,n,r){if(S0()){const i=null===r?null:{"":-1},o=function n2(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(o0(t,s.selectors,!1))if(r||(r=[]),ys(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),mm(e,t,a.length)}else r.unshift(s),mm(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Gw(e,t,n,s,i,a),i&&function r2(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new Fe(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=ml(n.mergedAttrs,n.attrs)}function Gw(e,t,n,r,i,o){for(let u=0;u<r.length;u++)up(fd(n,t),e,r[u].type);!function o2(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let u=0;u<r.length;u++){const d=r[u];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=Wl(e,t,r.length,null);for(let u=0;u<r.length;u++){const d=r[u];n.mergedAttrs=ml(n.mergedAttrs,d.hostAttrs),s2(e,n,t,c,d),i2(c,d,i),null!==d.contentQueries&&(n.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=64);const f=d.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function XP(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let c=null,u=null;for(let d=t.directiveStart;d<i;d++){const f=o[d],g=n?n.get(f):null,C=g?g.outputs:null;c=Bw(f.inputs,d,c,g?g.inputs:null),u=Bw(f.outputs,d,u,C);const A=null===c||null===s||r0(t)?null:u2(c,d,s);a.push(A)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=u}(e,n,o)}function Vw(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function Bx(){return Ft.lFrame.currentDirectiveIndex}();try{lc(o);for(let a=r;a<i;a++){const c=e.data[a],u=t[a];Kg(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&t2(c,u)}}finally{lc(-1),Kg(s)}}function t2(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function mm(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function i2(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ys(t)&&(n[""]=e)}}function s2(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=uc(i.type)),s=new Dl(o,ys(i),dn);e.blueprint[r]=s,n[r]=s,function QP(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function KP(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,Wl(e,n,i.hostVars,$t),i)}function c2(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)Zw(r,n,s[a++],s[a++],s[a++])}function Zw(e,t,n,r,i){const o=y(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{y(o)}}function u2(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Uw(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Hw(e,t){const n=e.contentQueries;if(null!==n){const r=y(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=e.data[s];tp(n[i]),a.contentQueries(2,t[s],s)}}}finally{y(r)}}}function Yd(e,t){return e[vl]?e[d0][ms]=t:e[vl]=t,e[d0]=t,t}function ym(e,t,n){tp(0);const r=y(null);try{t(e,n)}finally{y(r)}}function Im(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];Zw(e.data[s],t[s],r,a,i)}}function Cm(e,t=!0){const n=e[Uc],r=n.rendererFactory,i=n.afterRenderEventManager;r.begin?.(),i?.begin();try{const s=e[je];$w(s,e,s.template,e[er]),function f2(e){let t=0;for(;M0(e);){if(100===t)throw new Fe(103,!1);t++,Qw(e,1)}}(e)}catch(s){throw t&&function Xd(e,t){const n=e[oo],r=n?n.get(oa,null):null;r&&r.handleError(t)}(e,s),s}finally{r.end?.(),n.inlineEffectRunner?.flush(),i?.end()}}function $w(e,t,n,r){const i=t[Dt];if(256==(256&i))return;t[Uc].inlineEffectRunner?.flush(),np(t);let s=null,a=null;(function d2(e){return 2!==e.type})(e)&&(a=function NP(e){return e[ac]??function xP(e){const t=Sw.pop()??Object.create(PP);return t.lView=e,t}(e)}(t),s=Ji(a));try{b0(t),function _0(e){return Ft.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Rw(e,t,n,2,r);const c=3==(3&i);if(c){const f=e.preOrderCheckHooks;null!==f&&cd(t,f,null)}else{const f=e.preOrderHooks;null!==f&&ud(t,f,0,null),ip(t,0)}if(function h2(e){for(let t=jC(e);null!==t;t=BC(t)){if(!(t[Dt]&Xc.HasTransplantedViews))continue;const n=t[Yc];for(let r=0;r<n.length;r++){Mx(n[r])}}}(t),Jw(t,0),null!==e.contentQueries&&Hw(e,t),c){const f=e.contentCheckHooks;null!==f&&cd(t,f)}else{const f=e.contentHooks;null!==f&&ud(t,f,1),ip(t,1)}!function zP(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)lc(~i);else{const o=i,s=n[++r],a=n[++r];jx(s,o),a(2,t[o])}}}finally{lc(-1)}}(e,t);const u=e.components;null!==u&&Kw(t,u,0);const d=e.viewQuery;if(null!==d&&ym(2,d,r),c){const f=e.viewCheckHooks;null!==f&&cd(t,f)}else{const f=e.viewHooks;null!==f&&ud(t,f,2),ip(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[ed]){for(const f of t[ed])f();t[ed]=null}t[Dt]&=-73}catch(c){throw id(t),c}finally{null!==a&&(Li(a,s),function _P(e){e.lView[ac]!==e&&(e.lView=null,Sw.push(e))}(a)),rp()}}function Jw(e,t){for(let n=jC(e);null!==n;n=BC(n)){n[Dt]&=~Xc.HasChildViewsToRefresh;for(let r=jr;r<n.length;r++)qw(n[r],t)}}function g2(e,t,n){qw(ko(t,e),n)}function qw(e,t){$g(e)&&Qw(e,t)}function Qw(e,t){const r=e[je],i=e[Dt],o=e[ac];let s=!!(0===t&&16&i);if(s||=!!(64&i&&0===t),s||=!!(1024&i),s||=!(!o?.dirty||!vi(o)),o&&(o.dirty=!1),e[Dt]&=-9217,s)$w(r,e,r.template,e[er]);else if(8192&i){Jw(e,1);const a=r.components;null!==a&&Kw(e,a,1)}}function Kw(e,t,n){for(let r=0;r<t.length;r++)g2(e,t[r],n)}function Yl(e){for(;e;){e[Dt]|=64;const t=Ll(e);if(Ug(e)&&!t)return e;e=t}return null}class Xl{get rootNodes(){const t=this._lView,n=t[je];return Hl(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[er]}set context(t){this._lView[er]=t}get destroyed(){return 256==(256&this._lView[Dt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[vr];if(di(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Rl(t,r),gd(n,r))}this._attachedToViewContainer=!1}Nd(this._lView[je],this._lView)}onDestroy(t){od(this._lView,t)}markForCheck(){Yl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Dt]&=-129}reattach(){E0(this._lView),this._lView[Dt]|=128}detectChanges(){Cm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function I_(e,t){jl(e,t,t[Wt],2,null,null)}(this._lView[je],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Fe(902,!1);this._appRef=t}}let wm=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=p2}return e})();function p2(e){return function m2(e,t,n){if(cc(e)&&!n){const r=ko(e.index,t);return new Xl(r,r)}return 47&e.type?new Xl(t[Mr],t):null}(qn(),be(),16==(16&e))}let $d=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=C2;static#t=this.__NG_ENV_ID__=n=>n}return e})();class I2 extends $d{constructor(t){super(),this._lView=t}onDestroy(t){return od(this._lView,t),()=>function Jg(e,t){if(null===e[Pa])return;const n=e[Pa].indexOf(t);-1!==n&&e[Pa].splice(n,1)}(this._lView,t)}}function C2(){return new I2(be())}const w2=new Rt("",{providedIn:"root",factory:()=>Gn(A2)});let A2=(()=>{class e{static#e=this.\u0275prov=Oe({token:e,providedIn:"root",factory:()=>new D2})}return e})(),b2=(()=>{class e{constructor(){this.queuedEffectCount=0,this.queues=new Map}scheduleEffect(n){const r=n.creationZone;this.queues.has(r)||this.queues.set(r,new Set);const i=this.queues.get(r);i.has(n)||(this.queuedEffectCount++,i.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,r]of this.queues)null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r))}flushQueue(n){for(const r of n)n.delete(r),this.queuedEffectCount--,r.run()}static#e=this.\u0275prov=Oe({token:e,providedIn:"root",factory:()=>new e})}return e})();class D2{constructor(){this.hasQueuedFlush=!1,this.delegate=new b2,this.flushTask=()=>{this.delegate.flush(),this.hasQueuedFlush=!1}}scheduleEffect(t){this.delegate.scheduleEffect(t),this.hasQueuedFlush||(queueMicrotask(this.flushTask),this.hasQueuedFlush=!0)}}class M2{constructor(t,n,r,i,o,s){this.scheduler=t,this.effectFn=n,this.creationZone=r,this.errorHandler=o,this.watcher=function J(e,t,n){const r=Object.create(Xe);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=c=>{r.cleanupFn=c};return r.ref={notify:()=>wr(r),run:()=>{if(null===r.fn)return;if(function an(){return fr}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!vi(r))return;r.hasRun=!0;const c=Ji(r);try{r.cleanupFn(),r.cleanupFn=Ce,r.fn(i)}finally{Li(r,c)}},cleanup:()=>r.cleanupFn(),destroy:()=>function s(c){(function o(c){return null===c.fn&&null===c.schedule})(c)||(rr(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=Ce)}(r),[Cr]:r},r.ref}(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(n){this.errorHandler?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Am(e,t){!t?.injector&&function Ep(e){if(!YI()&&!function $N(){return Vc}())throw new Fe(-203,!1)}();const n=t?.injector??Gn(Jo),r=n.get(oa,null,{optional:!0}),i=!0!==t?.manualCleanup?n.get($d):null,o=new M2(n.get(w2),e,typeof Zone>"u"?null:Zone.current,i,r,t?.allowSignalWrites??!1),s=n.get(wm,null,{optional:!0});return s&&8&s._lView[Dt]?(s._lView[ed]??=[]).push(o.watcher.notify):o.watcher.notify(),o}const eA=new Set;function bm(e){return t=>{setTimeout(e,void 0,t)}}const Vs=class E2 extends pe{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=bm(o),i&&(i=bm(i)),s&&(s=bm(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof it&&t.add(a),a}};function tA(...e){}class hr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vs(!1),this.onMicrotaskEmpty=new Vs(!1),this.onStable=new Vs(!1),this.onError=new Vs(!1),typeof Zone>"u")throw new Fe(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function T2(){const e="function"==typeof sr.requestAnimationFrame;let t=sr[e?"requestAnimationFrame":"setTimeout"],n=sr[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function x2(e){const t=()=>{!function N2(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(sr,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Mm(e),e.isCheckStableRunning=!0,Dm(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Mm(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function P2(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return nA(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),rA(e)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return nA(e),n.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),rA(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Mm(e),Dm(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hr.isInAngularZone())throw new Fe(909,!1)}static assertNotInAngularZone(){if(hr.isInAngularZone())throw new Fe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,S2,tA,tA);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const S2={};function Dm(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Mm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function nA(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function rA(e){e._nesting--,Dm(e)}const iA=new Rt("",{providedIn:"root",factory:oA});function oA(){const e=Gn(hr);let t=!0;return le(new qe(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new qe(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{hr.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{hr.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(rn()))}let Jd=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Oe({token:e,providedIn:"root",factory:()=>new e})}return e})();function L2(e,t){const n=ko(t,e),r=n[je];!function R2(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[Pr];null!==i&&null===n[vs]&&(n[vs]=im(i,n[oo])),Em(r,n,n[er])}function Em(e,t,n){np(t);try{const r=e.viewQuery;null!==r&&ym(1,r,n);const i=e.template;null!==i&&Rw(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Hw(e,t),e.staticViewQueries&&ym(2,e.viewQuery,n);const o=e.components;null!==o&&function F2(e,t){for(let n=0;n<t.length;n++)L2(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Dt]&=-5,rp()}}function qd(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=Kt(i,a):2==o&&(r=Kt(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}class lA extends vu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=fn(t);return new $l(n,this.ngModule)}}function fA(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class B2{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=qf(r);const i=this.injector.get(t,am,r);return i!==am||n===am?i:this.parentInjector.get(t,n,r)}}class $l extends mw{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=fA(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return fA(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function ux(e){return e.map(cx).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof ra?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new B2(t,o):t,a=s.get(yw,null);if(null===a)throw new Fe(407,!1);const d={rendererFactory:a,sanitizer:s.get(vP,null),inlineEffectRunner:null,afterRenderEventManager:s.get(Jd,null)},f=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=r?function VP(e,t,n,r){const o=r.get(_w,!1)||n===gs.ShadowDom,s=e.selectRootElement(t,o);return function ZP(e){jw(e)}(s),s}(f,r,this.componentDef.encapsulation,s):Sd(f,g,function j2(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(g)),E=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==m&&(_=im(m,s,!0));const O=gm(0,null,null,1,0,null,null,null,null,null,null),X=Wd(null,O,null,E,null,null,d,f,s,null,_);let K,oe;np(X);try{const Ie=this.componentDef;let I,T=null;Ie.findHostDirectiveDefs?(I=[],T=new Map,Ie.findHostDirectiveDefs(Ie,I,T),I.push(Ie)):I=[Ie];const x=function G2(e,t){const n=e[je],r=Yt;return e[r]=t,Cu(n,r,2,"#host",null)}(X,m),k=function V2(e,t,n,r,i,o,s){const a=i[je];!function Z2(e,t,n,r){for(const i of e)t.mergedAttrs=ml(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(qd(t,t.mergedAttrs,!0),null!==n&&ew(r,n,t))}(r,e,t,s);let c=null;null!==t&&(c=im(t,i[oo]));const u=o.rendererFactory.createRenderer(t,n);let d=16;n.signals?d=4096:n.onPush&&(d=64);const f=Wd(i,Fw(n),null,d,i[e.index],e,o,u,null,null,c);return a.firstCreatePass&&mm(a,e,r.length-1),Yd(i,f),i[e.index]=f}(x,m,Ie,I,X,d,f);oe=Al(O,Yt),m&&function H2(e,t,n,r){if(r)Gg(e,n,["ng-version",yP.full]);else{const{attrs:i,classes:o}=function lx(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!ps(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&Gg(e,n,i),o&&o.length>0&&KC(e,n,o.join(" "))}}(f,Ie,m,r),void 0!==n&&function W2(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(oe,this.ngContentSelectors,n),K=function U2(e,t,n,r,i,o){const s=qn(),a=i[je],c=so(s,i);Gw(a,i,s,n,null,r);for(let d=0;d<n.length;d++)Hi(fc(i,a,s.directiveStart+d,s),i);Vw(a,i,s),c&&Hi(c,i);const u=fc(i,a,s.directiveStart+s.componentOffset,s);if(e[er]=i[er]=u,null!==o)for(const d of o)d(u,t);return fm(a,s,e),u}(k,Ie,I,T,X,[Y2]),Em(O,X,null)}finally{rp()}return new z2(this.componentType,K,yu(oe,X),X,oe)}}class z2 extends fP{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Xl(i,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;Im(o[je],o,i,t,n),this.previousInputValues.set(t,n),Yl(ko(this._tNode.index,o))}}get injector(){return new oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Y2(){const e=qn();ad(be()[je],e)}function vA(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}e.inputTransforms=n}function xm(e,t,n){const r=be();return function Wr(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}(r,function Bs(){return Ft.lFrame.bindingIndex++}(),t)&&function Fo(e,t,n,r,i,o,s,a){const c=so(t,n);let d,u=t.inputs;!a&&null!=u&&(d=u[r])?(Im(e,n,d,r,i),cc(t)&&function JP(e,t){const n=ko(t,e);16&n[Dt]||(n[Dt]|=64)}(n,t.index)):3&t.type&&(r=function $P(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(c,r,i))}(bn(),function dr(){const e=Ft.lFrame;return Al(e.tView,e.selectedIndex)}(),r,e,t,r[Wt],n,!1),xm}function _m(e,t,n,r,i){const s=i?"class":"style";Im(e,n,t.inputs[s],s,r)}function Pu(e,t){return!t||null===t.firstChild||Md(e)}function rf(e,t,n,r=!0){const i=t[je];if(function w_(e,t,n,r){const i=jr+r,o=n.length;r>0&&(n[i-1][ms]=t),r<o-jr?(t[ms]=n[i],eC(n,jr+r,t)):(n.push(t),t[ms]=null),t[vr]=n;const s=t[yl];null!==s&&n!==s&&function A_(e,t){const n=e[Yc];t[Mr]!==t[vr][vr][Mr]&&(e[Dt]|=Xc.HasTransplantedViews),null===n?e[Yc]=[t]:n.push(t)}(s,t);const a=t[ks];null!==a&&a.insertView(e),E0(t),t[Dt]|=128}(i,t,e,n),r){const s=Zp(n,e),a=t[Wt],c=xd(a,e[Ls]);null!==c&&function y_(e,t,n,r,i,o){r[Pr]=i,r[Zi]=t,jl(e,r,n,1,i,o)}(i,e[Zi],a,t,c,s)}const o=t[vs];null!==o&&null!==o.firstChild&&(o.firstChild=null)}let Ws=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=ik}return e})();function ik(){return tb(qn(),be())}const ok=Ws,KA=class extends ok{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return yu(this._hostTNode,this._hostLView)}get injector(){return new oi(this._hostTNode,this._hostLView)}get parentInjector(){const t=dd(this._hostTNode,this._hostLView);if(sp(t)){const n=El(t,this._hostLView),r=Ml(t);return new oi(n[je].data[r+8],n)}return new oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=eb(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-jr}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,Pu(this._hostTNode,null)),a}createComponent(t,n,r,i,o){const s=t&&!function Tl(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}const c=s?t:new $l(fn(t)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const A=(s?u:this.parentInjector).get(ra,null);A&&(o=A)}fn(c.componentType??{});const m=c.create(u,i,null,o);return this.insertImpl(m.hostView,a,Pu(this._hostTNode,null)),m}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const i=t._lView;if(function Dx(e){return di(e[vr])}(i)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const c=i[vr],u=new KA(c,c[Zi],c[vr]);u.detach(u.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;return rf(s,i,o,r),t.attachToViewContainerRef(),eC(Gm(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=eb(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Rl(this._lContainer,n);r&&(gd(Gm(this._lContainer),n),Nd(r[je],r))}detach(t){const n=this._adjustIndex(t,-1),r=Rl(this._lContainer,n);return r&&null!=gd(Gm(this._lContainer),n)?new Xl(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function eb(e){return e[8]}function Gm(e){return e[8]||(e[8]=[])}function tb(e,t){let n;const r=t[e.index];return di(r)?n=r:(n=Uw(r,t,null,e),t[e.index]=n,Yd(t,n)),nb(n,t,e,r),new KA(n,e,t)}let nb=function ib(e,t,n,r){if(e[Ls])return;let i;i=8&n.type?ar(r):function sk(e,t){const n=e[Wt],r=n.createComment(""),i=so(t,e);return gc(n,xd(n,i),r,function E_(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[Ls]=i},Vm=(e,t,n)=>!1;function Ou(e,t,n,r,i,o,s,a){const c=be(),u=bn(),d=e+Yt,f=u.firstCreatePass?function lk(e,t,n,r,i,o,s,a,c){const u=t.consts,d=Cu(t,e,4,s||null,Fs(u,a));pm(t,n,d,Fs(u,c)),ad(t,d);const f=d.tView=gm(2,d,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return null!==t.queries&&(t.queries.template(t,d),f.queries=t.queries.embeddedTView(d)),d}(d,u,c,t,n,r,i,o,s):u.data[d];js(f,!1);const g=ob(u,c,f,e);sd()&&_d(u,c,g,f),Hi(g,c);const m=Uw(g,c,g,f);return c[d]=m,Yd(c,m),function rb(e,t,n){return Vm(e,t,n)}(m,f,c),nd(f)&&dm(u,c,f),null!=s&&hm(c,f,a),Ou}let ob=function sb(e,t,n,r){return Oa(!0),t[Wt].createComment("")};function Km(e,t,n,r){const i=be(),o=bn(),s=Yt+e,a=i[Wt],c=o.firstCreatePass?function Kk(e,t,n,r,i,o){const s=t.consts,c=Cu(t,e,2,r,Fs(s,i));return pm(t,n,c,Fs(s,o)),null!==c.attrs&&qd(c,c.attrs,!1),null!==c.mergedAttrs&&qd(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,i,t,n,r):o.data[s],u=Nb(o,i,c,a,t,e);i[s]=u;const d=nd(c);return js(c,!0),ew(a,u,c),32!=(32&c.flags)&&sd()&&_d(o,i,u,c),0===function Ex(){return Ft.lFrame.elementDepthCount}()&&Hi(u,i),function Tx(){Ft.lFrame.elementDepthCount++}(),d&&(dm(o,i,c),fm(o,c,i)),null!==r&&hm(i,c),Km}function ev(){let e=qn();qg()?function Qg(){Ft.lFrame.isParent=!1}():(e=e.parent,js(e,!1));const t=e;(function Nx(e){return Ft.skipHydrationRootTNode===e})(t)&&function Ox(){Ft.skipHydrationRootTNode=null}(),function Sx(){Ft.lFrame.elementDepthCount--}();const n=bn();return n.firstCreatePass&&(ad(n,e),Zg(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Jx(e){return 0!=(8&e.flags)}(t)&&_m(n,t,be(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function qx(e){return 0!=(16&e.flags)}(t)&&_m(n,t,be(),t.stylesWithoutHost,!1),ev}function fh(e,t,n,r){return Km(e,t,n,r),ev(),fh}let Nb=(e,t,n,r,i,o)=>(Oa(!0),Sd(r,i,function B0(){return Ft.lFrame.currentNamespace}()));const Gu="en-US";let Rb=Gu;function ov(e){return!!e&&"function"==typeof e.then}function aD(e){return!!e&&"function"==typeof e.subscribe}class wc{}class VD extends wc{constructor(t){super(),this.componentFactoryResolver=new lA(this),this.instance=null;const n=new cu([...t.providers,{provide:wc,useValue:this},{provide:vu,useValue:this.componentFactoryResolver}],t.parent||Cd(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}let xR=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=cC(0,n.type),i=r.length>0?function NR(e,t,n=null){return new VD({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Oe({token:e,providedIn:"environment",factory:()=>new e(Nn(ra))})}return e})();function ZD(e){(function pc(e){eA.has(e)||(eA.add(e),performance?.mark?.("mark_use_counter",{detail:{feature:e}}))})("NgStandalone"),e.getStandaloneInjector=t=>t.get(xR).getOrCreateStandaloneInjector(e)}function i3(){return this._results[Symbol.iterator]()}class pv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Vs)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=pv.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=i3)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function wo(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function f1(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let aa=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=a3}return e})();const o3=aa,s3=class extends o3{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function nf(e,t,n,r){const i=t.tView,a=Wd(e,i,n,4096&e[Dt]?4096:16,null,t,null,null,null,r?.injector??null,r?.dehydratedView??null);a[yl]=e[t.index];const u=e[ks];return null!==u&&(a[ks]=u.createEmbeddedView(i)),Em(i,a,n),a}(this._declarationLView,this._declarationTContainer,t,{injector:n,dehydratedView:r});return new Xl(i)}};function a3(){return yh(qn(),be())}function yh(e,t){return 4&e.type?new s3(t,e,yu(e,t)):null}class mv{constructor(t){this.queryList=t,this.matches=null}clone(){return new mv(this.queryList)}setDirty(){this.queryList.setDirty()}}class vv{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new vv(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==sM(t,n).matches&&this.queries[n].setDirty()}}class nM{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class yv{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new yv(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Iv{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Iv(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,c3(n,o)),this.matchTNodeWithReadOption(t,n,hd(n,t,o,!1,!1))}else r===aa?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,hd(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Iu||i===Ws||i===aa&&4&n.type)this.addMatch(n.index,-2);else{const o=hd(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function c3(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function l3(e,t,n,r){return-1===n?function u3(e,t){return 11&e.type?yu(e,t):4&e.type?yh(e,t):null}(t,e):-2===n?function f3(e,t,n){return n===Iu?yu(t,e):n===aa?yh(t,e):n===Ws?tb(t,e):void 0}(e,t,r):fc(e,e[je],n,t)}function rM(e,t,n,r){const i=t[ks].queries[r];if(null===i.matches){const o=e.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:l3(t,o[u],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function Cv(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=rM(e,t,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const u=o[a+1],d=t[-c];for(let f=jr;f<d.length;f++){const g=d[f];g[yl]===g[vr]&&Cv(g[je],g,u,r)}if(null!==d[Yc]){const f=d[Yc];for(let g=0;g<f.length;g++){const m=f[g];Cv(m[je],m,u,r)}}}}}return r}function wv(e){const t=be(),n=bn(),r=O0();tp(r+1);const i=sM(n,r);if(e.dirty&&function bx(e){return 4==(4&e[Dt])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?Cv(n,t,r,[]):rM(n,t,i,r);e.reset(o,pP),e.notifyOnChanges()}return!0}return!1}function Av(e,t,n){const r=bn();r.firstCreatePass&&(function oM(e,t,n){null===e.queries&&(e.queries=new yv),e.queries.track(new Iv(t,n))}(r,new nM(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function iM(e,t,n){const r=new pv(4==(4&n));(function WP(e,t,n,r){const i=function Ww(e){return e[Zc]||(e[Zc]=[])}(t);i.push(n),e.firstCreatePass&&function Yw(e){return e.cleanup||(e.cleanup=[])}(e).push(r,i.length-1)})(e,t,r,r.destroy),null===t[ks]&&(t[ks]=new vv),t[ks].queries.push(new mv(r))}(r,be(),t)}function bv(){return function h3(e,t){return e[ks].queries[t].queryList}(be(),O0())}function sM(e,t){return e.queries.getByIndex(t)}const F3=new Rt("Application Initializer");let Sv=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Gn(F3,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(ov(o))n.push(o);else if(aD(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ca=new Rt("LocaleId",{providedIn:"root",factory:()=>Gn(ca,tn.Optional|tn.SkipSelf)||function B3(){return typeof $localize<"u"&&$localize.locale||Gu}()});let H3=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Pe(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const TM=new Rt("");let Ga=null;const Ov=new Rt("PlatformDestroyListeners"),NM=new Rt("appBootstrapListener");function AF(e){try{const{rootComponent:t,appProviders:n,platformProviders:r}=e,i=function wF(e=[]){if(Ga)return Ga;const t=function PM(e=[],t){return Jo.create({name:t,providers:[{provide:Ap,useValue:"platform"},{provide:Ov,useValue:new Set([()=>Ga=null])},...e]})}(e);return Ga=t,function xM(){!function M(e){fi=e}(()=>{throw new Fe(600,!1)})}(),function _M(e){e.get(IC,null)?.forEach(n=>n())}(t),t}(r),o=[TF(),...n||[]],a=new VD({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(hr);return c.run(()=>{a.resolveInjectorInitializers();const u=a.get(oa,null);let d;c.runOutsideAngular(()=>{d=c.onError.subscribe({next:m=>{u.handleError(m)}})});const f=()=>a.destroy(),g=i.get(Ov);return g.add(f),a.onDestroy(()=>{d.unsubscribe(),g.delete(f)}),function LM(e,t,n){try{const r=n();return ov(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(u,c,()=>{const m=a.get(Sv);return m.runInitializers(),m.donePromise.then(()=>{!function Fb(e){W(e,"Expected localeId to be defined"),"string"==typeof e&&(Rb=e.toLowerCase().replace(/_/g,"-"))}(a.get(ca,Gu)||Gu);const A=a.get(Uu);return void 0!==t&&A.bootstrap(t),A})})})}catch(t){return Promise.reject(t)}}let Uu=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Gn(jM),this.zoneIsStable=Gn(iA),this.componentTypes=[],this.components=[],this.isStable=Gn(H3).hasPendingTasks.pipe(Jn(n=>n?function Tt(...e){return Ae(e,l(e))}(!1):this.zoneIsStable),function mr(e,t=rt){return e=e??eo,gt((n,r)=>{let i,o=!0;n.subscribe(Je(r,s=>{const a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),rn()),this._injector=Gn(ra)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof mw;if(!this._injector.get(Sv).done)throw!i&&function sc(e){const t=fn(e)||ii(e)||Si(e);return null!==t&&t.standalone}(n),new Fe(405,!1);let s;s=i?n:this._injector.get(vu).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function IF(e){return e.isBoundToModule}(s)?void 0:this._injector.get(wc),u=s.create(Jo.NULL,[],r||s.selector,a),d=u.location.nativeElement,f=u.injector.get(TM,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Ah(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new Fe(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ah(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(NM,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ah(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Fe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ah(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const jM=new Rt("",{providedIn:"root",factory:()=>Gn(oa).handleError.bind(void 0)});function MF(){const e=Gn(hr),t=Gn(oa);return n=>e.runOutsideAngular(()=>t.handleError(n))}let EF=(()=>{class e{constructor(){this.zone=Gn(hr),this.applicationRef=Gn(Uu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function BM(e){return[{provide:hr,useFactory:e},{provide:xl,multi:!0,useFactory:()=>{const t=Gn(EF,{optional:!0});return()=>t.initialize()}},{provide:jM,useFactory:MF},{provide:iA,useFactory:oA}]}function TF(e){return function aC(e){return{\u0275providers:e}}([[],BM(()=>new hr(function kM(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}(e)))])}var Wi=Mt(717),Cn=Mt(276);const{round:oj,floor:sj,PI:aE}=Math,aj={linear:function(e,t,n){return(n-e[0])/(e[1]-e[0])*(t[1]-t[0])+t[0]||0}},ws=function(e){return e%360+(e<0?360:0)},bc=function(e,t){return t*oj(e/t)},_h=function(e){return 180*e/aE%360},Do=function(e,t){return(e=(t=t||!1)?e:e%360)*aE/180},Zv=function(e,t){if(void 0===t)t=void 0===e?1:e,e=0;else if(t<e){const n=e;e=t,t=n}return sj(Math.random()*(t-e+1)+e)},{cos:Ph,sin:Uv,atan2:cj}=Math,cE=function(e,t){var n=Do(e.y),r=Do(t.y),s=Do(t.x-e.x),a=Uv(s)*Ph(r),c=Ph(n)*Uv(r)-Uv(n)*Ph(r)*Ph(s),f=_h(cj(a,c))-22.5;return f<0&&(f+=360),["NE","E","SE","S","SW","W","NW","N"][f=parseInt(f/45)]},Hv=function(e,t){var n=e.x,r=e.y;return(n-=t.x)*n+(r-=t.y)*r},uE=function(e,t){return Math.sqrt(Hv(e,t))},sn={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:Oh,cos:Wv,sin:Yv,sqrt:lE,min:fE,max:dE,atan2:uj,round:hE,pow:lj,PI:gE}=Math,H=function(e,t){if(!(this instanceof H))return new H(e,t);if("string"==typeof e){var n=e.split(-1===e.indexOf("@")?" ":"@");e=parseFloat(n[0]),t=parseFloat(n[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=void 0===e?0:e,this.y=void 0===t?0:t};H.fromPolar=function(e,t,n){n=new H(n);var r=Oh(e*Wv(t)),i=Oh(e*Yv(t)),o=ws(_h(t));return o<90?i=-i:o<180?(r=-r,i=-i):o<270&&(r=-r),new H(n.x+r,n.y+i)},H.random=function(e,t,n,r){return new H(Zv(e,t),Zv(n,r))},H.prototype={type:sn.Point,chooseClosest:function(e){var t=e.length;if(1===t)return new H(e[0]);for(var n=null,r=1/0,i=0;i<t;i++){var o=new H(e[i]),s=this.squaredDistance(o);s<r&&(n=o,r=s)}return n},adhereToRect:function(e){return e.containsPoint(this)||(this.x=fE(dE(this.x,e.x),e.x+e.width),this.y=fE(dE(this.y,e.y),e.y+e.height)),this},angleBetween:function(e,t){var n=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return n<0&&(n+=360),n},bearing:function(e){return cE(this,e)},changeInAngle:function(e,t,n){return this.clone().offset(-e,-t).theta(n)-this.theta(n)},clone:function(){return new H(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new H(this.x-(e||0),this.y-(t||0))},distance:function(e){return uE(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){return new H((1-t)*this.x+t*e.x,(1-t)*this.y+t*e.y)},magnitude:function(){return lE(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return Oh(e.x-this.x)+Oh(e.y-this.y)},move:function(e,t){var n=Do(new H(e).theta(this));return this.offset(Wv(n)*t,-Yv(n)*t)},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new H(e).move(this,this.distance(e))},rotate:function(e,t){if(0===t)return this;e=e||new H(0,0),t=Do(ws(-t));var n=Wv(t),r=Yv(t),o=r*(this.x-e.x)+n*(this.y-e.y)+e.y;return this.x=n*(this.x-e.x)-r*(this.y-e.y)+e.x,this.y=o,this},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=lj(10,e)}return this.x=hE(this.x*t)/t,this.y=hE(this.y*t)/t,this},scale:function(e,t,n){return n=n&&new H(n)||new H(0,0),this.x=n.x+e*(this.x-n.x),this.y=n.y+t*(this.y-n.y),this},snapToGrid:function(e,t){return this.x=bc(this.x,e),this.y=bc(this.y,t||e),this},squaredDistance:function(e){return Hv(this,e)},theta:function(e){e=new H(e);var r=uj(-(e.y-this.y),e.x-this.x);return r<0&&(r=2*gE+r),180*r/gE},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new H(e)||new H(0,0);var t=this.x,n=this.y;return this.x=lE((t-e.x)*(t-e.x)+(n-e.y)*(n-e.y)),this.y=Do(e.theta(new H(t,n))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){return new H(0,0).angleBetween(this,e)}},H.prototype.translate=H.prototype.offset;const kh=H,{max:Xv,min:$v}=Math,$e=function(e,t){return this instanceof $e?e instanceof $e?new $e(e.start,e.end):(this.start=new H(e),void(this.end=new H(t))):new $e(e,t)};$e.prototype={type:sn.Line,angle:function(){var e=new H(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=$v(this.start.x,this.end.x),t=$v(this.start.y,this.end.y),n=Xv(this.start.x,this.end.x),r=Xv(this.start.y,this.end.y);return new He(e,t,n-e,r-t)},bearing:function(){return cE(this.start,this.end)},clone:function(){return new $e(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new $e(this.start,e).vector()),n=$v(1,Xv(0,t/this.squaredLength()));return n!=n?0:n},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,n=this.end;if(0!==t.cross(e,n))return!1;var r=this.length();return!(new $e(t,e).length()>r||new $e(e,n).length()>r)},divideAt:function(e){var t=this.pointAt(e);return[new $e(this.start,t),new $e(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new $e(this.start,t),new $e(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var n=e.intersectionWithLine(this,t);return n&&e instanceof $e&&(n=n[0]),n}return null},intersectionWithLine:function(e){var t=new H(this.end.x-this.start.x,this.end.y-this.start.y),n=new H(e.end.x-e.start.x,e.end.y-e.start.y),r=t.x*n.y-t.y*n.x,i=new H(e.start.x-this.start.x,e.start.y-this.start.y),o=i.x*n.y-i.y*n.x,s=i.x*t.y-i.y*t.x;if(0===r||o*r<0||s*r<0)return null;if(r>0){if(o>r||s>r)return null}else if(o<r||s<r)return null;return[new H(this.start.x+o*t.x/r,this.start.y+o*t.y/r)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return uE(this.start,this.end)},midpoint:function(){return new H((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){const t=this.clone();if(!this.isDifferentiable())return t;const{start:n,end:r}=t,i=n.clone().rotate(r,270),o=r.clone().rotate(n,90);return n.move(o,e),r.move(i,e),t},pointAt:function(e){var t=this.start,n=this.end;return e<=0?t.clone():e>=1?n.clone():t.lerp(n,e)},pointAtLength:function(e){var t=this.start,n=this.end,r=!0;e<0&&(r=!1,e=-e);var i=this.length();return e>=i?r?n.clone():t.clone():this.pointAt((r?e:i-e)/i)},pointOffset:function(e){e=new H(e);var t=this.start,n=this.end;return((n.x-t.x)*(e.y-t.y)-(n.y-t.y)*(e.x-t.x))/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.end.scale(e,t,n),this},setLength:function(e){var t=this.length();if(!t)return this;var n=e/t;return this.scale(n,n,this.start)},squaredLength:function(){return Hv(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAt(e),i=new $e(t,n);return i.translate(r.x-t.x,r.y-t.y),i},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAtLength(e),i=new $e(t,n);return i.translate(r.x-t.x,r.y-t.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new H(this.end.x-this.start.x,this.end.y-this.start.y)}},$e.prototype.intersection=$e.prototype.intersect;const Dc=$e,{sqrt:pE,round:Lh,pow:fj}=Math,fo=function(e,t,n){return this instanceof fo?e instanceof fo?new fo(new H(e.x,e.y),e.a,e.b):(e=new H(e),this.x=e.x,this.y=e.y,this.a=t,void(this.b=n)):new fo(e,t,n)};fo.fromRect=function(e){return e=new He(e),new fo(e.center(),e.width/2,e.height/2)},fo.prototype={type:sn.Ellipse,bbox:function(){return new He(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new H(this.x,this.y)},clone:function(){return new fo(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],n=e.start,r=e.end,i=this.a,o=this.b,s=e.vector(),a=n.difference(new H(this)),c=new H(s.x/(i*i),s.y/(o*o)),u=new H(a.x/(i*i),a.y/(o*o)),d=s.dot(c),f=s.dot(u),m=f*f-d*(a.dot(u)-1);if(m<0)return null;if(m>0){var C=pE(m),A=(-f-C)/d,E=(-f+C)/d;if((A<0||1<A)&&(E<0||1<E))return null;0<=A&&A<=1&&t.push(n.lerp(r,A)),0<=E&&E<=1&&t.push(n.lerp(r,E))}else{var _=-f/d;if(!(0<=_&&_<=1))return null;t.push(n.lerp(r,_))}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new H(e),t&&e.rotate(new H(this.x,this.y),t);var i,n=e.x-this.x,r=e.y-this.y;if(0===n)return i=this.bbox().pointNearestToPoint(e),t?i.rotate(new H(this.x,this.y),-t):i;var o=r/n,u=pE(1/(1/(this.a*this.a)+o*o/(this.b*this.b)));return i=new H(this.x+(u=n<0?-u:u),this.y+o*u),t?i.rotate(new H(this.x,this.y),-t):i},normalizedDistance:function(e){var t=e.x,n=e.y,r=this.a,i=this.b,o=this.x,s=this.y;return(t-o)*(t-o)/(r*r)+(n-s)*(n-s)/(i*i)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=fj(10,e)}return this.x=Lh(this.x*t)/t,this.y=Lh(this.y*t)/t,this.a=Lh(this.a*t)/t,this.b=Lh(this.b*t)/t,this},tangentTheta:function(e){var f,g,n=e.x,r=e.y,i=this.a,o=this.b,s=this.bbox().center(),a=s.x,c=s.y;return n>s.x+i/2||n<s.x-i/2?g=i*i/(n-a)-i*i*(r-c)*((f=n>s.x?r-30:r+30)-c)/(o*o*(n-a))+a:f=o*o/(r-c)-o*o*(n-a)*((g=r>s.y?n+30:n-30)-a)/(i*i*(r-c))+c,new H(g,f).theta(e)},toString:function(){return new H(this.x,this.y).toString()+" "+this.a+" "+this.b}};const dj=fo,{abs:mE,cos:hj,sin:gj,min:If,max:vE,round:Rh,pow:pj}=Math,He=function(e,t,n,r){if(!(this instanceof He))return new He(e,t,n,r);Object(e)===e&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=void 0===e?0:e,this.y=void 0===t?0:t,this.width=void 0===n?0:n,this.height=void 0===r?0:r};He.fromEllipse=function(e){return e=new fo(e),new He(e.x-e.a,e.y-e.b,2*e.a,2*e.b)},He.fromPointUnion=function(...e){if(0===e.length)return null;const t=new H;let n,r,i,o;n=r=1/0,i=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);const a=t.x,c=t.y;a<n&&(n=a),a>i&&(i=a),c<r&&(r=c),c>o&&(o=c)}return new He(n,r,i-n,o-r)},He.fromRectUnion=function(...e){if(0===e.length)return null;const t=new He;let n,r,i,o;n=r=1/0,i=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);const a=t.x,c=t.y,u=a+t.width,d=c+t.height;a<n&&(n=a),u>i&&(i=u),c<r&&(r=c),d>o&&(o=d)}return new He(n,r,i-n,o-r)},He.prototype={type:sn.Rect,bbox:function(e){return this.clone().rotateAroundCenter(e)},rotateAroundCenter:function(e){if(!e)return this;const{width:t,height:n}=this,r=Do(e),i=mE(gj(r)),o=mE(hj(r)),s=t*o+n*i,a=t*i+n*o;return this.x+=(t-s)/2,this.y+=(n-a)/2,this.width=s,this.height=a,this},bottomLeft:function(){return new H(this.x,this.y+this.height)},bottomLine:function(){return new $e(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new H(this.x+this.width/2,this.y+this.height)},center:function(){return new H(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new He(this)},containsPoint:function(e){return e instanceof H||(e=new H(e)),e.x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},containsRect:function(e){var t=new He(this).normalize(),n=new He(e).normalize(),r=t.width,i=t.height,o=n.width,s=n.height;if(!(r&&i&&o&&s))return!1;var a=t.x,c=t.y,u=n.x,d=n.y;return o+=u,r+=a,s+=d,i+=c,a<=u&&o<=r&&c<=d&&s<=i},corner:function(){return new H(this.x+this.width,this.y+this.height)},equals:function(e){var t=new He(this).normalize(),n=new He(e).normalize();return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height},inflate:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),n=this.corner(),r=e.origin(),i=e.corner();if(i.x<=t.x||i.y<=t.y||r.x>=n.x||r.y>=n.y)return null;var o=vE(t.x,r.x),s=vE(t.y,r.y);return new He(o,s,If(n.x,i.x)-o,If(n.y,i.y)-s)},intersectionWithLine:function(e){var o,s,t=this,n=[t.topLine(),t.rightLine(),t.bottomLine(),t.leftLine()],r=[],i=[],a=n.length;for(s=0;s<a;s++)null!==(o=e.intersect(n[s]))&&i.indexOf(o.toString())<0&&(r.push(o),i.push(o.toString()));return r.length>0?r:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new H(e);var r,n=new H(this.x+this.width/2,this.y+this.height/2);t&&e.rotate(n,t);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new $e(n,e),s=i.length-1;s>=0;--s){var a=i[s].intersection(o);if(null!==a){r=a;break}}return r&&t&&r.rotate(n,-t),r},leftLine:function(){return new $e(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new H(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){e=new He(e),t||(t=e.center());var n,r,i,o,s,a,c,u,d=t.x,f=t.y;n=r=i=o=s=a=c=u=1/0;var g=e.topLeft();g.x<d&&(n=(this.x-d)/(g.x-d)),g.y<f&&(s=(this.y-f)/(g.y-f));var m=e.bottomRight();m.x>d&&(r=(this.x+this.width-d)/(m.x-d)),m.y>f&&(a=(this.y+this.height-f)/(m.y-f));var C=e.topRight();C.x>d&&(i=(this.x+this.width-d)/(C.x-d)),C.y<f&&(c=(this.y-f)/(C.y-f));var A=e.bottomLeft();return A.x<d&&(o=(this.x-d)/(A.x-d)),A.y>f&&(u=(this.y+this.height-f)/(A.y-f)),{sx:If(n,r,i,o),sy:If(s,a,c,u)}},maxRectUniformScaleToFit:function(e,t){var n=this.maxRectScaleToFit(e,t);return If(n.sx,n.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return this.width<0&&(e=this.x+this.width,n=-this.width),this.height<0&&(t=this.y+this.height,r=-this.height),this.x=e,this.y=t,this.width=n,this.height=r,this},offset:function(e,t){return H.prototype.offset.call(this,e,t)},origin:function(){return new H(this.x,this.y)},pointNearestToPoint:function(e){if(e=new H(e),this.containsPoint(e))switch(this.sideNearestToPoint(e)){case"right":return new H(this.x+this.width,e.y);case"left":return new H(this.x,e.y);case"bottom":return new H(e.x,this.y+this.height);case"top":return new H(e.x,this.y)}return e.adhereToRect(this)},rightLine:function(){return new $e(this.topRight(),this.bottomRight())},rightMiddle:function(){return new H(this.x+this.width,this.y+this.height/2)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=pj(10,e)}return this.x=Rh(this.x*t)/t,this.y=Rh(this.y*t)/t,this.width=Rh(this.width*t)/t,this.height=Rh(this.height*t)/t,this},scale:function(e,t,n){return n=this.origin().scale(e,t,n),this.x=n.x,this.y=n.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){e=new H(e);var n=this.x+this.width-e.x,r=e.y-this.y,o=e.x-this.x,s="left";return n<o&&(o=n,s="right"),r<o&&(o=r,s="top"),this.y+this.height-e.y<o&&(s="bottom"),s},snapToGrid:function(e,t){var n=this.origin().snapToGrid(e,t),r=this.corner().snapToGrid(e,t);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new $e(this.topLeft(),this.topRight())},topMiddle:function(){return new H(this.x+this.width/2,this.y)},topRight:function(){return new H(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return He.fromRectUnion(this,e)},update:function(e,t,n,r){return Object(e)===e&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=n||0,this.height=r||0,this}},He.prototype.bottomRight=He.prototype.corner,He.prototype.topLeft=He.prototype.origin,He.prototype.translate=He.prototype.offset;const mj=He;function yE(e){const t=e.trim();if(""===t)return[];const n=[],r=t.split(/\b\s*,\s*|,\s*|\s+/),i=r.length;for(let o=0;o<i;o+=2)n.push({x:+r[o],y:+r[o+1]});return n}function IE(e){const t=e.length;if(0===t)return[];const n=[];for(let r=0;r<t;r++){const i=e[r].clone();n.push(i)}return n}function CE(e){const{abs:t}=Math;var n,r,o,i=e.length;if(0===i)return[];for(n=0;n<i;n++)(void 0===o||e[n].y<o.y||e[n].y===o.y&&e[n].x>o.x)&&(o=e[n]);var s=[];for(n=0;n<i;n++){var a=o.theta(e[n]);0===a&&(a=360),s.push([e[n],n,a])}s.sort(function(se,Te){var Be=se[2]-Te[2];return 0===Be&&(Be=Te[1]-se[1]),Be}),s.length>2&&s.unshift(s[s.length-1]);for(var g,m,C,A,E,_,d={},f=[];0!==s.length;)if(m=(g=s.pop())[0],!d.hasOwnProperty(g[0]+"@@"+g[1]))for(var O=!1;!O;)if(f.length<2)f.push(g),O=!0;else{A=(C=f.pop())[0];var X=(_=(E=f.pop())[0]).cross(A,m);if(X<0)f.push(E),f.push(C),f.push(g),O=!0;else if(0===X){var oe=A.angleBetween(_,m);t(oe-180)<1e-10||A.equals(m)||_.equals(A)?(d[C[0]+"@@"+C[1]]=A,f.push(E)):t((oe+1)%360-1)<1e-10&&(f.push(E),s.push(C))}else d[C[0]+"@@"+C[1]]=A,f.push(E)}f.length>2&&f.pop();var Ie,I=-1;for(r=f.length,n=0;n<r;n++){var T=f[n][1];(void 0===Ie||T<Ie)&&(Ie=T,I=n)}var x=[];if(I>0){var k=f.slice(I),Y=f.slice(0,I);x=k.concat(Y)}else x=f;var ie=[];for(r=x.length,n=0;n<r;n++)ie.push(x[n][0]);return ie}const tr=function(e){return this instanceof tr?"string"==typeof e?new tr.parse(e):void(this.points=Array.isArray(e)?e.map(H):[]):new tr(e)};tr.parse=function(e){return new tr(yE(e))},tr.fromRect=function(e){return new tr([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft(),e.topLeft()])},tr.prototype={type:sn.Polyline,bbox:function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=this.points,o=i.length;if(0===o)return null;for(var s=0;s<o;s++){var a=i[s],c=a.x,u=a.y;c<e&&(e=c),c>t&&(t=c),u<n&&(n=u),u>r&&(r=u)}return new He(e,n,t-e,r-n)},clone:function(){return new tr(IE(this.points))},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t=this.lengthPoints(),n=t.length;if(0===n||1===n)return 0;for(var r,i=1/0,o=0,s=n-1,a=0;a<s;a++){var c=new $e(t[a],t[a+1]),u=c.length(),d=c.closestPointNormalizedLength(e),g=c.pointAt(d).squaredDistance(e);g<i&&(i=g,r=o+d*u),o+=u}return r},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(0===t)return 0;var n=this.length();return 0===n?0:t/n},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,n=t.length;if(0===n)return!1;for(var r=e.x,i=e.y,o=n-1,s=0,a=0,c=new $e,u=new $e,d=new H;s<n;s++){var f=t[o],g=t[s];if(e.equals(f)||(c.start=f,c.end=g,c.containsPoint(e)))return!0;if(i<=f.y&&i>g.y||i>f.y&&i<=g.y){var m=f.x-r>g.x-r?f.x-r:g.x-r;m>=0&&(d.x=r+m,d.y=i,u.start=e,u.end=d,c.intersect(u)&&a++)}o=s}return a%2==1},close:function(){const{start:e,end:t,points:n}=this;return e&&t&&!e.equals(t)&&n.push(e.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new tr(CE(this.points))},equals:function(e){if(!e)return!1;var t=this.points,r=t.length;if(e.points.length!==r)return!1;for(var i=0;i<r;i++)if(!t[i].equals(e.points[i]))return!1;return!0},intersectionWithLine:function(e){for(var t=new $e(e),n=[],r=this.lengthPoints(),i=new $e,o=0,s=r.length-1;o<s;o++){i.start=r[o],i.end=r[o+1];var a=t.intersectionWithLine(i);a&&n.push(a[0])}return n.length>0?n:null},isDifferentiable:function(){var e=this.points,t=e.length;if(0===t)return!1;for(var n=new $e,r=t-1,i=0;i<r;i++)if(n.start=e[i],n.end=e[i+1],n.isDifferentiable())return!0;return!1},length:function(){var e=this.lengthPoints(),t=e.length;if(0===t)return 0;for(var n=0,r=t-1,i=0;i<r;i++)n+=e[i].distance(e[i+1]);return n},pointAt:function(e){var t=this.lengthPoints(),n=t.length;if(0===n)return null;if(1===n||e<=0)return t[0].clone();if(e>=1)return t[n-1].clone();var r=this.length();return this.pointAtLength(r*e)},pointAtLength:function(e){var t=this.lengthPoints(),n=t.length;if(0===n)return null;if(1===n)return t[0].clone();var r=!0;e<0&&(r=!1,e=-e);for(var i=0,o=n-1,s=0;s<o;s++){var a=r?s:o-1-s,c=t[a],u=t[a+1],d=new $e(c,u),f=c.distance(u);if(e<=i+f)return d.pointAtLength((r?1:-1)*(e-i));i+=f}return(r?t[n-1]:t[0]).clone()},round:function(e){for(var t=this.points,n=t.length,r=0;r<n;r++)t[r].round(e);return this},scale:function(e,t,n){for(var r=this.points,i=r.length,o=0;o<i;o++)r[o].scale(e,t,n);return this},simplify:function(e={}){const t=this.points;if(t.length<3)return this;const n=e.threshold||1e-10;let r=0;for(;t[r+2];){const o=r+1,c=t[o];new $e(t[r],t[r+2]).closestPoint(c).distance(c)<=n?t.splice(o,1):r+=1}return this},tangentAt:function(e){var n=this.lengthPoints().length;if(0===n||1===n)return null;e<0&&(e=0),e>1&&(e=1);var r=this.length();return this.tangentAtLength(r*e)},tangentAtLength:function(e){var t=this.lengthPoints(),n=t.length;if(0===n||1===n)return null;var r=!0;e<0&&(r=!1,e=-e);for(var i,o=0,s=n-1,a=0;a<s;a++){var c=r?a:s-1-a,u=t[c],d=t[c+1],f=new $e(u,d),g=u.distance(d);if(f.isDifferentiable()){if(e<=o+g)return f.tangentAtLength((r?1:-1)*(e-o));i=f}o+=g}return i?i.tangentAt(r?1:0):null},toString:function(){return this.points+""},translate:function(e,t){for(var n=this.points,r=n.length,i=0;i<r;i++)n[i].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(0===t)return"";for(var n="",r=0;r<t;r++){var i=e[r];n+=i.x+","+i.y+" "}return n.trim()}},Object.defineProperty(tr.prototype,"start",{configurable:!0,enumerable:!0,get:function(){return 0===this.points.length?null:this.points[0]}}),Object.defineProperty(tr.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.points.length;return 0===t?null:this.points[t-1]}});const{abs:Fh,sqrt:vj,min:wE,max:AE,pow:Jv}=Math,Pn=function(e,t,n,r){return this instanceof Pn?e instanceof Pn?new Pn(e.start,e.controlPoint1,e.controlPoint2,e.end):(this.start=new H(e),this.controlPoint1=new H(t),this.controlPoint2=new H(n),void(this.end=new H(r))):new Pn(e,t,n,r)};function Cf(e){var t,n,r=[];for(n=arguments.length,t=1;t<n;t++)r.push(arguments[t]);if(!e)throw new Error("Missing a parent object.");var i=Object.create(e);for(n=r.length,t=0;t<n;t++){var s,a,o=r[t];for(a in o)o.hasOwnProperty(a)&&(delete i[a],s=Object.getOwnPropertyDescriptor(o,a),Object.defineProperty(i,a,s))}return i}Pn.throughPoints=function(){function t(n){var r=n.length,i=[],o=[],s=2;i[0]=n[0]/s;for(var a=1;a<r;a++)o[a]=1/s,i[a]=(n[a]-i[a-1])/(s=(a<r-1?4:3.5)-o[a]);for(a=1;a<r;a++)i[r-a-1]-=o[r-a]*i[r-a];return i}return function(n){if(!n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var r=function e(n){var s,r=[],i=[],o=n.length-1;if(1==o)return r[0]=new H((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),i[0]=new H(2*r[0].x-n[0].x,2*r[0].y-n[0].y),[r,i];var a=[];for(s=1;s<o-1;s++)a[s]=4*n[s].x+2*n[s+1].x;a[0]=n[0].x+2*n[1].x,a[o-1]=(8*n[o-1].x+n[o].x)/2;var c=t(a);for(s=1;s<o-1;++s)a[s]=4*n[s].y+2*n[s+1].y;a[0]=n[0].y+2*n[1].y,a[o-1]=(8*n[o-1].y+n[o].y)/2;var u=t(a);for(s=0;s<o;s++)r.push(new H(c[s],u[s])),i.push(s<o-1?new H(2*n[s+1].x-c[s+1],2*n[s+1].y-u[s+1]):new H((n[o].x+c[o-1])/2,(n[o].y+u[o-1])/2));return[r,i]}(n),i=[],o=r[0].length,s=0;s<o;s++){var a=new H(r[0][s].x,r[0][s].y),c=new H(r[1][s].x,r[1][s].y);i.push(new Pn(n[s],a,c,n[s+1]))}return i}}(),Pn.prototype={type:sn.Curve,bbox:function(){for(var A,E,_,O,X,K,oe,Ie,e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end,i=e.x,o=e.y,s=t.x,a=t.y,c=n.x,u=n.y,d=r.x,f=r.y,g=new Array,m=new Array,C=[new Array,new Array],I=0;I<2;++I)if(0===I?(E=6*i-12*s+6*c,A=-3*i+9*s-9*c+3*d,_=3*s-3*i):(E=6*o-12*a+6*u,A=-3*o+9*a-9*u+3*f,_=3*a-3*o),Fh(A)<1e-12){if(Fh(E)<1e-12)continue;0<(O=-_/E)&&O<1&&m.push(O)}else Ie=vj(oe=E*E-4*_*A),!(oe<0)&&(0<(X=(-E+Ie)/(2*A))&&X<1&&m.push(X),0<(K=(-E-Ie)/(2*A))&&K<1&&m.push(K));for(var k,Y,ie,T=m.length,x=T;T--;)C[0][T]=Y=(k=1-(O=m[T]))*k*k*i+3*k*k*O*s+3*k*O*O*c+O*O*O*d,C[1][T]=ie=k*k*k*o+3*k*k*O*a+3*k*O*O*u+O*O*O*f,g[T]={X:Y,Y:ie};m[x]=0,m[x+1]=1,g[x]={X:i,Y:o},g[x+1]={X:d,Y:f},C[0][x]=i,C[1][x]=o,C[0][x+1]=d,C[1][x+1]=f,m.length=x+2,C[0].length=x+2,C[1].length=x+2,g.length=x+2;var se=wE.apply(null,C[0]),Te=wE.apply(null,C[1]),Be=AE.apply(null,C[0]),re=AE.apply(null,C[1]);return new He(se,Te,Be-se,re-Te)},clone:function(){return new Pn(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions};return this.lengthAtT(this.closestPointT(e,i),i)},closestPointNormalizedLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions},o=this.closestPointLength(e,i);if(!o)return 0;var s=this.length(i);return 0===s?0:o/s},closestPointT:function(e,t){for(var i,o,s,a,c,u,d,n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r=void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions,f=r.length,g=f?1/f:0,m=0;m<f;m++){var C=r[m],A=C.start.distance(e),E=C.end.distance(e),_=A+E;(!d||_<d)&&(i=C,o=m*g,s=(m+1)*g,a=A,c=E,u=C.start.distance(C.end),d=_)}for(var O=Jv(10,-n);;){var X=a?Fh(a-c)/a:0,K=c?Fh(a-c)/c:0;if(X<O||K<O||!a||a<u*O||!c||c<u*O)return a<=c?o:s;var x=i.divide(.5);g/=2;var k=x[0].start.distance(e),Y=x[0].end.distance(e),ie=k+Y,se=x[1].start.distance(e),Te=x[1].end.distance(e);ie<=se+Te?(i=x[0],s-=g,a=k,c=Y):(i=x[1],o+=g,a=se,c=Te)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){return this.toPolyline(t).containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var n=this.tAt(e,t);return this.divideAtT(n)},divideAtLength:function(e,t){var n=this.tAtLength(e,t);return this.divideAtT(n)},divideAtT:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return[new Pn(t,t,t,t),new Pn(t,n,r,i)];if(e>=1)return[new Pn(t,n,r,i),new Pn(i,i,i,i)];var o=this.getSkeletonPoints(e),c=o.divider,u=o.dividerControlPoint1,d=o.dividerControlPoint2;return[new Pn(t,o.startControlPoint1,o.startControlPoint2,c),new Pn(c,u,d,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(e>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var o=new $e(t,n).pointAt(e),s=new $e(n,r).pointAt(e),a=new $e(r,i).pointAt(e),c=new $e(o,s).pointAt(e),u=new $e(s,a).pointAt(e);return{startControlPoint1:o,startControlPoint2:c,divider:new $e(c,u).pointAt(e),dividerControlPoint1:u,dividerControlPoint2:a}},getSubdivisions:function(e){var t=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n=this.start,r=this.controlPoint1,i=this.controlPoint2,o=this.end,s=[new Pn(n,r,i,o)];if(0===t)return s;if(!this.isDifferentiable())return s;var c=this.endpointDistance(),u=Jv(10,-t),d=2;0===r.cross(n,o)&&0===i.cross(n,o)&&(d=2*t);for(var g=0;;){g+=1;for(var m=[],C=s.length,A=0;A<C;A++){var _=s[A].divide(.5);m.push(_[0],_[1])}for(var O=0,X=m.length,K=0;K<X;K++)O+=m[K].endpointDistance();if(g>=d&&(0!==O?(O-c)/O:0)<u)return m;s=m,c=O}},isDifferentiable:function(){var t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(this.start.equals(t)&&t.equals(n)&&n.equals(r))},length:function(e){for(var n=void 0===(e=e||{}).subdivisions?this.getSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.subdivisions,r=0,i=n.length,o=0;o<i;o++)r+=n[o].endpointDistance();return r},lengthAtT:function(e,t){if(e<=0)return 0;var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision;return this.divide(e)[0].length({precision:n})},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var n=this.tAt(e,t);return this.pointAtT(n)},pointAtLength:function(e,t){var n=this.tAtLength(e,t);return this.pointAtT(n)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var n=this.tAt(e,t);return this.tangentAtT(n)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var n=this.tAtLength(e,t);return this.tangentAtT(n)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),n=t.startControlPoint2,i=t.divider,o=new $e(n,t.dividerControlPoint1);return o.translate(i.x-n.x,i.y-n.y),o},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions},o=this.length(i);return this.tAtLength(o*e,i)},tAtLength:function(e,t){var n=!0;e<0&&(n=!1,e=-e);for(var s,a,c,u,d,r=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i=void 0===t.subdivisions?this.getSubdivisions({precision:r}):t.subdivisions,o={precision:r,subdivisions:i},f=0,g=i.length,m=1/g,C=0;C<g;C++){var A=n?C:g-1-C,E=i[C],_=E.endpointDistance();if(e<=f+_){s=E,a=A*m,c=(A+1)*m,u=n?e-f:_+f-e,d=n?_+f-e:e-f;break}f+=_}if(!s)return n?1:0;for(var O=this.length(o),X=Jv(10,-r);;){if((0!==O?u/O:0)<X)return a;if((0!==O?d/O:0)<X)return c;var oe,Ie,I=s.divide(.5);m/=2;var T=I[0].endpointDistance(),x=I[1].endpointDistance();u<=T?(s=I[0],c-=m,Ie=T-(oe=u)):(s=I[1],a+=m,Ie=x-(oe=u-T)),u=oe,d=Ie}},toPoints:function(e){for(var n=void 0===(e=e||{}).subdivisions?this.getSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.subdivisions,r=[n[0].start.clone()],i=n.length,o=0;o<i;o++)r.push(n[o].end.clone());return r},toPolyline:function(e){return new tr(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}},Pn.prototype.divide=Pn.prototype.divideAtT;const lt=function(e){if(!(this instanceof lt))return new lt(e);if("string"==typeof e)return new lt.parse(e);var t,n;if(this.segments=[],e)if(Array.isArray(e)&&0!==e.length)if(n=(e=e.reduce(function(a,c){return a.concat(c)},[])).length,e[0].isSegment)for(t=0;t<n;t++)this.appendSegment(e[t]);else{var i=null;for(t=0;t<n;t++){var o=e[t];if(!(o instanceof $e||o instanceof Pn))throw new Error("Cannot construct a path segment from the provided object.");0===t&&this.appendSegment(lt.createSegment("M",o.start)),i&&!i.end.equals(o.start)&&this.appendSegment(lt.createSegment("M",o.start)),o instanceof $e?this.appendSegment(lt.createSegment("L",o.end)):o instanceof Pn&&this.appendSegment(lt.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),i=o}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof $e)this.appendSegment(lt.createSegment("M",e.start)),this.appendSegment(lt.createSegment("L",e.end));else if(e instanceof Pn)this.appendSegment(lt.createSegment("M",e.start)),this.appendSegment(lt.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else{if(!(e instanceof tr))throw new Error("Cannot construct a path from the provided object.");if(!e.points||0===e.points.length)return;for(n=e.points.length,t=0;t<n;t++){this.appendSegment(lt.createSegment(0===t?"M":"L",e.points[t]))}}};function Ys(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}lt.parse=function(e){if(!e)return new lt;for(var t=new lt,r=e.match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g),i=r.length,o=0;o<i;o++){var c=r[o].match(/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g),u=lt.createSegment.apply(this,c);t.appendSegment(u)}return t},lt.createSegment=function(e){if(!e)throw new Error("Type must be provided.");var t=lt.segmentTypes[e];if(!t)throw new Error(e+" is not a recognized path segment type.");for(var n=[],r=arguments.length,i=1;i<r;i++)n.push(arguments[i]);return Ys(t,n)},lt.prototype={type:sn.Path,appendSegment:function(e){var r,t=this.segments,n=t.length,i=0!==n?t[n-1]:null;if(Array.isArray(e)){if(!(e=e.reduce(function(u,d){return u.concat(d)},[]))[0].isSegment)throw new Error("Segments required.");for(var s=e.length,a=0;a<s;a++)r=this.prepareSegment(e[a],i,null),t.push(r),i=r}else{if(!e||!e.isSegment)throw new Error("Segment required.");r=this.prepareSegment(e,i,null),t.push(r)}},bbox:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n,r=0;r<t;r++){var i=e[r];if(i.isVisible){var o=i.bbox();n=n?n.union(o):o}}if(n)return n;var s=e[t-1];return new He(s.end.x,s.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,n=new lt,r=0;r<t;r++){var i=e[r].clone();n.appendSegment(i)}return n},closestPoint:function(e,t){var n=this.closestPointT(e,t);return n?this.pointAtT(n):null},closestPointLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},o=this.closestPointT(e,i);return o?this.lengthAtT(o,i):0},closestPointNormalizedLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},o=this.closestPointLength(e,i);if(0===o)return 0;var s=this.length(i);return 0===s?0:o/s},closestPointT:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;for(var s,i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a=1/0,c=0;c<r;c++){var u=n[c];if(u.isVisible){var f=u.closestPointT(e,{precision:i,subdivisions:o[c]}),g=u.pointAtT(f),m=new $e(g,e).squaredLength();m<a&&(s={segmentIndex:c,value:f},a=m)}}return s||{segmentIndex:r-1,value:1}},closestPointTangent:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;for(var s,i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a=1/0,c=0;c<r;c++){var u=n[c],d=o[c];if(u.isDifferentiable()){var f=u.closestPointT(e,{precision:i,subdivisions:d}),g=u.pointAtT(f),m=new $e(g,e).squaredLength();m<a&&(s=u.tangentAtT(f),a=m)}}return s||null},containsPoint:function(e,t){var n=this.toPolylines(t);if(!n)return!1;for(var r=n.length,i=0,o=0;o<r;o++)n[o].containsPoint(e)&&i++;return i%2==1},divideAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s={precision:i,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions},a=this.length(s);return this.divideAtLength(a*e,s)},divideAtLength:function(e,t){var n=this.segments.length;if(0===n)return null;var r=!0;e<0&&(r=!1,e=-e);var s,a,u,d,f,g,i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,c=0;for(s=0;s<n;s++){var C=r?s:n-1-s;a=this.getSegment(C);var A=o[C],E=a.length({precision:i,subdivisions:A});if(a.isDifferentiable()&&(f=a,g=C,e<=c+E)){d=C,u=a.divideAtLength((r?1:-1)*(e-c),{precision:i,subdivisions:A});break}c+=E}if(!f)return null;u||(d=g,u=f.divideAtT(r?1:0));var _=this.clone();_.replaceSegment(d,u);var O=d,X=d+1,K=d+2;u[0].isDifferentiable()||(_.removeSegment(O),X-=1,K-=1);var oe=_.getSegment(X).start;_.insertSegment(X,lt.createSegment("M",oe)),K+=1,u[1].isDifferentiable()||(_.removeSegment(K-1),K-=1);var Ie=K-O-1;for(s=K;s<_.segments.length;s++){var I=this.getSegment(s-Ie);if("Z"===(a=_.getSegment(s)).type&&!I.subpathStartSegment.end.equals(a.subpathStartSegment.end)){var T=lt.createSegment("L",I.end);_.replaceSegment(s,T)}}return[new lt(_.segments.slice(0,X)),new lt(_.segments.slice(X))]},equals:function(e){if(!e)return!1;var t=this.segments,n=e.segments,r=t.length;if(n.length!==r)return!1;for(var i=0;i<r;i++){var o=t[i],s=n[i];if(o.type!==s.type||!o.equals(s))return!1}return!0},getSegment:function(e){var t=this.segments,n=t.length;if(0===n)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){for(var t=this.segments,n=t.length,r=void 0===(e=e||{}).precision?this.PRECISION:e.precision,i=[],o=0;o<n;o++){var a=t[o].getSubdivisions({precision:r});i.push(a)}return i},getSubpaths:function(){const t=this.clone().validate().segments,n=t.length,r=[];for(let i=0;i<n;i++){const o=t[i];o.isSubpathStart?r.push(new lt(o)):r[r.length-1].appendSegment(o)}return r},insertSegment:function(e,t){var n=this.segments,r=n.length;if(e<0&&(e=r+e+1),e>r||e<0)throw new Error("Index out of range.");var i,o=null,s=null;if(0!==r&&(s=e>=1?(o=n[e-1]).nextSegment:n[0]),Array.isArray(t)){if(!(t=t.reduce(function(d,f){return d.concat(f)},[]))[0].isSegment)throw new Error("Segments required.");for(var a=t.length,c=0;c<a;c++)i=this.prepareSegment(t[c],o,s),n.splice(e+c,0,i),o=i}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,o,s),n.splice(e,0,i)}},intersectionWithLine:function(e,t){var n=null,r=this.toPolylines(t);if(!r)return null;for(var i=0,o=r.length;i<o;i++){var a=e.intersect(r[i]);a&&(n||(n=[]),Array.isArray(a)?Array.prototype.push.apply(n,a):n.push(a))}return n},isDifferentiable:function(){for(var e=this.segments,t=e.length,n=0;n<t;n++)if(e[n].isDifferentiable())return!0;return!1},isValid:function(){var e=this.segments;return 0===e.length||"M"===e[0].type},length:function(e){var t=this.segments,n=t.length;if(0===n)return 0;for(var i=void 0===(e=e||{}).segmentSubdivisions?this.getSegmentSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.segmentSubdivisions,o=0,s=0;s<n;s++)o+=t[s].length({subdivisions:i[s]});return o},lengthAtT:function(e,t){var n=this.segments,r=n.length;if(0===r)return 0;var i=e.segmentIndex;if(i<0)return 0;var o=e.value;i>=r?(i=r-1,o=1):o<0?o=0:o>1&&(o=1);for(var s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,a=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,u=0,d=0;d<i;d++){var f=n[d];u+=f.length({precisison:s,subdivisions:a[d]})}return u+(f=n[i]).lengthAtT(o,{precisison:s,subdivisions:a[i]})},pointAt:function(e,t){if(0===this.segments.length)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s={precision:i,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions},a=this.length(s);return this.pointAtLength(a*e,s)},pointAtLength:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;if(0===e)return this.start.clone();var i=!0;e<0&&(i=!1,e=-e);for(var a,o=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,c=0,u=0;u<r;u++){var d=i?u:r-1-u,f=n[d],g=s[d],m=f.length({precision:o,subdivisions:g});if(f.isVisible){if(e<=c+m)return f.pointAtLength((i?1:-1)*(e-c),{precision:o,subdivisions:g});a=f}c+=m}return a?i?a.end:a.start:n[r-1].end.clone()},pointAtT:function(e){var t=this.segments,n=t.length;if(0===n)return null;var r=e.segmentIndex;if(r<0)return t[0].pointAtT(0);if(r>=n)return t[n-1].pointAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[r].pointAtT(i)},PRECISION:3,prepareSegment:function(e,t,n){e.previousSegment=t,e.nextSegment=n,t&&(t.nextSegment=e),n&&(n.previousSegment=e);var r=e;return e.isSubpathStart&&(e.subpathStartSegment=e,r=n),r&&this.updateSubpathStartSegment(r),e},removeSegment:function(e){var t=this.segments,n=t.length;if(0===n)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var r=t.splice(e,1)[0],i=r.previousSegment,o=r.nextSegment;i&&(i.nextSegment=o),o&&(o.previousSegment=i),r.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(e,t){var n=this.segments,r=n.length;if(0===r)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");var i,o=n[e],s=o.previousSegment,a=o.nextSegment,c=o.isSubpathStart;if(Array.isArray(t)){if(!(t=t.reduce(function(g,m){return g.concat(m)},[]))[0].isSegment)throw new Error("Segments required.");n.splice(e,1);for(var u=t.length,d=0;d<u;d++)i=this.prepareSegment(t[d],s,a),n.splice(e+d,0,i),s=i,c&&i.isSubpathStart&&(c=!1)}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,s,a),n.splice(e,1,i),c&&i.isSubpathStart&&(c=!1)}c&&a&&this.updateSubpathStartSegment(a)},round:function(e){for(var t=this.segments,n=t.length,r=0;r<n;r++)t[r].round(e);return this},scale:function(e,t,n){for(var r=this.segments,i=r.length,o=0;o<i;o++)r[o].scale(e,t,n);return this},segmentAt:function(e,t){var n=this.segmentIndexAt(e,t);return n?this.getSegment(n):null},segmentAtLength:function(e,t){var n=this.segmentIndexAtLength(e,t);return n?this.getSegment(n):null},segmentIndexAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s={precision:i,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions},a=this.length(s);return this.segmentIndexAtLength(a*e,s)},segmentIndexAtLength:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;var i=!0;e<0&&(i=!1,e=-e);for(var o=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a=null,c=0,u=0;u<r;u++){var d=i?u:r-1-u,f=n[d],m=f.length({precision:o,subdivisions:s[d]});if(f.isVisible){if(e<=c+m)return d;a=d}c+=m}return a},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s={precision:i,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions},a=this.length(s);return this.tangentAtLength(a*e,s)},tangentAtLength:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;var i=!0;e<0&&(i=!1,e=-e);for(var a,o=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,c=0,u=0;u<r;u++){var d=i?u:r-1-u,f=n[d],g=s[d],m=f.length({precision:o,subdivisions:g});if(f.isDifferentiable()){if(e<=c+m)return f.tangentAtLength((i?1:-1)*(e-c),{precision:o,subdivisions:g});a=f}c+=m}return a?a.tangentAtT(i?1:0):null},tangentAtT:function(e){var t=this.segments,n=t.length;if(0===n)return null;var r=e.segmentIndex;if(r<0)return t[0].tangentAtT(0);if(r>=n)return t[n-1].tangentAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[r].tangentAtT(i)},toPoints:function(e){var t=this.segments,n=t.length;if(0===n)return null;for(var i=void 0===(e=e||{}).segmentSubdivisions?this.getSegmentSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.segmentSubdivisions,o=[],s=[],a=0;a<n;a++){var c=t[a];if(c.isVisible){var u=i[a];if(u.length>0){var d=u.map(function(f){return f.start});Array.prototype.push.apply(s,d)}else s.push(c.start)}else s.length>0&&(s.push(t[a-1].end),o.push(s),s=[])}return s.length>0&&(s.push(this.end),o.push(s)),o},toPolylines:function(e){var t=[],n=this.toPoints(e);if(!n)return null;for(var r=0,i=n.length;r<i;r++)t.push(new tr(n[r]));return t},toString:function(){for(var e=this.segments,t=e.length,n="",r=0;r<t;r++)n+=e[r].serialize()+" ";return n.trim()},translate:function(e,t){for(var n=this.segments,r=n.length,i=0;i<r;i++)n[i].translate(e,t);return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)e.subpathStartSegment=t?t.subpathStartSegment:null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,lt.createSegment("M",0,0)),this}},Object.defineProperty(lt.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n=0;n<t;n++){var r=e[n];if(r.isVisible)return r.start}return e[t-1].end}}),Object.defineProperty(lt.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n=t-1;n>=0;n--){var r=e[n];if(r.isVisible)return r.end}return e[t-1].end}});var Mc={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(Mc,"end",{configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(Mc,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}}),Object.defineProperty(Mc,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var xi=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof xi))return Ys(xi,e);if(0===t)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var r;if(e[0]instanceof $e){if(1===t)return this.end=e[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" lines provided).")}if("string"==typeof e[0]||"number"==typeof e[0]){if(2===t)return this.end=new H(+e[0],+e[1]),this;if(t<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=2)i=e.slice(n,n+2),r.push(Ys(xi,i));return r}if(1===t)return this.end=new H(e[0]),this;for(r=[],n=0;n<t;n+=1)r.push(new xi(e[n]));return r},bE={clone:function(){return new xi(this.end)},divideAt:function(e){var n=new $e(this.start,this.end).divideAt(e);return[new xi(n[0]),new xi(n[1])]},divideAtLength:function(e){var n=new $e(this.start,this.end).divideAtLength(e);return[new xi(n[0]),new xi(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!!this.previousSegment&&!this.start.equals(this.end)},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(bE,"type",{configurable:!0,enumerable:!0,value:"L"}),xi.prototype=Cf(Mc,$e.prototype,bE);var jo=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof jo))return Ys(jo,e);if(0===t)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var r,o;if(e[0]instanceof Pn){if(1===t)return this.controlPoint1=e[0].controlPoint1.clone(),this.controlPoint2=e[0].controlPoint2.clone(),this.end=e[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" curves provided).")}if("string"==typeof e[0]||"number"==typeof e[0]){if(6===t)return this.controlPoint1=new H(+e[0],+e[1]),this.controlPoint2=new H(+e[2],+e[3]),this.end=new H(+e[4],+e[5]),this;if(t<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=6)i=e.slice(n,n+6),r.push(Ys(jo,i));return r}if(3===t)return this.controlPoint1=new H(e[0]),this.controlPoint2=new H(e[1]),this.end=new H(e[2]),this;if(t<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" points provided).");for(r=[],n=0;n<t;n+=3)o=e.slice(n,n+3),r.push(Ys(jo,o));return r},DE={clone:function(){return new jo(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var r=new Pn(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAt(e,t);return[new jo(r[0]),new jo(r[1])]},divideAtLength:function(e,t){var r=new Pn(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtLength(e,t);return[new jo(r[0]),new jo(r[1])]},divideAtT:function(e){var n=new Pn(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtT(e);return[new jo(n[0]),new jo(n[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(this.start.equals(t)&&t.equals(n)&&n.equals(r))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,n=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(DE,"type",{configurable:!0,enumerable:!0,value:"C"}),jo.prototype=Cf(Mc,Pn.prototype,DE);var Ec=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof Ec))return Ys(Ec,e);if(0===t)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var r,o;if(e[0]instanceof $e){if(1===t)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" lines provided).")}if(e[0]instanceof Pn){if(1===t)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" curves provided).")}if("string"==typeof e[0]||"number"==typeof e[0]){if(2===t)return this.end=new H(+e[0],+e[1]),this;if(t<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=2)i=e.slice(n,n+2),r.push(Ys(0===n?Ec:xi,i));return r}if(1===t)return this.end=new H(e[0]),this;for(r=[],n=0;n<t;n+=1)o=e[n],r.push(0===n?new Ec(o):new xi(o));return r},qv={bbox:function(){return null},clone:function(){return new Ec(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(qv,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}}),Object.defineProperty(qv,"type",{configurable:!0,enumerable:!0,value:"M"}),Ec.prototype=Cf(Mc,qv);var Wu=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof Wu))return Ys(Wu,e);if(t>0)throw new Error("Closepath constructor expects no arguments.");return this},Qv={clone:function(){return new Wu},divideAt:function(e){var n=new $e(this.start,this.end).divideAt(e);return[n[1].isDifferentiable()?new xi(n[0]):this.clone(),new xi(n[1])]},divideAtLength:function(e){var n=new $e(this.start,this.end).divideAtLength(e);return[n[1].isDifferentiable()?new xi(n[0]):this.clone(),new xi(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!(!this.previousSegment||!this.subpathStartSegment||this.start.equals(this.end))},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(Qv,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}}),Object.defineProperty(Qv,"type",{configurable:!0,enumerable:!0,value:"Z"}),Wu.prototype=Cf(Mc,$e.prototype,Qv);var yj=lt.segmentTypes={L:xi,C:jo,M:Ec,Z:Wu,z:Wu};lt.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(yj).join("")+",.]*$"),lt.isDataSupported=function(e){return"string"==typeof e&&this.regexSupportedData.test(e)};const Ij={curveThroughPoints:function(e){return console.warn("deprecated"),new lt(Pn.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var i,t=[],n=[],r=e.length-1;if(1==r)return t[0]=new H((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),n[0]=new H(2*t[0].x-e[0].x,2*t[0].y-e[0].y),[t,n];var o=[];for(i=1;i<r-1;i++)o[i]=4*e[i].x+2*e[i+1].x;o[0]=e[0].x+2*e[1].x,o[r-1]=(8*e[r-1].x+e[r].x)/2;var s=this.getFirstControlPoints(o);for(i=1;i<r-1;++i)o[i]=4*e[i].y+2*e[i+1].y;o[0]=e[0].y+2*e[1].y,o[r-1]=(8*e[r-1].y+e[r].y)/2;var a=this.getFirstControlPoints(o);for(i=0;i<r;i++)t.push(new H(s[i],a[i])),n.push(i<r-1?new H(2*e[i+1].x-s[i+1],2*e[i+1].y-a[i+1]):new H((e[r].x+s[r-1])/2,(e[r].y+a[r-1])/2));return[t,n]},getCurveDivider:function(e,t,n,r){console.warn("deprecated");var i=new Pn(e,t,n,r);return function(s){var a=i.divide(s);return[{p0:a[0].start,p1:a[0].controlPoint1,p2:a[0].controlPoint2,p3:a[0].end},{p0:a[1].start,p1:a[1].controlPoint1,p2:a[1].controlPoint2,p3:a[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,n=[],r=[],i=2;n[0]=e[0]/i;for(var o=1;o<t;o++)r[o]=1/i,n[o]=(e[o]-n[o-1])/(i=(o<t-1?4:3.5)-r[o]);for(o=1;o<t;o++)n[t-o-1]-=r[t-o]*n[t-o];return n},getInversionSolver:function(e,t,n,r){console.warn("deprecated");var i=new Pn(e,t,n,r);return function(s){return i.closestPointT(s)}}},Mo=function(e){return this instanceof Mo?"string"==typeof e?new Mo.parse(e):void(this.points=Array.isArray(e)?e.map(H):[]):new Mo(e)};function ME(e,t,n,r){switch(e.type){case sn.Line:if(t.type===sn.Line)return Tc(e,t);break;case sn.Ellipse:switch(t.type){case sn.Line:return Kv(e,t);case sn.Ellipse:return EE(e,t)}break;case sn.Rect:switch(t.type){case sn.Line:return TE(e,t);case sn.Ellipse:return SE(e,t);case sn.Rect:return ey(e,t)}break;case sn.Polyline:switch(t.type){case sn.Line:return jh(e,t);case sn.Ellipse:return ty(e,t);case sn.Rect:return NE(e,t);case sn.Polyline:return xE(e,t)}break;case sn.Polygon:switch(t.type){case sn.Line:return ny(e,t);case sn.Ellipse:return Bh(e,t);case sn.Rect:return _E(e,t);case sn.Polyline:return PE(e,t);case sn.Polygon:return OE(e,t)}break;case sn.Path:switch(t.type){case sn.Line:return kE(e,t,n);case sn.Ellipse:return LE(e,t,n);case sn.Rect:return RE(e,t,n);case sn.Polyline:return ry(e,t,n);case sn.Polygon:return zh(e,t,n);case sn.Path:return FE(e,t,n,r)}}switch(t.type){case sn.Ellipse:case sn.Rect:case sn.Polyline:case sn.Polygon:case sn.Path:return ME(t,e,r,n);default:throw Error(`The intersection for ${e} and ${t} could not be found.`)}}function Tc(e,t){const n=e.start.x,r=e.start.y,s=t.start.x,a=t.start.y,d=e.end.x-n,f=e.end.y-r,g=t.end.x-s,m=t.end.y-a,C=n-s,A=r-a,E=d*m-g*f,_=(d*A-f*C)/E,O=(g*A-m*C)/E;return _>=0&&_<=1&&O>=0&&O<=1}function Kv(e,t){const n=e.a,r=e.b,i=e.x,o=e.y,s=t.start.x-i,c=t.start.y-o,d=n*n,f=r*r,g=t.end.x-i-s,m=t.end.y-o-c,C=g*g/d+m*m/f,A=2*s*g/d+2*c*m/f,_=A*A-4*C*(s*s/d+c*c/f-1);if(0===_){const O=-A/2/C;return O>=0&&O<=1}if(_>0){const O=Math.sqrt(_),X=(-A+O)/2/C,K=(-A-O)/2/C;return X>=0&&X<=1||K>=0&&K<=1}return!1}function EE(e,t){return function Cj(e,t,n,r){const{cos:i,sin:o}=Math,s=o(t),a=i(t),c=o(r),u=i(r),d=s*s,f=a*a,m=c*c,C=u*u,E=e.a*e.a,_=e.b*e.b,O=n.a*n.a,X=n.b*n.b,K=E*d+_*f,oe=O*m+X*C,Ie=E*f+_*d,I=O*C+X*m;let T=2*(_-E)*(s*a),x=2*(X-O)*(c*u),k=-2*K*e.x-T*e.y,Y=-2*oe*n.x-x*n.y,ie=-T*e.x-2*Ie*e.y,se=-x*n.x-2*I*n.y;const Te=K*e.x*e.x+Ie*e.y*e.y+T*e.x*e.y-E*_,Be=oe*n.x*n.x+I*n.y*n.y+x*n.x*n.y-O*X;T/=2,x/=2,k/=2,Y/=2,ie/=2,se/=2;const re=Va([[K,T,k],[T,Ie,ie],[k,ie,Te]]),ge=Va([[oe,x,Y],[x,I,se],[Y,se,Be]]),de=.33333333*(Va([[oe,T,k],[x,Ie,ie],[Y,ie,Te]])+Va([[K,x,k],[T,I,ie],[k,se,Te]])+Va([[K,T,Y],[T,Ie,se],[k,ie,Be]])),he=.33333333*(Va([[K,x,Y],[T,I,se],[k,se,Be]])+Va([[oe,T,Y],[x,Ie,se],[Y,ie,Be]])+Va([[oe,x,k],[x,I,ie],[Y,se,Te]])),Zt=Vh([[re,de],[de,he]]),xt=Vh([[re,he],[de,ge]]),yr=Vh([[de,he],[he,ge]]);return!(Vh([[2*Zt,xt],[xt,2*yr]])>0&&(he>0||de>0))}(e,0,t,0)}function TE(e,t){const{start:n,end:r}=t,{x:i,y:o,width:s,height:a}=e;return!(n.x>i+s&&r.x>i+s||n.x<i&&r.x<i||n.y>o+a&&r.y>o+a||n.y<o&&r.y<o)&&(!(!e.containsPoint(t.start)&&!e.containsPoint(t.end))||Tc(e.topLine(),t)||Tc(e.rightLine(),t)||Tc(e.bottomLine(),t)||Tc(e.leftLine(),t))}function SE(e,t){return!!ey(e,He.fromEllipse(t))&&Bh(Mo.fromRect(e),t)}function ey(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function jh(e,t){return jE(e,t,{interior:!1})}function ty(e,t){return BE(e,t,{interior:!1})}function NE(e,t){return zE(e,t,{interior:!1})}function xE(e,t){return Gh(e,t,{interior:!1})}function ny(e,t){return jE(e,t,{interior:!0})}function Bh(e,t){return BE(e,t,{interior:!0})}function _E(e,t){return zE(e,t,{interior:!0})}function PE(e,t){return Gh(e,t,{interior:!0})}function OE(e,t){return iy(e,t,{interior:!0})}function kE(e,t,n){return e.getSubpaths().some(r=>{const[i]=r.toPolylines(n),{type:o}=r.getSegment(-1);return"Z"===o?ny(i,t):jh(i,t)})}function LE(e,t,n){return e.getSubpaths().some(r=>{const[i]=r.toPolylines(n),{type:o}=r.getSegment(-1);return"Z"===o?Bh(i,t):ty(i,t)})}function RE(e,t,n){return zh(e,Mo.fromRect(t),n)}function ry(e,t,n){return GE(e,t,n,{interior:!1})}function zh(e,t,n){return GE(e,t,n,{interior:!0})}function FE(e,t,n,r){return e.getSubpaths().some(i=>{const[o]=i.toPolylines(n),{type:s}=i.getSegment(-1);return"Z"===s?zh(t,o,r):ry(t,o,r)})}function jE(e,t,n={}){const{interior:r=!1}=n;let i;if(r){if(e.containsPoint(t.start))return!0;const{start:a,end:c,points:u}=e;i=c.equals(a)?u:[...u,a]}else i=e.points;const{length:o}=i,s=new $e;for(let a=0;a<o-1;a++)if(s.start=i[a],s.end=i[a+1],Tc(t,s))return!0;return!1}function BE(e,t,n={}){const{start:r,end:i,points:o}=e;if(t.containsPoint(r))return!0;let s;const{interior:a=!1}=n;if(a){if(e.containsPoint(t.center()))return!0;s=i.equals(r)?o:[...o,r]}else s=o;const{length:c}=s,u=new $e;for(let d=0;d<c-1;d++)if(u.start=s[d],u.end=s[d+1],Kv(t,u))return!0;return!1}function zE(e,t,n){return iy(e,Mo.fromRect(t),n)}function GE(e,t,n,r){return e.getSubpaths().some(i=>{const[o]=i.toPolylines(n),{type:s}=i.getSegment(-1);return"Z"===s?iy(t,o,r):Gh(t,o,r)})}function Gh(e,t,n={}){const{interior:r=!1}=n;let i;if(r){const{start:c}=t;if(e.containsPoint(c))return!0;i=e.clone().close()}else i=e;const o=t.points,{length:s}=o,a=new $e;for(let c=0;c<s-1;c++)if(a.start=o[c],a.end=o[c+1],jh(i,a))return!0;return!1}function iy(e,t,n){return t.containsPoint(e.start)||Gh(e,t.clone().close(),n)}function Vh(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}function Va(e){return e[0][0]*e[1][1]*e[2][2]-e[0][0]*e[1][2]*e[2][1]-e[0][1]*e[1][0]*e[2][2]+e[0][1]*e[1][2]*e[2][0]+e[0][2]*e[1][0]*e[2][1]-e[0][2]*e[1][1]*e[2][0]}Mo.parse=function(e){return new Mo(yE(e))},Mo.fromRect=function(e){return new Mo([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft()])},Mo.prototype=Cf(tr.prototype,{type:sn.Polygon,clone:function(){return new Mo(IE(this.points))},convexHull:function(){return new Mo(CE(this.points))},lengthPoints:function(){const{start:e,end:t,points:n}=this;return n.length<=1||e.equals(t)?n:[...n,e.clone()]}});const wj=Wn,ye=function(){if("object"!=typeof window||!window.SVGAngle)return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},r=Math,i=r.PI,o=r.atan2,s=r.sqrt,a=r.min,c=r.max,u=r.cos,d=r.sin,f=function(I,T,x){if(!(this instanceof f))return f.apply(Object.create(f.prototype),arguments);if(I){if(f.isV(I)&&(I=I.node),T=T||{},f.isString(I)){if("svg"===(I=I.trim()).toLowerCase())I=f.createSvgDocument();else if("<"===I[0]){var k=f.createSvgDocument(I);if(k.childNodes.length>1){var ie,se,Y=[];for(ie=0,se=k.childNodes.length;ie<se;ie++)Y.push(new f(document.importNode(k.childNodes[ie],!0)));return Y}I=document.importNode(k.firstChild,!0)}else I=document.createElementNS(t.svg,I);f.ensureId(I)}return this.node=I,this.setAttributes(T),x&&this.append(x),this}},g=f.prototype;function C(I,T,x){x||(x={});for(var k=x.includeAnnotationIndices,Y=x.eol,ie=x.lineHeight,se=x.baseSize,Te=0,Be={},re=T.length-1,ge=0;ge<=re;ge++){var de=T[ge],he=null;if(f.isObject(de)){var Zt=de.attrs,xt=f("tspan",Zt),yr=xt.node,Er=de.t;Y&&ge===re&&(Er+=Y),yr.textContent=Er;var st=Zt.class;st&&xt.addClass(st),k&&xt.attr("annotations",de.annotations),he=parseFloat(Zt["font-size"]),isFinite(he)||(he=se),he&&he>Te&&(Te=he)}else Y&&ge===re&&(de+=Y),yr=document.createTextNode(de||" "),se&&se>Te&&(Te=se);I.appendChild(yr)}return Te&&(Be.maxFontSize=Te),ie?Be.lineHeight=ie:Te&&(Be.lineHeight=1.2*Te),Be}Object.defineProperty(g,"id",{enumerable:!0,get:function(){return this.node.id},set:function(I){this.node.id=I}}),g.getTransformToElement=function(I){var T=this.node;if(f.isSVGGraphicsElement(I)&&f.isSVGGraphicsElement(T)){var x=f.toNode(I).getScreenCTM(),k=T.getScreenCTM();if(x&&k)return x.inverse().multiply(k)}return f.createSVGMatrix()},g.transform=function(I,T){var x=this.node;if(f.isUndefined(I))return f.transformStringToMatrix(this.attr("transform"));if(T&&T.absolute)return this.attr("transform",f.matrixToTransformString(I));var k=f.createSVGTransform(I);return x.transform.baseVal.appendItem(k),this},g.translate=function(I,T,x){x=x||{},T=T||0;var k=this.attr("transform")||"",Y=f.parseTransformString(k);return k=Y.value,f.isUndefined(I)?Y.translate:(k=k.replace(/translate\([^)]*\)/g,"").trim(),this.attr("transform",("translate("+(x.absolute?I:Y.translate.tx+I)+","+(x.absolute?T:Y.translate.ty+T)+") "+k).trim()),this)},g.rotate=function(I,T,x,k){k=k||{};var Y=this.attr("transform")||"",ie=f.parseTransformString(Y);return Y=ie.value,f.isUndefined(I)?ie.rotate:(Y=Y.replace(/rotate\([^)]*\)/g,"").trim(),I%=360,this.attr("transform",(Y+" rotate("+(k.absolute?I:ie.rotate.angle+I)+(void 0!==T&&void 0!==x?","+T+","+x:"")+")").trim()),this)},g.scale=function(I,T){T=f.isUndefined(T)?I:T;var x=this.attr("transform")||"",k=f.parseTransformString(x);return x=k.value,f.isUndefined(I)?k.scale:(x=x.replace(/scale\([^)]*\)/g,"").trim(),this.attr("transform",(x+" scale("+I+","+T+")").trim()),this)},g.bbox=function(I,T){var x,k=this.node,Y=k.ownerSVGElement;if(!Y)return new He(0,0,0,0);try{x=k.getBBox()}catch{x={x:k.clientLeft,y:k.clientTop,width:k.clientWidth,height:k.clientHeight}}if(I)return new He(x);var ie=this.getTransformToElement(T||Y);return f.transformRect(x,ie)},g.getBBox=function(I){var x,T={},k=this.node;if(!k.ownerSVGElement||!f.isSVGGraphicsElement(k))return new He(0,0,0,0);if(I&&(I.target&&(T.target=f.toNode(I.target)),I.recursive&&(T.recursive=I.recursive)),T.recursive){var se=this.children(),Te=se.length;if(0===Te)return this.getBBox({target:T.target,recursive:!1});T.target||(T.target=this);for(var Be=0;Be<Te;Be++){var ge,re=se[Be];ge=0===re.children().length?re.getBBox({target:T.target,recursive:!1}):re.getBBox({target:T.target,recursive:!0}),x=x?x.union(ge):ge}return x}try{x=k.getBBox()}catch{x={x:k.clientLeft,y:k.clientTop,width:k.clientWidth,height:k.clientHeight}}if(T.target){var ie=this.getTransformToElement(T.target);return f.transformRect(x,ie)}return new He(x)};var A=/em$/;function E(I,T){var x=parseFloat(I);return A.test(I)?x*T:x}g.text=function(I,T){if(I&&"string"!=typeof I)throw new Error("Vectorizer: text() expects the first argument to be a string.");I=f.sanitizeText(I),T||(T={});var x=T.displayEmpty,k=T.eol,Y=T.textPath,ie=T.textVerticalAnchor,se="middle"===ie||"bottom"===ie||"top"===ie,Te=T.x;void 0===Te&&(Te=this.attr("x")||0);var Be=T.includeAnnotationIndices,re=T.annotations;re&&!f.isArray(re)&&(re=[re]);var ge=T.lineHeight,de="auto"===ge,he=de?"1.5em":ge||"1em";this.empty(),this.attr({"xml:space":"preserve",display:I||x?null:"none"});var Zt=parseFloat(this.attr("font-size"));Zt||(Zt=16,(se||re)&&this.attr("font-size",Zt));var yr,xt=document;Y?("string"==typeof Y&&(Y={d:Y}),yr=function m(I,T){I||(I={});var x=f("textPath"),k=I.d;if(k&&void 0===I["xlink:href"]){var Y=f("path").attr("d",k).appendTo(T.defs());x.attr("xlink:href","#"+Y.id)}return f.isObject(I)&&x.attr(I),x.node}(Y,this)):yr=xt.createDocumentFragment();for(var Ee,Er=0,st=I.split("\n"),At=[],we=0,ze=st.length-1;we<=ze;we++){var In,On=he,kn="v-line",Ut=xt.createElementNS(t.svg,"tspan"),Ir=st[we];if(Ir)if(re){var qt=f.annotateString(Ir,re,{offset:-Er,includeAnnotationIndices:Be}),zn=(In=C(Ut,qt,{includeAnnotationIndices:Be,eol:we!==ze&&k,lineHeight:de?null:he,baseSize:Zt})).lineHeight;zn&&de&&0!==we&&(On=zn),0===we&&(Ee=.8*In.maxFontSize)}else k&&we!==ze&&(Ir+=k),Ut.textContent=Ir;else{Ut.textContent="-",kn+=" v-empty-line";var bt=Ut.style;if(bt.fillOpacity=0,bt.strokeOpacity=0,re){In={};let Tr=Zt;for(let qr=(qt=f.findAnnotationsAtIndex(re,Er)).length;qr>0;qr--){const Go=qt[qr-1].attrs;if(!Go||!("font-size"in Go))continue;const ll=parseFloat(Go["font-size"]);if(isFinite(ll)){Tr=ll;break}}de&&(we>0?On=1.2*Tr:Ee=.8*Tr),Ut.setAttribute("font-size",Tr),In.maxFontSize=Tr}}In&&At.push(In),we>0&&Ut.setAttribute("dy",On),(we>0||Y)&&Ut.setAttribute("x",Te),Ut.className.baseVal=kn,yr.appendChild(Ut),Er+=Ir.length+1}if(se)if(re)On=function _(I,T,x,k){if(!Array.isArray(T))return 0;var Y=T.length;if(!Y)return 0;for(var ie=T[0],se=E(ie.maxFontSize,x)||x,Te=0,Be=E(k,x),re=1;re<Y;re++)Te+=E((ie=T[re]).lineHeight,x)||Be;var he,de=E(ie.maxFontSize,x)||x;switch(I){case"middle":he=se/2-.15*de-Te/2;break;case"bottom":he=-.25*de-Te;break;default:he=.8*se}return he}(ie,At,Zt,he);else if("top"===ie)On="0.8em";else{var tt;switch(ze>0?(tt=parseFloat(he)||1,tt*=ze,A.test(he)||(tt/=Zt)):tt=0,ie){case"middle":On=.3-tt/2+"em";break;case"bottom":On=-tt-.3+"em"}}else 0===ie?On="0em":ie?On=ie:(On=0,null===this.attr("y")&&this.attr("y",Ee||"0.8em"));return yr.firstChild.setAttribute("dy",On),this.append(yr),this},g.removeAttr=function(I){const T=oe[I],{ns:x,local:k}=f.qualifyAttr(T),Y=this.node;return x?Y.hasAttributeNS(x,k)&&Y.removeAttributeNS(x,k):Y.hasAttribute(T)&&Y.removeAttribute(T),this},g.attr=function(I,T){if(f.isUndefined(I)){for(var x=this.node.attributes,k={},Y=0;Y<x.length;Y++)k[x[Y].name]=x[Y].value;return k}if(f.isString(I)&&f.isUndefined(T))return this.node.getAttribute(oe[I]);if("object"==typeof I)for(var ie in I)I.hasOwnProperty(ie)&&this.setAttribute(ie,I[ie]);else this.setAttribute(I,T);return this},g.normalizePath=function(){return"PATH"===this.tagName()&&this.attr("d",f.normalizePathData(this.attr("d"))),this},g.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},g.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},g.setAttributes=function(I){for(var T in I)I.hasOwnProperty(T)&&this.setAttribute(T,I[T]);return this},g.append=function(I){f.isArray(I)||(I=[I]);for(var T=0,x=I.length;T<x;T++)this.node.appendChild(f.toNode(I[T]));return this},g.prepend=function(I){var T=this.node.firstChild;return T?f(T).before(I):this.append(I)},g.before=function(I){var T=this.node,x=T.parentNode;if(x){f.isArray(I)||(I=[I]);for(var k=0,Y=I.length;k<Y;k++)x.insertBefore(f.toNode(I[k]),T)}return this},g.appendTo=function(I){return f.toNode(I).appendChild(this.node),this},g.svg=function(){return this.node instanceof window.SVGSVGElement?this:f(this.node.ownerSVGElement)},g.tagName=function(){return this.node.tagName.toUpperCase()},g.defs=function(){var I=this.svg()||this,T=I.node.getElementsByTagName("defs")[0];return T?f(T):f("defs").appendTo(I)},g.clone=function(){var I=f(this.node.cloneNode(!0));return I.node.id=f.uniqueId(),I},g.findOne=function(I){var T=this.node.querySelector(I);return T?f(T):void 0},g.find=function(I){var T=[],x=this.node.querySelectorAll(I);if(x)for(var k=0;k<x.length;k++)T.push(f(x[k]));return T},g.children=function(){for(var I=this.node.childNodes,T=[],x=0;x<I.length;x++)1===I[x].nodeType&&T.push(f(I[x]));return T},g.parent=function(){return f(this.node.parentNode)||null},g.index=function(){for(var I=0,T=this.node.previousSibling;T;)1===T.nodeType&&I++,T=T.previousSibling;return I},g.findParentByClass=function(I,T){for(var x=this.node.ownerSVGElement,k=this.node.parentNode;k&&k!==T&&k!==x;){var Y=f(k);if(Y.hasClass(I))return Y;k=k.parentNode}return null},g.contains=function(I){var T=this.node,x=f.toNode(I),k=x&&x.parentNode;return T===k||!!(k&&1===k.nodeType&&16&T.compareDocumentPosition(k))},g.toLocalPoint=function(I,T){var x=this.svg().node,k=x.createSVGPoint();k.x=I,k.y=T;try{var Y=k.matrixTransform(x.getScreenCTM().inverse()),ie=this.getTransformToElement(x).inverse()}catch{return k}return Y.matrixTransform(ie)},g.translateCenterToPoint=function(I){var x=this.getBBox({target:this.svg()}).center();return this.translate(I.x-x.x,I.y-x.y),this},g.translateAndAutoOrient=function(I,T,x){I=new H(I),T=new H(T),x||(x=this.svg());var k=this.scale();this.attr("transform","");var Y=this.getBBox({target:x}).scale(k.sx,k.sy),ie=f.createSVGTransform();ie.setTranslate(-Y.x-Y.width/2,-Y.y-Y.height/2);var se=f.createSVGTransform(),Te=I.angleBetween(T,I.clone().offset(1,0));Te&&se.setRotate(Te,0,0);var Be=f.createSVGTransform(),re=I.clone().move(T,Y.width/2);Be.setTranslate(2*I.x-re.x,2*I.y-re.y);var ge=this.getTransformToElement(x),de=f.createSVGTransform();return de.setMatrix(Be.matrix.multiply(se.matrix.multiply(ie.matrix.multiply(ge.scale(k.sx,k.sy))))),this.attr("transform",f.matrixToTransformString(de.matrix)),this},g.animateAlongPath=function(I,T){T=f.toNode(T);var x=f.ensureId(T),k=f("animateMotion",I),Y=f("mpath",{"xlink:href":"#"+x});k.append(Y),this.append(k);try{k.node.beginElement()}catch{if("fake"===document.documentElement.getAttribute("smiling")){var ie=k.node;ie.animators=[];var se=ie.getAttribute("id");se&&(id2anim[se]=ie);for(var Te=getTargets(ie),Be=0,re=Te.length;Be<re;Be++){var de=new Animator(ie,Te[Be],Be);animators.push(de),ie.animators[Be]=de,de.register()}}}return this};const O=/[^\x20\t\r\n\f]+/g;function X(I){return f.isString(I)&&I.trim().match(O)||[]}g.hasClass=function(I){return!!f.isString(I)&&this.node.classList.contains(I.trim())},g.addClass=function(I){return this.node.classList.add(...X(I)),this},g.removeClass=function(I){return this.node.classList.remove(...X(I)),this},g.toggleClass=function(I,T){const x=X(I);for(let k=0;k<x.length;k++)this.node.classList.toggle(x[k],T);return this},g.sample=function(I){I=I||1;for(var ie,T=this.node,x=T.getTotalLength(),k=[],Y=0;Y<x;)ie=T.getPointAtLength(Y),k.push({x:ie.x,y:ie.y,distance:Y}),Y+=I;return k},g.convertToPath=function(){var I=f("path");I.attr(this.attr());var T=this.convertToPathData();return T&&I.attr("d",T),I},g.convertToPathData=function(){var I=this.tagName();switch(I){case"PATH":return this.attr("d");case"LINE":return f.convertLineToPathData(this.node);case"POLYGON":return f.convertPolygonToPathData(this.node);case"POLYLINE":return f.convertPolylineToPathData(this.node);case"ELLIPSE":return f.convertEllipseToPathData(this.node);case"CIRCLE":return f.convertCircleToPathData(this.node);case"RECT":return f.convertRectToPathData(this.node)}throw new Error(I+" cannot be converted to PATH.")},f.prototype.toGeometryShape=function(){var I,T,x,k,Y,ie,se,Te,Be,re,ge,de,he,Zt,xt;switch(this.tagName()){case"RECT":return I=parseFloat(this.attr("x"))||0,T=parseFloat(this.attr("y"))||0,x=parseFloat(this.attr("width"))||0,k=parseFloat(this.attr("height"))||0,new He(I,T,x,k);case"CIRCLE":return Y=parseFloat(this.attr("cx"))||0,ie=parseFloat(this.attr("cy"))||0,se=parseFloat(this.attr("r"))||0,new fo({x:Y,y:ie},se,se);case"ELLIPSE":return Y=parseFloat(this.attr("cx"))||0,ie=parseFloat(this.attr("cy"))||0,Te=parseFloat(this.attr("rx"))||0,Be=parseFloat(this.attr("ry"))||0,new fo({x:Y,y:ie},Te,Be);case"POLYLINE":return re=f.getPointsFromSvgNode(this),new tr(re);case"POLYGON":return(re=f.getPointsFromSvgNode(this)).length>1&&re.push(re[0]),new tr(re);case"PATH":return ge=this.attr("d"),lt.isDataSupported(ge)||(ge=f.normalizePathData(ge)),new lt(ge);case"LINE":return de=parseFloat(this.attr("x1"))||0,Zt=parseFloat(this.attr("y1"))||0,he=parseFloat(this.attr("x2"))||0,xt=parseFloat(this.attr("y2"))||0,new $e({x:de,y:Zt},{x:he,y:xt})}return this.getBBox()},g.findIntersection=function(I,T){var x=this.svg().node,k=this.getBBox({target:T=T||x}),Y=k.center();if(k.intersectionWithLineFromCenterToPoint(I)){var ie,se=this.tagName();if("RECT"===se){var Te=new He(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),Be=this.getTransformToElement(T),re=f.decomposeMatrix(Be),ge=x.createSVGTransform();ge.setRotate(-re.rotation,Y.x,Y.y);var de=f.transformRect(Te,ge.matrix.multiply(Be));ie=new He(de).intersectionWithLineFromCenterToPoint(I,re.rotation)}else if("PATH"===se||"POLYGON"===se||"POLYLINE"===se||"CIRCLE"===se||"ELLIPSE"===se){var Er,st,At,we,ze,Zt=("PATH"===se?this:this.convertToPath()).sample(),xt=1/0,yr=[];for(Er=0;Er<Zt.length;Er++)At=(At=f.createSVGPoint((st=Zt[Er]).x,st.y)).matrixTransform(this.getTransformToElement(T)),(ze=(st=new H(At)).distance(Y)+(we=1.1*st.distance(I)))<xt?(xt=ze,yr=[{sample:st,refDistance:we}]):ze<xt+1&&yr.push({sample:st,refDistance:we});yr.sort(function(On,kn){return On.refDistance-kn.refDistance}),yr[0]&&(ie=yr[0].sample)}return ie}},g.setAttribute=function(I,T){const x=this.node;if(null===T)return this.removeAttr(I),this;const k=oe[I],{ns:Y}=f.qualifyAttr(k);return Y?x.setAttributeNS(Y,k,T):"id"===k?x.id=T:x.setAttribute(k,T),this},f.createSvgDocument=function(I){if(I){const x=`<svg xmlns="${t.svg}" xmlns:xlink="${t.xlink}" version="1.1">${I}</svg>`,{documentElement:k}=f.parseXML(x,{async:!1});return k}const T=document.createElementNS(t.svg,"svg");return T.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),T.setAttribute("version","1.1"),T},f.createSVGStyle=function(I){const{node:T}=f("style",{type:"text/css"},[f.createCDATASection(I)]);return T},f.createCDATASection=function(I=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(I)},f.idCounter=0,f.uniqueId=function(){return"v-"+ ++f.idCounter},f.toNode=function(I){return f.isV(I)?I.node:I.nodeName&&I||I[0]},f.ensureId=function(I){return(I=f.toNode(I)).id||(I.id=f.uniqueId())},f.sanitizeText=function(I){return(I||"").replace(/ /g,"\xa0")},f.isUndefined=function(I){return typeof I>"u"},f.isString=function(I){return"string"==typeof I},f.isObject=function(I){return I&&"object"==typeof I},f.isArray=Array.isArray,f.parseXML=function(I,T){var x;T=T||{};try{var k=new DOMParser;f.isUndefined(T.async)||(k.async=T.async),x=k.parseFromString(I,"text/xml")}catch{x=void 0}if(!x||x.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+I);return x};const K=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach(I=>K[I]=I);const oe=new Proxy(K,{get:(I,T)=>f.supportCamelCaseAttributes?T in I?I[T]:I[T]=T.replace(/[A-Z]/g,"-$&").toLowerCase():T});Object.defineProperty(f,"attributeNames",{value:oe,writable:!1}),Object.defineProperty(f,"supportCamelCaseAttributes",{value:!1,writable:!0}),f.qualifyAttr=function(I){if(-1!==I.indexOf(":")){var T=I.split(":");return{ns:t[T[0]],local:T[1]}}return{ns:null,local:I}},f.transformSeparatorRegex=/[ ,]+/,f.transformRegex=/\b\w+\([^()]+\)/g,f.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,f.transformTranslateRegex=/\btranslate\(([^()]+)\)/,f.transformRotateRegex=/\brotate\(([^()]+)\)/,f.transformScaleRegex=/\bscale\(([^()]+)\)/,f.transformStringToMatrix=function(I){let T=f.createSVGMatrix();const x=I&&I.match(f.transformRegex);if(!x)return T;const k=x.length;for(let Y=0;Y<k;Y++){const se=x[Y].match(f.transformFunctionRegex);if(se){let Te,Be,re,ge,de,he=f.createSVGMatrix();const Zt=se[1].toLowerCase(),xt=se[2].split(f.transformSeparatorRegex);switch(Zt){case"scale":Te=parseFloat(xt[0]),Be=void 0===xt[1]?Te:parseFloat(xt[1]),he=he.scaleNonUniform(Te,Be);break;case"translate":re=parseFloat(xt[0]),ge=parseFloat(xt[1]),he=he.translate(re,ge);break;case"rotate":de=parseFloat(xt[0]),re=parseFloat(xt[1])||0,ge=parseFloat(xt[2])||0,he=0!==re||0!==ge?he.translate(re,ge).rotate(de).translate(-re,-ge):he.rotate(de);break;case"skewx":de=parseFloat(xt[0]),he=he.skewX(de);break;case"skewy":de=parseFloat(xt[0]),he=he.skewY(de);break;case"matrix":he.a=parseFloat(xt[0]),he.b=parseFloat(xt[1]),he.c=parseFloat(xt[2]),he.d=parseFloat(xt[3]),he.e=parseFloat(xt[4]),he.f=parseFloat(xt[5]);break;default:continue}T=T.multiply(he)}}return T},f.matrixToTransformString=function(I){return I||(I=!0),"matrix("+(void 0!==I.a?I.a:1)+","+(void 0!==I.b?I.b:0)+","+(void 0!==I.c?I.c:0)+","+(void 0!==I.d?I.d:1)+","+(void 0!==I.e?I.e:0)+","+(void 0!==I.f?I.f:0)+")"},f.parseTransformString=function(I){var T,x,k;if(I){var Y=f.transformSeparatorRegex;if(I.trim().indexOf("matrix")>=0){var ie=f.transformStringToMatrix(I),se=f.decomposeMatrix(ie);k=[se.scaleX,se.scaleY],x=[se.rotation];var Te=[];(0!==(T=[se.translateX,se.translateY])[0]||0!==T[1])&&Te.push("translate("+T+")"),(1!==k[0]||1!==k[1])&&Te.push("scale("+k+")"),0!==x[0]&&Te.push("rotate("+x+")"),I=Te.join(" ")}else{const re=I.match(f.transformTranslateRegex);re&&(T=re[1].split(Y));const ge=I.match(f.transformRotateRegex);ge&&(x=ge[1].split(Y));const de=I.match(f.transformScaleRegex);de&&(k=de[1].split(Y))}}var Be=k&&k[0]?parseFloat(k[0]):1;return{value:I,translate:{tx:T&&T[0]?parseInt(T[0],10):0,ty:T&&T[1]?parseInt(T[1],10):0},rotate:{angle:x&&x[0]?parseInt(x[0],10):0,cx:x&&x[1]?parseInt(x[1],10):void 0,cy:x&&x[2]?parseInt(x[2],10):void 0},scale:{sx:Be,sy:k&&k[1]?parseFloat(k[1]):Be}}},f.deltaTransformPoint=function(I,T){return{x:T.x*I.a+T.y*I.c+0,y:T.x*I.b+T.y*I.d+0}},f.decomposeMatrix=function(I){var T=f.deltaTransformPoint(I,{x:0,y:1}),x=f.deltaTransformPoint(I,{x:1,y:0}),k=180/i*o(T.y,T.x)-90,Y=180/i*o(x.y,x.x);return{translateX:I.e,translateY:I.f,scaleX:s(I.a*I.a+I.b*I.b),scaleY:s(I.c*I.c+I.d*I.d),skewX:k,skewY:Y,rotation:k}},f.matrixToScale=function(I){var T,x,k,Y;return I?(T=f.isUndefined(I.a)?1:I.a,Y=f.isUndefined(I.d)?1:I.d,x=I.b,k=I.c):T=Y=1,{sx:x?s(T*T+x*x):T,sy:k?s(k*k+Y*Y):Y}},f.matrixToRotate=function(I){var T={x:0,y:1};return I&&(T=f.deltaTransformPoint(I,T)),{angle:ws(_h(o(T.y,T.x))-90)}},f.matrixToTranslate=function(I){return{tx:I&&I.e||0,ty:I&&I.f||0}},f.isV=function(I){return I instanceof f},f.isVElement=f.isV,f.isSVGGraphicsElement=function(I){return!!I&&(I=f.toNode(I))instanceof SVGElement&&"function"==typeof I.getScreenCTM};var Ie=f("svg").node;return f.createSVGMatrix=function(I){var T=Ie.createSVGMatrix();for(var x in I)T[x]=I[x];return T},f.createSVGTransform=function(I){return f.isUndefined(I)?Ie.createSVGTransform():(I instanceof SVGMatrix||(I=f.createSVGMatrix(I)),Ie.createSVGTransformFromMatrix(I))},f.createSVGPoint=function(I,T){var x=Ie.createSVGPoint();return x.x=I,x.y=T,x},f.transformRect=function(I,T){var x=Ie.createSVGPoint();x.x=I.x,x.y=I.y;var k=x.matrixTransform(T);x.x=I.x+I.width,x.y=I.y;var Y=x.matrixTransform(T);x.x=I.x+I.width,x.y=I.y+I.height;var ie=x.matrixTransform(T);x.x=I.x,x.y=I.y+I.height;var se=x.matrixTransform(T),Te=a(k.x,Y.x,ie.x,se.x),Be=c(k.x,Y.x,ie.x,se.x),re=a(k.y,Y.y,ie.y,se.y),ge=c(k.y,Y.y,ie.y,se.y);return new He(Te,re,Be-Te,ge-re)},f.transformPoint=function(I,T){return new H(f.createSVGPoint(I.x,I.y).matrixTransform(T))},f.transformLine=function(I,T){return new $e(f.transformPoint(I.start,T),f.transformPoint(I.end,T))},f.transformPolyline=function(I,T){var x=I instanceof tr?I.points:I;f.isArray(x)||(x=[]);for(var k=[],Y=0,ie=x.length;Y<ie;Y++)k[Y]=f.transformPoint(x[Y],T);return new tr(k)},f.styleToObject=function(I){for(var T={},x=I.split(";"),k=0;k<x.length;k++){var ie=x[k].split("=");T[ie[0].trim()]=ie[1].trim()}return T},f.createSlicePathData=function(I,T,x,k){var Y=2*i-1e-6,ie=I,se=T,Te=x,Be=k,re=(Be<Te&&(re=Te,Te=Be,Be=re),Be-Te),ge=re<i?"0":"1",de=u(Te),he=d(Te),Zt=u(Be),xt=d(Be);return re>=Y?ie?"M0,"+se+"A"+se+","+se+" 0 1,1 0,"+-se+"A"+se+","+se+" 0 1,1 0,"+se+"M0,"+ie+"A"+ie+","+ie+" 0 1,0 0,"+-ie+"A"+ie+","+ie+" 0 1,0 0,"+ie+"Z":"M0,"+se+"A"+se+","+se+" 0 1,1 0,"+-se+"A"+se+","+se+" 0 1,1 0,"+se+"Z":ie?"M"+se*de+","+se*he+"A"+se+","+se+" 0 "+ge+",1 "+se*Zt+","+se*xt+"L"+ie*Zt+","+ie*xt+"A"+ie+","+ie+" 0 "+ge+",0 "+ie*de+","+ie*he+"Z":"M"+se*de+","+se*he+"A"+se+","+se+" 0 "+ge+",1 "+se*Zt+","+se*xt+"L0,0Z"},f.mergeAttrs=function(I,T){for(var x in T)I[x]="class"===x?I[x]?I[x]+" "+T[x]:T[x]:"style"===x?f.isObject(I[x])&&f.isObject(T[x])?f.mergeAttrs(I[x],T[x]):f.isObject(I[x])?f.mergeAttrs(I[x],f.styleToObject(T[x])):f.isObject(T[x])?f.mergeAttrs(f.styleToObject(I[x]),T[x]):f.mergeAttrs(f.styleToObject(I[x]),f.styleToObject(T[x])):T[x];return I},f.annotateString=function(I,T,x){T=T||[];for(var ie,Te,Be,k=(x=x||{}).offset||0,Y=[],se=[],re=0;re<I.length;re++){Te=se[re]=I[re];for(var ge=0;ge<T.length;ge++){var de=T[ge];re>=de.start+k&&re<de.end+k&&(f.isObject(Te)?Te.attrs=f.mergeAttrs(f.mergeAttrs({},Te.attrs),de.attrs):Te=se[re]={t:I[re],attrs:de.attrs},x.includeAnnotationIndices&&(Te.annotations||(Te.annotations=[])).push(ge))}(Be=se[re-1])?f.isObject(Te)&&f.isObject(Be)?JSON.stringify(Te.attrs)===JSON.stringify(Be.attrs)?ie.t+=Te.t:(Y.push(ie),ie=Te):f.isObject(Te)||f.isObject(Be)?(Y.push(ie),ie=Te):ie=(ie||"")+Te:ie=Te}return ie&&Y.push(ie),Y},f.findAnnotationsAtIndex=function(I,T){var x=[];return I&&I.forEach(function(k){k.start<T&&T<=k.end&&x.push(k)}),x},f.findAnnotationsBetweenIndexes=function(I,T,x){var k=[];return I&&I.forEach(function(Y){(T>=Y.start&&T<Y.end||x>Y.start&&x<=Y.end||Y.start>=T&&Y.end<x)&&k.push(Y)}),k},f.shiftAnnotations=function(I,T,x){return I&&I.forEach(function(k){k.start<T&&k.end>=T?k.end+=x:k.start>=T&&(k.start+=x,k.end+=x)}),I},f.convertLineToPathData=function(I){return["M",(I=f(I)).attr("x1"),I.attr("y1"),"L",I.attr("x2"),I.attr("y2")].join(" ")},f.convertPolygonToPathData=function(I){var T=f.getPointsFromSvgNode(I);return 0===T.length?null:f.svgPointsToPath(T)+" Z"},f.convertPolylineToPathData=function(I){var T=f.getPointsFromSvgNode(I);return 0===T.length?null:f.svgPointsToPath(T)},f.svgPointsToPath=function(I){for(var T=0,x=I.length;T<x;T++)I[T]=I[T].x+" "+I[T].y;return"M "+I.join(" L")},f.getPointsFromSvgNode=function(I){var T=[],x=(I=f.toNode(I)).points;if(x)for(var k=0,Y=x.numberOfItems;k<Y;k++)T.push(x.getItem(k));return T},f.KAPPA=.551784,f.convertCircleToPathData=function(I){I=f(I);var T=parseFloat(I.attr("cx"))||0,x=parseFloat(I.attr("cy"))||0,k=parseFloat(I.attr("r")),Y=k*f.KAPPA;return["M",T,x-k,"C",T+Y,x-k,T+k,x-Y,T+k,x,"C",T+k,x+Y,T+Y,x+k,T,x+k,"C",T-Y,x+k,T-k,x+Y,T-k,x,"C",T-k,x-Y,T-Y,x-k,T,x-k,"Z"].join(" ")},f.convertEllipseToPathData=function(I){I=f(I);var T=parseFloat(I.attr("cx"))||0,x=parseFloat(I.attr("cy"))||0,k=parseFloat(I.attr("rx")),Y=parseFloat(I.attr("ry"))||k,ie=k*f.KAPPA,se=Y*f.KAPPA;return["M",T,x-Y,"C",T+ie,x-Y,T+k,x-se,T+k,x,"C",T+k,x+se,T+ie,x+Y,T,x+Y,"C",T-ie,x+Y,T-k,x+se,T-k,x,"C",T-k,x-se,T-ie,x-Y,T,x-Y,"Z"].join(" ")},f.convertRectToPathData=function(I){return I=f(I),f.rectToPath({x:parseFloat(I.attr("x"))||0,y:parseFloat(I.attr("y"))||0,width:parseFloat(I.attr("width"))||0,height:parseFloat(I.attr("height"))||0,rx:parseFloat(I.attr("rx"))||0,ry:parseFloat(I.attr("ry"))||0})},f.rectToPath=function(I){var x=I.x,k=I.y,Y=I.width,ie=I.height,se=a(I.rx||I["top-rx"]||0,Y/2),Te=a(I.rx||I["bottom-rx"]||0,Y/2),Be=a(I.ry||I["top-ry"]||0,ie/2),re=a(I.ry||I["bottom-ry"]||0,ie/2);return(se||Te||Be||re?["M",x,k+Be,"v",ie-Be-re,"a",Te,re,0,0,0,Te,re,"h",Y-2*Te,"a",Te,re,0,0,0,Te,-re,"v",-(ie-re-Be),"a",se,Be,0,0,0,-se,-Be,"h",-(Y-2*se),"a",se,Be,0,0,0,-se,Be,"Z"]:["M",x,k,"H",x+Y,"V",k+ie,"H",x,"V",k,"Z"]).join(" ")},f.normalizePathData=function(){var I="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",T=new RegExp("([a-z])["+I+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+I+"]*,?["+I+"]*)+)","ig"),x=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+I+"]*,?["+I+"]*","ig"),k=Math,Y=k.PI,ie=k.sin,se=k.cos,Te=k.tan,Be=k.asin,re=k.sqrt,ge=k.abs;function de(st,At,Ee,we,ze,On){var kn=.3333333333333333,Ut=2/3;return[kn*st+Ut*Ee,kn*At+Ut*we,kn*ze+Ut*Ee,kn*On+Ut*we,ze,On]}function he(st,At,Ee){return{x:st*se(Ee)-At*ie(Ee),y:st*ie(Ee)+At*se(Ee)}}function Zt(st,At,Ee,we,ze,On,kn,Ut,Ir,In){var tt,qt=120*Y/180,zn=Y/180*(+ze||0),bt=[];if(In)Oi=In[0],Zr=In[1],Uf=In[2],Hf=In[3];else{At=(tt=he(st,At,-zn)).y;var Tr=((st=tt.x)-(Ut=(tt=he(Ut,Ir,-zn)).x))/2,qr=(At-(Ir=tt.y))/2,Go=Tr*Tr/(Ee*Ee)+qr*qr/(we*we);Go>1&&(Ee*=Go=re(Go),we*=Go);var ll=Ee*Ee,ZI=we*we,RN=(On==kn?-1:1)*re(ge((ll*ZI-ll*qr*qr-ZI*Tr*Tr)/(ll*qr*qr+ZI*Tr*Tr))),Uf=RN*Ee*qr/we+(st+Ut)/2,Hf=RN*-we*Tr/Ee+(At+Ir)/2,Oi=Be(((At-Hf)/we).toFixed(9)),Zr=Be(((Ir-Hf)/we).toFixed(9));(Oi=st<Uf?Y-Oi:Oi)<0&&(Oi=2*Y+Oi),(Zr=Ut<Uf?Y-Zr:Zr)<0&&(Zr=2*Y+Zr),kn&&Oi>Zr&&(Oi-=2*Y),!kn&&Zr>Oi&&(Zr-=2*Y)}var UI=Zr-Oi;if(ge(UI)>qt){var bW=Zr,DW=Ut,MW=Ir;bt=Zt(Ut=Uf+Ee*se(Zr=Oi+qt*(kn&&Zr>Oi?1:-1)),Ir=Hf+we*ie(Zr),Ee,we,ze,0,kn,DW,MW,[Zr,bW,Uf,Hf])}UI=Zr-Oi;var EW=se(Oi),TW=ie(Oi),SW=se(Zr),NW=ie(Zr),FN=Te(UI/4),jN=4/3*(Ee*FN),BN=4/3*(we*FN),zN=[st,At],fl=[st+jN*TW,At-BN*EW],GN=[Ut+jN*NW,Ir-BN*SW],VN=[Ut,Ir];if(fl[0]=2*zN[0]-fl[0],fl[1]=2*zN[1]-fl[1],In)return[fl,GN,VN].concat(bt);for(var ZN=[],xW=(bt=[fl,GN,VN].concat(bt).join().split(",")).length,Ja=0;Ja<xW;Ja++)ZN[Ja]=Ja%2?he(bt[Ja-1],bt[Ja],zn).y:he(bt[Ja],bt[Ja+1],zn).x;return ZN}function Er(st){var At=function yr(st){if((!Array.isArray(st)||!Array.isArray(st&&st[0]))&&(st=function xt(st){if(!st)return null;var At={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},Ee=[];return String(st).replace(T,function(we,ze,On){var kn=[],Ut=ze.toLowerCase();for(On.replace(x,function(Ir,In){In&&kn.push(+In)}),"m"===Ut&&kn.length>2&&(Ee.push([ze].concat(kn.splice(0,2))),Ut="l",ze="m"===ze?"l":"L");kn.length>=At[Ut]&&(Ee.push([ze].concat(kn.splice(0,At[Ut]))),At[Ut]););}),Ee}(st)),!st||!st.length)return[["M",0,0]];for(var Ut,At=[],Ee=0,we=0,ze=0,On=0,Ir=st.length,In=0;In<Ir;In++){var qt=[];At.push(qt);var bt,tt,zn=st[In];if((Ut=zn[0])!=Ut.toUpperCase())switch(qt[0]=Ut.toUpperCase(),qt[0]){case"A":qt[1]=zn[1],qt[2]=zn[2],qt[3]=zn[3],qt[4]=zn[4],qt[5]=zn[5],qt[6]=+zn[6]+Ee,qt[7]=+zn[7]+we;break;case"V":qt[1]=+zn[1]+we;break;case"H":qt[1]=+zn[1]+Ee;break;case"M":for(ze=+zn[1]+Ee,On=+zn[2]+we,bt=zn.length,tt=1;tt<bt;tt++)qt[tt]=+zn[tt]+(tt%2?Ee:we);break;default:for(bt=zn.length,tt=1;tt<bt;tt++)qt[tt]=+zn[tt]+(tt%2?Ee:we)}else for(var Tr=zn.length,qr=0;qr<Tr;qr++)qt[qr]=zn[qr];switch(qt[0]){case"Z":Ee=+ze,we=+On;break;case"H":Ee=qt[1];break;case"V":we=qt[1];break;case"M":ze=qt[qt.length-2],On=qt[qt.length-1],Ee=qt[qt.length-2],we=qt[qt.length-1];break;default:Ee=qt[qt.length-2],we=qt[qt.length-1]}}return At}(st),Ee={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function we(bt,tt,Tr){var qr,Go;if(!bt)return["C",tt.x,tt.y,tt.x,tt.y,tt.x,tt.y];switch(bt[0]in{T:1,Q:1}||(tt.qx=null,tt.qy=null),bt[0]){case"M":tt.X=bt[1],tt.Y=bt[2];break;case"A":bt=0===parseFloat(bt[1])||0===parseFloat(bt[2])?["L",bt[6],bt[7]]:["C"].concat(Zt.apply(0,[tt.x,tt.y].concat(bt.slice(1))));break;case"S":"C"===Tr||"S"===Tr?(qr=2*tt.x-tt.bx,Go=2*tt.y-tt.by):(qr=tt.x,Go=tt.y),bt=["C",qr,Go].concat(bt.slice(1));break;case"T":"Q"===Tr||"T"===Tr?(tt.qx=2*tt.x-tt.qx,tt.qy=2*tt.y-tt.qy):(tt.qx=tt.x,tt.qy=tt.y),bt=["C"].concat(de(tt.x,tt.y,tt.qx,tt.qy,bt[1],bt[2]));break;case"Q":tt.qx=bt[1],tt.qy=bt[2],bt=["C"].concat(de(tt.x,tt.y,bt[1],bt[2],bt[3],bt[4]));break;case"H":bt=["L"].concat(bt[1],tt.y);break;case"V":bt=["L"].concat(tt.x,bt[1])}return bt}function ze(bt,tt){if(bt[tt].length>7){bt[tt].shift();for(var Tr=bt[tt];Tr.length;)On[tt]="A",bt.splice(tt++,0,["C"].concat(Tr.splice(0,6)));bt.splice(tt,1),Ir=At.length}}for(var On=[],kn="",Ut="",Ir=At.length,In=0;In<Ir;In++){At[In]&&(kn=At[In][0]),"C"!==kn&&(On[In]=kn,In>0&&(Ut=On[In-1])),At[In]=we(At[In],Ee,Ut),"A"!==On[In]&&"C"===kn&&(On[In]="C"),ze(At,In);var qt=At[In],zn=qt.length;Ee.x=qt[zn-2],Ee.y=qt[zn-1],Ee.bx=parseFloat(qt[zn-4])||Ee.x,Ee.by=parseFloat(qt[zn-3])||Ee.y}return(!At[0][0]||"M"!==At[0][0])&&At.unshift(["M",0,0]),At}return function(st){return Er(st).join(",").split(",").join(" ")}}(),f.namespace=t,f.g=pr,f}(),Ko={useCSSSelectors:!0,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},wf="[object Arguments]",oy="[object Array]",Zh="[object Boolean]",sy="[object Date]",VE="[object Error]",Af="[object Map]",Uh="[object Number]",Yu="[object Object]",ay="[object RegExp]",bf="[object Set]",Hh="[object String]",Wh="[object Symbol]",cy="[object ArrayBuffer]",uy="[object DataView]",ZE="[object Float32Array]",UE="[object Float64Array]",HE="[object Int8Array]",WE="[object Int16Array]",YE="[object Int32Array]",XE="[object Uint8Array]",$E="[object Uint8ClampedArray]",JE="[object Uint16Array]",qE="[object Uint32Array]",Ej={[wf]:!0,[oy]:!0,[cy]:!0,[uy]:!0,[Zh]:!0,[sy]:!0,[ZE]:!0,[UE]:!0,[HE]:!0,[WE]:!0,[YE]:!0,[Af]:!0,[Uh]:!0,[Yu]:!0,[ay]:!0,[bf]:!0,[Hh]:!0,[Wh]:!0,[XE]:!0,[$E]:!0,[JE]:!0,[qE]:!0,[VE]:!1,"[object Function]":!1,"[object WeakMap]":!1},ly="\\ud800-\\udfff",QE="\\u2700-\\u27bf",KE="a-z\\xdf-\\xf6\\xf8-\\xff",eT="A-Z\\xc0-\\xd6\\xd8-\\xde",tT="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rT=`[${tT}]`,fy="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]",jj=`[${QE}]`,oT=`[${KE}]`,sT=`[^${ly}${tT+"\\d"+QE+KE+eT}]`,dy="\\ud83c[\\udffb-\\udfff]",aT=`[^${ly}]`,hy="(?:\\ud83c[\\udde6-\\uddff]){2}",gy="[\\ud800-\\udbff][\\udc00-\\udfff]",Xu=`[${eT}]`,cT=`(?:${oT}|${sT})`,Gj=`(?:${Xu}|${sT})`,uT="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",lT="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",fT=`(?:${fy}|${dy})?`,dT="[\\ufe0e\\ufe0f]?",hT=dT+fT+`(?:\\u200d(?:${[aT,hy,gy].join("|")})${dT+fT})*`,Hj=`(?:${[jj,hy,gy].join("|")})${hT}`,Wj=RegExp([`${Xu}?${oT}+${uT}(?=${[rT,Xu,"$"].join("|")})`,`${Gj}+${lT}(?=${[rT,Xu+cT,"$"].join("|")})`,`${Xu}?${cT}+${uT}`,`${Xu}+${lT}`,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",Hj].join("|"),"g"),my="__hash_undefined__",Yj=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,$j=`(?:${[`${aT}${fy}?`,fy,hy,gy,`[${ly}]`].join("|")})`,gT=RegExp(`${dy}(?=${dy})|${$j+hT}`,"g"),Jj=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qj=/^\w*$/,Qj=".".charCodeAt(0),Kj=/\\(\\)?/g,eB=RegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g"),tB=/^(?:0|[1-9]\d*)$/,nB=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),iB=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pT=e=>gT.test(e),mT=e=>pT(e)?(e=>e.match(gT)||[])(e):(e=>e.split(""))(e),aB=e=>null==e?[]:Df(e).map(t=>e[t]),Df=e=>Bo(e)?vT(e):Object.keys(Object(e)),vT=(e,t)=>{const n=Array.isArray(e),r=!n&&es(e)&&ts(e)===wf,i=!n&&!r&&Ef(e),o=n||r||i,s=e.length,a=new Array(o?s:0);let c=o?-1:s;for(;++c<s;)a[c]=`${c}`;for(const u in e)(t||hasOwnProperty.call(e,u))&&(!o||"length"!==u&&!Ay(u,s))&&a.push(u);return a},Yh=(e,t)=>{let{length:n}=e;for(;n--;)if($u(e[n][0],t))return n;return-1},$u=(e,t)=>e===t||e!=e&&t!=t,es=e=>null!=e&&"object"==typeof e,Xh=(e,t,n)=>{if(!Tn(n))return!1;const r=typeof t;return!!("number"==r?Bo(n)&&t>-1&&t<n.length:"string"==r&&t in n)&&$u(n[t],e)},$h=e=>{const t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Object.prototype)},Sc=(e,t,n)=>{const r=e[t];(!hasOwnProperty.call(e,t)||!$u(r,n)||void 0===n&&!(t in e))&&(e[t]=n)},Mf=(e,t,n)=>{let r=-1;const i=t.length;for(;++r<i;){const o=t[r];Sc(n,o,e[o])}return n},Bo=e=>null!=e&&"function"!=typeof e&&"number"==typeof e.length&&e.length>-1&&e.length%1==0,Ju=e=>"symbol"==typeof e||es(e)&&ts(e)===Wh,vy=(e,t)=>{let n=-1;const r=e.length;for(t||(t=new Array(r));++n<r;)t[n]=e[n];return t},ts=e=>null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e),yy=e=>{const t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t},yT=(e,t)=>{const n=t?yy(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},IT=e=>"function"!=typeof e.constructor||$h(e)?{}:Object.create(Object.getPrototypeOf(e)),Iy=e=>null==e?[]:(e=Object(e),Object.getOwnPropertySymbols(e).filter(n=>propertyIsEnumerable.call(e,n))),Ef=e=>es(e)&&Yj.test(ts(e)),Cy=e=>{const t=Object.keys(e);return!Array.isArray(e)&&null!=e&&t.push(...Iy(Object(e))),t},CT=e=>{const t=[];for(;e;)t.push(...Iy(e)),e=Object.getPrototypeOf(Object(e));return t},wT=e=>{const t=[];for(const n in e)t.push(n);return Array.isArray(e)||t.push(...CT(e)),t},Jh=({__data__:e},t)=>{const n=e;return SB(t)?n["string"==typeof t?"string":"hash"]:n.map},qh=(e,t,n)=>e===t||(null==e||null==t||!es(e)&&!es(t)?e!=e&&t!=t:vB(e,t,qh,n)),vB=(e,t,n,r)=>{let i=Array.isArray(e);const o=Array.isArray(t);let s=i?oy:ts(e),a=o?oy:ts(t);s=s==wf?Yu:s,a=a==wf?Yu:a;let c=s==Yu;const u=a==Yu,d=s==a;if(d&&!c)return r||(r=new Qu),i||Ef(e)?AT(e,t,!1,n,r):CB(e,t,s,n,r);const f=c&&hasOwnProperty.call(e,"__wrapped__"),g=u&&hasOwnProperty.call(t,"__wrapped__");if(f||g){const m=f?e.value():e,C=g?t.value():t;return r||(r=new Qu),n(m,C,r)}return!!d&&(r||(r=new Qu),((e,t,n,r)=>{const i=Cy(e),o=i.length;if(o!=Cy(t).length)return!1;let c,u=o;for(;u--;)if(c=i[u],!hasOwnProperty.call(t,c))return!1;const d=r.get(e),f=r.get(t);if(d&&f)return d==t&&f==e;let C,g=!0;for(r.set(e,t),r.set(t,e);++u<o;){c=i[u];const A=e[c],E=t[c];if(A!==E&&!n(A,E,r)){g=!1;break}C||(C="constructor"==c)}if(g&&!C){const A=e.constructor,E=t.constructor;A!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof A&&A instanceof A&&"function"==typeof E&&E instanceof E)&&(g=!1)}return r.delete(e),r.delete(t),g})(e,t,n,r))},AT=(e,t,n,r,i)=>{const s=e.length;if(s!=t.length)return!1;const c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;let d=-1,f=!0;const g=n?new Ku:void 0;for(i.set(e,t),i.set(t,e);++d<s;){let m;const C=e[d],A=t[d];if(void 0!==m){if(m)continue;f=!1;break}if(g){if(!yB(t,(E,_)=>{if(!IB(g,_)&&(C===E||r(C,E,i)))return g.push(_)})){f=!1;break}}else if(C!==A&&!r(C,A,i)){f=!1;break}}return i.delete(e),i.delete(t),f},yB=(e,t)=>{let n=-1;const r=null==e?0:e.length;for(;++n<r;)if(t(e[n],n,e))return!0;return!1},IB=(e,t)=>e.has(t),bT=(e,t,n,r)=>!(e.byteLength!=t.byteLength||!n(new Uint8Array(e),new Uint8Array(t),r)),CB=(e,t,n,r,i)=>{switch(n){case uy:return e.byteLength==t.byteLength&&e.byteOffset==t.byteOffset&&bT(e=e.buffer,t=t.buffer,r,i);case cy:return bT(e,t,r,i);case Zh:case sy:case Uh:return $u(+e,+t);case VE:return e.name==t.name&&e.message==t.message;case ay:case Hh:return e==`${t}`;case Af:let o=DT;case bf:if(o||(o=Qh),e.size!=t.size)return!1;const s=i.get(e);if(s)return s==t;i.set(e,t);const a=AT(o(e),o(t),!0,r,i);return i.delete(e),a;case Wh:return Symbol.prototype.valueOf.call(e)==Symbol.prototype.valueOf.call(t)}return!1},DT=e=>{let t=-1,n=Array(e.size);return e.forEach((r,i)=>{n[++t]=[i,r]}),n},Qh=e=>{let t=-1;const n=new Array(e.size);return e.forEach(r=>{n[++t]=r}),n},wy=(e,t)=>{if(Array.isArray(e))return!1;const n=typeof e;return!("number"!==n&&"boolean"!==n&&null!=e&&!Ju(e))||qj.test(e)||!Jj.test(e)||null!=t&&e in Object(t)},Za=(e,t)=>Array.isArray(e)?e:wy(e,t)?[e]:(e=>{const t=[];return e.charCodeAt(0)===Qj&&t.push(""),e.replace(eB,(n,r,i,o)=>{let s=n;i?s=o.replace(Kj,"$1"):r&&(s=r.trim()),t.push(s)}),t})(`${e}`),Tf=(e,t)=>{let n=0;const r=(t=Za(t,e)).length;for(;null!=e&&n<r;)e=e[ua(t[n])],n++;return n&&n==r?e:void 0};function AB(e,t){if(e!==t){const n=void 0!==e,r=null===e,i=e==e,o=Ju(e),s=void 0!==t,a=null===t,c=t==t,u=Ju(t);if(!a&&!u&&!o&&e>t||o&&s&&c&&!a&&!u||r&&s&&c||!n&&c||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!c)return-1}return 0}const MT=(e,t)=>{let n=(s,a)=>!(null==s||!s.length)&&s.indexOf(a)>-1,r=!0;const i=[],o=t.length;if(!e.length)return i;t.length>=200&&(n=(s,a)=>s.has(a),r=!1,t=new Ku(t));e:for(let s in e){let a=e[s];const c=a;if(a=0!==a?a:0,r&&c==c){let u=o;for(;u--;)if(t[u]===c)continue e;i.push(a)}else n(t,c)||i.push(a)}return i},ua=e=>{if("string"==typeof e||Ju(e))return e;const t=`${e}`;return"0"==t&&1/e==-1/0?"-0":t},qu=(e,t=!1,n=!1,r=!0,i,o,s,a)=>{let c;if(i&&(c=s?i(e,o,s,a):i(e)),void 0!==c)return c;if(!Tn(e))return e;const u=Array.isArray(e),d=ts(e);if(u){if(c=(e=>{const t=e.length;let n=new e.constructor(t);return t&&"string"==typeof e[0]&&hasOwnProperty.call(e,"index")&&(n.index=e.index,n.input=e.input),n})(e),!t)return vy(e,c)}else{const C="function"==typeof e;if(d===Yu||d===wf||C&&!s){if(c=n||C?{}:IT(e),!t)return n?MB(e,Mf(e,Object.keys(e),c)):((e,t)=>Mf(e,Iy(e),t))(e,Object.assign(c,e))}else{if(C||!Ej[d])return s?e:{};c=((e,t,n)=>{const r=e.constructor;switch(t){case cy:return yy(e);case Zh:case sy:return new r(+e);case uy:return function gB(e,t){const n=t?yy(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case ZE:case UE:case HE:case WE:case YE:case XE:case $E:case JE:case qE:return yT(e,n);case Af:case Uh:case Hh:return new r(e);case ay:return(e=>{const t=new e.constructor(e.source,/\w*$/.exec(e));return t.lastIndex=e.lastIndex,t})(e);case bf:return new r;case Wh:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(e)):{}}})(e,d,t)}}a||(a=new Qu);const f=a.get(e);if(f)return f;if(a.set(e,c),(e=>es(e)&&ts(e)==Af)(e))return e.forEach((C,A)=>{c.set(A,qu(C,t,n,r,i,A,e,a))}),c;if((e=>es(e)&&ts(e)==bf)(e))return e.forEach(C=>{c.add(qu(C,t,n,r,i,C,e,a))}),c;if(Ef(e))return c;const m=u?void 0:(r?n?wT:Cy:n?by:Df)(e);return(m||e).forEach((C,A)=>{m&&(C=e[A=C]),Sc(c,A,qu(C,t,n,r,i,A,e,a))}),c},MB=(e,t)=>Mf(e,CT(e),t),ET=(e,t)=>t.length<2?e:Tf(e,t.slice(0,-1)),Ay=(e,t)=>{const n=typeof e;return!!(t=t??Number.MAX_SAFE_INTEGER)&&("number"===n||"symbol"!==n&&tB.test(e))&&e>-1&&e%1==0&&e<t},TB=(e,t)=>(t=Za(t,e),null==(e=ET(e,t))||delete e[ua(t[t.length-1])]),SB=e=>{const t=typeof e;return"string"===t||"number"===t||"symbol"===t||"boolean"===t?"__proto__"!==e:null===e},by=e=>{const t=[];for(const n in e)t.push(n);return t},TT=(e,t)=>{if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};function ST(e,t=!1){return(n,...r)=>{let i=-1,o=r.length,s=o>1?r[o-1]:void 0;const a=o>2?r[2]:void 0;for(s=e.length>3&&"function"==typeof s?(o--,s):t?(c,u)=>{if(Array.isArray(c)&&!Array.isArray(u))return u}:void 0,a&&Xh(r[0],r[1],a)&&(s=o<3?void 0:s,o=1),n=Object(n);++i<o;){const c=r[i];c&&e(n,c,i,s)}return n}}const Dy=(e,t,n,r,i)=>{e!==t&&is(t,(o,s)=>{if(Tn(o))i||(i=new Qu),xB(e,t,s,n,Dy,r,i);else{let a=r?r(e[s],o,`${s}`,e,t,i):void 0;void 0===a&&(a=o),My(e,s,a)}},by)},xB=(e,t,n,r,i,o,s)=>{const a=TT(e,n),c=TT(t,n),u=s.get(c);if(u)return void My(e,n,u);let d=o?o(a,c,`${n}`,e,t,s):void 0,f=void 0===d;if(f){const g=Array.isArray(c),m=!g&&Ef(c);d=c,g||m?Array.isArray(a)?d=a:es(a)&&Bo(a)?d=vy(a):m?(f=!1,d=yT(c,!0)):d=[]:zr(c)||Sf(c)?(d=a,Sf(a)?d=(e=>{e=Object(e);const t={};for(const n in e)t[n]=e[n];return t})(a):("function"==typeof a||!Tn(a))&&(d=IT(c))):f=!1}f&&(s.set(c,d),i(d,c,r,o,s),s.delete(c)),My(e,n,d)},My=(e,t,n)=>{(void 0!==n&&!$u(e[t],n)||void 0===n&&!(t in e))&&Sc(e,t,n)},Ey=(e,t)=>{if(null==e)return e;if(!Bo(e))return((e,t)=>e&&function _B(e,t,n){const r=Object(e),i=n(e);let{length:o}=i,s=-1;for(;o--;){const a=i[++s];if(!1===t(r[a],a,r))break}return e}(e,t,Df))(e,t);const n=e.length,r=Object(e);let i=-1;for(;++i<n&&!1!==t(r[i],i,r););return e},kB=Set&&1/Qh(new Set([void 0,-0]))[1]==1/0?e=>new Set(e):()=>{};function NT(e,t,n,r,i,o){return Tn(e)&&Tn(t)&&(o.set(t,e),Dy(e,t,void 0,NT,o),o.delete(t)),e}function xT(e){return e==e&&!Tn(e)}function _T(e,t){return n=>null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}function UB(e){return"function"==typeof e?e:null==e?t=>t:"object"==typeof e?Array.isArray(e)?function FB(e,t){return wy(e)&&xT(t)?_T(ua(e),t):n=>{const r=Tf(n,e);return void 0===r&&r===t?function PT(e,t){return null!=e&&KB(e,t,QB)}(n,e):qh(t,r)}}(e[0],e[1]):function jB(e){const t=function BB(e){const t=Df(e);let n=t.length;for(;n--;){const r=t[n],i=e[r];t[n]=[r,i,xT(i)]}return t}(e);return 1===t.length&&t[0][2]?_T(t[0][0],t[0][1]):n=>n===e||function zB(e,t,n,r){let i=n.length;const o=i,s=!r;if(null==e)return!o;let a,c;for(e=Object(e);i--;)if(a=n[i],s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1;for(;++i<o;){a=n[i];const u=a[0],d=e[u],f=a[1];if(s&&a[2]){if(void 0===d&&!(u in e))return!1}else{const g=new Qu;if(r&&(c=r(d,f,u,e,t,g)),!(void 0===c?qh(f,d,g):c))return!1}}return!0}(n,e,t)}(e):function GB(e){return wy(e)?function VB(e){return t=>t?.[e]}(ua(e)):function ZB(e){return t=>Tf(t,e)}(e)}(e)}function Kh(){const e=UB;return arguments.length?e(arguments[0],arguments[1]):e}const HB=(e,t,n,r)=>{let i=-1;const o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n},WB=(e,t,n,r,i)=>(i(e,(o,s,a)=>{n=r?(r=!1,o):t(n,o,s,a)}),n),XB=e=>Array.isArray(e)||Sf(e)||!(!e||!e[Symbol.isConcatSpreadable]);function OT(e,t,n,r,i){let o=-1;const s=e.length;for(n||(n=XB),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?OT(a,t-1,n,r,i):i.push(...a):r||(i[i.length]=a)}return i}const Sf=e=>es(e)&&"[object Arguments]"==ts(e),QB=(e,t)=>null!=e&&t in Object(e),KB=(e,t,n)=>{for(var r=-1,i=(t=Za(t,e)).length,o=!1;++r<i;){var s=ua(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&(e=>"number"==typeof e&&e>-1&&e%1==0&&e<=Number.MAX_SAFE_INTEGER)(i)&&Ay(s,i)&&(Array.isArray(e)||Sf(e))},iz=function oz(e){return t=>{if(!t)return"";const n=pT(t)?mT(t):void 0,r=n?n[0]:t[0],i=n?((e,t,n)=>{const{length:r}=e;return e.slice(1,n=void 0===n?r:n)})(n).join(""):t.slice(1);return r[e]()+i}}("toUpperCase");class Qu{constructor(t){const n=this.__data__=new Ty(t);this.size=n.size}clear(){this.__data__=new Ty,this.size=0}delete(t){const n=this.__data__,r=n.delete(t);return this.size=n.size,r}get(t){return this.__data__.get(t)}has(t){return this.__data__.has(t)}set(t,n){let r=this.__data__;if(r instanceof Ty){const i=r.__data__;if(i.length<199)return i.push([t,n]),this.size=++r.size,this;r=this.__data__=new kT(i)}return r.set(t,n),this.size=r.size,this}}class Ty{constructor(t){let n=-1;const r=null==t?0:t.length;for(this.clear();++n<r;){const i=t[n];this.set(i[0],i[1])}}clear(){this.__data__=[],this.size=0}delete(t){const n=this.__data__,r=Yh(n,t);return!(r<0)&&(r==n.length-1?n.pop():n.splice(r,1),--this.size,!0)}get(t){const n=this.__data__,r=Yh(n,t);return r<0?void 0:n[r][1]}has(t){return Yh(this.__data__,t)>-1}set(t,n){const r=this.__data__,i=Yh(r,t);return i<0?(++this.size,r.push([t,n])):r[i][1]=n,this}}class kT{constructor(t){let n=-1;const r=null==t?0:t.length;for(this.clear();++n<r;){const i=t[n];this.set(i[0],i[1])}}clear(){this.size=0,this.__data__={hash:new LT,map:new Map,string:new LT}}delete(t){const n=Jh(this,t).delete(t);return this.size-=n?1:0,n}get(t){return Jh(this,t).get(t)}has(t){return Jh(this,t).has(t)}set(t,n){const r=Jh(this,t),i=r.size;return r.set(t,n),this.size+=r.size==i?0:1,this}}class LT{constructor(t){let n=-1;const r=null==t?0:t.length;for(this.clear();++n<r;){const i=t[n];this.set(i[0],i[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(t){const n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}get(t){const r=this.__data__[t];return r===my?void 0:r}has(t){return void 0!==this.__data__[t]}set(t,n){const r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=void 0===n?my:n,this}}class Ku{constructor(t){let n=-1;const r=null==t?0:t.length;for(this.__data__=new kT;++n<r;)this.add(t[n])}add(t){return this.__data__.set(t,my),this}has(t){return this.__data__.has(t)}}Ku.prototype.push=Ku.prototype.add;const Tn=function(e){return!!e&&("object"==typeof e||"function"==typeof e)},Eo=function(e){return"number"==typeof e||!!e&&"object"==typeof e&&Object.prototype.toString.call(e)===Uh},Yi=function(e){return"string"==typeof e||!!e&&"object"==typeof e&&Object.prototype.toString.call(e)===Hh},mt=ST((e,t)=>{if($h(t)||Bo(t))Mf(t,Df(t),e);else for(var n in t)hasOwnProperty.call(t,n)&&Sc(e,n,t[n])}),ns=(e,...t)=>{let n=-1,r=t.length;const i=r>2?t[2]:void 0;for(i&&Xh(t[0],t[1],i)&&(r=1);++n<r;){const o=t[n];if(null==o)continue;const s=Object.keys(o),a=s.length;let c=-1;for(;++c<a;){const u=s[c],d=e[u];(void 0===d||$u(d,Object.prototype[u])&&!hasOwnProperty.call(e,u))&&(e[u]=o[u])}}return e},el=function(...t){return t.push(void 0,NT),Xr.apply(void 0,t)},Xs=(e,t,...n)=>{let r=-1;const i="function"==typeof t,o=Bo(e)?new Array(e.length):[];return Ey(e,s=>{o[++r]=i?t.apply(s,n):az(s,t,...n)}),o},az=(e,t,...n)=>{t=Za(t,e);const r=null==(e=ET(e,t))?e:e[ua(function OB(e){const t=null==e?0:e.length;return t?e[t-1]:void 0}(t))];return r?.apply(e,n)},RT=(e,t,n)=>{let r=0,i=null==e?0:e.length;if(0==i)return 0;const o=(t=(n=Kh(n,2))(t))!=t,s=null===t,a=Ju(t),c=void 0===t;for(;r<i;){let u;const d=Math.floor((r+i)/2),f=n(e[d]),g=void 0!==f,m=null===f,C=f==f,A=Ju(f);u=o?C:c?C&&g:s?C&&g&&!m:a?C&&g&&!m&&!A:!m&&!A&&f<t,u?r=d+1:i=d}return Math.min(i,4294967294)},Nc=(e,t)=>{let n=-1,r=(c,u)=>!(null==c||!c.length)&&c.indexOf(u)>-1;t=Kh(t,2);let i=!0;const{length:o}=e,s=[];let a=s;if(o>=200){const c=t?null:kB(e);if(c)return Qh(c);i=!1,r=(u,d)=>u.has(d),a=new Ku}else a=t?[]:s;e:for(;++n<o;){let c=e[n];const u=t?t(c):c;if(c=0!==c?c:0,i&&u==u){let d=a.length;for(;d--;)if(a[d]===u)continue e;t&&a.push(u),s.push(c)}else r(a,u)||(a!==s&&a.push(u),s.push(c))}return s},$s=e=>qu(e),rs=e=>qu(e,!0),la=e=>{if(null==e)return!0;if(Bo(e)&&(Array.isArray(e)||"string"==typeof e||"function"==typeof e.splice||Ef(e)||Sf(e)))return!e.length;const t=ts(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if($h(e))return!(e=>{if(!$h(e))return Object.keys(e);var t=[];for(var n in Object(e))hasOwnProperty.call(e,n)&&"constructor"!=n&&t.push(n);return t})(e).length;for(const n in e)if(hasOwnProperty.call(e,n))return!1;return!0},tl=(e,t)=>qh(e,t),ur=e=>"function"==typeof e,zr=e=>{if(!es(e)||"[object Object]"!=ts(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},yn=e=>{if(!e)return[];if(Bo(e))return Yi(e)?mT(e):vy(e);if(Symbol.iterator&&Symbol.iterator in Object(e)){const r=e[Symbol.iterator]();let i;const o=[];for(;!(i=r.next()).done;)o.push(i.value);return o}const t=ts(e);return(t==Af?DT:t==bf?Qh:aB)(e)},Sy=(e,t=[])=>{if(null==e)return[];const n=t.length;return n>1&&Xh(e,t[0],t[1])?t=[]:n>2&&Xh(t[0],t[1],t[2])&&(t=[t[0]]),Array.isArray(t)||(t=[Kh(t,2)]),function LB(e,t,n){t=t.length?t.map(s=>Array.isArray(s)?a=>Tf(a,1===s.length?s[0]:s):s):[s=>s];let r=-1,i=-1;const o=Bo(e)?new Array(e.length):[];return Ey(e,s=>{const a=t.map(c=>c(s));o[++i]={criteria:a,index:++r,value:s}}),function RB(e,t){let{length:n}=e;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(s,a)=>function bB(e,t,n){let r=-1;const i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){const c=r<a?n[r]:null,d=(c&&"function"==typeof c?c:AB)(i[r],o[r]);if(d)return c&&"function"!=typeof c?d*("desc"==c?-1:1):d}return e.index-t.index}(s,a,n))}(e,t.flat(1),[])},lz=e=>null!=e&&e.length?OT(e,1/0):[],Ny=(e,...t)=>Bo(e)?MT(e,t):[],FT=(e,...t)=>es(e)&&Bo(e)?MT(e,t.flat(1)):[],xy=(...e)=>{const t=e.flat(1);return Nc(t)},fa=(e,t)=>{if(null==e)return!1;"string"==typeof t&&(t=t.split("."));let n=-1,r=e;for(;++n<t.length;){if(!r||!hasOwnProperty.call(r,t[n]))return!1;r=r[t[n]]}return!0},Gr=(e,t,n)=>{let r=-1,i=(t=Za(t,e)).length;for(i||(i=1,e=void 0);++r<i;){let o=e?.[ua(t[r])];void 0===o&&(r=i,o=n),e="function"==typeof o?o.call(e):o}return e},xc=(e,...t)=>{let n={};if(null==e)return n;let r=!1;t=t.flat(1).map(o=>(o=Za(o,e),r||(r=o.length>1),o)),Mf(e,wT(e),n),r&&(n=qu(n,!0,!0,!0,o=>zr(o)?void 0:o));let i=t.length;for(;i--;)TB(n,t[i]);return n},is=(e,t=(n=>n))=>{let n=-1;const r=Object(e),i=Bo(e)?vT(e,!0):by(e);let o=i.length;for(;o--;){const s=i[++n];if(!1===t(r[s],s,r))break}};let dz=0;const Xr=ST((e,t,n,r)=>{Dy(e,t,n,r)},!0),As=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,Ko.classNamePrefix.length)!==Ko.classNamePrefix&&(t=Ko.classNamePrefix+t),t}).join(" ")},gz=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,Ko.classNamePrefix.length)===Ko.classNamePrefix&&(t=t.substr(Ko.classNamePrefix.length)),t}).join(" ")},eg=function(e,t){const n={},r={},i=ye.namespace.svg,o=t||i,s=document.createDocumentFragment(),a=function(c,u,d){for(let f=0;f<c.length;f++){const g=c[f];if("string"==typeof g){const K=document.createTextNode(g);u.appendChild(K);continue}if(!g.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const m=g.tagName;let C;g.hasOwnProperty("namespaceURI")&&(d=g.namespaceURI),C=document.createElementNS(d,m);const A=d===i,E=A?ye:Cn,_=g.attributes;_&&E(C).attr(_);const O=g.style;if(O&&Cn(C).css(O),g.hasOwnProperty("className")){const K=g.className;A?C.className.baseVal=K:C.className=K}if(g.hasOwnProperty("textContent")&&(C.textContent=g.textContent),g.hasOwnProperty("selector")){const K=g.selector;if(n[K])throw new Error("json-dom-parser: selector must be unique");n[K]=C,E(C).attr("joint-selector",K)}if(g.hasOwnProperty("groupSelector")){let K=g.groupSelector;Array.isArray(K)||(K=[K]);for(let oe=0;oe<K.length;oe++){const Ie=K[oe];let I=r[Ie];I||(I=r[Ie]=[]),I.push(C)}}u.appendChild(C);const X=g.children;Array.isArray(X)&&a(X,C,d)}};return a(e,s,o),{fragment:s,selectors:n,groupSelectors:r}},tg=function(e){let t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t},Nf=function(e,t,n){for(var i,r=Array.isArray(t)?t:t.split(n||"/"),o=0,s=r.length;o<s;){if(i=r[o++],Object(e)!==e||!(i in e))return;e=e[i]}return e},jT=function(e,t){return"string"!=typeof t&&"number"!=typeof t&&(t=String(t)),!("constructor"===t&&"function"==typeof e[t]||"__proto__"===t)},_y=function(e,t,n,r){const i=Array.isArray(t)?t:t.split(r||"/"),o=i.length-1;let s=e,a=0;for(;a<o;a++){const c=i[a];if(!jT(s,c))return e;s=s[c]||(s[c]={})}return s[i[o]]=n,e},BT=function(e,t,n){const r=Array.isArray(t)?t:t.split(n||"/"),i=r.length-1;let o=e,s=0;for(;s<i;s++){const a=r[s];if(!jT(o,a))return e;const c=o[a];if(!c)return e;o=c}return delete o[r[i]],e},nl=function(e){return nl.id=nl.id||1,void 0===e?"j_"+nl.id++:(e.id=void 0===e.id?"j_"+nl.id++:e.id,e.id)},vz=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},_i=function(e){if(e.normalized)return e;const{originalEvent:t,target:n}=e,r=t&&t.changedTouches&&t.changedTouches[0];if(r)for(let i in r)void 0===e[i]&&(e[i]=r[i]);if(n){const i=n.correspondingUseElement;i&&(e.target=i)}return e.normalized=!0,e},Py=function(){var e;if(typeof window<"u"&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),o=setTimeout(function(){n(r+i)},i);return t=r+i,o}}return function(n,r,...i){return e(void 0!==r?n.bind(r,...i):n)}}(),Oy=((t=typeof window<"u")&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e),Pi=function(e){return Yi(e)&&"%"===e.slice(-1)},Cz=function(e,t){var r=parseFloat(e);if(Number.isNaN(r))return null;var o,i={};if(i.value=r,null==t)o="[A-Za-z]*";else if(Array.isArray(t)){if(0===t.length)return null;o=t.join("|")}else Yi(t)&&(o=t);var s=function n(a){var c=new RegExp("(?:\\d+(?:\\.\\d+)*)("+a+")$").exec(e);return c?c[1]:null}(o);return null===s?null:(i.unit=s,i)};var e,t;function wz(e,t){const n=e.split(t);let r=1;for(let i=0,o=n.length-1;i<o;i++){const s=[];(i>0||""!==n[0])&&s.push(0),s.push(t),(i<o-1||""!==n[o])&&s.push(0),n.splice(r,0,...s),r+=s.length+1}return n.filter(i=>""!==i)}function zT(e,t){if(null===e)return t.getBBox().height;switch(e.unit){case"em":return t.getBBox().height*e.value;case"px":case"":return e.value}}const GT=function(e,t,n={},r={}){var i=t.width,o=t.height,s=r.svgDocument||ye("svg").node,a=ye("tspan").node,c=ye("text").attr(n).append(a).node,u=document.createTextNode("");c.style.opacity=0,c.style.display="block",a.style.display="block",a.appendChild(u),s.appendChild(c),r.svgDocument||document.body.appendChild(s);const d=r.preserveSpaces,g=r.separator||""===r.separator?r.separator:" ",m="string"==typeof g?g:" ";var C=r.eol||"\n",A=r.hyphen?new RegExp(r.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,E=r.maxLineCount;Eo(E)||(E=1/0);var K,oe,Ie,_=e.split(g),O=[],X=[];d&&ye(a).attr("xml:space","preserve");for(var I=0,T=0,x=_.length;I<x;I++){var k=_[I];if((k||d)&&"string"==typeof k){var Y=!1;if(C&&k.indexOf(C)>=0){if(k.length>1){const Zt=wz(_[I],C);_.splice(I,1,...Zt),I--,x=_.length;continue}if(d&&"string"==typeof _[I-1]){_.splice(I,0,"",0),x+=2,I--;continue}X[++T]=d&&"string"!=typeof _[I+1]?void 0:"",Y=!0}if(!Y){let Zt;if(Zt=d?void 0!==X[T]?X[T]+m+k:k:X[T]?X[T]+m+k:k,u.data=Zt,a.getComputedTextLength()<=i)X[T]=Zt,(K||oe)&&(O[T++]=!0,K=0,oe=0);else{if(!X[T]||K){var ie=!!K;if(K=k.length-1,ie||!K){if(!K){if(!X[T]){X=[];break}_.splice(I,2,k+_[I+1]),x--,O[T++]=!0,I--;continue}_[I]=k.substring(0,K);const xt=_[I+1];_[I+1]=k.substring(K)+(void 0===xt||0===xt?"":xt)}else{if(oe)_.splice(I,2,_[I]+_[I+1]),oe=0;else{var se=k.search(A);se>-1&&se!==k.length-1&&0!==se&&(oe=se+1,K=0),_.splice(I,1,k.substring(0,oe||K),k.substring(oe||K)),x++}T&&!O[T-1]&&T--}(!d||""!==X[T])&&I--;continue}T++,I--}}var Te=null;if(X.length>E?Te=E-1:void 0!==o&&(void 0===Ie&&""!==u.data&&(Ie=zT("auto"===n.lineHeight?{value:1.5,unit:"em"}:Cz(n.lineHeight,["em","px",""]),c)),Ie*X.length>o&&(Te=Math.floor(o/Ie)-1)),null!==Te){X.splice(Te+1);var Be=r.ellipsis;if(!Be||Te<0)break;"string"!=typeof Be&&(Be="\u2026");var re=X[Te];if(!re&&!Y)break;var de,he,ge=re.length;do{if(he=re[ge],de=re.substring(0,ge),he?he.match(g)&&(de+=he):de+=m,u.data=de+=Be,a.getComputedTextLength()<=i){X[Te]=de;break}ge--}while(ge>=0);break}}}return r.svgDocument?s.removeChild(c):document.body.removeChild(s),X.join(C)},Az=function(e){var t=Cn(Cn.parseHTML("<div>"+e+"</div>",null,!1));return t.find("*").each(function(){var n=this;Cn.each(n.attributes,function(){var i=this.name,o=this.value;(i.startsWith("on")||o.startsWith("javascript:")||o.startsWith("data:")||o.startsWith("vbscript:"))&&Cn(n).removeAttr(i)})}),t.html()},Ua=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var n,r,i,o;return n=r=i=o=0,isFinite(e.vertical)&&(n=i=+e.vertical),isFinite(e.horizontal)&&(r=o=+e.horizontal),isFinite(e.top)&&(n=+e.top),isFinite(e.right)&&(r=+e.right),isFinite(e.bottom)&&(i=+e.bottom),isFinite(e.left)&&(o=+e.left),{top:n,right:r,bottom:i,left:o}},Ez={linear:function(e){return e},quad:function(e){return e*e},cubic:function(e){return e*e*e},inout:function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)},exponential:function(e){return Math.pow(2,10*(e-1))},bounce:function(e){for(var t=0,n=1;;t+=n,n/=2)if(e>=(7-4*t)/11){var r=(11-6*t-11*e)/4;return-r*r+n*n}},reverse:function(e){return function(t){return 1-e(1-t)}},reflect:function(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}},clamp:function(e,t,n){return t=t||0,n=n||1,function(r){var i=e(r);return i<t?t:i>n?n:i}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},elastic:function(e){return e||(e=1.5),function(t){return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}}},VT={number:function(e,t){var n=t-e;return function(r){return e+n*r}},object:function(e,t){var n=Object.keys(e);return function(r){var i,o,s={};for(i=n.length-1;-1!=i;i--)s[o=n[i]]=e[o]+(t[o]-e[o])*r;return s}},hexColor:function(e,t){var n=parseInt(e.slice(1),16),r=parseInt(t.slice(1),16),i=255&n,o=(255&r)-i,s=65280&n,a=(65280&r)-s,c=16711680&n,u=(16711680&r)-c;return function(d){return"#"+(1<<24|i+o*d&255|s+a*d&65280|c+u*d&16711680).toString(16).slice(1)}},unit:function(e,t){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(e),i=n.exec(t),o=i[1].indexOf("."),s=o>0?i[1].length-o-1:0,a=+i[1]-(e=+r[1]),c=r[2];return function(u){return(e+a*u).toFixed(s)+c}}},Tz={outline:function(e){var n=Number.isFinite(e.margin)?e.margin:2,r=Number.isFinite(e.width)?e.width:1;return ho('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>')({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:n+r,innerRadius:n})},highlight:function(e){return ho('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>')({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return ho('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return ho(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ho('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ho('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ho('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return ho('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ho('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return ho('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ho('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},ho=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},e.replace(t,function(r){for(var s=Array.from(arguments).slice(1,4).find(function(c){return!!c}).split("."),a=n[s.shift()];void 0!==a&&s.length;)a=a[s.shift()];return void 0!==a?a:""})}},_c={},Ha=Wi.View.extend({options:{},theme:null,themeClassNamePrefix:As("theme-"),requireSetThemeOverride:!1,defaultTheme:Ko.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=mt({},this.options,e),Wi.View.call(this,e)},initialize:function(){_c[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return null!==this.el.parentNode},renderChildren:function(e){if(e||(e=Gr(this,"children")),e){var t=this.svgElement,r=eg(e,ye.namespace[t?"svg":"xhtml"]);(t?this.vel:this.$el).empty().append(r.fragment),this.childNodes=r.selectors}return this},findAttribute:function(e,t){for(var n=t;n&&1===n.nodeType;){var r=n.getAttribute(e);if(r)return r;if(n===this.el)return null;n=n.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(Gr(this,"el"));else{var e=Gr(this,"tagName"),t=mt({},Gr(this,"attributes")),n=mt({},Gr(this,"style"));this.id&&(t.id=Gr(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(ye.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof Wi.$?e:Wi.$(e),this.el=this.$el[0],this.svgElement&&(this.vel=ye(this.el))},_ensureElClassName:function(){var e=Gr(this,"className");if(e){var t=As(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override||(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e),this},addThemeClassName:function(e){if(!(e=e||this.theme))return this;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){var t=this.themeClassNamePrefix+(e=e||this.theme);return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),_c[this.cid]=null,Wi.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,n){if(!t)return this;n||(n={});var r=this.getEventNamespace();for(var i in t){var o=t[i];"function"!=typeof o&&(o=this[o]),o&&Cn(e).on(i+r,n,o.bind(this))}return this},undelegateElementEvents:function(e){return Cn(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=Gr(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var n=e.data,r="__"+this.cid+"__";return void 0===t?n&&n[r]||{}:(n||(n=e.data={}),n[r]||(n[r]={}),mt(n[r],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&mt({},e[0])||{},n=e[1]&&mt({},e[1])||{},r=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return"function"==typeof r&&r.apply(this,arguments),this.render.__render__===r&&this.onRender(),this},t.render.__render__=r,Wi.View.extend.call(this,t,n)}});if(Cn.event&&!("dbltap"in Cn.event.special)){const e=Ko.doubleTapInterval,t=30;Cn.event.special.dbltap={bindType:"touchend",delegateType:"touchend",handle:function(n,...r){const{handleObj:i,target:o}=n,s=Cn.data(o),a=(new Date).getTime(),c="lastTouch"in s?a-s.lastTouch:0;c<e&&c>t?(s.lastTouch=null,n.type=i.origType,i.handler.call(this,n,...r)):s.lastTouch=a}}}function _f(e){return e?Array.isArray(e)?e:[e]:[]}const bs=Ha.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(e,t){const{paper:n}=e;this.cellView=e,this.nodeSelector=t,n&&(this.updateRequested=!0,n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:e,nodeSelector:t}=this;return e.isMounted()?(this.update(e,t),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(e,t=null){let n;if("string"==typeof t)[n]=e.findBySelector(t);else if(zr(t)){const r=e.model.isLink(),{label:i=null,port:o,selector:s}=t;r&&null!==i?n=e.findLabelNode(i,s):!r&&o?n=e.findPortNode(o,s):[n]=e.findBySelector(s)}else t&&(n=ye.toNode(t),n instanceof SVGElement||(n=null));return n||null},getNodeMatrix(e,t){const{options:n}=this,{layer:r}=n,{rotatableNode:i}=e,o=e.getNodeMatrix(t);return i?r?i.contains(t)?o:e.getRootRotateMatrix().inverse().multiply(o):e.getNodeRotateMatrix(t).multiply(o):o},mount(){const{MOUNTABLE:e,cellView:t,el:n,options:r,transformGroup:i,detachedTransformGroup:o,postponedUpdate:s,nodeSelector:a}=this;if(!e||i)return;if(s)return this.update(t,a),void this.transform();const{vel:c,paper:u}=t,{layer:d}=r;if(d){let f;o?(f=o,this.detachedTransformGroup=null):f=ye("g").addClass("highlight-transform").append(n),this.transformGroup=f,u.getLayerView(d).insertSortedNode(f.node,r.z)}else(!n.parentNode||n.nextSibling)&&c.append(n)},unmount(){const{MOUNTABLE:e,transformGroup:t,vel:n}=this;e&&(t?(this.transformGroup=null,this.detachedTransformGroup=t,t.remove()):n.remove())},transform(){const{transformGroup:e,cellView:t,updateRequested:n}=this;if(!e||t.model.isLink()||n)return;const r=t.getRootTranslateMatrix(),i=t.getRootRotateMatrix(),o=r.multiply(i);e.attr("transform",ye.matrixToTransformString(o))},update(){const{node:e,cellView:t,nodeSelector:n,updateRequested:r,id:i}=this;if(r)return;this.postponedUpdate=!1;const o=this.node=this.findNode(t,n);e&&this.unhighlight(t,e),o?(this.highlight(t,o),this.mount()):(this.unmount(),t.notify("cell:highlight:invalid",i,this))},onRemove(){const{node:e,cellView:t,id:n,constructor:r}=this;e&&this.unhighlight(t,e),this.unmount(),r._removeRef(t,n)},highlight(e,t){},unhighlight(e,t){},listenToUpdateAttributes(e){const t=Gr(this,"UPDATE_ATTRIBUTES");!Array.isArray(t)||0===t.length||this.listenTo(e.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:e}=this;if(!e)return;const{model:t,paper:n}=e;Gr(this,"UPDATE_ATTRIBUTES").some(i=>t.hasChanged(i))&&n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(e,t,n){const r=this.uniqueId(t,n);this.add(e,t,r,n)},unhighlight:function(e,t,n){const r=this.uniqueId(t,n);this.remove(e,r)},get(e,t=null){const{cid:n}=e,{_views:r}=this,i=r[n];if(null===t){const o=[];if(!i)return o;for(let s in i){const a=i[s];a instanceof this&&o.push(a)}return o}if(!i)return null;if(t in i){const o=i[t];if(o instanceof this)return o}return null},add(e,t,n,r={}){if(!n)throw new Error("dia.HighlighterView: An ID required.");const i=bs.get(e,n);i&&i.remove();const o=new this(r);return o.id=n,this._addRef(e,n,o),o.requestUpdate(e,t),o.listenToUpdateAttributes(e),o},_addRef(e,t,n){const{cid:r}=e,{_views:i}=this;let o=i[r];o||(o=i[r]={}),o[t]=n},_removeRef(e,t){const{cid:n}=e,{_views:r}=this,i=r[n];if(i){t&&delete i[t];for(let o in i)return;delete r[n]}},remove(e,t=null){_f(this.get(e,t)).forEach(n=>{n.remove()})},removeAll(e,t=null){const{_views:n}=this;for(let r in n)for(let i in n[r]){const o=n[r][i];o.cellView.paper===e&&o instanceof this&&(null===t||i===t)&&o.remove()}},update(e,t=null,n=!1){_f(this.get(e,t)).forEach(r=>{(n||r.UPDATABLE)&&r.update()})},transform(e,t=null){_f(this.get(e,t)).forEach(n=>{n.UPDATABLE&&n.transform()})},unmount(e,t=null){_f(this.get(e,t)).forEach(n=>n.unmount())},mount(e,t=null){_f(this.get(e,t)).forEach(n=>n.mount())},uniqueId:(e,t="")=>ye.ensureId(e)+JSON.stringify(t)}),rl={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},hn=Ha.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(n,r,i){e.push("type-"+i.slice(0,r+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var r,i,o,e={},t={},n=0,s=Gr(this,"presentationAttributes");for(var a in s)if(s.hasOwnProperty(a)){var c=s[a];for(Array.isArray(c)||(c=[c]),r=0,i=c.length;r<i;r++){var u=e[o=c[r]];u||(u=e[o]=1<<n++),t[a]|=u}}var d=Gr(this,"initFlag");for(Array.isArray(d)||(d=[d]),r=0,i=d.length;r<i;r++)e[o=d[r]]||(e[o]=1<<n++);if(n>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=t},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var n=0;if(Array.isArray(e))for(var r=0,i=e.length;r<i;r++)n|=t[e[r]];else n|=t[e];return n},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||nl(this),Ha.call(this,e)},initialize:function(){this.setFlags(),Ha.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var n=e.getChangeFlag(this._presentationAttributes);t.updateHandled||!n||(t.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(n,t))},requestUpdate:function(e,t){const{paper:n}=this;n&&e>0&&n.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var n=eg(e),r=n.selectors,i=n.groupSelectors;for(var o in i){if(r[o])throw new Error("dia.CellView: ambiguous group selector");r[o]=i[o]}if(t){var s=this.selector;if(r[s])throw new Error("dia.CellView: ambiguous root selector.");r[s]=t}return{fragment:n.fragment,selectors:r}},can:function(e){var t=ur(this.options.interactive)?this.options.interactive(this):this.options.interactive;return Tn(t)&&!1!==t[e]||function(e){return!0===e||!1===e||!!e&&"object"==typeof e&&Object.prototype.toString.call(e)===Zh}(t)&&!1!==t},findBySelector:function(e,t,n){if(t||(t=this.el),n||(n=this.selectors),!e||"."===e)return[t];if(n){var r=n[e];if(r)return Array.isArray(r)?r:[r]}return Ko.useCSSSelectors?Cn(t).find(e).toArray():[]},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var n=this.model;t=n.getBBox().bbox(n.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){const t=this.getNodeBoundingRect(e),n=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(e)),r=this.getNodeMatrix(e);return ye.transformRect(t,n.multiply(r))},getNodeRotateMatrix(e){return!this.rotatableNode||this.rotatableNode.contains(e)?this.getRootRotateMatrix():ye.createSVGMatrix()},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),n=this.getNodeMatrix(e),r=this.getRootTranslateMatrix();return ye.transformRect(t,r.multiply(n))},getRootTranslateMatrix:function(){var t=this.model.position();return ye.createSVGMatrix().translate(t.x,t.y)},getRootRotateMatrix:function(){var e=ye.createSVGMatrix(),t=this.model,n=t.angle();if(n){var r=t.getBBox(),i=r.width/2,o=r.height/2;e=e.translate(i,o).rotate(n).translate(-i,-o)}return e},_notifyHighlight:function(e,t,n={}){const{el:r}=this;let i;if([i=r]="string"==typeof t?this.findBySelector(t):this.$(t),n.partial=i!==r,void 0===n.type){let o;switch(!0){case n.embedding:o=rl.EMBEDDING;break;case n.connecting:o=rl.CONNECTING;break;case n.magnetAvailability:o=rl.MAGNET_AVAILABILITY;break;case n.elementAvailability:o=rl.ELEMENT_AVAILABILITY;break;default:o=rl.DEFAULT}n.type=o}return this.notify(e,i,n),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e,t={}){return this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){const t=this.el;let n=this.$(e)[0];n||(n=t);do{const r=n.getAttribute("magnet"),i=n===t;if((r||i)&&"false"!==r)return n;if(i)return;n=n.parentNode}while(n)},findProxyNode:function(e,t){e||(e=this.el);const n=e.getAttribute(`${t}-selector`);if(n){const[r]=this.findBySelector(n);if(r)return r}return e},getSelector:function(e,t){var n;if(e===this.el)return"string"==typeof t&&(n="> "+t),n;if(e){var r=ye(e).index()+1;n=e.tagName+":nth-child("+r+")",t&&(n+=" > "+t),n=this.getSelector(e.parentNode,n)}return n},addLinkFromMagnet:function(e,t,n){var r=this.paper,i=r.model,o=r.getDefaultLink(this,e);return o.set({source:this.getLinkEnd(e,t,n,o,"source"),target:{x:t,y:n}}).addTo(i,{async:!1,ui:!0}),o.findView(r)},getLinkEnd:function(e,...t){var n=this.model,r=n.id,i=this.findAttribute("port",e),o=e.getAttribute("joint-selector"),s={id:r};return null!=o&&(s.magnet=o),null!=i?(s.port=i,!n.hasPort(i)&&!o&&(s.selector=this.getSelector(e))):null==o&&this.el!==e&&(s.selector=this.getSelector(e)),this.customizeLinkEnd(s,e,...t)},customizeLinkEnd:function(e,t,n,r,i,o){const{paper:s}=this,{connectionStrategy:a}=s.options;if("function"==typeof a){var c=a.call(s,e,this,t,new H(n,r),i,o,s);if(c)return c}return e},getMagnetFromLinkEnd:function(e){var o,t=this.el,n=e.port,r=e.magnet,i=this.model;return null!=n&&i.isElement()&&i.hasPort(n)?o=this.findPortNode(n,r)||t:(r||(r=e.selector),!r&&null!=n&&(r='[port="'+n+'"]'),o=this.findBySelector(r,t,this.selectors)[0]),this.findProxyNode(o,"magnet")},dragLinkStart:function(e,t,n,r){this.model.startBatch("add-link");const i=this.addLinkFromMagnet(t,n,r);i.notifyPointerdown(e,n,r),i.eventData(e,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:i})},dragLink:function(e,t,n){var r=this.eventData(e),i=r.linkView;if(i)i.pointermove(e,t,n);else{var o=this.paper,s=o.options.magnetThreshold,a=this.getEventTarget(e),c=r.targetMagnet;if("onleave"===s){if(c===a||ye(c).contains(a))return}else if(o.eventData(e).mousemoved<=s)return;this.dragLinkStart(e,c,t,n)}},dragLinkEnd:function(e,t,n){var i=this.eventData(e).linkView;i&&(i.pointerup(e,t,n),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){la(t)||(e instanceof SVGElement?ye(e).attr(t):Cn(e).attr(t))},processNodeAttributes:function(e,t){var n,r,i,o,s,a,c,u,d,f=[];for(n in t)t.hasOwnProperty(n)&&(r=t[n],!(i=this.getAttributeDefinition(n))||ur(i.qualify)&&!i.qualify.call(this,r,e,t,this)?(a||(a={}),a[vz(n)]=r):(Yi(i.set)&&(a||(a={}),a[i.set]=r),null!==r&&f.push(n,i)));for(o=0,s=f.length;o<s;o+=2)r=t[n=f[o]],ur((i=f[o+1]).set)&&(c||(c={}),c[n]=r),ur(i.position)&&(u||(u={}),u[n]=r),ur(i.offset)&&(d||(d={}),d[n]=r);return{raw:t,normal:a,set:c,position:u,offset:d}},updateRelativeAttributes:function(e,t,n,r){r||(r={});var i,o,a=t.raw||{},c=t.normal||{},u=t.set,d=t.position,f=t.offset;for(i in u){o=u[i];var g=this.getAttributeDefinition(i).set.call(this,o,n.clone(),e,a,this);Tn(g)?mt(c,g):void 0!==g&&(c[i]=g)}if(e instanceof HTMLElement)this.setNodeAttributes(e,c);else{var E,_,O,m=c.transform,C=ye.transformStringToMatrix(m),A=H(C.e,C.f);if(m&&(c=xc(c,"transform"),C.e=C.f=0),d||f){var X=this.getNodeScale(e,r.scalableNode);E=X.sx,_=X.sy}var K=!1;for(i in d)o=d[i],(O=this.getAttributeDefinition(i).position.call(this,o,n.clone(),e,a,this))&&(A.offset(H(O).scale(E,_)),K||(K=!0));this.setNodeAttributes(e,c);var oe=!1;if(f){var Ie=this.getNodeBoundingRect(e);if(Ie.width>0&&Ie.height>0){var I=ye.transformRect(Ie,C).scale(1/E,1/_);for(i in f)o=f[i],(O=this.getAttributeDefinition(i).offset.call(this,o,I,e,a,this))&&(A.offset(H(O).scale(E,_)),oe||(oe=!0))}}(void 0!==m||K||oe)&&(A.round(1),C.e=A.x,C.f=A.y,e.setAttribute("transform",ye.matrixToTransformString(C)))}},getNodeScale:function(e,t){var n,r;if(t&&t.contains(e)){var i=t.scale();n=1/i.sx,r=1/i.sy}else n=1,r=1;return{sx:n,sy:r}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(e){var t=this.metrics;if(!t)return{};var n=ye.ensureId(e),r=t[n];return r||(r=t[n]={}),r},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return void 0===t.boundingRect&&(t.boundingRect=ye(e).getBBox()),new He(t.boundingRect)},getNodeMatrix:function(e){const t=this.nodeCache(e);if(void 0===t.magnetMatrix){const{rotatableNode:n,el:r}=this;let i;i=n&&n.contains(e)?n:r,t.magnetMatrix=ye(e).getTransformToElement(i)}return ye.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return void 0===t.geometryShape&&(t.geometryShape=ye(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,n,r){var i,o,s,a,c={},u=[];for(var d in e)if(e.hasOwnProperty(d)&&zr(s=e[d])){var f=n[d]=this.findBySelector(d,t,r);for(i=0,o=f.length;i<o;i++){var g=f[i];a=ye.ensureId(g);var m=r&&r[d]===g,C=c[a];if(C){C.array||(u.push(a),C.array=!0,C.attributes=[C.attributes],C.selectedLength=[C.selectedLength]);var A=C.attributes,E=C.selectedLength;if(m)A.unshift(s),E.unshift(-1);else{var _=RT(E,o);A.splice(_,0,s),E.splice(_,0,o)}}else c[a]={attributes:s,selectedLength:m?-1:o,node:g,array:!1}}}for(i=0,o=u.length;i<o;i++)(s=c[a=u[i]]).attributes=Xr({},...s.attributes.reverse());return c},getEventTarget:function(e,t={}){const{target:n,type:r,clientX:i=0,clientY:o=0}=e;return t.fromPoint||"touchmove"===r||"touchend"===r||"pointerId"in e&&n.hasPointerCapture(e.pointerId)?document.elementFromPoint(i,o):n},updateDOMSubtreeAttributes:function(e,t,n){n||(n={}),n.rootBBox||(n.rootBBox=He()),n.selectors||(n.selectors=this.selectors);var a,c,u,d,f,r={},i={},o=[],s=[],g=n.roAttributes,m=this.findNodesAttributes(g||t,e,r,n.selectors),C=g?this.findNodesAttributes(t,e,r,n.selectors):m;for(var A in m)if((f=this.processNodeAttributes(c=(d=m[A]).node,u=d.attributes)).set||f.position||f.offset){var O,E=C[A]&&C[A].attributes,_=E&&void 0===u.ref?E.ref:u.ref;if(_){if(!(O=(r[_]||this.findBySelector(_,e,n.selectors))[0]))throw new Error('dia.CellView: "'+_+'" reference does not exist.')}else O=null;if(a={node:c,refNode:O,processedAttributes:f,allAttributes:E},O){var X=s.findIndex(function(K){return K.refNode===c});X>-1?s.splice(X,0,a):s.push(a)}else o.push(a)}else this.setNodeAttributes(c,f.normal);o.push(...s);for(let K=0,oe=o.length;K<oe;K++){c=(a=o[K]).node;const Ie=(O=a.refNode)?ye.ensureId(O):"";let I=i[Ie];I||(I=i[Ie]=O?ye(O).getBBox({target:Nz(c,O)}):n.rootBBox),g?(f=this.processNodeAttributes(c,a.allAttributes),this.mergeProcessedAttributes(f,a.processedAttributes)):f=a.processedAttributes,this.updateRelativeAttributes(c,f,I,n)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),mt(e.set,t.set),mt(e.position,t.position),mt(e.offset,t.offset);var n=e.normal&&e.normal.transform;void 0!==n&&t.normal&&(t.normal.transform=n),e.normal=t.normal},onMount(e){e||(this.mountTools(),bs.mount(this))},onDetach(){this.unmountTools(),bs.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return!(!t||e&&t.getName()!==e)},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const e=this._toolsView;return e&&e.unmount(),this},mountTools(){const e=this._toolsView;return e&&!e.isMounted()&&e.mount(),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools()}},removeHighlighters:function(){bs.remove(this)},updateHighlighters:function(e=!1){bs.update(this,null,e)},transformHighlighters:function(){bs.transform(this)},preventDefaultInteraction(e){this.eventData(e,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(e){const{defaultInteractionPrevented:t=!1}=this.eventData(e);return t},pointerdblclick:function(e,t,n){this.notify("cell:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){this.notify("cell:pointerclick",e,t,n)},contextmenu:function(e,t,n){this.notify("cell:contextmenu",e,t,n)},pointerdown:function(e,t,n){const{model:r}=this,{graph:i}=r;i&&(r.startBatch("pointer"),this.eventData(e,{graph:i})),this.notify("cell:pointerdown",e,t,n)},pointermove:function(e,t,n){this.notify("cell:pointermove",e,t,n)},pointerup:function(e,t,n){const{graph:r}=this.eventData(e);this.notify("cell:pointerup",e,t,n),r&&r.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,n,r){this.notify("cell:mousewheel",e,t,n,r)},onevent:function(e,t,n,r){this.notify(t,e,n,r)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(e){const{paper:t,model:n}=this;if(t.isAsync()){if(n.isLink()){const o=n.getSourceElement();if(o){const a=t.findViewByModel(o);a&&(t.dumpView(a),t.checkViewVisibility(a))}const s=n.getTargetElement();if(s){const a=t.findViewByModel(s);a&&(t.dumpView(a),t.checkViewVisibility(a))}}t.dumpView(this),t.checkViewVisibility(this)}const r=this.getEventTarget(e,{fromPoint:!0}),i=t.findView(r);i!==this&&(this.mouseleave(e),i&&i.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e}},{Flags:{TOOLS:"TOOLS"},Highlighting:rl,addPresentationAttributes:function(e){return Xr({},Gr(this.prototype,"presentationAttributes"),e,function(t,n){if(t&&n&&("string"==typeof t&&(t=[t]),"string"==typeof n&&(n=[n]),Array.isArray(t)&&Array.isArray(n)))return Nc(t.concat(n))})}});function Nz(e,t){let n=e;do{if(n.contains(t))return n;n=n.parentNode}while(n);return null}const os={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},xz=Ha.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return As(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(e,t){this.el.insertBefore(e,this.insertPivot(t))},insertNode:function(e){const{el:t}=this;e.parentNode!==t&&t.appendChild(e)},insertPivot:function(e){const{el:t,pivotNodes:n}=this;(e=+e)||(e=0);let r=n[e];if(r)return r;r=n[e]=document.createComment("z-index:"+(e+1));let i=-1/0;for(let o in n)o=+o,o<e&&o>i&&(i=o);return t.insertBefore(r,i!==-1/0?n[i].nextSibling:t.firstChild),r},removePivots:function(){const{el:e,pivotNodes:t}=this;for(let n in t)e.removeChild(t[n]);this.pivotNodes={}}}),ky=Ha.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){const{paper:t,relatedView:n}=this;return!t||!n||t.guard(e,n)}}),_z=Ha.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(e){var t=(e=mt(this.options,e)).tools;if(!Array.isArray(t))return this;var n=e.relatedView;if(!(n instanceof hn))return this;for(var r=this.tools=[],i=0,o=t.length;i<o;i++){var s=t[i];s instanceof ky&&(s.configure(n,this),this.vel.append(s.el),r.push(s))}return this.isRendered=!1,n.requestUpdate(n.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(e){e||(e={});var t=this.tools;if(!t)return this;for(var n=this.isRendered,r=0,i=t.length;r<i;r++){var o=t[r];n?e.tool!==o.cid&&o.isVisible()&&o.update():o.render()}return this.isMounted()||this.mount(),n||(this.blurTool(),this.isRendered=!0),this},focusTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,r=t.length;n<r;n++){var i=t[n];e===i?i.show():i.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,r=t.length;n<r;n++){var i=t[n];i!==e&&!i.isVisible()&&(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,n=e.length;t<n;t++)e[t].remove();this.tools=null},mount:function(){const{options:e,el:t}=this,{relatedView:n,layer:r=os.TOOLS,z:i}=e;return n&&(r?n.paper.getLayerView(r).insertSortedNode(t,i):n.el.appendChild(t)),this}});function UT(e,t){const{model:n}=e;return t?n.getBBox():n.isLink()?e.getConnection().bbox():e.getNodeUnrotatedBBox(e.el)}const Pz=ky.extend({name:"boundary",tagName:"rect",options:{padding:10,useModelGeometry:!1},attributes:{fill:"none",stroke:"#33334F","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"},onRender:function(){this.update()},update:function(){const{relatedView:e,options:t,vel:n}=this,{useModelGeometry:r,rotate:i}=t,o=Ua(t.padding);let s=UT(e,r).moveAndExpand({x:-o.left,y:-o.top,width:o.left+o.right,height:o.top+o.bottom});var a=e.model;if(a.isElement()){var c=a.angle();if(c)if(i){var u=a.getBBox().center();n.rotate(c,u.x,u.y,{absolute:!0})}else s=s.bbox(c)}return n.attr(s.toJSON()),this}}),da={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},Oz=Object.keys(da).map(e=>da[e]).join(""),Ly="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",kz=/\s/g,HT=new RegExp(`^(${Ly}\\*)?([${Oz}])(/${Ly})?([-+]{1,2}${Ly})?$`,"g");function WT(e){throw new Error(`Invalid calc() expression: ${e}`)}function Lz(e,t){const n=HT.exec(e.replace(kz,""));n||WT(e),HT.lastIndex=0;const[,r,i,o,s]=n,{x:a,y:c,width:u,height:d}=t;let f=0;switch(i){case da.width:f=u;break;case da.height:f=d;break;case da.x:f=a;break;case da.y:f=c;break;case da.minimum:f=Math.min(d,u);break;case da.maximum:f=Math.max(d,u);break;case da.diagonal:f=Math.sqrt(d*d+u*u)}return r&&(f*=parseFloat(r)),o&&(f/=parseFloat(o.slice(1))),s&&(f+=function Rz(e){if(!e)return 0;const[t]=e;switch(t){case"+":return parseFloat(e.substr(1));case"-":return-parseFloat(e.substr(1))}return parseFloat(e)}(s)),f}function ss(e){return"string"==typeof e&&e.includes("calc")}const YT="calc(",XT=YT.length;function as(e,t){let n=e,r=0;for(;;){let i=n.indexOf(YT,r);if(-1===i)return n;let o=i+XT,s=1;e:for(;;){switch(n[o]){case"(":s++;break;case")":if(s--,0===s)break e;break;case void 0:WT(n)}o++}let a=n.slice(i+XT,o);ss(a)&&(a=as(a,t));const c=String(Lz(a,t));n=n.slice(0,i)+c+n.slice(o+1),r=i+c.length}}const Fz=ky.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,scale:null,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){const{vel:e}=this;e.transform(this.getCellMatrix(),{absolute:!0})},getCellMatrix(){return this.relatedView.model.isLink()?this.getLinkMatrix():this.getElementMatrix()},getElementMatrix(){const{relatedView:e,options:t}=this;let{x:n=0,y:r=0,offset:i={},useModelGeometry:o,rotate:s,scale:a}=t,c=UT(e,o);const u=e.model.angle();s||(c=c.bbox(u));const{x:d=0,y:f=0}=i;Pi(n)?n=parseFloat(n)/100*c.width:ss(n)&&(n=Number(as(n,c))),Pi(r)?r=parseFloat(r)/100*c.height:ss(r)&&(r=Number(as(r,c)));let g=ye.createSVGMatrix().translate(c.x+c.width/2,c.y+c.height/2);return s&&(g=g.rotate(u)),g=g.translate(n+d-c.width/2,r+f-c.height/2),a&&(g=g.scale(a)),g},getLinkMatrix(){const{relatedView:e,options:t}=this,{offset:n=0,distance:r=0,rotate:i,scale:o}=t;let s,a,c;s=Pi(r)?e.getTangentAtRatio(parseFloat(r)/100):e.getTangentAtLength(r),s?(a=s.start,c=s.vector().vectorAngle(new H(1,0))||0):(a=e.getConnection().start,c=0);let u=ye.createSVGMatrix().translate(a.x,a.y).rotate(c).translate(0,n);return i||(u=u.rotate(-c)),o&&(u=u.scale(o)),u},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.action;"function"==typeof t&&t.call(this.relatedView,e,this.relatedView,this)}}}).extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(e,t,n){t.model.remove({ui:!0,tool:n.cid})}}});function $T(e){e=Nc(e);const t=yn(e).reduce(function(n,r){return n[r.id]=r.clone(),n},{});return yn(e).forEach(function(n){const r=t[n.id];if(r.isLink()){const s=r.source(),a=r.target();s.id&&t[s.id]&&r.prop("source/id",t[s.id].id),a.id&&t[a.id]&&r.prop("target/id",t[a.id].id)}const i=n.get("parent");i&&t[i]&&r.set("parent",t[i].id);const o=yn(n.get("embeds")).reduce(function(s,a){return t[a]&&s.push(t[a].id),s},[]);la(o)||r.set("embeds",o)}),t}const jz=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"].reduce((e,t)=>(e[t]=!0,e),{}),Bz={qualify:function(e){return zr(e)},set:function(e,t,n){Object.keys(e).forEach(function(r){if(jz[r]&&r in n){const i=e[r];"SELECT"===n.tagName&&Array.isArray(i)?Array.from(n.options).forEach(function(o,s){o.selected=i.includes(o.value)}):n[r]=i}})}};function Wa(e,t){return function(n,r){var i=Pi(n);n=parseFloat(n),i&&(n/=100);var o={};if(isFinite(n)){var s=i||n>=0&&n<=1?n*r[t]:Math.max(n+r[t],0);o[e]=s}return o}}function ng(e,t,n){return function(r,i){var s,o=Pi(r);if(r=parseFloat(r),o&&(r/=100),isFinite(r)){var a=i[n]();s=o||r>0&&r<1?a[e]+i[t]*r:a[e]+r}var c=H();return c[e]=s||0,c}}function JT(e,t,n){return function(r,i){var o;o="middle"===r?i[t]/2:r===n?i[t]:isFinite(r)?r>-1&&r<1?-i[t]*r:-r:Pi(r)?i[t]*parseFloat(r)/100:0;var s=H();return s[e]=-(i[e]+o),s}}function qT(e,t){var n="joint-shape",r=t&&t.resetOffset;return function(i,o,s){var a=Cn(s),c=a.data(n);if(!c||c.value!==i){var u=e(i);c={value:i,shape:u,shapeBBox:u.bbox()},a.data(n,c)}var d=c.shape.clone(),f=c.shapeBBox.clone(),g=f.origin(),m=o.origin();f.x=m.x,f.y=m.y;var C=o.maxRectScaleToFit(f,m);return d.scale(0===f.width||0===o.width?1:C.sx,0===f.height||0===o.height?1:C.sy,g),r&&d.translate(-g.x,-g.y),d}}function QT(e){var n=qT(function t(r){return new lt(ye.normalizePathData(r))},e);return function(r,i,o){return{d:n(r,i,o).serialize()}}}function KT(e){var t=qT(tr,e);return function(n,r,i){return{points:t(n,r,i).serialize()}}}function rg(e,t){var n=new H(1,0);return function(r){var i,o,s=this[e](r);return s?(o=t.rotate?s.vector().vectorAngle(n):0,i=s.start):(i=this.path.start,o=0),0===o?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+o+")"}}}function eS(e){return function(n,r,i){const o=ye(i);o.attr(e)!==n&&o.attr(e,n)}}function il(e,t,n){return void 0!==n.text}function Pf(){return this.model.isLink()}function Ry(e){var t={},n=e.stroke;"string"==typeof n&&(t.stroke=n,t.fill=n);var r=e.strokeOpacity;return void 0===r&&(r=e["stroke-opacity"]),void 0===r&&(r=e.opacity),void 0!==r&&(t["stroke-opacity"]=r,t["fill-opacity"]=r),t}function tS(e){const{paper:t}=this;return`url(#${"pattern"===e.type?t.definePattern(e):t.defineGradient(e)})`}const Jt={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:eS("href")},xlinkHref:{set:eS("xlink:href")},filter:{qualify:zr,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}},fill:{qualify:zr,set:tS},stroke:{qualify:zr,set:tS},sourceMarker:{qualify:zr,set:function(e,t,n,r){return e=mt(Ry(r),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},targetMarker:{qualify:zr,set:function(e,t,n,r){return e=mt(Ry(r),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},vertexMarker:{qualify:zr,set:function(e,t,n,r){return e=mt(Ry(r),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},text:{qualify:function(e,t,n){return!n.textWrap||!zr(n.textWrap)},set:function(e,t,n,r){const i=Cn(n),o="joint-text",s=i.data(o),{lineHeight:a,annotations:c,textVerticalAnchor:u,eol:d,displayEmpty:f}=r;let g=r.textPath,m=r.x;ss(m)&&(m=as(m,t));let C=r["font-size"]||r.fontSize;ss(C)&&(C=as(C,t));const A=JSON.stringify([e,a,c,u,d,f,g,m,C]);if(void 0===s||s!==A){if(C&&n.setAttribute("font-size",C),Tn(g)){const E=g.selector;if("string"==typeof E){const[_]=this.findBySelector(E);_ instanceof SVGPathElement&&(g=mt({"xlink:href":"#"+_.id},g))}}ye(n).text(""+e,{lineHeight:a,annotations:c,textPath:g,x:m,textVerticalAnchor:u,eol:d,displayEmpty:f}),i.data(o,A)}}},textWrap:{qualify:zr,set:function(e,t,n,r){var i={},o=e.width||0;i.width=Pi(o)?t.width*parseFloat(o)/100:ss(o)?Number(as(o,t)):null===e.width?1/0:o<=0?t.width+o:o;var s=e.height||0;Pi(s)?i.height=t.height*parseFloat(s)/100:ss(s)?i.height=Number(as(s,t)):null===e.height||(i.height=s<=0?t.height+s:s);var a,c=e.text;if(void 0===c&&(c=r.text),void 0!==c){const d=r["font-size"]||r.fontSize;a=(e.breakText||GT)(""+c,i,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":ss(d)?as(d,t):d,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight,"letter-spacing":"letter-spacing"in r?r["letter-spacing"]:r.letterSpacing},{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,separator:e.separator,maxLineCount:e.maxLineCount,preserveSpaces:e.preserveSpaces})}else a="";Jt.text.set.call(this,a,t,n,r)}},title:{qualify:function(e,t){return t instanceof SVGElement},set:function(e,t,n){var r=Cn(n),i="joint-title",o=r.data(i);if(void 0===o||o!==e){if(r.data(i,e),"title"===n.tagName)return void(n.textContent=e);var s=n.firstElementChild;if(s&&"title"===s.tagName)s.textContent=e;else{var a=document.createElementNS(n.namespaceURI,"title");a.textContent=e,n.insertBefore(a,s)}}}},lineHeight:{qualify:il},textVerticalAnchor:{qualify:il},textPath:{qualify:il},annotations:{qualify:il},eol:{qualify:il},displayEmpty:{qualify:il},port:{set:function(e){return null===e||void 0===e.id?e:e.id}},style:{qualify:zr,set:function(e,t,n){Cn(n).css(e)}},html:{set:function(e,t,n){Cn(n).html(e+"")}},props:Bz,ref:{},refX:{position:ng("x","width","origin")},refY:{position:ng("y","height","origin")},refDx:{position:ng("x","width","corner")},refDy:{position:ng("y","height","corner")},refWidth:{set:Wa("width","width")},refHeight:{set:Wa("height","height")},refRx:{set:Wa("rx","width")},refRy:{set:Wa("ry","height")},refRInscribed:{set:function(e){var t=Wa("r","width"),n=Wa("r","height");return function(r,i){return(i.height>i.width?t:n)(r,i)}}()},refRCircumscribed:{set:function(e,t){var n=Pi(e);e=parseFloat(e),n&&(e/=100);var i,r=Math.sqrt(t.height*t.height+t.width*t.width);return isFinite(e)&&(i=n||e>=0&&e<=1?e*r:Math.max(e+r,0)),{r:i}}},refCx:{set:Wa("cx","width")},refCy:{set:Wa("cy","height")},xAlignment:{offset:JT("x","width","right")},yAlignment:{offset:JT("y","height","bottom")},resetOffset:{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}},refDResetOffset:{set:QT({resetOffset:!0})},refDKeepOffset:{set:QT({resetOffset:!1})},refPointsResetOffset:{set:KT({resetOffset:!0})},refPointsKeepOffset:{set:KT({resetOffset:!1})},connection:{qualify:Pf,set:function({stubs:e=0}){let t;if(isFinite(e)&&0!==e){let n;n=e<0?(this.getConnectionLength()+e)/2:e;const r=this.getConnection(),i=this.getConnectionSubdivisions(),o=r.divideAtLength(n,{segmentSubdivisions:i}),s=r.divideAtLength(-n,{segmentSubdivisions:i});o&&s&&(t=`${o[0].serialize()} ${s[1].serialize()}`)}return{d:t||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:Pf,set:rg("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:Pf,set:rg("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:Pf,set:rg("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:Pf,set:rg("getTangentAtRatio",{rotate:!1})}};Jt["xlink:href"]=Jt.xlinkHref,["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach(e=>{Jt[e]={qualify:ss,set:function(n,r){return{[e]:as(n,r)}}}}),["width","height","r","rx","ry","font-size","stroke-width"].forEach(e=>{Jt[e]={qualify:ss,set:function(n,r){return{[e]:Math.max(0,as(n,r))}}}}),Jt.refR=Jt.refRInscribed,Jt.refD=Jt.refDResetOffset,Jt.refPoints=Jt.refPointsResetOffset,Jt.atConnectionLength=Jt.atConnectionLengthKeepGradient,Jt.atConnectionRatio=Jt.atConnectionRatioKeepGradient,Jt.fontSize=Jt["font-size"],Jt.strokeWidth=Jt["stroke-width"],Jt.refX2=Jt.refX,Jt.refY2=Jt.refY,Jt.refWidth2=Jt.refWidth,Jt.refHeight2=Jt.refHeight,Jt["ref-x"]=Jt.refX,Jt["ref-y"]=Jt.refY,Jt["ref-dy"]=Jt.refDy,Jt["ref-dx"]=Jt.refDx,Jt["ref-width"]=Jt.refWidth,Jt["ref-height"]=Jt.refHeight,Jt["x-alignment"]=Jt.xAlignment,Jt["y-alignment"]=Jt.yAlignment;const nS=Jt,Js=Wi.Model.extend({constructor:function(e,t){var n,r=e||{};"function"==typeof this.preinitialize&&this.preinitialize.apply(this,arguments),this.cid=((e="")=>`${e}`+ ++dz)("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(r=this.parse(r,t)||{}),(n=Gr(this,"defaults"))&&(r=Xr({},n,r)),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,n){throw new Error("Must define a translate() method.")},toJSON:function(){const t=Gr(this.constructor.prototype,"defaults").attrs||{},r={};is(this.attributes.attrs,function(o,s){const a=t[s];is(o,function(c,u){Tn(c)&&!Array.isArray(c)?is(c,function(d,f){(!a||!a[u]||!tl(a[u][f],d))&&(r[s]=r[s]||{},(r[s][u]||(r[s][u]={}))[f]=d)}):(!a||!tl(a[u],c))&&(r[s]=r[s]||{},r[s][u]=c)})});const i=rs(xc(this.attributes,"attrs"));return i.attrs=r,i},initialize:function(e){const t=this.getIdAttribute();(!e||void 0===e[t])&&this.set(t,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},processPorts:function(){var e=this.ports,t={};is(this.get("attrs"),function(o,s){o&&o.port&&(void 0!==o.port.id?t[o.port.id]=o.port:t[o.port]={id:o.port})});var n={};is(e,function(o,s){t[s]||(n[s]=!0)}),this.graph&&!la(n)&&(this.graph.getConnectedLinks(this,{inbound:!0}).forEach(function(o){n[o.get("target").port]&&o.remove()}),this.graph.getConnectedLinks(this,{outbound:!0}).forEach(function(o){n[o.get("source").port]&&o.remove()})),this.ports=t},remove:function(e={}){const{graph:t,collection:n}=this;if(!t)return n&&n.remove(this,e),this;t.startBatch("remove");const r=this.getParentCell();r&&r.unembed(this,e);const i=this.getEmbeddedCells();for(let o=0,s=i.length;o<s;o++){const a=i[o];a&&a.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){let n;(e=ns(e||{},{foregroundEmbeds:!0})).deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:!1!==e.breadthFirst,sortSiblings:e.foregroundEmbeds}),n.unshift(this)):n=[this];const r=e.foregroundEmbeds?n:Sy(n,c=>c.z());let o=t.maxZIndex()-n.length+1;const s=t.get("cells");let a=s.indexOf(r[0])!==s.length-n.length;a||(a=r.some(function(c,u){return c.z()!==o+u})),a&&(this.startBatch("to-front"),o+=n.length,r.forEach(function(c,u){c.set("z",o+u,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){let r;(e=ns(e||{},{foregroundEmbeds:!0})).deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:!1!==e.breadthFirst,sortSiblings:e.foregroundEmbeds}),r.unshift(this)):r=[this];const i=e.foregroundEmbeds?r:Sy(r,a=>a.z());let o=t.minZIndex(),s=0!==t.get("cells").indexOf(i[0]);s||(s=i.some(function(a,c){return a.z()!==o+c})),s&&(this.startBatch("to-back"),o-=r.length,i.forEach(function(a,c){a.set("z",o+c,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return void 0===e?this.get("parent"):this.set("parent",e,t)},embed:function(e,t){const n=Array.isArray(e)?e:[e];if(!this.canEmbed(n))throw new Error("Recursive embedding not allowed.");if(n.some(r=>r.isEmbedded()&&this.id!==r.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(n,t),this},unembed:function(e,t){const n=Array.isArray(e)?e:[e];return this._unembedCells(n,t),this},canEmbed:function(e){return(Array.isArray(e)?e:[e]).every(n=>this!==n&&!this.isEmbeddedIn(n))},_embedCells:function(e,t){const n="embed";this.startBatch(n);const r=mt([],this.get("embeds"));e.forEach(i=>{r[i.isLink()?"unshift":"push"](i.id),i.parent(this.id,t)}),this.set("embeds",Nc(r),t),this.stopBatch(n)},_unembedCells:function(e,t){const n="unembed";this.startBatch(n),e.forEach(r=>r.unset("parent",t)),this.set("embeds",Ny(this.get("embeds"),...e.map(r=>r.id)),t),this.stopBatch(n)},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(!this.graph)return[];if((e=e||{}).deep)return e.breadthFirst?this._getEmbeddedCellsBfs(e.sortSiblings):this._getEmbeddedCellsDfs(e.sortSiblings);const t=this.get("embeds");if(la(t))return[];let n=t.map(this.graph.getCell,this.graph);return e.sortSiblings&&(n=Sy(n,r=>r.z())),n},_getEmbeddedCellsBfs:function(e){const t=[],n=[];for(n.push(this);n.length>0;){const r=n.shift();t.push(r);const i=r.getEmbeddedCells({sortSiblings:e});n.push(...i)}return t.shift(),t},_getEmbeddedCellsDfs:function(e){const t=[],n=[];for(n.push(this);n.length>0;){const r=n.pop();t.push(r);const i=r.getEmbeddedCells({sortSiblings:e});for(let o=i.length-1;o>=0;--o)n.push(i[o])}return t.shift(),t},isEmbeddedIn:function(e,t){var n=Yi(e)?e:e.id,r=this.parent();if(t=mt({deep:!0},t),this.graph&&t.deep){for(;r;){if(r===n)return!0;r=this.graph.getCell(r).parent()}return!1}return r===n},isEmbedded:function(){return!!this.parent()},clone:function(e){if((e=e||{}).deep)return yn($T([this].concat(this.getEmbeddedCells({deep:!0}))));var t=Wi.Model.prototype.clone.apply(this,arguments);return t.set(this.getIdAttribute(),this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,n){var i=Yi(e);if(i||Array.isArray(e)){if(arguments.length>1){var o,s;i?s=(o=e).split("/"):(o=e.join("/"),s=e.slice());var a=s[0],c=s.length;const X=n||{};X.propertyPath=o,X.propertyValue=t,X.propertyPathArray=s,"rewrite"in X||(X.rewrite=!1);for(var u={},d=u,f=a,g=1;g<c;g++){var m=s[g],C=Number.isFinite(i?Number(m):m);d=d[f]=C?[]:{},f=m}u=_y(u,s,t,"/");var A=Xr({},this.attributes);X.rewrite&&BT(A,o,"/");var E=Xr(A,u);return this.set(a,E[a],X)}return Nf(this.attributes,e,"/")}const _=t||{};_.propertyPath=null,_.propertyValue=e,_.propertyPathArray=[],"rewrite"in _||(_.rewrite=!1);const O={};for(const X in e){const{changedValue:K}=Xr({},{changedValue:this.attributes[X]},{changedValue:e[X]});O[X]=K}return this.set(O,_)},removeProp:function(e,t){t=t||{};var n=Array.isArray(e)?e:e.split("/"),r=n[0];if("attrs"===r&&(t.dirty=!0),1===n.length)return this.unset(e,t);var i=n.slice(1),o=this.get(r);return null==o?this:(o=rs(o),BT(o,i,"/"),this.set(r,o,t))},attr:function(e,t,n){var r=Array.from(arguments);return 0===r.length?this.get("attrs"):(r[0]=Array.isArray(e)?["attrs"].concat(e):Yi(e)?"attrs/"+e:{attrs:e},this.prop.apply(this,r))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,n,r){r=r||"/",n=mt({duration:100,delay:10,timingFunction:Ez.linear,valueFunction:VT.number},n);var s,o=0,a=function(f){var g,m,C;(m=(f-=o=o||f)/n.duration)<1?this._transitionIds[e]=g=Py(a):(m=1,delete this._transitionIds[e]),C=s(n.timingFunction(m)),n.transitionId=g,this.prop(e,C,n),g||this.trigger("transition:end",this,e)}.bind(this);const{_scheduledTransitionIds:c}=this;let u;return u=setTimeout(f=>{c[e]&&(c[e]=Ny(c[e],u),0===c[e].length&&delete c[e]),this.stopPendingTransitions(e,r),s=n.valueFunction(Nf(this.attributes,e,r),t),this._transitionIds[e]=Py(f),this.trigger("transition:start",this,e)},n.delay,a),c[e]||(c[e]=[]),c[e].push(u),u},getTransitions:function(){return xy(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(e,t="/"){const{_scheduledTransitionIds:n={}}=this;let r=Object.keys(n);if(e){const i=e.split(t);r=r.filter(o=>tl(i,o.split(t).slice(0,i.length)))}return r.forEach(i=>{n[i].forEach(s=>clearTimeout(s)),delete n[i]}),this},stopPendingTransitions(e,t="/"){const{_transitionIds:n={}}=this;let r=Object.keys(n);if(e){const i=e.split(t);r=r.filter(o=>tl(i,o.split(t).slice(0,i.length)))}r.forEach(i=>{Oy(n[i]),delete n[i],this.trigger("transition:end",this,i)})},stopTransitions:function(e,t="/"){return this.stopScheduledTransitions(e,t),this.stopPendingTransitions(e,t),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,mt({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,mt({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var n in e)!e.hasOwnProperty(n)||!this.hasChanged(n)||(t|=e[n]);return t},angle:function(){return 0},position:function(){return new H(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new H},getBBox:function(){return new He(0,0,0,0)},getPointRotatedAroundCenter(e,t,n){const r=new H(t,n);return e&&r.rotate(this.getBBox().center(),e),r},getAbsolutePointFromRelative(e,t){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(e,t))},getRelativePointFromAbsolute(e,t){return this.getPointRotatedAroundCenter(this.angle(),e,t).difference(this.position())}},{getAttributeDefinition:function(e){var t=this.attributes;return t&&t[e]||nS[e]},define:function(e,t,n,r){n=mt({defaults:el({type:e},t,this.prototype.defaults)},n);var i=this.extend(n,r);return typeof joint<"u"&&fa(joint,"shapes")&&_y(joint.shapes,e,i,"."),i}});function rS(e,t,n){var r=e.toJSON();return r.angle=t||0,ns({},n,r)}function Of(e,t,n,r){return e.map(function(i,o,s){var a=this.pointAt((o+.5)/s.length);return(i.dx||i.dy)&&a.offset(i.dx||0,i.dy||0),rS(a.round(),0,Fy(r,i))},Dc(t,n))}function iS(e,t,n,r){var i=t.center(),o=t.width/t.height,s=t.topMiddle(),a=fo.fromRect(t);return e.map(function(c,u,d){var f=n+r(u,d.length),g=s.clone().rotate(i,-f).scale(o,1,i),m=c.compensateRotation?-a.tangentTheta(g):0;return(c.dx||c.dy)&&g.offset(c.dx||0,c.dy||0),c.dr&&g.move(i,c.dr),rS(g.round(),m,Fy(t,c))})}function Fy(e,t){let{x:n,y:r,angle:i}=t;return Pi(n)?n=parseFloat(n)/100*e.width:ss(n)&&(n=Number(as(n,e))),Pi(r)?r=parseFloat(r)/100*e.height:ss(r)&&(r=Number(as(r,e))),{x:n,y:r,angle:i}}function jy(e,t){const{x:n,y:r}=Fy(e,t);return new H(n||0,r||0)}const zz=function(e,t){return e.map(n=>{const r=jy(t,n).round().toJSON();return r.angle=n.angle||0,r})},Gz=function(e,t,n){return n.fn(e,t,n)},Vz=function(e,t,n){return Of(e,jy(t,n.start||t.origin()),jy(t,n.end||t.corner()),t)},Zz=function(e,t,n){return Of(e,t.origin(),t.bottomLeft(),t)},Uz=function(e,t,n){return Of(e,t.topRight(),t.corner(),t)},Hz=function(e,t,n){return Of(e,t.origin(),t.topRight(),t)},Wz=function(e,t,n){return Of(e,t.bottomLeft(),t.corner(),t)},Yz=function(e,t,n){var i=n.step||360/e.length;return iS(e,t,n.startAngle||0,function(o){return o*i})},Xz=function(e,t,n){var i=n.step||20;return iS(e,t,n.startAngle||0,function(o,s){return(o+.5-s/2)*i})};function Ya(e,t){return el({},e,t,{x:0,y:0,angle:0,attrs:{}})}function oS(e){var t=e.center(),n=t.theta(e.origin()),r=t.theta(e.bottomLeft()),i=t.theta(e.corner());return[n,t.theta(e.topRight()),i,r]}function sS(e,t,n,r){r=ns({},r,{offset:15});var o,s,a,c,i=t.center().theta(e),u=r.offset,d=0;const[f,g,m,C]=oS(t);i<g||i>m?(a=".3em",o=u,s=0,c="start"):i<f?(o=0,s=-u,n?(d=-90,c="start",a=".3em"):(c="middle",a="0")):i<C?(a=".3em",o=-u,s=0,c="end"):(o=0,s=u,n?(d=90,c="start",a=".3em"):(c="middle",a=".6em"));var A=Math.round;return Ya(r,{x:A(o),y:A(s),angle:d,attrs:{labelText:{y:a,textAnchor:c}}})}function aS(e,t,n,r){r=ns({},r,{offset:15});var o,s,a,c,i=t.center().theta(e),u=r.offset,d=0;const[f,g,m,C]=oS(t);i<g||i>m?(a=".3em",o=-u,s=0,c="end"):i<f?(o=0,s=u,n?(d=90,c="start",a=".3em"):(c="middle",a=".6em")):i<C?(a=".3em",o=u,s=0,c="start"):(o=0,s=-u,n?(d=-90,c="start",a=".3em"):(c="middle",a="0"));var A=Math.round;return Ya(r,{x:A(o),y:A(s),angle:d,attrs:{labelText:{y:a,textAnchor:c}}})}function cS(e,t,n){n=ns({},n,{offset:20});var c,r=kh(0,0),i=-e.theta(r),o=i,s=e.clone().move(r,n.offset).difference(e).round(),a=".3em";(i+90)%180==0?(c=t?"end":"middle",!t&&-270===i&&(a="0em")):i>-270&&i<-90?(c="start",o=i-180):c="end";var u=Math.round;return Ya(n,{x:u(s.x),y:u(s.y),angle:t?o:0,attrs:{labelText:{y:a,textAnchor:c}}})}const $z=function(e,t,n){return Ya(n)},Jz=function(e,t,n){return Ya(n,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},qz=function(e,t,n){return Ya(n,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},Qz=function(e,t,n){return Ya(n,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},Kz=function(e,t,n){return Ya(n,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},e5=function(e,t,n){return sS(e,t,!0,n)},t5=function(e,t,n){return sS(e,t,!1,n)},n5=function(e,t,n){return aS(e,t,!0,n)},r5=function(e,t,n){return aS(e,t,!1,n)},i5=function(e,t,n){return cS(e.difference(t.center()),!1,n)},o5=function(e,t,n){return cS(e.difference(t.center()),!0,n)};var uS=function(e){var t=rs(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=Yn,this.portLabelLayoutNamespace=ki,this._init(t)};uS.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var n=this.getGroup(e),r=this.getPortsByGroup(e),i=n.position||{},o=i.name,s=this.portLayoutNamespace;s[o]||(o="left");var a=i.args||{},c=r.map(function(f){return f&&f.position&&f.position.args}),u=s[o](c,t,a),d={ports:r,result:[]};return yn(u).reduce(function(f,g,m){var C=f.ports[m];return f.result.push({portId:C.id,portTransformation:g,labelTransformation:this._getPortLabelLayout(C,H(g),t),portAttrs:C.attrs,portSize:C.size,labelSize:C.label.size}),f}.bind(this),d),d.result},_getPortLabelLayout:function(e,t,n){var r=this.portLabelLayoutNamespace,i=e.label.position.name||"left";return r[i]?r[i](t,n,e.label.position.args):null},_init:function(e){if(Tn(e.groups))for(var t=Object.keys(e.groups),n=0,r=t.length;n<r;n++){var i=t[n];this.groups[i]=this._evaluateGroup(e.groups[i])}for(var o=yn(e.items),s=0,a=o.length;s<a;s++)this.ports.push(this._evaluatePort(o[s]))},_evaluateGroup:function(e){return Xr(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=mt({},e),n=this.getGroup(e.group);return t.markup=t.markup||n.markup,t.attrs=Xr({},n.attrs,t.attrs),t.position=this._createPositionNode(n,t),t.label=Xr({},n.label,this._getLabel(t)),t.z=this._getZIndex(n,t),t.size=mt({},n.size,t.size),t},_getZIndex:function(e,t){return Eo(t.z)?t.z:Eo(e.z)||"auto"===e.z?e.z:"auto"},_createPositionNode:function(e,t){return Xr({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var r,n={};ur(e)?(r="fn",n.fn=e):Yi(e)?r=e:void 0===e?r=t?"left":null:Array.isArray(e)?(r="absolute",n.x=e[0],n.y=e[1]):Tn(e)&&(r=e.name,mt(n,e.args));var i={args:n};return r&&(i.name=r),i},_getLabel:function(e,t){var n=e.label||{},r=n;return r.position=this._getPosition(n.position,t),r}};const s5={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};yn(e.items).forEach(function(a){t[a.id]=!0});var n=this.previous("ports")||{},r={};yn(n.items).forEach(function(a){t[a.id]||(r[a.id]=!0)});var i=this.graph;i&&!la(r)&&(i.getConnectedLinks(this,{inbound:!0}).forEach(function(a){r[a.get("target").port]&&a.remove()}),i.getConnectedLinks(this,{outbound:!0}).forEach(function(a){r[a.get("source").port]&&a.remove()}))},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return-1!==this.getPortIndex(e)},getPorts:function(){return rs(this.prop("ports/items"))||[]},getGroupPorts:function(e){const t=yn(this.prop(["ports","items"])).filter(n=>n.group===e);return rs(t)},getPort:function(e){return rs(yn(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortsPositions:function(e){return this._portSettingsData.getGroupPortsMetrics(e,He(this.size())).reduce(function(n,r){var i=r.portTransformation;return n[r.portId]={x:i.x,y:i.y,angle:i.angle},n},{})},getPortIndex:function(e){var t=Tn(e)?e.id:e;return this._isValidPortId(t)?yn(this.prop("ports/items")).findIndex(function(n){return n.id===t}):-1},addPort:function(e,t){if(!Tn(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var n=mt([],this.prop("ports/items"));return n.push(e),this.prop("ports/items",n,t),this},insertPort:function(e,t,n){const r="number"==typeof e?e:this.getPortIndex(e);if(!Tn(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");const i=mt([],this.prop("ports/items"));return i.splice(r,0,t),this.prop("ports/items",i,n),this},portProp:function(e,t,n,r){var i=this.getPortIndex(e);if(-1===i)throw new Error("Element: unable to find port with id "+e);var o=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?o[0]=["ports","items",i].concat(t):Yi(t)?o[0]=["ports/items/",i,"/",t].join(""):(o=["ports/items/"+i],zr(t)&&(o.push(t),o.push(n))),this.prop.apply(this,o)},_validatePorts:function(){var e=this.get("ports")||{},t=[],n=yn((e=e||{}).items);return n.forEach(function(r){"object"!=typeof r&&t.push("Element: invalid port ",r),this._isValidPortId(r.id)||(r.id=this.generatePortId())},this),Nc(n,"id").length!==n.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return null!=e&&!Tn(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",mt([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){const n=t||{},r=this.getPortIndex(e);if(-1!==r){const i=mt([],this.prop(["ports","items"]));i.splice(r,1),n.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],i,n),this.stopBatch("port-remove")}return this},removePorts:function(e,t){let n,r;if(Array.isArray(e)){if(n=t||{},0===e.length)return this.this;r=mt([],this.prop(["ports","items"])).filter(function(o){return!e.some(function(s){const a=Tn(s)?s.id:s;return o.id===a})})}else n=e||{},r=[];return this.startBatch("port-remove"),n.rewrite=!0,this.prop(["ports","items"],r,n),this.stopBatch("port-remove"),this},_createPortData:function(){var t,e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new uS(this.get("ports"));var n=this._portSettingsData.getPorts();if(t){var r=n.filter(function(o){if(!t.find(function(s){return s.id===o.id}))return o}),i=t.filter(function(o){if(!n.find(function(s){return s.id===o.id}))return o});i.length>0&&this.trigger("ports:remove",this,i),r.length>0&&this.trigger("ports:add",this,r)}}},a5={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),n=0,r=t.node.childNodes.length;n<r;n++)e.push(t.node.childNodes[n]);var i=((e,t)=>(t=Kh(t,2),function YB(e,t,n){return(Array.isArray(e)?HB:WB)(e,t,n,arguments.length<3,Ey)}(e,(n,r,i)=>(i=t(r),hasOwnProperty.call(n,i)?n[i].push(r):Sc(n,i,[r]),n),{})))(this.model._portSettingsData.getPorts(),"z"),o="auto";yn(i[o]).forEach(function(d){var f=this._getPortElement(d);t.append(f),e.push(f)},this);for(var s=Object.keys(i),a=0;a<s.length;a++){var c=s[a];if(c!==o){var u=parseInt(c,10);this._appendPorts(i[c],u,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,n){var r=this._getContainerElement(),i=yn(e).map(this._getPortElement,this);n[t]||t<0?ye(n[Math.max(t,0)]).before(i):r.append(i)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNode:function(e,t){const n=this._portElementsCache[e];if(!n)return null;if(!t)return n.portContentElement.node;const r=n.portElement.node,i=n.portSelectors,[o=null]=this.findBySelector(t,r,i);return o},_updatePorts:function(){this._updatePortGroup(void 0),Object.keys(this.model._portSettingsData.groups).forEach(this._updatePortGroup,this)},_removePorts:function(){Xs(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){let t,n,r,i;var o=ye(this.portContainerMarkup).addClass("joint-port"),s=this._getPortMarkup(e);if(Array.isArray(s)){var a=this.parseDOMJSON(s,o.node),c=a.fragment;t=c.childNodes.length>1?ye("g").append(c):ye(c.firstChild),i=a.selectors}else t=ye(s),Array.isArray(t)&&(t=ye("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group});const u=this._getPortLabelMarkup(e.label);if(Array.isArray(u)){const{fragment:A,selectors:E}=this.parseDOMJSON(u,o.node),_=A.childNodes.length;_>0&&(r=E,n=1===_?ye(A.firstChild):ye("g").append(A))}else n=ye(u),Array.isArray(n)&&(n=ye("g").append(n));var d;if(i&&r){for(var f in r)if(i[f]&&f!==this.selector)throw new Error("ElementView: selectors within port must be unique.");d=mt({},i,r)}else d=i||r||{};const g="portRoot",m="labelRoot",C="labelText";if(g in d||(d[g]=t.node),n){const A=n.node;if(m in d||(d[m]=A),!(C in d)){const E="TEXT"===n.tagName()?A:Array.from(A.querySelectorAll("text"));d[C]=E,r||(r={}),r[C]=E}}return o.append(t.addClass("joint-port-body")),n&&o.append(n.addClass("joint-port-label")),this._portElementsCache[e.id]={portElement:o,portLabelElement:n,portSelectors:d,portLabelSelectors:r,portContentElement:t,portContentSelectors:i},o},_updatePortGroup:function(e){for(var t=He(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(e,t),r=0,i=n.length;r<i;r++){var o=n[r],a=this._portElementsCache[o.portId]||{},c=o.portTransformation,u=o.labelTransformation;u&&a.portLabelElement&&(this.updateDOMSubtreeAttributes(a.portLabelElement.node,u.attrs,{rootBBox:new He(o.labelSize),selectors:a.portLabelSelectors}),this.applyPortTransform(a.portLabelElement,u,-c.angle||0)),this.updateDOMSubtreeAttributes(a.portElement.node,o.portAttrs,{rootBBox:new He(o.portSize),selectors:a.portSelectors}),this.applyPortTransform(a.portElement,c)}},applyPortTransform:function(e,t,n){var r=ye.createSVGMatrix().rotate(n||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(r,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},gr=Js.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Js.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,n){const r=Eo(t);n=(r?n:e)||{};const{parentRelative:i,deep:o,restrictedArea:s}=n;let a;if(i){if(!this.graph)throw new Error("Element must be part of a graph.");const c=this.getParentCell();c&&!c.isLink()&&(a=c.get("position"))}if(r){if(a&&(e+=a.x,t+=a.y),o||s){const{x:c,y:u}=this.get("position");this.translate(e-c,t-u,n)}else this.set("position",{x:e,y:t},n);return this}{const c=H(this.get("position"));return i?c.difference(a):c}},translate:function(e,t,n){if(t=t||0,0===(e=e||0)&&0===t)return this;(n=n||{}).translateBy=n.translateBy||this.id;var r=this.get("position")||{x:0,y:0},i=n.restrictedArea;if(i&&n.translateBy===this.id)if("function"==typeof i){var o=i.call(this,r.x+e,r.y+t,n);e=o.x-r.x,t=o.y-r.y}else{var s=this.getBBox({deep:!0}),a=r.x-s.x,c=r.y-s.y,u=Math.max(i.x+a,Math.min(i.x+i.width+a-s.width,r.x+e)),d=Math.max(i.y+c,Math.min(i.y+i.height+c-s.height,r.y+t));e=u-r.x,t=d-r.y}var f={x:r.x+e,y:r.y+t};return n.tx=e,n.ty=t,n.transition?(Tn(n.transition)||(n.transition={}),this.transition("position",f,mt({},n.transition,{valueFunction:VT.object})),Xs(this.getEmbeddedCells(),"translate",e,t,n)):(this.startBatch("translate",n),this.set("position",f,n),Xs(this.getEmbeddedCells(),"translate",e,t,n),this.stopBatch("translate",n)),this},size:function(e,t,n){var r=this.get("size");return void 0===e?{width:r.width,height:r.height}:(Tn(e)&&(n=t,t=Eo(e.height)?e.height:r.height,e=Eo(e.width)?e.width:r.width),this.resize(e,t,n))},resize:function(e,t,n){if(this.startBatch("resize",n=n||{}),n.direction){var r=this.get("size");switch(n.direction){case"left":case"right":t=r.height;break;case"top":case"bottom":e=r.width}var s,i=ws(this.get("angle")||0),o=this.getBBox();if(i){var a={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(a+=Math.floor((i+45)/90),a%=4);var c=o[["bottomLeft","corner","topRight","origin"][a]](),u=H(c).rotate(o.center(),-i),d=Math.sqrt(e*e+t*t)/2,f=a*Math.PI/2;f+=Math.atan(a%2==0?t/e:e/t),f-=Do(i);var g=H.fromPolar(d,f,u);s=H(g).offset(e/-2,t/-2)}else switch(s=o.topLeft(),n.direction){case"top":case"top-right":s.offset(0,o.height-t);break;case"left":case"bottom-left":s.offset(o.width-e,0);break;case"top-left":s.offset(o.width-e,o.height-t)}this.set("size",{width:e,height:t},n),this.position(s.x,s.y,n)}else this.set("size",{width:e,height:t},n);return this.stopBatch("resize",n),this},scale:function(e,t,n,r){var i=this.getBBox().scale(e,t,n);return this.startBatch("scale",r),this.position(i.x,i.y,r),this.resize(i.width,i.height,r),this.stopBatch("scale"),this},fitEmbeds:function(e){return this.fitToChildren(e)},fitToChildren:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");const n=this.getEmbeddedCells().filter(r=>r.isElement());return 0===n.length||(this.startBatch("fit-embeds",e),e.deep&&Xs(n,"fitToChildren",e),this._fitToElements(Object.assign({elements:n},e)),this.stopBatch("fit-embeds")),this},fitParent:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");if(e.deep&&e.terminator&&(e.terminator===this||e.terminator===this.id))return this;const n=this.getParentCell();if(!n||!n.isElement())return this;const r=n.getEmbeddedCells().filter(i=>i.isElement());return 0===r.length||(this.startBatch("fit-parent",e),n._fitToElements(Object.assign({elements:r},e)),e.deep&&n.fitParent(e),this.stopBatch("fit-parent")),this},_fitToElements:function(e={}){const t=this.graph.getCellsBBox(e.elements);if(!t)return;const{expandOnly:n,shrinkOnly:r}=e;if(n&&r)return;let{x:i,y:o,width:s,height:a}=t;const{left:c,right:u,top:d,bottom:f}=Ua(e.padding);i-=c,o-=d,s+=c+u,a+=f+d;let g=new He(i,o,s,a);if(n)g=this.getBBox().union(g);else if(r){const m=this.getBBox().intersect(g);if(!m)return;g=m}this.set({position:{x:g.x,y:g.y},size:{width:g.width,height:g.height}},e)},rotate:function(e,t,n,r){if(n){var i=this.getBBox().center(),o=this.get("size"),s=this.get("position");i.rotate(n,this.get("angle")-e);var a=i.x-o.width/2-s.x,c=i.y-o.height/2-s.y;this.startBatch("rotate",{angle:e,absolute:t,origin:n}),this.position(s.x+a,s.y+c,r),this.rotate(e,t,null,r),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,r);return this},angle:function(){return ws(this.get("angle")||0)},getBBox:function(e={}){const{graph:t,attributes:n}=this,{deep:r,rotate:i}=e;if(r&&t){const f=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return f.push(this),t.getCellsBBox(f,e)}const{angle:o=0,position:{x:s,y:a},size:{width:c,height:u}}=n,d=new He(s,a,c,u);return i&&d.rotateAroundCenter(o),d},getPointFromConnectedLink:function(e,t){var n=this.getBBox(),r=n.center(),i=e.get(t);if(!i)return r;var o=i.port;if(!o||!this.hasPort(o))return r;var s=this.portProp(o,["group"]),a=this.getPortsPositions(s),c=new H(a[o]).offset(n.origin()),u=this.angle();return u&&c.rotate(r,-u),c}});mt(gr.prototype,s5);const wn={TOOLS:hn.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},$r=hn.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=hn.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){hn.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[wn.UPDATE],position:[wn.TRANSLATE,wn.TOOLS],size:[wn.RESIZE,wn.PORTS,wn.TOOLS],angle:[wn.ROTATE,wn.TOOLS],markup:[wn.RENDER],ports:[wn.PORTS]},initFlag:[wn.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){const{useCSSSelectors:n}=Ko;this.hasFlag(e,wn.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(e,wn.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),r=!0,e=this.removeFlag(e,[wn.RENDER,wn.UPDATE,wn.RESIZE,wn.TRANSLATE,wn.ROTATE,wn.PORTS,wn.TOOLS]);else{let i=!1;this.hasFlag(e,wn.RESIZE)&&(this.resize(t),i=!0,e=this.removeFlag(e,[wn.RESIZE,wn.UPDATE]),n&&(e=this.removeFlag(e,wn.PORTS))),this.hasFlag(e,wn.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,wn.UPDATE),i=!0,n&&(e=this.removeFlag(e,wn.PORTS))),this.hasFlag(e,wn.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,wn.TRANSLATE),r=!0),this.hasFlag(e,wn.ROTATE)&&(this.rotate(),e=this.removeFlag(e,wn.ROTATE),r=!0),this.hasFlag(e,wn.PORTS)&&(this._renderPorts(),i=!0,e=this.removeFlag(e,wn.PORTS)),i&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(e,wn.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,wn.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache();const{useCSSSelectors:n}=Ko;n&&this._removePorts();var r=this.model,i=r.attr();this.updateDOMSubtreeAttributes(this.el,i,{rootBBox:new He(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===i?null:t}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if("string"==typeof t)return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),n=this.selectors=t.selectors;this.rotatableNode=ye(n[this.rotatableSelector])||null,this.scalableNode=ye(n[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(ye(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable"),(this.selectors={})[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),Ko.useCSSSelectors||this._renderPorts(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode)return this.rgRotate(),void this.update();this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){var e=this.model.attributes.position;return"translate("+e.x+","+e.y+")"},getRotateString:function(){var e=this.model.attributes,t=e.angle;if(!t)return null;var n=e.size;return"rotate("+t+","+n.width/2+","+n.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,n=t.angle(),r=t.size(),i=this.scalableNode,o=!1;i.node.getElementsByTagName("path").length>0&&(o=!0);var s=i.getBBox({recursive:o});i.attr("transform","scale("+r.width/(s.width||1)+","+r.height/(s.height||1)+")");var u=this.rotatableNode,d=u&&u.attr("transform");if(d){u.attr("transform",d+" rotate("+-n+","+r.width/2+","+r.height/2+")");var f=i.getBBox({target:this.paper.cells});t.set("position",{x:f.x,y:f.y},mt({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e={}){const t=e.model||this.model,r=(e.paper||this.paper).model,i=e.initialZIndices={},o=t.getEmbeddedCells({deep:!0}),s=r.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t,...o,...s].forEach(u=>i[u.id]=u.attributes.z),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});const a=r.getElements().reduce((u,d)=>Math.max(u,d.attributes.z||0),0);s.forEach(u=>{u.attributes.z<=a&&u.set("z",a+1,{ui:!0})}),t.stopBatch("to-front");const c=t.parent();c?(r.getCell(c).unembed(t,{ui:!0}),e.initialParentId=c):e.initialParentId=null},processEmbedding:function(e={},t,n,r){const i=e.model||this.model,o=e.paper||this.paper,s=o.model,{findParentBy:a,frontParentOnly:c,validateEmbedding:u}=o.options;let d;d=ur(a)?yn(a.call(s,this,t,n,r)):"pointer"===a?yn(s.findModelsFromPoint({x:n,y:r})):s.findModelsUnderElement(i,{searchBy:a}),d=d.filter(m=>m instanceof Js&&i.id!==m.id&&!m.isEmbeddedIn(i)),c&&(d=d.slice(-1));let f=null;const g=e.candidateEmbedView;for(let m=d.length-1;m>=0;m--){const C=d[m];if(g&&g.model.id==C.id){f=g;break}{const A=C.findView(o);if(!ur(u)||u.call(o,this,A)){f=A;break}}}f&&f!=g&&(this.clearEmbedding(e),e.candidateEmbedView=f.highlight(f.findProxyNode(null,"container"),{embedding:!0})),!f&&g&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e={}){const t=e.candidateEmbedView,n=e.model||this.model,r=e.paper||this.paper;if(t)t.model.embed(n,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{const{validateUnembedding:i}=r.options,{initialParentId:o}=e;if(o&&"function"==typeof i&&!i.call(r,this))return void this._disallowUnembed(e)}r.model.getConnectedLinks(n,{deep:!0}).forEach(i=>{i.reparent({ui:!0})})},_disallowUnembed:function(e){const{model:t,whenNotAllowed:n="revert"}=e,r=t||this.model,o=(e.paper||this.paper).model;switch(n){case"remove":r.remove({ui:!0});break;case"revert":{const{initialParentId:s,initialPosition:a,initialZIndices:c}=e;if(a){const{x:d,y:f}=a;r.position(d,f,{deep:!0,ui:!0})}c&&Object.keys(c).forEach(d=>{const f=o.getCell(d);f&&f.set("z",c[d],{ui:!0})});const u=o.getCell(s);u&&u.embed(r,{ui:!0});break}}},getDelegatedView:function(){for(var e=this,t=e.model,n=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=n.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);const n=e.getAttribute(`${t}-selector`);if(n){const r=this.findAttribute("port",e);if(r){const i=this.findPortNode(r,n);if(i)return i}else{const[i]=this.findBySelector(n);if(i)return i}}return e},notifyPointerdown(e,t,n){hn.prototype.pointerdown.call(this,e,t,n),this.notify("element:pointerdown",e,t,n)},notifyPointermove(e,t,n){hn.prototype.pointermove.call(this,e,t,n),this.notify("element:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("element:pointerup",e,t,n),hn.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){hn.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){hn.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,n)},contextmenu:function(e,t,n){hn.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,n)},pointerdown:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragStart(e,t,n)},pointermove:function(e,t,n){const r=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=r;switch(i&&this.magnetpointermove(e,i,t,n),o){case"magnet":this.dragMagnet(e,t,n);break;case"move":(s||this).drag(e,t,n);default:if(r.preventPointerEvents)break;this.notifyPointermove(e,t,n)}this.eventData(e,r)},pointerup:function(e,t,n){const r=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=r;switch(i&&this.magnetpointerup(e,i,t,n),o){case"magnet":this.dragMagnetEnd(e,t,n);break;case"move":(s||this).dragEnd(e,t,n);default:if(r.preventPointerEvents)break;this.notifyPointerup(e,t,n)}i&&this.magnetpointerclick(e,i,t,n),this.checkMouseleave(e)},mouseover:function(e){hn.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){hn.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){hn.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){hn.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,n,r){hn.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,n,r)},onmagnet:function(e,t,n){const{currentTarget:r}=e;this.magnetpointerdown(e,r,t,n),this.eventData(e,{targetMagnet:r}),this.dragMagnetStart(e,t,n)},magnetpointerdown:function(e,t,n,r){this.notify("element:magnet:pointerdown",e,t,n,r)},magnetpointermove:function(e,t,n,r){this.notify("element:magnet:pointermove",e,t,n,r)},magnetpointerup:function(e,t,n,r){this.notify("element:magnet:pointerup",e,t,n,r)},magnetpointerdblclick:function(e,t,n,r){this.notify("element:magnet:pointerdblclick",e,t,n,r)},magnetcontextmenu:function(e,t,n,r){this.notify("element:magnet:contextmenu",e,t,n,r)},dragStart:function(e,t,n){if(this.isDefaultInteractionPrevented(e))return;var r=this.getDelegatedView();if(!r||!r.can("elementMove"))return;this.eventData(e,{action:"move",delegatedView:r});const i=r.model.position();r.eventData(e,{initialPosition:i,pointerOffset:i.difference(t,n),restrictedArea:this.paper.getRestrictedArea(r,t,n)})},dragMagnetStart:function(e,t,n){const{paper:r}=this,i=e.isPropagationStopped();if(i&&this.eventData(e,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(e)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:o=e.currentTarget}=this.eventData(e);e.stopPropagation(),r.options.validateMagnet.call(r,this,o,e)?(r.options.magnetThreshold<=0&&this.dragLinkStart(e,o,t,n),this.eventData(e,{action:"magnet"})):i?this.dragStart(e,t,n):this.pointerdown(e,t,n)},drag:function(e,t,n){var r=this.paper,i=r.options.gridSize,o=this.model,s=this.eventData(e),{pointerOffset:a,restrictedArea:c,embedding:u}=s,d=bc(t+a.x,i),f=bc(n+a.y,i);o.position(d,f,{restrictedArea:c,deep:!0,ui:!0}),r.options.embeddingMode&&(u||(this.prepareEmbedding(s),u=!0),this.processEmbedding(s,e,t,n)),this.eventData(e,{embedding:u})},dragMagnet:function(e,t,n){this.dragLink(e,t,n)},dragEnd:function(e,t,n){var r=this.eventData(e);r.embedding&&this.finalizeEmbedding(r)},dragMagnetEnd:function(e,t,n){this.dragLinkEnd(e,t,n)},magnetpointerclick:function(e,t,n,r){var i=this.paper;i.eventData(e).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,n,r)}},{Flags:wn});mt($r.prototype,a5);const lS={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[e];if(typeof n<"u")return n;try{n=t()}catch{n=!1}return this._results[e]=n,n}},xn=gr.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}}),c5=xn.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'}),u5=$r.extend({presentationAttributes:$r.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var e=$r.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"SCALE")&&(this.resize(),e=this.removeFlag(e,"SCALE")),e}}),l5=xn.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'}),By=xn.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'}),f5=xn.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'}),d5=xn.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),h5=xn.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'}),g5=xn.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'}),fS=xn.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'}),p5=fS.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}}),ig=lS.test("svgforeignobject"),m5=xn.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',ig?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),xn.prototype.initialize.apply(this,arguments)},updateSize:function(e,t){this.attr({".fobj":mt({},t),div:{style:mt({},t)}})},updateContent:function(e,t){this.attr(ig?{".content":{html:Az(t)}}:{".content":{text:t}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),v5=$r.extend({presentationAttributes:ig?$r.prototype.presentationAttributes:$r.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var e=$r.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"CONTENT")&&(this.updateContent(this.model),e=this.removeFlag(e,"CONTENT")),e},update:function(e,t){var n=this.model;if(ig)$r.prototype.update.call(this,n,t);else{var r=xc(t||n.get("attrs"),".content");$r.prototype.update.call(this,n,r),(!t||fa(t,".content"))&&this.updateContent(n,t)}},updateContent:function(e,t){var n=Xr({},(t||e.get("attrs"))[".content"]);n=xc(n,"text");var r=GT(e.get("content"),e.get("size"),n,{svgDocument:this.paper.svg}),i=_y({},".content",n,"/");i[".content"].text=r,$r.prototype.update.call(this,e,i)}}),hi=Js.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,n){return void 0===e?$s(this.get("source")):e instanceof Js?((r=$s(t)||{}).id=e.id,this.set("source",r,n)):zr(e)?this.set("source",r=e,t):((r=$s(t)||{}).x=e.x,r.y=e.y,this.set("source",r,n));var r},target:function(e,t,n){return void 0===e?$s(this.get("target")):e instanceof Js?((r=$s(t)||{}).id=e.id,this.set("target",r,n)):zr(e)?this.set("target",r=e,t):((r=$s(t)||{}).x=e.x,r.y=e.y,this.set("target",r,n));var r},router:function(e,t,n){if(void 0===e){var r=this.get("router");return r?"object"==typeof r?$s(r):r:this.get("manhattan")?{name:"orthogonal"}:null}var i="object"==typeof e||"function"==typeof e;return this.set("router",i?e:{name:e,args:t},i?t:n)},connector:function(e,t,n){if(void 0===e){var r=this.get("connector");return r?"object"==typeof r?$s(r):r:this.get("smooth")?{name:"smooth"}:null}var i="object"==typeof e||"function"==typeof e;return this.set("connector",i?e:{name:e,args:t},i?t:n)},label:function(e,t,n){var r=this.labels();return(e=isFinite(e)&&null!==e?0|e:0)<0&&(e=r.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,n)},labels:function(e,t){return 0===arguments.length?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},hasLabels:function(){const{labels:e}=this.attributes;return Array.isArray(e)&&e.length>0},insertLabel:function(e,t,n){if(!t)throw new Error("dia.Link: no label provided");var r=this.labels(),i=r.length;return(e=isFinite(e)&&null!==e?0|e:i)<0&&(e=i+e+1),r.splice(e,0,t),this.labels(r,n)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var n=this.labels();return e=isFinite(e)&&null!==e?0|e:-1,n.splice(e,1),this.labels(n,t)},vertex:function(e,t,n){var r=this.vertices();if((e=isFinite(e)&&null!==e?0|e:0)<0&&(e=r.length+e),arguments.length<=1)return this.prop(["vertices",e]);var i=this._normalizeVertex(t);return this.prop(["vertices",e],i,n)},vertices:function(e,t){if(0===arguments.length)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var n=[],r=0;r<e.length;r++){var o=this._normalizeVertex(e[r]);n.push(o)}return this.set("vertices",n,t)},insertVertex:function(e,t,n){if(!t)throw new Error("dia.Link: no vertex provided");var r=this.vertices(),i=r.length;(e=isFinite(e)&&null!==e?0|e:i)<0&&(e=i+e+1);var o=this._normalizeVertex(t);return r.splice(e,0,o),this.vertices(r,n)},removeVertex:function(e,t){var n=this.vertices();return e=isFinite(e)&&null!==e?0|e:-1,n.splice(e,1),this.vertices(n,t)},_normalizeVertex:function(e){return zr(e)?e:{x:e.x,y:e.y}},translate:function(e,t,n){return(n=n||{}).translateBy=n.translateBy||this.id,n.tx=e,n.ty=t,this.applyToPoints(function(r){return{x:(r.x||0)+e,y:(r.y||0)+t}},n)},scale:function(e,t,n,r){return this.applyToPoints(function(i){return H(i).scale(e,t,n).toJSON()},r)},applyToPoints:function(e,t){if(!ur(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},{source:r,target:i}=this.attributes;r.id||(n.source=e(r)),i.id||(n.target=e(i));var o=this.vertices();return o.length>0&&(n.vertices=o.map(e)),this.set(n,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new H(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new H(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const e=[this.getSourcePoint(),...this.vertices().map(H),this.getTargetPoint()];return new tr(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var n=this.getSourceElement(),r=this.getTargetElement(),i=this.getParentCell();n&&r&&(t=n===r||n.isEmbeddedIn(r)?r:r.isEmbeddedIn(n)?n:this.graph.getCommonAncestor(n,r)),i&&(!t||t.id!==i.id)&&i.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var{source:t,target:n}=this.attributes,r=t.id,i=n.id;if(!r||!i)return!1;var o=r===i;if(!o&&e.deep&&this.graph){var s=this.getSourceCell(),a=this.getTargetCell();o=s.isEmbeddedIn(a)||a.isEmbeddedIn(s)}return o},getSourceCell:function(){const{graph:e,attributes:t}=this;var n=t.source;return n&&n.id&&e&&e.getCell(n.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){const{graph:e,attributes:t}=this;var n=t.target;return n&&n.id&&e&&e.getCell(n.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(n){return!!n});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=Yi(e)||Eo(e)?e:e.id,n=this.getRelationshipAncestor();return!!n&&(n.id===t||n.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){return e.id===t.id&&(e.port===t.port||!e.port&&!t.port)}}),zy=gr.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),y5=gr.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),I5=gr.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),C5=gr.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),w5=gr.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),A5=gr.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),b5=gr.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),D5=gr.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),M5=gr.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),E5=gr.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),T5=gr.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]}),S5=gr.define("standard.Cylinder",{attrs:{body:{lateralArea:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:10,refRx:"50%",ry:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(void 0===e)return this.attr("body/lateralArea");var n=Pi(e);return this.attr({body:{lateralArea:e},top:n?{refCy:e,refRy:e,cy:null,ry:null}:{refCy:null,refRy:null,cy:e,ry:e}},t)}},{attributes:{lateralArea:{set:function(e,t){var n=Pi(e);n&&(e=parseFloat(e)/100);var r=t.x,i=t.y,o=t.width,s=t.height,c=n?s*e:e,u=ye.KAPPA,d=u*(o/2),f=u*(n?s*e:e),m=r+o/2,C=r+o,A=i+c,E=A-c,_=i+s-c,O=i+s;return{d:["M",r,A,"L",r,_,"C",r,_+f,m-d,O,m,O,"C",m+d,O,C,_+f,C,_,"L",C,A,"C",C,A-f,m+d,E,m,E,"C",m-d,E,r,A-f,r,A,"Z"].join(" ")}}}}});var _5=lS.test("svgforeignobject")?{tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}};const P5=gr.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},_5]},{attributes:{text:{set:function(e,t,n,r){if(!(n instanceof HTMLElement)){var i=r.style||{},o={text:e,width:-5,height:"100%"},s=mt({textVerticalAnchor:"middle"},i);return nS.textWrap.set.call(this,o,t,n,s),{fill:i.color||null}}n.textContent=e},position:function(e,t,n){if(n instanceof SVGElement)return t.center()}}}}),O5=hi.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),k5=hi.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),L5=hi.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]}),Vy=xn.define("devs.Model",{inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},{markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',initialize:function(){xn.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(e,t,n){var r=Nc(this.get("inPorts")),i=FT(Nc(this.get("outPorts")),r),o=this.createPortItems("in",r),s=this.createPortItems("out",i);this.prop("ports/items",o.concat(s),mt({rewrite:!0},n))},createPortItem:function(e,t){return{id:t,group:e,attrs:{".port-label":{text:t}}}},createPortItems:function(e,t){return yn(t).map(this.createPortItem.bind(this,e))},_addGroupPort:function(e,t,n){var r=this.get(t);return this.set(t,Array.isArray(r)?r.concat(e):[e],n)},addOutPort:function(e,t){return this._addGroupPort(e,"outPorts",t)},addInPort:function(e,t){return this._addGroupPort(e,"inPorts",t)},_removeGroupPort:function(e,t,n){return this.set(t,Ny(this.get(t),e),n)},removeOutPort:function(e,t){return this._removeGroupPort(e,"outPorts",t)},removeInPort:function(e,t){return this._removeGroupPort(e,"inPorts",t)},_changeGroup:function(e,t,n){return this.prop("ports/groups/"+e,Tn(t)?t:{},n)},changeInGroup:function(e,t){return this._changeGroup("in",e,t)},changeOutGroup:function(e,t){return this._changeGroup("out",e,t)}}),R5=Vy.define("devs.Atomic",{size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}}),F5=Vy.define("devs.Coupled",{size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}}),j5=hi.define("devs.Link",{attrs:{".connection":{"stroke-width":2}}}),og=xn.define("logic.Gate",{size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},{operation:function(){return!0}}),Zy=og.define("logic.IO",{size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>'}),B5=Zy.define("logic.Input",{attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}}),z5=Zy.define("logic.Output",{attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}}),Uy=og.define("logic.Gate11",{attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>'}),Pc=og.define("logic.Gate21",{attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>'}),G5=Uy.define("logic.Repeater",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(e){return e}}),V5=Uy.define("logic.Not",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e){return!e}}),Z5=Pc.define("logic.Or",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(e,t){return e||t}}),U5=Pc.define("logic.And",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return e&&t}}),H5=Pc.define("logic.Nor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e,t){return!(e||t)}}),W5=Pc.define("logic.Nand",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return!(e&&t)}}),Y5=Pc.define("logic.Xor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e,t){return(!e||t)&&(e||!t)}}),X5=Pc.define("logic.Xnor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return(!e||!t)&&(e||t)}}),$5=hi.define("logic.Wire",{attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},{arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join("")}),J5=xn.define("chess.KingWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>'}),q5=xn.define("chess.KingBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),Q5=xn.define("chess.QueenWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>'}),K5=xn.define("chess.QueenBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),eG=xn.define("chess.RookWhite",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),tG=xn.define("chess.RookBlack",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>'}),nG=xn.define("chess.BishopWhite",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),rG=xn.define("chess.BishopBlack",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>'}),iG=xn.define("chess.KnightWhite",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>'}),oG=xn.define("chess.KnightBlack",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>'}),sG=xn.define("chess.PawnWhite",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),aG=xn.define("chess.PawnBlack",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),dS=gr.define("erd.Entity",{size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),cG=dS.define("erd.WeakEntity",{attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}}),hS=gr.define("erd.Relationship",{size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),uG=hS.define("erd.IdentifyingRelationship",{attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}}),kf=gr.define("erd.Attribute",{size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>'}),lG=kf.define("erd.Multivalued",{attrs:{".inner":{display:"block"},text:{text:"multivalued"}}}),fG=kf.define("erd.Derived",{attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}}),dG=kf.define("erd.Key",{attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}}),hG=kf.define("erd.Normal",{attrs:{text:{text:"Normal"}}}),gG=gr.define("erd.ISA",{type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),pG=hi.define("erd.Line",{},{cardinality:function(e){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:e}}}])}}),mG=By.define("fsa.State",{attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}}),vG=gr.define("fsa.StartState",{size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>'}),yG=gr.define("fsa.EndState",{size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),IG=hi.define("fsa.Arrow",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0}),CG=gr.define("org.Member",{size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>'}),wG=hi.define("org.Arrow",{source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1}),AG=xn.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),bG=$r.extend({presentationAttributes:$r.addPresentationAttributes({tokens:["TOKENS"]}),initFlag:$r.prototype.initFlag.concat(["TOKENS"]),confirmUpdate:function(...e){let t=$r.prototype.confirmUpdate.call(this,...e);return this.hasFlag(t,"TOKENS")&&(this.renderTokens(),this.update(),t=this.removeFlag(t,"TOKENS")),t},renderTokens:function(){const e=this.vel.findOne(".tokens").empty();["one","two","three","alot"].forEach(function(n){e.removeClass(n)});var t=this.model.get("tokens");if(t)switch(t){case 1:e.addClass("one"),e.append(ye("circle"));break;case 2:e.addClass("two"),e.append([ye("circle"),ye("circle")]);break;case 3:e.addClass("three"),e.append([ye("circle"),ye("circle"),ye("circle")]);break;default:e.addClass("alot"),e.append(ye("text").text(t+""))}}}),DG=xn.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),MG=hi.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}}),Hy=xn.define("uml.Class",{attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),xn.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var e=this.get("attrs"),t=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],n=0;t.forEach(function(r){var i=Array.isArray(r.text)?r.text:[r.text],o=20*i.length+20;e[".uml-class-"+r.type+"-text"].text=i.join("\n"),e[".uml-class-"+r.type+"-rect"].height=o,e[".uml-class-"+r.type+"-rect"].transform="translate(0,"+n+")",n+=o})}}),Wy=$r.extend({initialize:function(){$r.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),EG=Hy.define("uml.Abstract",{attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},{getClassName:function(){return["<<Abstract>>",this.get("name")]}}),TG=Wy,SG=Hy.define("uml.Interface",{attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},{getClassName:function(){return["<<Interface>>",this.get("name")]}}),NG=Wy,xG=hi.define("uml.Generalization",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}),_G=hi.define("uml.Implementation",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}),PG=hi.define("uml.Aggregation",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}),OG=hi.define("uml.Composition",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}),kG=hi.define("uml.Association"),LG=xn.define("uml.State",{attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),xn.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join("\n"))},updatePath:function(){var e="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",e,{silent:!0})}}),RG=By.define("uml.StartState",{type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}}),FG=xn.define("uml.EndState",{size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),jG=hi.define("uml.Transition",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}}),Or={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function gS(e,t){const n=new He(e);switch(t){case void 0:throw new Error("Position required");case Or.LEFT:case"leftMiddle":return n.leftMiddle();case Or.RIGHT:case"rightMiddle":return n.rightMiddle();case Or.TOP:case"topMiddle":return n.topMiddle();case Or.BOTTOM:case"bottomMiddle":return n.bottomMiddle();case Or.TOP_LEFT:case"topLeft":case"origin":return n.topLeft();case Or.TOP_RIGHT:case"topRight":return n.topRight();case Or.BOTTOM_LEFT:case"bottomLeft":return n.bottomLeft();case Or.BOTTOM_RIGHT:case"bottomRight":case"corner":return n.bottomRight();case Or.CENTER:return n.center();default:throw new Error(`Unknown position: ${t}`)}}const Yy={cells:function(e){return function(){var t=Array.from(arguments),n=t.length,r=n>0&&t[0]||[],i=n>1&&t[n-1]||{};return Array.isArray(r)||(i instanceof Js?r=t:r instanceof Js&&(t.length>1&&t.pop(),r=t)),i instanceof Js&&(i={}),e.call(this,r,i)}}},zG=Wi.Collection.extend({initialize:function(e,t){this.cellNamespace=t.cellNamespace?t.cellNamespace:typeof joint<"u"&&fa(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){var n=t.collection,o=new("link"===e.type?hi:Nf(n.cellNamespace,e.type,".")||gr)(e,t);return t.dry||(o.graph=n.graph),o},comparator:function(e){return e.get("z")||0}}),sg=Wi.Model.extend({initialize:function(e,t){var n=new zG([],{model:(t=t||{}).cellModel,cellNamespace:t.cellNamespace,graph:this});Wi.Model.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var{source:t,target:n}=e.attributes;t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var{source:t,target:n}=e.attributes;t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],n.id&&this._in[n.id]&&this._in[n.id][e.id]&&delete this._in[n.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var n=e.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var n=e.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=Wi.Model.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,n){var r;return"object"==typeof e?(r=e,n=t):(r={})[e]=t,r.hasOwnProperty("cells")&&(this.resetCells(r.cells,n),r=xc(r,"cells")),Wi.Model.prototype.set.call(this,r,n)},clear:function(e){e=mt({},e,{clear:!0});var t=this.get("cells");if(0===t.length)return this;this.startBatch("clear",e);var n=t.sortBy(function(r){return r.isLink()?1:2});do{n.shift().remove(e)}while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e,t){var n;if(e instanceof Wi.Model?(n=e.attributes,!e.graph&&(!t||!t.dry)&&(e.graph=this)):n=e,!Yi(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof Wi.Model?e.has("z")||e.set("z",this.maxZIndex()+1):void 0===e.z&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return 0===e.length||(e=lz(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(n){this.addCell(n,t),t.position--},this),this.stopBatch("add",t)),this},resetCells:function(e,t){var n=yn(e).map(function(r){return this._prepareCell(r,t)},this);return this.get("cells").reset(n,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),Xs(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,n){(n=n||{}).clear||(n.disconnectLinks?this.disconnectLinks(e,n):this.removeLinks(e,n)),this.get("cells").remove(e,{silent:!0}),e.graph===this&&(e.graph=null)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(e=>e.isElement())},getLinks:function(){return this.get("cells").filter(e=>e.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){var n=(t=t||{}).indirect,r=t.inbound,i=t.outbound;void 0===r&&void 0===i&&(r=i=!0);var o=[],s={};function a(f,g){if(is(f.getOutboundEdges(g.id),function(C,A){if(!s[A]){var E=f.getCell(A);o.push(E),s[A]=!0,n&&(r&&c(f,E),i&&a(f,E))}}.bind(f)),n&&g.isLink()){var m=g.getTargetCell();m&&m.isLink()&&(s[m.id]||(o.push(m),a(f,m)))}}function c(f,g){if(is(f.getInboundEdges(g.id),function(C,A){if(!s[A]){var E=f.getCell(A);o.push(E),s[A]=!0,n&&(r&&c(f,E),i&&a(f,E))}}.bind(f)),n&&g.isLink()){var m=g.getSourceCell();m&&m.isLink()&&(s[m.id]||(o.push(m),c(f,m)))}}if(i&&a(this,e),r&&c(this,e),t.deep){var u=e.getEmbeddedCells({deep:!0}),d={};u.forEach(function(f){f.isElement()&&(d[f.id]=!0)}),u.forEach(function(f){f.isLink()||(i&&is(this.getOutboundEdges(f.id),function(g,m){if(!s[m]){var C=this.getCell(m),{source:A,target:E}=C.attributes,_=A.id,O=E.id;if(!t.includeEnclosed&&_&&d[_]&&O&&d[O])return;o.push(this.getCell(m)),s[m]=!0}}.bind(this)),r&&is(this.getInboundEdges(f.id),function(g,m){if(!s[m]){var C=this.getCell(m),{source:A,target:E}=C.attributes,_=A.id,O=E.id;if(!t.includeEnclosed&&_&&d[_]&&O&&d[O])return;o.push(this.getCell(m)),s[m]=!0}}.bind(this)))},this)}return o},getNeighbors:function(e,t){t||(t={});var n=t.inbound,r=t.outbound;void 0===n&&void 0===r&&(n=r=!0);var i=this.getConnectedLinks(e,t).reduce(function(a,c){var{source:u,target:d}=c.attributes,f=c.hasLoop(t);if(n&&fa(u,"id")&&!a[u.id]){var g=this.getCell(u.id);g.isElement()&&(f||g&&g!==e&&(!t.deep||!g.isEmbeddedIn(e)))&&(a[u.id]=g)}if(r&&fa(d,"id")&&!a[d.id]){var m=this.getCell(d.id);m.isElement()&&(f||m&&m!==e&&(!t.deep||!m.isEmbeddedIn(e)))&&(a[d.id]=m)}return a}.bind(this),{});if(e.isLink()){if(n){var o=e.getSourceCell();o&&o.isElement()&&!i[o.id]&&(i[o.id]=o)}if(r){var s=e.getTargetCell();s&&s.isElement()&&!i[s.id]&&(i[s.id]=s)}}return yn(i)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(n){for(var r=[],i=n.get("parent");i;)r.push(i),i=this.getCell(i).get("parent");return r},this);e=e.sort(function(n,r){return n.length-r.length});var t=yn(e.shift()).find(function(n){return e.every(function(r){return r.includes(n)})});return this.getCell(t)},getSuccessors:function(e,t){var n=[];return this.search(e,function(r){r!==e&&n.push(r)},mt({},t=t||{},{outbound:!0})),n},cloneCells:$T,cloneSubgraph:function(e,t){var n=this.getSubgraph(e,t);return this.cloneCells(n)},getSubgraph:function(e,t){t=t||{};var n=[],r={},i=[],o=[];return yn(e).forEach(function(s){r[s.id]||(n.push(s),r[s.id]=s,s.isLink()?o.push(s):i.push(s)),t.deep&&s.getEmbeddedCells({deep:!0}).forEach(function(c){r[c.id]||(n.push(c),r[c.id]=c,c.isLink()?o.push(c):i.push(c))})}),o.forEach(function(s){var{source:a,target:c}=s.attributes;if(a.id&&!r[a.id]){var u=this.getCell(a.id);n.push(u),r[u.id]=u,i.push(u)}if(c.id&&!r[c.id]){var d=this.getCell(c.id);n.push(this.getCell(c.id)),r[d.id]=d,i.push(d)}},this),i.forEach(function(s){this.getConnectedLinks(s,t).forEach(function(c){var{source:u,target:d}=c.attributes;!r[c.id]&&u.id&&r[u.id]&&d.id&&r[d.id]&&(n.push(c),r[c.id]=c)})},this),n},getPredecessors:function(e,t){var n=[];return this.search(e,function(r){r!==e&&n.push(r)},mt({},t=t||{},{inbound:!0})),n},search:function(e,t,n){(n=n||{}).breadthFirst?this.bfs(e,t,n):this.dfs(e,t,n)},bfs:function(e,t,n={}){const r={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){var s=o.shift();if(r[s.id]||(r[s.id]=!0,!1===t.call(this,s,i[s.id])))continue;const a=this.getNeighbors(s,n);for(let c=0,u=a.length;c<u;c++){const d=a[c];i[d.id]=i[s.id]+1,o.push(d)}}},dfs:function(e,t,n={}){const r={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){const s=o.pop();if(r[s.id]||(r[s.id]=!0,!1===t.call(this,s,i[s.id])))continue;const a=this.getNeighbors(s,n),c=o.length;for(let u=0,d=a.length;u<d;u++){const f=a[u];i[f.id]=i[s.id]+1,o.splice(c,0,f)}}},getSources:function(){var e=[];return is(this._nodes,function(t,n){(!this._in[n]||la(this._in[n]))&&e.push(this.getCell(n))}.bind(this)),e},getSinks:function(){var e=[];return is(this._nodes,function(t,n){(!this._out[n]||la(this._out[n]))&&e.push(this.getCell(n))}.bind(this)),e},isSource:function(e){return!this._in[e.id]||la(this._in[e.id])},isSink:function(e){return!this._out[e.id]||la(this._out[e.id])},isSuccessor:function(e,t){var n=!1;return this.search(e,function(r){if(r===t&&r!==e)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(e,t){var n=!1;return this.search(e,function(r){if(r===t&&r!==e)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(e,t,n){var r=(n=n||{}).inbound,i=n.outbound;void 0===r&&void 0===i&&(r=i=!0);var o=!1;return this.getConnectedLinks(e,n).forEach(function(s){var{source:a,target:c}=s.attributes;if(r&&fa(a,"id")&&a.id===t.id||i&&fa(c,"id")&&c.id===t.id)return o=!0,!1}),o},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(n){n.set(n.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){Xs(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return this.getElements().filter(t=>t.getBBox({rotate:!0}).containsPoint(e))},findModelsInArea:function(e,t={}){const n=new He(e),{strict:r=!1}=t,i=r?"containsRect":"intersect";return this.getElements().filter(o=>n[i](o.getBBox({rotate:!0})))},findModelsUnderElement:function(e,t={}){const{searchBy:n="bbox"}=t,r=e.getBBox().rotateAroundCenter(e.angle());return("bbox"===n?this.findModelsInArea(r):this.findModelsFromPoint(gS(r,n))).filter(o=>e.id!==o.id&&!o.isEmbeddedIn(e))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t={}){const{rotate:n=!0}=t;return yn(e).reduce(function(r,i){const o=i.getBBox({rotate:n});return o?r?r.union(o):o:r},null)},translate:function(e,t,n){var r=this.getCells().filter(function(i){return!i.isEmbedded()});return Xs(r,"translate",e,t,n),this},resize:function(e,t,n){return this.resizeCells(e,t,this.getCells(),n)},resizeCells:function(e,t,n,r){var i=this.getCellsBBox(n);if(i){var o=Math.max(e/i.width,0),s=Math.max(t/i.height,0);Xs(n,"scale",o,s,i.origin(),r)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",mt({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",mt({},t,{batchName:e}))},hasActiveBatch:function(e){const t=this._batches;let n;return n=0===arguments.length?Object.keys(t):Array.isArray(e)?e:[e],n.some(r=>t[r]>0)}},{validations:{multiLinks:function(e,t){var{source:n,target:r}=t.attributes;if(n.id&&r.id){var i=t.getSourceCell();if(i&&e.getConnectedLinks(i,{outbound:!0}).filter(function(a){var{source:c,target:u}=a.attributes;return c&&c.id===n.id&&(!c.port||c.port===n.port)&&u&&u.id===r.id&&(!u.port||u.port===r.port)}).length>1)return!1}return!0},linkPinning:function(e,t){var{source:n,target:r}=t.attributes;return n.id&&r.id}}});!function(e,t,n){if(Yi(n)){if(!Yy[n])throw new Error('Unknown wrapper: "'+n+'"');n=Yy[n]}if(!ur(n))throw new Error("Wrapper must be a function.");yn(["resetCells","addCells","removeCells"]).forEach(function(r){e[r]=n(e[r])})}(sg.prototype,0,Yy.cells);const GG=function(e,t,n){return e},VG=function(e,t,n){var u,d,f,r=t.side||"bottom",i=Ua(t.padding||40),o=n.sourceBBox,s=n.targetBBox,a=o.center(),c=s.center();switch(r){case"bottom":f=1,u="y",d="height";break;case"top":f=-1,u="y",d="height";break;case"left":f=-1,u="x",d="width";break;case"right":f=1,u="x",d="width";break;default:throw new Error("Router: invalid side")}return a[u]+=f*(o[d]/2+i[r]),c[u]+=f*(s[d]/2+i[r]),f*(a[u]-c[u])>0?c[u]=a[u]:a[u]=c[u],[a].concat(e,c)};var ZG={N:"S",S:"N",E:"W",W:"E"},UG={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function ag(e,t,n){var r=new H(e.x,t.y);return n.containsPoint(r)&&(r=new H(t.x,e.y)),r}function Xy(e,t){return e["W"===t||"E"===t?"width":"height"]}function go(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function cg(e){return new He(e.x,e.y,0,0)}function ug(e){var t=Ua(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function pS(e,t){return e.sourceBBox.clone().moveAndExpand(ug(t))}function mS(e,t){return e.targetBBox.clone().moveAndExpand(ug(t))}function vS(e,t,n){var r=new H(e.x,t.y),i=new H(t.x,e.y),o=go(e,r),s=go(e,i),a=ZG[n],c=o===n||o!==a&&(s===a||s!==n)?r:i;return{points:[c],direction:go(c,t)}}function lg(e,t,n){var r=ag(e,t,n);return{points:[r],direction:go(r,t)}}function YG(e,t,n,r){var c,i={},o=[new H(e.x,t.y),new H(t.x,e.y)],s=o.filter(function(f){return!n.containsPoint(f)}),a=s.filter(function(f){return go(f,e)!==r});if(a.length>0)c=a.filter(function(f){return go(e,f)===r}).pop(),i.points=[c=c||a[0]],i.direction=go(c,t);else{c=FT(o,s)[0];var u=new H(t).move(c,-Xy(n,r)/2),d=ag(u,e,n);i.points=[d,u],i.direction=go(u,t)}return i}function XG(e,t,n,r){var i=lg(t,e,r),o=i.points[0];if(n.containsPoint(o)){var s=(i=lg(e,t,n)).points[0];if(r.containsPoint(s)){var a=new H(e).move(s,-Xy(n,go(e,s))/2),c=new H(t).move(o,-Xy(r,go(t,o))/2),u=new $e(a,c).midpoint(),d=lg(e,u,n),f=vS(u,t,d.direction);i.points=[d.points[0],f.points[0]],i.direction=f.direction}}return i}function $y(e,t,n,r,i){var d,f,g,o={},s=n.union(r).inflate(1),a=s.center().distance(t)>s.center().distance(e),c=a?t:e,u=a?e:t;return i?(d=H.fromPolar(s.width+s.height,UG[i],c),d=s.pointNearestToPoint(d).move(d,-1)):d=s.pointNearestToPoint(c).move(c,1),f=ag(d,u,s),d.round().equals(f.round())?(f=H.fromPolar(s.width+s.height,Do(d.theta(c))+Math.PI/2,u),g=ag(d,f=s.pointNearestToPoint(f).move(u,1).round(),s),o.points=a?[f,g,d]:[d,g,f]):o.points=a?[f,d]:[d,f],o.direction=go(a?d:f,t),o}function Jy(e,t,n){var r=pS(n,t),i=mS(n,t),o=function HG(e,t){return e.sourceAnchor?e.sourceAnchor:pS(e,t).center()}(n,t),s=function WG(e,t){return e.targetAnchor?e.targetAnchor:mS(e,t).center()}(n,t);r=r.union(cg(o)),i=i.union(cg(s)),(e=yn(e).map(H)).unshift(o),e.push(s);for(var a,c=[],u=0,d=e.length-1;u<d;u++){var f=null,g=e[u],m=e[u+1],C=!!go(g,m);if(0===u)u+1===d?r.intersect(i.clone().inflate(1))?f=$y(g,m,r,i):C||(f=XG(g,m,r,i)):r.containsPoint(m)?f=$y(g,m,r,cg(m).moveAndExpand(ug(t))):C||(f=lg(g,m,r));else if(u+1===d){var A=C&&go(m,g)===a;i.containsPoint(g)||A?f=$y(g,m,cg(g).moveAndExpand(ug(t)),i,a):C||(f=YG(g,m,i,a))}else C||(f=vS(g,m,a));f?(Array.prototype.push.apply(c,f.points),a=f.direction):a=go(g,m),u+1<d&&c.push(m)}return c}var yS={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,n){if(!ur(Jy))throw new Error("Manhattan requires the orthogonal router as default fallback.");return Jy(e,mt({},yS,t),n)},fallbackRoute:function(e,t,n){return null},draggingRoute:null};function qy(e){this.map={},this.options=e,this.mapGridSize=100}function Oc(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}function IS(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function CS(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function wS(e,t){return e.sourceAnchor?e.sourceAnchor:IS(e,t).center()}function Qy(e,t,n,r,i){var o=360/n,s=e.theta(function JG(e,t,n,r){var i=r.step;return new H(e.x+(t.x-e.x)/n.x*i,e.y+(t.y-e.y)/n.y*i)}(e,t,r,i)),a=ws(s+o/2);return o*Math.floor(a/o)}function AS(e,t){var n=Math.abs(e-t);return n>180?360-n:n}function bS(e,t){if(!e)return t;var n=Math.abs(e),r=Math.round(n/t);return r?t+(n-r*t)/r:n}function Lf(e,t){return e.round(t)}function fg(e,t,n){return Lf(function KG(e,t){var n=t.source,r=bc(e.x-n.x,t.x)+n.x,i=bc(e.y-n.y,t.y)+n.y;return new H(r,i)}(e.clone(),t),n)}function Rf(e){return e.clone().toString()}function Ky(e){return new H(0===e.x?0:Math.abs(e.x)/e.x,0===e.y?0:Math.abs(e.y)/e.y)}function eV(e,t,n,r,i,o,s){for(var f,a=[],c=Ky(i.difference(n)),u=Rf(n),d=e[u];d;){var g=Ky((f=t[u]).difference(d));g.equals(c)||(a.unshift(f),c=g),d=e[u=Rf(d)]}var m=t[u];return Ky(m.difference(r)).equals(c)||a.unshift(m),a}function DS(e,t){for(var n=1/0,r=0,i=t.length;r<i;r++){var o=e.manhattanDistance(t[r]);o<n&&(n=o)}return n}function MS(e,t,n,r,i){var o=i.precision,s=i.directionMap,a=e.difference(t.center()),c=Tn(s)?Object.keys(s):[],u=yn(n),d=c.reduce(function(f,g){if(u.includes(g)){for(var O,m=s[g],C=new H(e.x+m.x*(Math.abs(a.x)+t.width),e.y+m.y*(Math.abs(a.y)+t.height)),E=new $e(e,C).intersect(t)||[],_=E.length,X=null,K=0;K<_;K++){var oe=E[K],Ie=e.squaredDistance(oe);(void 0===O||Ie>O)&&(O=Ie,X=oe)}if(X){var I=fg(X,r,o);t.containsPoint(I)&&(I=fg(I.offset(m.x*r.x,m.y*r.y),r,o)),f.push(I)}}return f},[]);return t.containsPoint(e)||d.push(fg(e,r,o)),d}function tV(e,t,n,r){var o,s,i=r.precision;o=Lf(e instanceof He?wS(this,r).clone():e.clone(),i),s=Lf(t instanceof He?function $G(e,t){return e.targetAnchor?e.targetAnchor:CS(e,t).center()}(this,r).clone():t.clone(),i);var c,u,d,f,a=function QG(e,t,n){return{source:t.clone(),x:bS(n.x-t.x,e),y:bS(n.y-t.y,e)}}(r.step,o,s);if(d=e instanceof He?MS(c=o,e,r.startDirections,a,r):[c=o],t instanceof He?(u=s,f=MS(s,t,r.endDirections,a,r)):f=[u=s],d=d.filter(Ut=>!n(Ut)),f=f.filter(Ut=>!n(Ut)),d.length>0&&f.length>0){for(var g=new Oc,m={},C={},A={},E=0,_=d.length;E<_;E++){var O=d[E],X=Rf(O);g.add(X,DS(O,f)),m[X]=O,A[X]=0}var Ie,I,K=r.previousDirectionAngle,oe=void 0===K,T=r.directions;!function qG(e,t,n){var r=n.step;yn(n.directions).forEach(function(i){i.gridOffsetX=i.offsetX/r*t.x,i.gridOffsetY=i.offsetY/r*t.y})}(0,a,r);for(var x=T.length,k=yn(f).reduce(function(Ut,Ir){var In=Rf(Ir);return Ut.push(In),Ut},[]),Y=r.maximumLoops;!g.isEmpty()&&Y>0;){var de,ie=g.pop(),se=m[ie],Te=C[ie],Be=A[ie],re=void 0===Te,ge=se.equals(c);de=re?oe?ge?null:Qy(c,se,x,a,r):K:Qy(Te,se,x,a,r);var he=d.length===f.length;if(he)for(var Zt=0;Zt<d.length;Zt++)if(!d[Zt].equals(f[Zt])){he=!1;break}if((!re||!he)&&k.indexOf(ie)>=0)return r.previousDirectionAngle=de,eV(C,m,se,c,u);for(E=0;E<x;E++){var yr=(Ie=T[E]).angle;if(I=AS(de,yr),oe&&ge||!(I>r.maxAllowedDirectionChange)){var Er=fg(se.clone().offset(Ie.gridOffsetX,Ie.gridOffsetY),a,i),st=Rf(Er);if(!g.isClose(st)&&!n(Er)){if(k.indexOf(st)>=0&&!Er.equals(u)&&AS(yr,Qy(Er,u,x,a,r))>r.maxAllowedDirectionChange)continue;var kn=Be+Ie.cost+(ge?0:r.penalties[I]);(!g.isOpen(st)||kn<A[st])&&(m[st]=Er,C[st]=se,A[st]=kn,g.add(st,kn+DS(Er,f)))}}}Y--}}return r.fallbackRoute.call(this,c,u,r)}qy.prototype.build=function(e,t){var n=this.options,r=yn(n.excludeEnds).reduce(function(c,u){var d=t.get(u);if(d){var f=e.getCell(d.id);f&&c.push(f)}return c},[]),i=[],o=e.getCell(t.get("source").id);o&&(i=xy(i,o.getAncestors().map(function(c){return c.id})));var s=e.getCell(t.get("target").id);s&&(i=xy(i,s.getAncestors().map(function(c){return c.id})));var a=this.mapGridSize;return e.getElements().reduce(function(c,u){var d=yn(n.excludeTypes).includes(u.get("type")),f=r.find(function(K){return K.id===u.id}),g=i.includes(u.id);if(!(d||f||g))for(var C=u.getBBox().moveAndExpand(n.paddingBox),A=C.origin().snapToGrid(a),E=C.corner().snapToGrid(a),_=A.x;_<=E.x;_+=a)for(var O=A.y;O<=E.y;O+=a){var X=_+"@"+O;c[X]=c[X]||[],c[X].push(C)}return c},this.map),this},qy.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return yn(this.map[t]).every(function(n){return!n.containsPoint(e)})},Oc.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var n=RT(this.items,e,function(r){return this.values[r]}.bind(this));this.items.splice(n,0,e)},Oc.prototype.remove=function(e){this.hash[e]=this.CLOSE},Oc.prototype.isOpen=function(e){return this.hash[e]===this.OPEN},Oc.prototype.isClose=function(e){return this.hash[e]===this.CLOSE},Oc.prototype.isEmpty=function(){return 0===this.items.length},Oc.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};const eI=function(e,t,n){return function rV(e,t,n){(function nV(e){if(e.directions=Gr(e,"directions"),e.penalties=Gr(e,"penalties"),e.paddingBox=Gr(e,"paddingBox"),e.padding=Gr(e,"padding"),e.padding){var t=Ua(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}yn(e.directions).forEach(function(n){var r=new H(0,0),i=new H(n.offsetX,n.offsetY);n.angle=ws(r.theta(i))})})(t),n.options.perpendicular=!!t.perpendicular;var r=IS(n,t),i=CS(n,t),o=wS(n,t);let s;if("function"==typeof t.isPointObstacle)s=t.isPointObstacle;else{const X=new qy(t);X.build(n.paper.model,n.model),s=K=>!X.isPointAccessible(K)}for(var d,f,a=yn(e).map(H),c=[],u=o,g=0,m=a.length;g<=m;g++){var C=null;if(f=d||r,!(d=a[g])&&(d=i,(!n.model.get("source").id||!n.model.get("target").id)&&ur(t.draggingRoute))){var E=f===r?o:f,_=d.origin();C=t.draggingRoute.call(n,E,_,t)}if(null===(C=C||tV.call(n,f,d,s,t)))return t.fallbackRouter(e,t,n);var O=C[0];O&&O.equals(u)&&C.shift(),u=C[C.length-1]||u,Array.prototype.push.apply(c,C)}return c}(e,mt({},yS,t),n)};var iV={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),n=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:n},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:n},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:n},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:n}]},fallbackRoute:function(e,t,n){var r=e.theta(t),i=[],o={x:t.x,y:e.y},s={x:e.x,y:t.y};if(r%180>90){var a=o;o=s,s=a}var c=r%90<45?o:s,u=new $e(e,c),d=90*Math.ceil(r/90),f=H.fromPolar(u.squaredLength(),Do(d+135),c),g=new $e(t,f),m=u.intersection(g),C=m||t,E=360/n.directions.length,_=(m?C:e).theta(t),O=ws(_+E/2),X=E*Math.floor(O/E);return n.previousDirectionAngle=X,C&&i.push(C.round()),i.push(t),i}};const oV=function(e,t,n){if(!ur(eI))throw new Error("Metro requires the manhattan router.");return eI(e,mt({},iV,t),n)},xe={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},ES=[xe.LEFT,xe.RIGHT,xe.TOP,xe.BOTTOM],sl={[xe.LEFT]:xe.RIGHT,[xe.RIGHT]:xe.LEFT,[xe.TOP]:xe.BOTTOM,[xe.BOTTOM]:xe.TOP},sV=[xe.TOP,xe.BOTTOM],dg={0:xe.RIGHT,180:xe.LEFT,270:xe.TOP,90:xe.BOTTOM};function Ff(e){return e.angle()}function hg(e){return new tr(e).simplify({threshold:1}).points}function gg(e,t){const{point:n,x0:r,y0:i,view:o,bbox:s,direction:a}=e,{point:c,x0:u,y0:d,view:f,bbox:g,direction:m}=t;let C,A;if(o)C=o.model.isLink()?TS(c,n,o):a===xe.ANCHOR_SIDE?s.sideNearestToPoint(n):a===xe.MAGNET_SIDE?o.model.getBBox().sideNearestToPoint(n):a;else{const E=new He(r,i,0,0);C=ES.includes(a)?a:E.sideNearestToPoint(c)}if(f)A=f.model.isLink()?TS(n,c,f):m===xe.ANCHOR_SIDE?g.sideNearestToPoint(c):m===xe.MAGNET_SIDE?f.model.getBBox().sideNearestToPoint(c):m;else{const E=new He(u,d,0,0);A=ES.includes(m)?m:E.sideNearestToPoint(n)}return[C,A]}function TS(e,t,n){const r=n.getTangentAtLength(n.getClosestPointLength(t)),i=90*Math.round(Ff(r)/90);if(i%180==0&&e.y===t.y)return e.x<t.x?xe.LEFT:xe.RIGHT;if(e.x===t.x)return e.y<t.y?xe.TOP:xe.BOTTOM;switch(i){case 0:case 180:case 360:return e.y<t.y?xe.TOP:xe.BOTTOM;case 90:case 270:return e.x<t.x?xe.LEFT:xe.RIGHT}}function SS(e,t,n,r,i,o,s){r===xe.AUTO&&(r=i?xe.MAGNET_SIDE:xe.ANCHOR_SIDE);const a=e&&e.model.isElement(),{x:c,y:u,width:d=0,height:f=0}=a?He.fromRectUnion(n,e.model.getBBox()):o;return{point:t,x0:c,y0:u,view:e,bbox:n,width:d,height:f,direction:r,margin:a?s:0}}function tI({x:e,y:t}){const n=new H(e,t);return{point:n,x0:n.x,y0:n.y,view:null,bbox:new He(e,t,0,0),width:0,height:0,direction:null,margin:0}}function NS(e,t,n){const r=t.point.clone(),{x0:i,y0:o,width:s,height:a}=t;switch(e){case"left":r.x=i-n;break;case"right":r.x=i+s+n;break;case"top":r.y=o-n;break;case"bottom":r.y=o+a+n}return r}function Xa(e,t){const{point:n,x0:r,y0:i,view:o,width:s,height:a,margin:c}=e,{point:u,x0:d,y0:f,width:g,height:m,margin:C}=t,A=d+g,E=f+m,_=r+s,O=i+a,X=o&&o.model.isElement(),K=r-c,oe=_+c,Ie=i-c,I=O+c,T=d-C,x=A+C,k=f-C,Y=E+C,[ie,se]=gg(e,t),Te=NS(ie,{point:n,x0:r,y0:i,width:s,height:a},c),Be=NS(se,{point:u,x0:d,y0:f,width:g,height:m},C),{x:re,y:ge}=Te,{x:de,y:he}=Be,xt=(f+E)/2,st=((r+_)/2<(d+A)/2?_+d:A+r)/2,At=((i+O)/2<xt?O+f:E+i)/2;if("left"===ie&&"right"===se){if(K<=x){let we=At;return _<=d&&(E>=Ie&&he<ge?we=Math.min(k,Ie):f<=I&&he>=ge&&(we=Math.max(Y,I))),[{x:re,y:ge},{x:re,y:we},{x:de,y:we},{x:de,y:he}]}const Ee=(re+de)/2;return[{x:Ee,y:ge},{x:Ee,y:he}]}if("right"===ie&&"left"===se){if(oe>=T){let we=At;return re>A&&(E>=Ie&&he<ge?we=Math.min(k,Ie):f<=I&&he>=ge&&(we=Math.max(Y,I))),[{x:re,y:ge},{x:re,y:we},{x:de,y:we},{x:de,y:he}]}const Ee=(re+de)/2;return[{x:Ee,y:ge},{x:Ee,y:he}]}if("top"===ie&&"bottom"===se){if(ge<he){let we=st,ze=ge;return ge<f&&(A>=K&&de<re?we=Math.min(T,K):d<=oe&&de>=re&&(we=Math.max(x,oe))),[{x:re,y:ze},{x:we,y:ze},{x:we,y:he},{x:de,y:he}]}const Ee=(ge+he)/2;return[{x:re,y:Ee},{x:de,y:Ee}]}if("bottom"===ie&&"top"===se){if(ge-c>he){let we=st,ze=ge;return ge>E&&(A>=K&&de<re?we=Math.min(T,K):d<=oe&&de>=re&&(we=Math.max(x,oe))),[{x:re,y:ze},{x:we,y:ze},{x:we,y:he},{x:de,y:he}]}const Ee=(ge+he)/2;return[{x:re,y:Ee},{x:de,y:Ee}]}if("top"===ie&&"top"===se){let Ee,we=Math.min((O+f)/2,he),ze=Math.min((i+E)/2,ge);if(he<ge){if(re>=x||re<=T)return[{x:re,y:Math.min(ge,he)},{x:de,y:Math.min(ge,he)}];Ee=de>re?Math.min(re,T):Math.max(re,x)}else{if(de>=oe||de<=K)return[{x:re,y:Math.min(ge,he)},{x:de,y:Math.min(ge,he)}];Ee=de>=re?Math.max(de,oe):Math.min(de,K)}return[{x:re,y:ze},{x:Ee,y:ze},{x:Ee,y:we},{x:de,y:we}]}if("bottom"===ie&&"bottom"===se){let Ee,we=Math.max((i+E)/2,he),ze=Math.max((O+f)/2,ge);if(he>ge){if(re>=x||re<=T)return[{x:re,y:Math.max(ge,he)},{x:de,y:Math.max(ge,he)}];Ee=de>re?Math.min(re,T):Math.max(re,x)}else{if(de>=oe||de<=K)return[{x:re,y:Math.max(ge,he)},{x:de,y:Math.max(ge,he)}];Ee=de>=re?Math.max(de,oe):Math.min(de,K)}return[{x:re,y:ze},{x:Ee,y:ze},{x:Ee,y:we},{x:de,y:we}]}if("left"===ie&&"left"===se){let Ee,we=Math.min((_+d)/2,de),ze=Math.min((r+A)/2,re);return Ee=de>re?he<=ge?Math.min(Ie,he):Math.max(I,he):he>=ge?Math.min(k,ge):Math.max(Y,ge),[{x:ze,y:ge},{x:ze,y:Ee},{x:we,y:Ee},{x:we,y:he}]}if("right"===ie&&"right"===se){let Ee,we=Math.max((r+A)/2,de),ze=Math.max((_+d)/2,re);return Ee=de<re?he<=ge?Math.min(Ie,he):Math.max(I,he):he>=ge?Math.min(k,ge):Math.max(Y,ge),[{x:ze,y:ge},{x:ze,y:Ee},{x:we,y:Ee},{x:we,y:he}]}if("top"===ie&&"right"===se){if(ge>he){if(re<de){let we=At;return(we>xt||!X)&&we<Y&&re<d&&(we=k),[{x:re,y:we},{x:de,y:we},{x:de,y:he}]}return[{x:re,y:he}]}const Ee=Math.max(st,x);if(de<re&&he>i&&he<O)return[{x:re,y:ge},{x:Ee,y:ge},{x:Ee,y:he}];if(Ee>K&&he>i||d>_){const we=Math.min(i-c,f-C),ze=Math.max(_+c,A+C);return[{x:re,y:we},{x:ze,y:we},{x:ze,y:he}]}return[{x:re,y:ge},{x:Math.max(Ee,de),y:ge},{x:Math.max(Ee,de),y:he}]}if("top"===ie&&"left"===se){if(ge>he){if(re>de){let we=At;return(we>xt||!X)&&we<Y&&re>A&&(we=k),[{x:re,y:we},{x:de,y:we},{x:de,y:he}]}return[{x:re,y:he}]}const Ee=Math.min(T,st);if(re<de&&O>=he)return[{x:re,y:ge},{x:Ee,y:ge},{x:Ee,y:he}];if(Ee<oe&&ge<E){const we=Math.min(Ie,k),ze=Math.min(K,T);return[{x:re,y:we},{x:ze,y:we},{x:ze,y:he}]}return[{x:re,y:ge},{x:Ee,y:ge},{x:Ee,y:he}]}if("bottom"===ie&&"right"===se){if(ge<he){if(re<de){let we=At;return(we<xt||!X)&&we>k&&re<d&&(we=Y),[{x:re,y:we},{x:de,y:we},{x:de,y:he}]}return[{x:re,y:he}]}if(r<de){const we=Math.max(I,Y),ze=Math.max(oe,x);return[{x:re,y:we},{x:ze,y:we},{x:ze,y:he}]}return[{x:re,y:ge},{x:st,y:ge},{x:st,y:he}]}if("bottom"===ie&&"left"===se){if(ge<he){if(re>de){let we=At;return(we<xt||!X)&&we>k&&re>A&&(we=Y),[{x:re,y:we},{x:de,y:we},{x:de,y:he}]}return[{x:re,y:he}]}if(_>de){const we=Math.max(I,Y),ze=Math.min(K,T);return[{x:re,y:we},{x:ze,y:we},{x:ze,y:he}]}return[{x:re,y:ge},{x:st,y:ge},{x:st,y:he}]}if("left"===ie&&"bottom"===se){if(re>=de&&ge>=Y)return[{x:de,y:ge}];if(re>=A&&ge<he)return[{x:st,y:ge},{x:st,y:he},{x:de,y:he}];if(de<_&&E<=i)return[{x:re,y:ge},{x:re,y:At},{x:de,y:At}];const Ee=Math.min(T,re),we=Math.max(I,Y);return[{x:Ee,y:ge},{x:Ee,y:we},{x:de,y:we}]}if("left"===ie&&"top"===se){if(re>de&&ge<k)return[{x:de,y:ge}];if(re>=A&&ge>he)return[{x:st,y:ge},{x:st,y:he},{x:de,y:he}];if(de<=_&&he>ge)return[{x:re,y:ge},{x:re,y:At},{x:de,y:At}];const Ee=he<ge?Math.min(K,T):K,we=Math.min(Ie,k);return[{x:Ee,y:ge},{x:Ee,y:we},{x:de,y:we}]}if("right"===ie&&"top"===se){if(re<=de&&ge<k)return[{x:de,y:ge}];if(_<d&&ge>he)return[{x:st,y:ge},{x:st,y:he},{x:de,y:he}];if(de<re&&f>O)return[{x:re,y:ge},{x:re,y:At},{x:de,y:At}];const Ee=Math.max(oe,x),we=Math.min(Ie,k);return[{x:Ee,y:ge},{x:Ee,y:we},{x:de,y:we}]}if("right"===ie&&"bottom"===se){if(re<=de&&ge>=Y)return[{x:de,y:ge}];if(re<=T&&ge<he)return[{x:st,y:ge},{x:st,y:he},{x:de,y:he}];if(de>r&&E<i)return[{x:re,y:ge},{x:re,y:At},{x:de,y:At}];const Ee=Math.max(x,re),we=Math.max(I,Y);return[{x:Ee,y:ge},{x:Ee,y:we},{x:de,y:we}]}}function xS(e,t,n){const{sourceDirection:r=xe.AUTO,targetDirection:i=xe.AUTO}=t,o=t.margin||20,s=t.useVertices||!1,a=!!n.model.source().port,c=SS(n.sourceView,n.sourceAnchor,n.sourceBBox,r,a,n.sourceAnchor,o),u=!!n.model.target().port,d=SS(n.targetView,n.targetAnchor,n.targetBBox,i,u,n.targetAnchor,o);let f=[];if(!s||0===e.length)return hg(Xa(c,d));const g=e.map(A=>tI(A)),[m]=g;if(c.view&&c.view.model.isElement()&&c.view.model.getBBox().inflate(o).containsPoint(m.point)){const[A]=gg(c,m),E=A,_=tI(c.point);_.margin=o,_.direction=A,m.direction=E,f.push(...Xa(_,m),m.point)}else{const E=function fV(e,t,n){const[r]=gg(e,t);switch(r){case xe.TOP:return function aV(e,t,n){const{x0:r,y0:i,width:o,height:s,point:a,margin:c}=e,d=i+s,f=r-c,g=r+o+c,m=i-c,{x:C}=a,{x0:A,y0:E}=t;return A===C&&E<i?xe.BOTTOM:A<C&&E<m?xe.RIGHT:A>C&&E<m?xe.LEFT:A<f&&E>=i||A>g&&E>=i?xe.TOP:A>=f&&A<=C&&E>d||A<=g&&A>=C&&E>d?n.point.x<A?xe.RIGHT:xe.LEFT:xe.TOP}(e,t,n);case xe.RIGHT:return function lV(e,t,n){const{y0:r,x0:i,width:o,height:s,point:a,margin:c}=e,u=i+o,f=u+c,g=r-c,m=r+s+c,{x:C,y:A}=a,{x0:E,y0:_}=t;return E>C&&_===A?xe.LEFT:E>=f&&_<A?xe.BOTTOM:E>=f&&_>A?xe.TOP:E<=u&&_<=g||E<=u&&_>=m?xe.RIGHT:E<i&&_>=g&&_<=A||E<i&&_<=m&&_>=A?n.point.y<_?xe.BOTTOM:xe.TOP:xe.RIGHT}(e,t,n);case xe.BOTTOM:return function cV(e,t,n){const{x0:r,y0:i,width:o,height:s,point:a,margin:c}=e,d=i+s,f=r-c,g=r+o+c,m=d+c,{x:C}=a,{x0:A,y0:E}=t;return A===C&&E>d?xe.TOP:A<C&&E>m?xe.RIGHT:A>C&&E>m?xe.LEFT:A<f&&E<=d||A>g&&E<=d?xe.BOTTOM:A>=f&&A<=C&&E<i||A<=g&&A>=C&&E<i?n.point.x<A?xe.RIGHT:xe.LEFT:xe.BOTTOM}(e,t,n);case xe.LEFT:return function uV(e,t,n){const{y0:r,x0:i,width:o,height:s,point:a,margin:c}=e,u=i+o,f=i-c,g=r-c,m=r+s+c,{x:C,y:A}=a,{x0:E,y0:_}=t;return E<C&&_===A?xe.RIGHT:E<=f&&_<A?xe.BOTTOM:E<=f&&_>A?xe.TOP:E>=i&&_<=g||E>=i&&_>=m?xe.LEFT:E>u&&_>=g&&_<=A||E>u&&_<=m&&_>=A?n.point.y<_?xe.BOTTOM:xe.TOP:xe.LEFT}(e,t,n)}}(c,m,g[1]||d);m.direction=E,f.push(...Xa(c,m),m.point)}for(let A=0;A<g.length-1;A++){const E=g[A],_=g[A+1],X=Ff(new $e(E.point,_.point));if(X%90==0){const Ie=dg[X],I=sl[Ie];if(Ie!==E.direction)f.push(E.point,_.point),_.direction=I;else{const T=ws(X-90);let x=0,k=0;90===T?k=-o:180===T?x=-o:270===T?k=o:0===T&&(x=o);const Y={x:E.point.x+x,y:E.point.y+k},ie={x:_.point.x+x,y:_.point.y+k},se=new $e(_.point,ie);_.direction=dg[Ff(se)],f.push(E.point,Y,ie,_.point)}continue}const[K,oe]=nI(E,_);E.direction=K,_.direction=oe,f.push(...Xa(E,_),_.point)}const C=g[g.length-1];if(d.view&&d.view.model.isElement())if(d.view.model.getBBox().inflate(o).containsPoint(C.point)){const[A]=nI(C,d),E=tI(d.point),[,_]=gg(C,d);E.margin=o,E.direction=_,C.direction=A,f.push(...Xa(C,E))}else{const A=hg(f),E=new $e(A[A.length-2],C.point),_=dg[Math.round(Ff(E))];C.direction=_;let O=Xa(C,d);const[X,K]=hg([...O,d.point]),oe=new $e(X,K),Ie=Math.round(Ff(oe)),I=dg[Ie];I!==_&&_===sl[I]&&(C.margin=o,O=Xa(C,d)),f.push(...O)}else{const[A]=nI(C,d);C.direction=A,f.push(...Xa(C,d))}return hg(f)}function nI(e,t){const n=e.direction,r=sV.includes(n);let i=e.direction,o=t.direction;if(r){const s=e.point.y>t.point.y,a=t.point.x-e.point.x;n===xe.BOTTOM?(i=s?sl[n]:a>=0?xe.RIGHT:xe.LEFT,a>0?o=s?xe.LEFT:xe.TOP:a<0&&(o=s?xe.RIGHT:xe.TOP)):(i=s?a>=0?xe.RIGHT:xe.LEFT:sl[n],a>0?o=s?xe.BOTTOM:xe.LEFT:a<0&&(o=s?xe.BOTTOM:xe.RIGHT))}else{const s=e.point.x>t.point.x,a=t.point.y-e.point.y;n===xe.RIGHT?(i=s?sl[n]:a>=0?xe.BOTTOM:xe.TOP,a>0?o=s?xe.TOP:xe.LEFT:a<0&&(o=s?xe.BOTTOM:xe.LEFT)):(i=s?a>=0?xe.BOTTOM:xe.TOP:sl[n],a>0?o=s?xe.RIGHT:xe.TOP:a<0&&(o=s?xe.RIGHT:xe.BOTTOM))}return[i,o]}xS.Directions=xe;const dV=xS,al={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},hV=Object.values(al),gV=10,pV=1,rI=function(e,t,n=[],r={}){const{cornerType:i=al.POINT,cornerRadius:o=gV,cornerPreserveAspectRatio:s=!1,precision:a=pV,raw:c=!1}=r;if(-1===hV.indexOf(i))throw new Error("Invalid `cornerType` provided to `straight` connector.");let u;if(i!==al.POINT&&o){let d;u=new lt,u.appendSegment(lt.createSegment("M",e));const f=n.length;for(let g=0;g<f;g++){const m=new H(n[g]),C=n[g-1]||e,A=n[g+1]||t,E=d||m.distance(C)/2;let _,O;d=m.distance(A)/2,s?_=O=-Math.min(o,E,d):(_=-Math.min(o,E),O=-Math.min(o,d));const X=m.clone().move(C,_).round(a),K=m.clone().move(A,O).round(a);switch(u.appendSegment(lt.createSegment("L",X)),i){case al.CUBIC:{const oe=.3333333333333333,Ie=2/3,I=new H(oe*X.x+Ie*m.x,Ie*m.y+oe*X.y),T=new H(oe*K.x+Ie*m.x,Ie*m.y+oe*K.y);u.appendSegment(lt.createSegment("C",I,T,K));break}case al.LINE:u.appendSegment(lt.createSegment("L",K));break;case al.GAP:u.appendSegment(lt.createSegment("M",K))}}u.appendSegment(lt.createSegment("L",t))}else{const d=[e].concat(n).concat([t]),f=new tr(d);u=new lt(f)}return c?u:u.serialize()};var _S=["arc","gap","cubic"],yV=["smooth"],pg=1/3,mg=2/3;function OS(e,t){let{x:n,y:r}=e,{x:i,y:o}=t;if(n>i){let s=n;n=i,i=s,s=r,r=o,o=s}if(r>o){let s=n;n=i,i=s,s=r,r=o,o=s}return[new H(n,r),new H(i,o)]}function iI(e,t,n){var r=[].concat(e,n,t);return r.reduce(function(i,o,s){var a=r[s+1];return null!=a&&(i[s]=Dc(o,a)),i},[])}function kS(e,t){return Dc(e,t).squaredLength()}function LS(e,t,n,r){var o,i=new lt;return o=lt.createSegment("M",e[0].start),i.appendSegment(o),yn(e).forEach(function(s,a){if(s.isJump){var c,u,d,f;if("arc"===n){c=-90;var g=+((u=s.start.difference(s.end)).x<0||0===u.x&&u.y<0);g&&(c+=180);var A,m=s.midpoint(),C=new $e(m,s.end).rotate(m,c);d=(A=new $e(s.start,m)).pointAt(2/3).rotate(s.start,c),f=C.pointAt(1/3).rotate(C.end,-c),o=lt.createSegment("C",d,f,C.end),i.appendSegment(o),A=new $e(m,s.end),d=C.pointAt(1/3).rotate(C.end,c),f=A.pointAt(1/3).rotate(s.end,-c),o=lt.createSegment("C",d,f,s.end),i.appendSegment(o)}else if("gap"===n)o=lt.createSegment("M",s.end),i.appendSegment(o);else if("cubic"===n){c=s.start.theta(s.end);var E=.6*t,_=1.35*t;(g=+((u=s.start.difference(s.end)).x<0||0===u.x&&u.y<0))&&(_*=-1),d=H(s.start.x+E,s.start.y+_).rotate(s.start,c),f=H(s.end.x-E,s.end.y+_).rotate(s.end,c),o=lt.createSegment("C",d,f,s.end),i.appendSegment(o)}}else{var O=e[a+1];0==r||!O||O.isJump?(o=lt.createSegment("L",s.end),i.appendSegment(o)):function DV(e,t,n,r,i){var m,o=n.distance(r)/2,s=n.distance(i)/2,a=-Math.min(e,o),c=-Math.min(e,s),u=n.clone().move(r,a).round(),d=n.clone().move(i,c).round(),f=new H(pg*u.x+mg*n.x,mg*n.y+pg*u.y),g=new H(pg*d.x+mg*n.x,mg*n.y+pg*d.y);m=lt.createSegment("L",u),t.appendSegment(m),m=lt.createSegment("C",f,g,d),t.appendSegment(m)}(r,i,s.end,s.start,O.end)}}),i}const MV=function(e,t,n,r){!function CV(e){var t=e.paper,n=t._jumpOverUpdateList;if(null==n){n=t._jumpOverUpdateList=[];var r=t.model;r.on("batch:stop",function(){this.hasActiveBatch()||function wV(e){for(var t=e._jumpOverUpdateList,n=0;n<t.length;n++){const r=t[n],i=r.getFlag(r.constructor.Flags.CONNECTOR);r.requestUpdate(i)}}(t)}),r.on("reset",function(){n=t._jumpOverUpdateList=[]})}n.indexOf(e)<0&&(n.push(e),e.listenToOnce(e.model,"change:connector remove",function(){n.splice(n.indexOf(e),1)}))}(this);var i=r.raw,o=r.size||5,s=r.jump&&(""+r.jump).toLowerCase(),a=r.radius||0,c=r.ignoreConnectors||yV;-1===_S.indexOf(s)&&(s=_S[0]);var u=this.paper,f=u.model.getLinks();if(1===f.length)return LS(iI(e,t,n),o,s,a);var g=this.model,m=f.indexOf(g),C=u.options.defaultConnector||{},A=f.filter(function(oe,Ie){var I=oe.get("connector")||C;return!(yn(c).includes(I.name)||Ie>m&&"jumpover"===I.name)}),E=A.map(function(oe){return u.findViewByModel(oe)}),_=iI(e,t,n),O=E.map(function(oe){return null==oe?[]:oe===this?_:iI(oe.sourcePoint,oe.targetPoint,oe.route)},this),X=_.reduce(function(oe,Ie){var I=A.reduce(function(T,x,k){if(x!==g){const Y=O[k].slice(),ie=Y.findIndex(Te=>function IV(e,t){const[{x:n,y:r},{x:i,y:o}]=OS(e.start,e.end),[{x:s,y:a},{x:c,y:u}]=OS(t.start,t.end);return n<=c&&s<=i&&r<=u&&a<=o}(Ie,Te));ie>-1&&Ie.containsPoint(Y[ie].end)&&Y.splice(ie+1,1);const se=function AV(e,t){return yn(t).reduce(function(n,r){var i=e.intersection(r);return i&&n.push(i),n},[])}(Ie,Y);T.push.apply(T,se)}return T},[]).sort(function(T,x){return kS(Ie.start,T)-kS(Ie.start,x)});return I.length>0?oe.push.apply(oe,function bV(e,t,n){return t.reduce(function(r,i,o){if(!0===i.skip)return r;var s=r.pop()||e,a=kh(i).move(s.start,-n),c=kh(i).move(s.start,+n),u=t[o+1];if(null!=u){var d=c.distance(u);d<=n&&(c=u.move(s.start,d),u.skip=!0)}else if(a.distance(s.end)<2*n+1)return r.push(s),r;if(c.distance(s.start)<2*n+1)return r.push(s),r;var m=Dc(a,c);return m.isJump=!0,r.push(Dc(s.start,a),m,Dc(c,s.end)),r},[])}(Ie,I,o)):oe.push(Ie),oe},[]),K=LS(X,o,s,a);return i?K:K.serialize()},EV=function(e,t,n=[],r={}){const{raw:i}=r;return rI(e,t,n,{cornerType:"point",raw:i})},TV=10,NV=function(e,t,n=[],r={}){const{radius:i=TV,raw:o}=r;return rI(e,t,n,{cornerType:"cubic",cornerRadius:i,precision:0,raw:o})},xV=function(e,t,n,r){var o,i=r&&r.raw;if(n&&0!==n.length){var s=[e].concat(n).concat([t]),a=Pn.throughPoints(s);o=new lt(a)}else{var c;if(o=new lt,c=lt.createSegment("M",e),o.appendSegment(c),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var u=(e.x+t.x)/2;c=lt.createSegment("C",u,e.y,u,t.y,t.x,t.y),o.appendSegment(c)}else{var d=(e.y+t.y)/2;c=lt.createSegment("C",e.x,d,t.x,d,t.x,t.y),o.appendSegment(c)}}return i?o:o.serialize()},cs={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},po={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},oI=function(e,t,n=[],r={},i){const o=!!r.raw,{direction:s=cs.AUTO,precision:a=3}=r,c={coeff:r.distanceCoefficient||.6,angleTangentCoefficient:r.angleTangentCoefficient||80,tau:r.tension||.5,sourceTangent:r.sourceTangent?new H(r.sourceTangent):null,targetTangent:r.targetTangent?new H(r.targetTangent):null,rotate:!!r.rotate};c.sourceDirection="string"==typeof r.sourceDirection?r.sourceDirection:"number"==typeof r.sourceDirection?new H(1,0).rotate(null,r.sourceDirection):r.sourceDirection?new H(r.sourceDirection).normalize():null,c.targetDirection="string"==typeof r.targetDirection?r.targetDirection:"number"==typeof r.targetDirection?new H(1,0).rotate(null,r.targetDirection):r.targetDirection?new H(r.targetDirection).normalize():null;const u=[e,...n,t].map(A=>new H(A));let d,f;if(c.sourceTangent)d=c.sourceTangent;else{const A=function LV(e,t,n,r){if(r.sourceDirection)switch(r.sourceDirection){case po.UP:return new H(0,-1);case po.DOWN:return new H(0,1);case po.LEFT:return new H(-1,0);case po.RIGHT:return new H(1,0);case po.AUTO:return RS(e,t,r);case po.CLOSEST_POINT:return jS(0,t);case po.OUTWARDS:return zS(e,t);default:return r.sourceDirection}switch(n){case cs.HORIZONTAL:return function _V(e,t,n){const{sourceBBox:r}=e;let i,o,s;if(e.sourceView)if(o=e.sourceView.model.angle(),n.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),c=t[0].clone();c.rotate(r.center(),o),i=a.sideNearestToPoint(c)}else i=r.sideNearestToPoint(t[0]);else i=r.x>t[1].x?"right":"left";return s=new H("left"===i?-1:1,0),n.rotate&&o&&s.rotate(null,-o),s}(e,t,r);case cs.VERTICAL:return function OV(e,t,n){const{sourceBBox:r}=e;let i,o,s;if(e.sourceView)if(o=e.sourceView.model.angle(),n.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),c=t[0].clone();c.rotate(r.center(),o),i=a.sideNearestToPoint(c)}else i=r.sideNearestToPoint(t[0]);else i=r.y>t[1].y?"bottom":"top";return s=new H(0,"top"===i?-1:1),n.rotate&&o&&s.rotate(null,-o),s}(e,t,r);case cs.CLOSEST_POINT:return jS(0,t);case cs.OUTWARDS:return zS(e,t);default:return RS(e,t,r)}}(i,u,s,c),E=u[0].distance(u[1])*c.coeff,O=sI(A,u[1].difference(u[0]).normalize());if(O>Math.PI/4){const X=E+(O-Math.PI/4)*c.angleTangentCoefficient;d=A.clone().scale(X,X)}else d=A.clone().scale(E,E)}if(c.targetTangent)f=c.targetTangent;else{const A=function RV(e,t,n,r){if(r.targetDirection)switch(r.targetDirection){case po.UP:return new H(0,-1);case po.DOWN:return new H(0,1);case po.LEFT:return new H(-1,0);case po.RIGHT:return new H(1,0);case po.AUTO:return FS(e,t,r);case po.CLOSEST_POINT:return BS(0,t);case po.OUTWARDS:return GS(e,t);default:return r.targetDirection}switch(n){case cs.HORIZONTAL:return function PV(e,t,n){const{targetBBox:r}=e;let i,o,s;if(e.targetView)if(o=e.targetView.model.angle(),n.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),c=t[t.length-1].clone();c.rotate(r.center(),o),i=a.sideNearestToPoint(c)}else i=r.sideNearestToPoint(t[t.length-1]);else i=r.x>t[t.length-2].x?"left":"right";return s=new H("left"===i?-1:1,0),n.rotate&&o&&s.rotate(null,-o),s}(e,t,r);case cs.VERTICAL:return function kV(e,t,n){const{targetBBox:r}=e;let i,o,s;if(e.targetView)if(o=e.targetView.model.angle(),n.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),c=t[t.length-1].clone();c.rotate(r.center(),o),i=a.sideNearestToPoint(c)}else i=r.sideNearestToPoint(t[t.length-1]);else i=r.y>t[t.length-2].y?"top":"bottom";return s=new H(0,"top"===i?-1:1),n.rotate&&o&&s.rotate(null,-o),s}(e,t,r);case cs.CLOSEST_POINT:return BS(0,t);case cs.OUTWARDS:return GS(e,t);default:return FS(e,t,r)}}(i,u,s,c),E=u.length-1,_=u[E-1].distance(u[E])*c.coeff,X=sI(A,u[E-1].difference(u[E]).normalize());if(X>Math.PI/4){const K=_+(X-Math.PI/4)*c.angleTangentCoefficient;f=A.clone().scale(K,K)}else f=A.clone().scale(_,_)}const m=function jV(e,t,n,r){const{tau:i,coeff:o}=r,s=[],a=[],c=[],u=e.length-1;for(let d=0;d<u;d++)s[d]=e[d].distance(e[d+1]);a[0]=t,a[u]=n;for(let d=1;d<u;d++){let f,g;f=1===d?e[d-1].clone().offset(a[d-1].x,a[d-1].y):e[d-1].clone(),g=d===u-1?e[d+1].clone().offset(a[d+1].x,a[d+1].y):e[d+1].clone();const m=f.difference(e[d]).normalize(),C=g.difference(e[d]).normalize(),A=sI(m,C);let _,E=(Math.PI-A)/2;const O=VS(m,C);let X;X=VS(e[d].difference(e[d+1]),e[d].difference(e[d-1])),O<0&&(E=-E),A<Math.PI/2&&(E<0&&X<0||E>0&&X>0)&&(E-=Math.PI),_=C.clone(),FV(_,E);const K=_.clone(),oe=_.clone(),Ie=s[d-1]*o,I=s[d]*o;K.scale(Ie,Ie),oe.scale(I,I),a[d]=[K,oe]}for(let d=0;d<u;d++){let f,g;f=0===d?e[d+1].difference(a[d].x/i,a[d].y/i):e[d+1].difference(a[d][1].x/i,a[d][1].y/i),g=d===u-1?e[d].clone().offset(a[d+1].x/i,a[d+1].y/i):e[d].difference(a[d+1][0].x/i,a[d+1][0].y/i),c[d]=[f,e[d],e[d+1],g]}return c}(u,d,f,c).map(A=>function BV(e,t){const{tau:n}=t,r=new H;r.x=e[1].x+(e[2].x-e[0].x)/(6*n),r.y=e[1].y+(e[2].y-e[0].y)/(6*n);const i=new H;return i.x=e[2].x+(e[3].x-e[1].x)/(6*n),i.y=e[2].y+(e[3].y-e[1].y)/(6*n),new Pn(e[1],r,i,e[2])}(A,c)),C=new lt(m).round(a);return o?C:C.serialize()};function RS(e,t,n){const{sourceBBox:r}=e;let i,o,s;if(e.sourceView)if(o=e.sourceView.model.angle(),n.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),c=t[0].clone();c.rotate(r.center(),o),i=a.sideNearestToPoint(c)}else i=r.sideNearestToPoint(t[0]);else i=r.sideNearestToPoint(t[1]);switch(i){case"top":s=new H(0,-1);break;case"bottom":s=new H(0,1);break;case"right":s=new H(1,0);break;case"left":s=new H(-1,0)}return n.rotate&&o&&s.rotate(null,-o),s}function FS(e,t,n){const{targetBBox:r}=e;let i,o,s;if(e.targetView)if(o=e.targetView.model.angle(),n.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),c=t[t.length-1].clone();c.rotate(r.center(),o),i=a.sideNearestToPoint(c)}else i=r.sideNearestToPoint(t[t.length-1]);else i=r.sideNearestToPoint(t[t.length-2]);switch(i){case"top":s=new H(0,-1);break;case"bottom":s=new H(0,1);break;case"right":s=new H(1,0);break;case"left":s=new H(-1,0)}return n.rotate&&o&&s.rotate(null,-o),s}function jS(e,t,n){return t[1].difference(t[0]).normalize()}function BS(e,t,n){const r=t.length-1;return t[r-1].difference(t[r]).normalize()}function zS(e,t,n){const{sourceBBox:r}=e,i=r.center();return t[0].difference(i).normalize()}function GS(e,t,n){const{targetBBox:r}=e,i=r.center();return t[t.length-1].difference(i).normalize()}function FV(e,t){const n=Math.cos(t),r=Math.sin(t),o=r*e.x+n*e.y;e.x=n*e.x-r*e.y,e.y=o}function sI(e,t){let n=e.dot(t)/(e.magnitude()*t.magnitude());return n<-1&&(n=-1),n>1&&(n=1),Math.acos(n)}function VS(e,t){return e.x*t.y-e.y*t.x}oI.Directions=cs,oI.TangentDirections=po;const zt={TOOLS:hn.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},jf=hn.extend({className:function(){var e=hn.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){hn.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[zt.RENDER],attrs:[zt.UPDATE],router:[zt.UPDATE],connector:[zt.CONNECTOR],smooth:[zt.UPDATE],manhattan:[zt.UPDATE],toolMarkup:[zt.LEGACY_TOOLS],labels:[zt.LABELS],labelMarkup:[zt.LABELS],vertices:[zt.VERTICES,zt.UPDATE],vertexMarkup:[zt.VERTICES],source:[zt.SOURCE,zt.UPDATE],target:[zt.TARGET,zt.UPDATE]},initFlag:[zt.RENDER,zt.SOURCE,zt.TARGET,zt.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,zt.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,zt.SOURCE)}if(this.hasFlag(e,zt.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,zt.TARGET)}const{paper:n,sourceView:r,targetView:i}=this;if(n&&(r&&!n.isViewMounted(r)||i&&!n.isViewMounted(i)))return e;if(this.hasFlag(e,zt.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),this.removeFlag(e,[zt.RENDER,zt.UPDATE,zt.VERTICES,zt.LABELS,zt.TOOLS,zt.LEGACY_TOOLS,zt.CONNECTOR]);let o=!1;this.hasFlag(e,zt.VERTICES)&&(this.renderVertexMarkers(),e=this.removeFlag(e,zt.VERTICES));const{model:s}=this,{attributes:a}=s;let c=this.hasFlag(e,zt.LABELS),u=this.hasFlag(e,zt.LEGACY_TOOLS);c&&(this.onLabelsChange(s,a.labels,t),e=this.removeFlag(e,zt.LABELS),o=!0),u&&(this.renderTools(),e=this.removeFlag(e,zt.LEGACY_TOOLS));const d=this.hasFlag(e,zt.UPDATE),f=this.hasFlag(e,zt.CONNECTOR);return(d||f)&&(d?t.translateBy&&s.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[zt.UPDATE,zt.TOOLS,zt.CONNECTOR]),c=!1,u=!1,o=!0),c&&this.updateLabelPositions(),u&&this.updateToolsPosition(),o&&this.updateHighlighters(),this.hasFlag(e,zt.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,zt.TOOLS)),e},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(zt.UPDATE),e)},isLabelsRenderRequired:function(e={}){const t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var n=e.propertyPathArray||[],r=n.length;if(r>1&&t[n[1]]){if(2===r)return"markup"in Object(e.propertyValue);if("markup"!==n[2])return!1}}return!0},onLabelsChange:function(e,t,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if("string"==typeof t)return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=ye(e);Array.isArray(t)||(t=[t]);for(var n=this._V,r=0,i=t.length;r<i;r++){var o=t[r],s=o.attr("class");s&&(s=gz(s),n[Cn.camelCase(s)]=o)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if("string"==typeof e)return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=ye(e),n=document.createDocumentFragment();if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++)n.appendChild(t[r].node);else n.appendChild(t.node);return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t=e.fragment;if(!(e.fragment instanceof DocumentFragment&&e.fragment.hasChildNodes()))throw new Error("dia.LinkView: invalid label markup.");var n,r=t.childNodes;return(n=r.length>1||"G"!==r[0].nodeName.toUpperCase()?ye("g").append(t):ye(r[0])).addClass("label"),{node:n.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,n=this._labelCache={},r=this._labelSelectors={},i=this.model,o=i.attributes.labels||[],s=o.length;if(0===s)return t&&t.remove(),this;t?t.empty():(t=e.labels=ye("g").addClass("labels"),this.options.labelsLayer&&(t.addClass(As(Gr(this,"className"))),t.attr("model-id",i.id)));for(var a=0;a<s;a++){var d,f,u=this._normalizeLabelMarkup(this._getLabelMarkup(o[a].markup));if(u)d=u.node,f=u.selectors;else{var m=this._normalizeLabelMarkup(this._getLabelMarkup(i._builtins.defaultLabel.markup)),C=i._getDefaultLabel(),E=this._normalizeLabelMarkup(this._getLabelMarkup(C.markup))||m;d=E.node,f=E.selectors}d.setAttribute("label-idx",a),t.append(d),n[a]=d;var _=this.selector;if(f[_])throw new Error("dia.LinkView: ambiguous label root selector.");f[_]=d,r[a]=f}return t.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:e,paper:t,model:n,_V:r,options:i}=this,{labels:o}=r;if(!o||!n.hasLabels())return;const{node:s}=o;i.labelsLayer?t.getLayerView(i.labelsLayer).insertSortedNode(s,n.get("z")):s.parentNode!==e&&e.appendChild(s)},unmountLabels:function(){const{options:e,_V:t}=this;if(!t)return;const{labels:n}=t;n&&e.labelsLayer&&n.remove()},findLabelNode:function(e,t){const n=this._labelCache[e];if(!n)return null;const r=this._labelSelectors[e],[i=null]=this.findBySelector(t,n,r);return i},_mergeLabelAttrs:function(e,t,n,r){return null===t?null:void 0===t?null===n?null:void 0===n?e?void 0:r:e?n:Xr({},r,n):e?Xr({},n,t):Xr({},r,n,t)},_mergeLabelSize:function(e,t){return null===e?null:void 0===e?null===t?null:void 0===t?void 0:t:Xr({},t,e)},updateLabels:function(){if(!this._V.labels)return this;for(var e=this.model,t=e.get("labels")||[],n=this.can("labelMove"),i=e._builtins.defaultLabel.attrs,o=e._getDefaultLabel(),s=o.markup,a=o.attrs,c=o.size,u=0,d=t.length;u<d;u++){var f=this._labelCache[u];f.setAttribute("cursor",n?"move":"default");var g=this._labelSelectors[u],m=t[u],E=m.size,_=this._mergeLabelAttrs(m.markup||s,m.attrs,a,i),O=this._mergeLabelSize(E,c);this.updateDOMSubtreeAttributes(f,_,{rootBBox:new He(O),selectors:g})}return this},renderTools:function(){if(!this._V.linkTools)return this;var r,e=Cn(this._V.linkTools.node).empty(),t=ho(this.model.get("toolMarkup")||this.model.toolMarkup),n=ye(t());return e.append(n.node),this._toolCache=n,this.options.doubleLinkTools&&(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(t=ho(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),r=ye(t())):r=n.clone(),e.append(r.node),this._tool2Cache=r),this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var e=Cn(this._V.markerVertices.node).empty(),t=ho(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(n,r){e.append(ye(t(mt({idx:r},n))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var e=Cn(this._V.markerArrowheads.node);e.empty();var t=ho(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=ye(t({end:"source"})),this._V.targetArrowhead=ye(t({end:"target"})),e.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(e){const n=this.model,r=n.vertices(),i=[this.sourceAnchor,...r,this.targetAnchor],o=i.length,s=new tr(i);s.simplify({threshold:.001});const a=s.points.map(u=>u.toJSON()),c=a.length;return o===c?0:(n.vertices(a.slice(1,c-1),e),o-c)},updateDefaultConnectionPath:function(){var e=this._V;e.connection&&e.connection.attr("d",this.getSerializedConnection()),e.connectionWrap&&e.connectionWrap.attr("d",this.getSerializedConnection()),e.markerSource&&e.markerTarget&&this._translateAndAutoOrientArrows(e.markerSource,e.markerTarget)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new H(this.sourceAnchor);case"target":return new H(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new H(this.sourcePoint);case"target":return new H(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(e=0,t=0){const{route:n,path:r}=this;if(!n||!r)return;const i=new tr(n);i.translate(e,t),this.route=i.points,this._translateConnectionPoints(e,t),r.translate(e,t),this.updateDOM()},updateDOM(){const{el:e,model:t,selectors:n}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(e,t.attr(),{selectors:n}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:e}=this,t=e.vertices(),n=this.findAnchors(t),r=this.sourceAnchor=n.source,i=this.targetAnchor=n.target,o=this.findRoute(t);this.route=o;var s=this.findConnectionPoints(o,r,i);this.sourcePoint=s.source,this.targetPoint=s.target},updatePath:function(){const{route:e,sourcePoint:t,targetPoint:n}=this,r=this.findMarkerPoints(e,t,n),i=this.findPath(e,r.source||t,r.target||n);this.path=i},findMarkerPoints:function(e,t,n){var s,a,r=e[0],i=e[e.length-1],o=this._markerCache;return this._V.markerSource&&(o.sourceBBox=o.sourceBBox||this._V.markerSource.getBBox(),s=H(t).move(r||n,o.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(o.targetBBox=o.targetBBox||this._V.markerTarget.getBBox(),a=H(n).move(i||t,o.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),o.sourcePoint=s||t.clone(),o.targetPoint=a||n.clone(),{source:s,target:a}},findAnchorsOrdered:function(e,t,n,r){var i,o,s,a,c=this.model,u=c.get(e),d=c.get(n),f=this.getEndView(e),g=this.getEndView(n),m=this.getEndMagnet(e),C=this.getEndMagnet(n);f?(s=t?new H(t):g?C:new H(d),i=this.getAnchor(u.anchor,f,m,s,e)):i=new H(u),g?(a=new H(r||i),o=this.getAnchor(d.anchor,g,C,a,n)):o=new H(d);var A={};return A[e]=i,A[n]=o,A},findAnchors:function(e){var t=this.model,n=e[0],r=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",r,"source",n):this.findAnchorsOrdered("source",n,"target",r)},findConnectionPoints:function(e,t,n){var f,g,m,_,r=e[0],i=e[e.length-1],o=this.model,s=o.get("source"),a=o.get("target"),c=this.sourceView,u=this.targetView,d=this.paper.options;if(c&&!c.isNodeConnection(this.sourceMagnet)){f=this.sourceMagnet||c.el;var C=s.connectionPoint||d.defaultConnectionPoint,E=new $e(r||n,t);m=this.getConnectionPoint(C,c,f,E,"source")}else m=t;if(u&&!u.isNodeConnection(this.targetMagnet)){g=this.targetMagnet||u.el;var O=a.connectionPoint||d.defaultConnectionPoint,K=new $e(i||t,n);_=this.getConnectionPoint(O,u,g,K,"target")}else _=n;return{source:m,target:_}},getAnchor:function(e,t,n,r,i){var a,o=t.isNodeConnection(n),s=this.paper.options;if(e||(e=o?s.defaultLinkAnchor:s.perpendicularLinks||this.options.perpendicular?{name:"perpendicular"}:s.defaultAnchor),!e)throw new Error("Anchor required.");if("function"==typeof e)a=e;else{var c=e.name;if("function"!=typeof(a=s[o?"linkAnchorNamespace":"anchorNamespace"][c]))throw new Error("Unknown anchor: "+c)}var d=a.call(this,t,n,r,e.args||{},i,this);return d?d.round(this.decimalsRounding):new H},getConnectionPoint:function(e,t,n,r,i){var o,u,s=r.end,a=this.paper.options;if("function"==typeof a.linkConnectionPoint&&(o=a.linkConnectionPoint(this,t,n===t.el?void 0:n,r.start,i)))return o;if(!e)return s;if("function"==typeof e)u=e;else{var d=e.name;if("function"!=typeof(u=a.connectionPointNamespace[d]))throw new Error("Unknown connection point: "+d)}return(o=u.call(this,r,t,n,e.args||{},i,this))?o.round(this.decimalsRounding):s},_translateConnectionPoints:function(e,t){var n=this._markerCache;n.sourcePoint.offset(e,t),n.targetPoint.offset(e,t),this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t)},_getDefaultLabelPositionProperty:function(){var e=this.model,n=e._builtins.defaultLabel.position,r=e._getDefaultLabel(),i=this._normalizeLabelPosition(r.position);return Xr({},n,i)},_normalizeLabelPosition:function(e){return"number"==typeof e?{distance:e,offset:null,angle:0,args:null}:e},_mergeLabelPositionProperty:function(e,t){return null===e?null:void 0===e?null===t?null:t:Xr({},t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;if(!this.path)return this;var n=this.model.get("labels")||[];if(!n.length)return this;for(var r=this._getDefaultLabelPositionProperty(),i=0,o=n.length;i<o;i++){var s=this._labelCache[i];if(s){var c=this._normalizeLabelPosition(n[i].position),u=this._mergeLabelPositionProperty(c,r),d=this._getLabelTransformationMatrix(u);s.setAttribute("transform",ye.matrixToTransformString(d)),this._cleanLabelMatrices(i)}}return this},_cleanLabelMatrices:function(e){const{metrics:t,_labelSelectors:n}=this,r=n[e];if(r)for(let i in r){const{id:o}=r[i];o&&o in t&&delete t[o].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var e="",t=this.options.linkToolsOffset,n=this.getConnectionLength();if(!Number.isNaN(n)){n<this.options.shortLinkLength&&(e="scale(.5)",t/=2);var r=this.getPointAtLength(t);this._toolCache.attr("transform","translate("+r.x+", "+r.y+") "+e),this.options.doubleLinkTools&&n>=this.options.longLinkLength?(r=this.getPointAtLength(n-(this.options.doubleLinkToolsOffset||t)),this._tool2Cache.attr("transform","translate("+r.x+", "+r.y+") "+e),this._tool2Cache.attr("display","inline")):this.options.doubleLinkTools&&this._tool2Cache.attr("display","none")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if("none"===Cn.css(this._V.markerArrowheads.node,"display"))return this;var e=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(e),this._V.targetArrowhead.scale(e),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(e){const{model:t,paper:n}=this,r=`${e}View`,i=t.get(e),o=i&&i.id;if(!o)return this[r]=null,this.updateEndMagnet(e),!0;const s=n.getModelById(o);if(!s)throw new Error("LinkView: invalid "+e+" cell.");const a=s.findView(n);return!!a&&(this[r]=a,this.updateEndMagnet(e),!0)},updateEndMagnet:function(e){const t=`${e}Magnet`,n=this.getEndView(e);if(n){let r=n.getMagnetFromLinkEnd(this.model.get(e));r===n.el&&(r=null),this[t]=r}else this[t]=null},_translateAndAutoOrientArrows:function(e,t){var n=yn(this.route);e&&e.translateAndAutoOrient(this.sourcePoint,n[0]||this.targetPoint,this.paper.cells),t&&t.translateAndAutoOrient(this.targetPoint,n[n.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(e){return this.model.label(e).position||{}},_getLabelPositionAngle:function(e){return this._getLabelPositionProperty(e).angle||0},_getLabelPositionArgs:function(e){return this._getLabelPositionProperty(e).args},_getDefaultLabelPositionArgs:function(){return(this.model._getDefaultLabel().position||{}).args},_mergeLabelPositionArgs:function(e,t){return null===e?null:void 0===e?null===t?null:t:Xr({},t,e)},addLabel:function(e,t,n,r){var i,o,a,s=0;"number"!=typeof e?(i=e.x,o=e.y,"number"==typeof t?(s=t,a=n):a=t):(i=e,o=t,"number"==typeof n?(s=n,a=r):a=n);var c=this._getDefaultLabelPositionArgs(),d=this._mergeLabelPositionArgs(a,c),f={position:this.getLabelPosition(i,o,s,d)};return this.model.insertLabel(-1,f,a),-1},addVertex:function(e,t,n){var r="number"!=typeof e,i=r?e.x:e,o=r?e.y:t,s=r?t:n,a={x:i,y:o},c=this.getVertexIndex(i,o);return this.model.insertVertex(c,a,s),c},sendToken:function(e,t,n){var i,o,s;Tn(t)?(i=t.duration,o="reverse"===t.direction,s=t.connection):(i=t,o=!1,s=null);var a={dur:(i=i||1e3)+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};o&&(a.keyPoints="1;0",a.keyTimes="0;1");var u,c=ye(e);if("string"==typeof s)u=this.findBySelector(s,this.el,this.selectors)[0];else{var d=this._V;u=d.connection?d.connection.node:this.el.querySelector("path")}if(!(u instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");c.appendTo(this.paper.cells).animateAlongPath(a,u),setTimeout(function r(f,g){return function(){f.remove(),"function"==typeof g&&g()}}(c,n),i)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||Xi,n=this.model.router(),r=this.paper.options.defaultRouter;if(!n){if(!r)return e.map(H);n=r}var i=ur(n)?n:t[n.name];if(!ur(i))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');return i.call(this,e,n.args||{},this)||e.map(H)},findPath:function(e,t,n){var r=this.paper.options.connectorNamespace||pi,i=this.model.connector();i||(i=this.paper.options.defaultConnector||{});var s=ur(i)?i:r[i.name];if(!ur(s))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var a=$s(i.args||{});a.raw=!0;var c=s.call(this,t,n,e,a,this);return"string"==typeof c&&(c=new lt(ye.normalizePathData(c))),c},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var n=e.serialize();return t.data=n,n},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var n=e.getSegmentSubdivisions();return t.segmentSubdivisions=n,n},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var n=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=n,n},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?(Pi(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,n,r){var s,i={},o=0;"number"==typeof n?(o=n,s=r):s=n,s&&(i.args=s);var A,E,a=!(s&&s.absoluteDistance),c=s&&s.absoluteDistance&&s.reverseDistance,u=s&&s.absoluteOffset,d=this.path,f={segmentSubdivisions:this.getConnectionSubdivisions()},g=new H(e,t),m=d.closestPointT(g,f),C=d.lengthAtT(m,f);if(a&&(C=C/this.getConnectionLength()||0),c&&(C=-1*(this.getConnectionLength()-C)||1),i.distance=C,u||(A=d.tangentAtT(m)),A)E=A.pointOffset(g);else{var _=d.pointAtT(m),O=g.difference(_);E={x:O.x,y:O.y}}return i.offset=E,i.angle=o,i},_getLabelTransformationMatrix:function(e){var t,n=0,r={};if("number"==typeof e)t=e;else{if("number"!=typeof e.distance)throw new Error("dia.LinkView: invalid label position distance.");r=e.args||{},t=e.distance,n=e.angle||0}var i=t>0&&t<=1,o=0,s={x:0,y:0};if(e.offset){var a=e.offset;"number"==typeof a&&(o=a),a.x&&(s.x=a.x),a.y&&(s.y=a.y)}var A,c=0!==s.x||0!==s.y||0===o,u=r.keepGradient,d=r.ensureLegibility,f=this.path,g={segmentSubdivisions:this.getConnectionSubdivisions()},m=i?t*this.getConnectionLength():t,C=f.tangentAtLength(m,g),E=n;if(C){if(c)(A=C.start.clone()).offset(s);else{var _=C.clone();_.rotate(C.start,-90),_.setLength(o),A=_.end}u&&(E=C.angle()+n,d&&(E=ws((E+90)%180-90)))}else A=f.start.clone(),c&&A.offset(s);return ye.createSVGMatrix().translate(A.x,A.y).rotate(E)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new H(t.e,t.f)},getVertexIndex:function(e,t){for(var r=this.model.vertices(),i=this.getClosestPointLength(new H(e,t)),o=0,s=r.length;o<s&&!(i<this.getClosestPointLength(r[o]));o++);return o},notifyPointerdown(e,t,n){hn.prototype.pointerdown.call(this,e,t,n),this.notify("link:pointerdown",e,t,n)},notifyPointermove(e,t,n){hn.prototype.pointermove.call(this,e,t,n),this.notify("link:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("link:pointerup",e,t,n),hn.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){hn.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){hn.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,n)},contextmenu:function(e,t,n){hn.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,n)},pointerdown:function(e,t,n){switch(this.notifyPointerdown(e,t,n),e.target.getAttribute("class")){case"marker-vertex":return void this.dragVertexStart(e,t,n);case"marker-vertex-remove":case"marker-vertex-remove-area":return void this.dragVertexRemoveStart(e,t,n);case"marker-arrowhead":return void this.dragArrowheadStart(e,t,n);case"connection":case"connection-wrap":return void this.dragConnectionStart(e,t,n);case"marker-source":case"marker-target":return}this.dragStart(e,t,n)},pointermove:function(e,t,n){var r=this._dragData;switch(r&&this.eventData(e,r),this.eventData(e).action){case"vertex-move":this.dragVertex(e,t,n);break;case"label-move":this.dragLabel(e,t,n);break;case"arrowhead-move":this.dragArrowhead(e,t,n);break;case"move":this.drag(e,t,n)}r&&mt(r,this.eventData(e)),this.notifyPointermove(e,t,n)},pointerup:function(e,t,n){var r=this._dragData;switch(r&&(this.eventData(e,r),this._dragData=null),this.eventData(e).action){case"vertex-move":this.dragVertexEnd(e,t,n);break;case"label-move":this.dragLabelEnd(e,t,n);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,n);break;case"move":this.dragEnd(e,t,n)}this.notifyPointerup(e,t,n),this.checkMouseleave(e)},mouseover:function(e){hn.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){hn.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){hn.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){hn.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,n,r){hn.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,n,r)},onevent:function(e,t,n,r){if(ye(e.target).findParentByClass("link-tool",this.el)){if(e.stopPropagation(),this.can("useLinkTools")){if("remove"===t)return void this.model.remove({ui:!0});this.notify(t,e,n,r)}this.notifyPointerdown(e,n,r),this.paper.delegateDragEvents(this,e.data)}else hn.prototype.onevent.apply(this,arguments)},onlabel:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragLabelStart(e,t,n),this.eventData(e).stopPropagation&&e.stopPropagation()},dragConnectionStart:function(e,t,n){if(this.can("vertexAdd")){var r=this.addVertex({x:t,y:n},{ui:!0});this.eventData(e,{action:"vertex-move",vertexIdx:r})}},dragLabelStart:function(e,t,n){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(e))return;var i=parseInt(e.currentTarget.getAttribute("label-idx"),10),o=this._getDefaultLabelPositionProperty(),s=this._normalizeLabelPosition(this._getLabelPositionProperty(i)),a=this._mergeLabelPositionProperty(s,o),c=this.getLabelCoordinates(a),u=c.x-t,d=c.y-n,f=this._getLabelPositionAngle(i),g=this._getLabelPositionArgs(i),m=this._getDefaultLabelPositionArgs(),C=this._mergeLabelPositionArgs(g,m);this.eventData(e,{action:"label-move",labelIdx:i,dx:u,dy:d,positionAngle:f,positionArgs:C,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragVertexStart:function(e,t,n){if(this.can("vertexMove")){var i=parseInt(e.target.getAttribute("idx"),10);this.eventData(e,{action:"vertex-move",vertexIdx:i})}},dragVertexRemoveStart:function(e,t,n){if(this.can("vertexRemove")){var i=parseInt(e.target.getAttribute("idx"),10);this.model.removeVertex(i)}},dragArrowheadStart:function(e,t,n){if(this.can("arrowheadMove")){var i=e.target.getAttribute("end"),o=this.startArrowheadMove(i,{ignoreBackwardsCompatibility:!0});this.eventData(e,o)}},dragStart:function(e,t,n){this.isDefaultInteractionPrevented(e)||this.can("linkMove")&&this.eventData(e,{action:"move",dx:t,dy:n})},dragLabel:function(e,t,n){var r=this.eventData(e),i={position:this.getLabelPosition(t+r.dx,n+r.dy,r.positionAngle,r.positionArgs)};this.paper.options.snapLabels&&delete i.position.offset;const o={ui:!0};this.paper.isAsync()&&"touchmove"===e.type&&(o.async=!1),this.model.label(r.labelIdx,i,o)},dragVertex:function(e,t,n){var r=this.eventData(e);this.model.vertex(r.vertexIdx,{x:t,y:n},{ui:!0})},dragArrowhead:function(e,t,n){this.paper.options.snapLinks?!this._snapArrowhead(e,t,n)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(e,t,n):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(e,t,n):this._connectArrowhead(this.getEventTarget(e),t,n,this.eventData(e))},drag:function(e,t,n){var r=this.eventData(e);this.model.translate(t-r.dx,n-r.dy,{ui:!0}),this.eventData(e,{dx:t,dy:n})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(e,t,n){var r=this.eventData(e),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(r):this._connectArrowheadEnd(r,t,n),i.linkAllowed(this)?(this._finishEmbedding(r),this._notifyConnectEvent(r,e)):this._disallow(r),this._afterArrowheadMove(r)},dragEnd:function(){},_disallow:function(e){"remove"===e.whenNotAllowed?this.model.remove({ui:!0}):this.model.set(e.arrowhead,e.initialEnd,{ui:!0})},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var n=e.arrowhead,r=e.initialEnd,i=this.model.prop(n);if(i&&!hi.endsEqual(r,i)){var s=this.paper;r.id&&this.notify("link:disconnect",t,s.findViewByModel(r.id),e.initialMagnet,n),i.id&&this.notify("link:connect",t,s.findViewByModel(i.id),e.magnetUnderPointer,n)}},_snapToPoints:function(e,t,n){let r=null,i=1/0,o=null,s=1/0,a=e.x,c=e.y;for(let u=0;u<t.length;u++){const d=Math.abs(t[u].x-e.x);d<i&&(i=d,r=t[u]);const f=Math.abs(t[u].y-e.y);f<s&&(s=f,o=t[u])}return i<n&&(a=r.x),s<n&&(c=o.y),{x:a,y:c}},_snapArrowheadSelf:function(e,t,n){const{paper:r,model:i}=this,{snapLinksSelf:o}=r.options,s=this.eventData(e),a=o.radius||20,d=[this.getEndAnchor("source"===s.arrowhead?"target":"source"),...i.vertices()],f=this._snapToPoints({x:t,y:n},d,a),g=r.localToClientPoint(f);this._connectArrowhead(document.elementFromPoint(g.x,g.y),f.x,f.y,this.eventData(e))},_snapArrowhead:function(e,t,n){const{paper:r}=this,{snapLinks:i,connectionStrategy:o}=r.options,s=this.eventData(e);let a=!1;var c=i.radius||50,u=r.findViewsInArea({x:t-c,y:n-c,width:2*c,height:2*c}),d=s.closestView||null,f=s.closestMagnet||null,g=s.magnetProxy||null;s.closestView=s.closestMagnet=s.magnetProxy=null;var m=Number.MAX_VALUE,C=new H(t,n);u.forEach(function(oe){const Ie=[];"false"!==oe.el.getAttribute("magnet")&&Ie.push({bbox:oe.model.getBBox(),magnet:oe.el}),oe.$("[magnet]").toArray().forEach(I=>{Ie.push({bbox:oe.getNodeBBox(I),magnet:I})}),Ie.forEach(I=>{const{magnet:T,bbox:x}=I,k=x.center().squaredDistance(C);k<m&&(f===T||r.options.validateConnection.apply(r,s.validateConnectionArgs(oe,oe.el===T?null:T)))&&(m=k,s.closestView=oe,s.closestMagnet=T)})},this);var A,E=null,_=s.closestView,O=s.closestMagnet;O&&(E=s.magnetProxy=_.findProxyNode(O,"highlighter"));var X=s.arrowhead,K=f!==O;if(d&&K&&d.unhighlight(g,{connecting:!0,snapping:!0}),_){const{prevEnd:oe,prevX:Ie,prevY:I}=s;if(s.prevX=t,s.prevY=n,a=!0,!K&&("function"!=typeof o||Ie===t&&I===n)||(A=_.getLinkEnd(O,t,n,this.model,X),!K&&tl(oe,A)))return a;s.prevEnd=A,K&&_.highlight(E,{connecting:!0,snapping:!0})}else A={x:t,y:n};return this.model.set(X,A||{x:t,y:n},{ui:!0}),d&&this.notify("link:snap:disconnect",e,d,f,X),_&&this.notify("link:snap:connect",e,_,O,X),a},_snapArrowheadEnd:function(e){var t=e.closestView,n=e.closestMagnet;t&&n&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(n)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,n,r){const{paper:i,model:o}=this;if(r.eventTarget!==e){r.magnetProxy&&r.viewUnderPointer.unhighlight(r.magnetProxy,{connecting:!0});const s=r.viewUnderPointer=i.findView(e);if(s){const a=r.magnetUnderPointer=s.findMagnet(e),c=r.magnetProxy=s.findProxyNode(a,"highlighter");a&&this.paper.options.validateConnection.apply(i,r.validateConnectionArgs(s,a))?c&&s.highlight(c,{connecting:!0}):(r.magnetUnderPointer=null,r.magnetProxy=null)}else r.magnetUnderPointer=null,r.magnetProxy=null}r.eventTarget=e,o.set(r.arrowhead,{x:t,y:n},{ui:!0})},_connectArrowheadEnd:function(e={},t,n){const{model:r}=this,{viewUnderPointer:i,magnetUnderPointer:o,magnetProxy:s,arrowhead:a}=e;if(!o||!s||!i)return;i.unhighlight(s,{connecting:!0});const c=i.getLinkEnd(o,t,n,r,a);r.set(a,c,{ui:!0})},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){null!==e.z&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t=[];t[4]=e,t[5]=this;var n,r=0,i=0;"source"===e?(r=2,n="target"):(i=2,n="source");var o=this.model.get(n);if(o.id){var s=t[r]=this.paper.findViewByModel(o.id),a=s.getMagnetFromLinkEnd(o);a===s.el&&(a=void 0),t[r+1]=a}return function c(u,d){return t[i]=u,t[i+1]=u.el===d?void 0:d,t}},_markAvailableMagnets:function(e){function t(f,g){var m=f.paper;return m.options.validateConnection.apply(m,this.validateConnectionArgs(f,g))}var n=this.paper,r=n.model.getCells();e.marked={};for(var i=0,o=r.length;i<o;i++){var s=r[i].findView(n);if(s){var a=Array.prototype.slice.call(s.el.querySelectorAll("[magnet]"));"false"!==s.el.getAttribute("magnet")&&a.push(s.el);var c=a.filter(t.bind(e,s));if(c.length>0){for(var u=0,d=c.length;u<d;u++)s.highlight(c[u],{magnetAvailability:!0});s.highlight(null,{elementAvailability:!0}),e.marked[s.model.id]=c}}}},_unmarkAvailableMagnets:function(e){for(var n,r,t=Object.keys(e.marked),i=0,o=t.length;i<o;i++){r=e.marked[n=t[i]];var s=this.paper.findViewByModel(n);if(s){for(var a=0,c=r.length;a<c;a++)s.unhighlight(r[a],{magnetAvailability:!0});s.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var n={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:$s(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(n),!0!==t.ignoreBackwardsCompatibility&&(this._dragData=n),n},onMount:function(){hn.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){hn.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){hn.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:zt});Object.defineProperty(jf.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new He(t.x,t.y)}var n=this.sourceMagnet;return e.isNodeConnection(n)?new He(this.sourceAnchor):e.getNodeBBox(n||e.el)}}),Object.defineProperty(jf.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new He(t.x,t.y)}var n=this.targetMagnet;return e.isNodeConnection(n)?new He(this.targetAnchor):e.getNodeBBox(n||e.el)}});const zV=bs.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(e,t){const{options:n}=this,{useFirstSubpath:r}=n;let i;try{const o=ye(t);if(i=o.convertToPathData().trim(),"PATH"===o.tagName()&&r){const s=i.search(/.M/i)+1;s>0&&(i=i.substr(0,s))}}catch{const s=e.getNodeBoundingRect(t);i=ye.rectToPath(mt({},n,s.toJSON()))}return i},highlightConnection(e){this.vel.attr("d",e.getSerializedConnection())},highlightNode(e,t){const{vel:n,options:r}=this,{padding:i,layer:o}=r;let s=this.getNodeMatrix(e,t);if(i){!o&&t===e.el&&n.remove();let a=e.getNodeBoundingRect(t);const c=a.x+a.width/2,u=a.y+a.height/2;a=ye.transformRect(a,s);const d=Math.max(a.width,1),f=Math.max(a.height,1),g=(d+i)/d,m=(f+i)/f,C=ye.createSVGMatrix({a:g,b:0,c:0,d:m,e:c-g*c,f:u-m*u});s=s.multiply(C)}n.attr({d:this.getPathData(e,t),transform:ye.matrixToTransformString(s)})},highlight(e,t){const{vel:n,options:r}=this;n.attr(r.attrs),e.isNodeConnection(t)?this.highlightConnection(e):this.highlightNode(e,t)}}),ZS=20,VV=bs.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:ZS,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(e,t){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:n,MASK_REPLACE_TAGS:r,MASK_REMOVE_TAGS:i}=this,o=t.tagName();if(!ye.isSVGGraphicsElement(t)||i.includes(o))return t.remove(),!1;if(r.includes(o)){const s=e.vel.findOne(`#${t.id}`);if(s){const{node:a}=s;let c=e.getNodeBoundingRect(a);e.model.isElement()&&(c=ye.transformRect(c,e.getNodeMatrix(a)));const u=ye("rect",c.toJSON()),{x:d,y:f}=c.center(),{angle:g,cx:m=d,cy:C=f}=s.rotate();g&&u.rotate(g,m,C),t.parent().append(u)}return t.remove(),!1}return n.forEach(s=>{"fill"===s&&"none"===t.attr("fill")||t.removeAttr(s)}),!0},transformMaskRoot(e,t){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:n}=this;n.forEach(r=>{t.removeAttr(r)})},getMaskShape(e,t){const{options:n,MASK_REPLACE_TAGS:r}=this,{deep:i}=n,o=t.tagName();let s;if("G"===o){if(!i)return null;s=t.clone(),function GV(e,t){const n=e.children();for(;n.length>0;){const r=n.shift();t(r)&&n.push(...r.children())}}(s,a=>this.transformMaskChild(e,a))}else{if(r.includes(o))return null;s=t.clone()}return this.transformMaskRoot(e,s),s},getMaskId(){return`highlight-mask-${this.cid}`},getMask(e,t){const{VISIBLE:n,INVISIBLE:r,options:i}=this,{padding:o,attrs:s}=i,a="stroke-width"in s?s["stroke-width"]:1,c="none"!==t.attr("fill");let u=parseFloat(t.attr("stroke-width"));isNaN(u)&&(u=1);const d=u+2*o,f=d+2*a;let g=this.getMaskShape(e,t);if(!g){const m=e.getNodeBoundingRect(t.node);m.inflate(m.width?0:.5,m.height?0:.5),g=ye("rect",m.toJSON())}return g.attr(s),ye("mask",{id:this.getMaskId()}).append([g.clone().attr({fill:c?n:"none",stroke:n,"stroke-width":f}),g.clone().attr({fill:c?r:"none",stroke:r,"stroke-width":d})])},removeMask(e){const t=e.svg.getElementById(this.getMaskId());t&&e.defs.removeChild(t)},addMask(e,t){e.defs.appendChild(t.node)},highlight(e,t){const{options:n,vel:r}=this,{padding:i,attrs:o,maskClip:s=ZS,layer:a}=n,c="stroke"in o?o.stroke:"#000000";!a&&t===e.el&&r.remove();const u=e.getNodeBoundingRect(t).inflate(i+s),d=this.getNodeMatrix(e,t),f=this.getMask(e,ye(t));this.addMask(e.paper,f),r.attr(u.toJSON()),r.attr({transform:ye.matrixToTransformString(d),mask:`url(#${f.id})`,fill:c})},unhighlight(e){this.removeMask(e.paper)}}),ZV=bs.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:As("highlight-opacity"),highlight:function(e,t){ye(t).addClass(this.opacityClassName)},unhighlight:function(e,t){ye(t).removeClass(this.opacityClassName)}}),US=As("highlighted"),UV=bs.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:US},highlight:function(e,t){ye(t).addClass(this.options.className)},unhighlight:function(e,t){ye(t).removeClass(this.options.className)}},{className:US}),aI={ROW:"row",COLUMN:"column"},HV=bs.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(e,t){const n=e.model,{attribute:r,size:i=20,gap:o=5,direction:s=aI.ROW}=this.options;if(!r)throw new Error("List: attribute is required");const a="number"==typeof i?{width:i,height:i}:i,c=s===aI.ROW,u=c?a.width:a.height;let d=n.get(r);Array.isArray(d)||(d=[]);const f=this._prevItems||[],g=d.map((E,_)=>tl(f[_],d[_]));if(f.length!==d.length||g.some(E=>!E)){const E=this.vel.children(),_=d.map((O,X)=>{const K=X in E?E[X].node:null;if(g[X])return K;const oe=this.createListItem(O,a,K);if(!oe)return null;if(!(oe instanceof SVGElement))throw new Error("List: item must be an SVGElement");oe.dataset.index=X,oe.dataset.attribute=r;const Ie=X*(u+o);return oe.setAttribute("transform",c?`translate(${Ie}, 0)`:`translate(0, ${Ie})`),oe});this.vel.empty().append(_),this._prevItems=d}const m=d.length,C=0===m?0:m*u+(m-1)*o;this.position(n,c?{width:C,height:a.height}:{width:a.width,height:C})},position(e,t){const{vel:n,options:r}=this,{margin:i=5,position:o="top-left"}=r,{width:s,height:a}=e.size(),{left:c,right:u,top:d,bottom:f}=Ua(i),g=new He(c,d,s-(c+u),a-(d+f));let{x:m,y:C}=gS(g,o);switch(o){case Or.CENTER:case Or.TOP:case Or.BOTTOM:m-=t.width/2;break;case Or.RIGHT:case Or.BOTTOM_RIGHT:case Or.TOP_RIGHT:m-=t.width}switch(o){case Or.CENTER:case Or.RIGHT:case Or.LEFT:C-=t.height/2;break;case Or.BOTTOM:case Or.BOTTOM_RIGHT:case Or.BOTTOM_LEFT:C-=t.height}n.attr("transform",`translate(${m}, ${C})`)}},{Directions:aI,Positions:Or});function WV(e,t,n,r){return e.getPointAtRatio("ratio"in r?r.ratio:.5)}function YV(e,t,n,r){return e.getPointAtLength("length"in r?r.length:20)}function Bf(e){return function(t,n,r,i){if(r instanceof Element){var s,o=this.paper.findView(r);return s=o?o.isNodeConnection(r)?HS(o,"fixedAt"in i?i.fixedAt:"50%"):o.getNodeBBox(r).center():new H,e.call(this,t,n,s,i)}return e.apply(this,arguments)}}function HS(e,t){var n=parseFloat(t);return Pi(t)?e.getPointAtRatio(n/100):e.getPointAtLength(n)}const JV=Bf(function XV(e,t,n,r){var i=1e6,o=e.getConnection(),s=e.getConnectionSubdivisions(),a=new $e(n.clone().offset(0,i),n.clone().offset(0,-i)),c=new $e(n.clone().offset(i,0),n.clone().offset(-i,0)),u=a.intersect(o,{segmentSubdivisions:s}),d=c.intersect(o,{segmentSubdivisions:s}),f=[];return u&&Array.prototype.push.apply(f,u),d&&Array.prototype.push.apply(f,d),f.length>0?n.chooseClosest(f):"fallbackAt"in r?HS(e,r.fallbackAt):WS(e,t,n,r)}),WS=Bf(function $V(e,t,n,r){return e.getClosestPoint(n)||new H});function vg(e,t,n){if(zr(n)){const{x:i,y:o}=n;if(isFinite(o)){const s=new $e(t,e),{start:a,end:c}=s.parallel(o);t=a,e=c}n=i}if(!isFinite(n))return e;var r=e.distance(t);return 0===n&&r>0?e:e.move(t,-Math.min(n,r-1))}function cI(e){var t=e.getAttribute("stroke-width");return null===t?0:parseFloat(t)||0}function YS(e,t,n,r){var i=t.getNodeBBox(n);r.stroke&&i.inflate(cI(n)/2);var o=e.intersect(i);return vg(o?e.start.chooseClosest(o):e.end,e.start,r.offset)}var uI="segmentSubdivisons",lI="shapeBBox";const nZ=function QV(e,t,n,r){let{offset:i,alignOffset:o,align:s}=r;return s&&function qV(e,t,n=0){let r,i,o,s;const{start:a,end:c}=e;switch(t){case"left":r="x",i=c,o=a,s=-1;break;case"right":r="x",i=a,o=c,s=1;break;case"top":r="y",i=c,o=a,s=-1;break;case"bottom":r="y",i=a,o=c,s=1;break;default:return}a[r]<c[r]?i[r]=o[r]:o[r]=i[r],isFinite(n)&&(i[r]+=s*n,o[r]+=s*n)}(e,s,o),vg(e.end,e.start,i)},rZ=YS,iZ=function KV(e,t,n,r){var i=t.model.angle();if(0===i)return YS(e,t,n,r);var o=t.getNodeUnrotatedBBox(n);r.stroke&&o.inflate(cI(n)/2);var s=o.center(),a=e.clone().rotate(s,i),c=a.setLength(1e6).intersect(o);return vg(c?a.start.chooseClosest(c).rotate(s,-i):e.end,e.start,r.offset)},oZ=function tZ(e,t,n,r){var i,o,s=r.selector,a=e.end;if(i="string"==typeof s?t.findBySelector(s)[0]:!1===s?n:Array.isArray(s)?Nf(n,s):function eZ(e){if(!e)return null;var t=e;do{var n=t.tagName;if("string"!=typeof n)return null;if("G"===(n=n.toUpperCase()))t=t.firstElementChild;else{if("TITLE"!==n)break;t=t.nextElementSibling}}while(t);return t}(n),!ye.isSVGGraphicsElement(i)){if(i===n||!ye.isSVGGraphicsElement(n))return a;i=n}var O,c=t.getNodeShape(i),u=t.getNodeMatrix(i),d=t.getRootTranslateMatrix(),f=t.getRootRotateMatrix(),g=d.multiply(f).multiply(u),m=g.inverse(),C=ye.transformLine(e,m),A=C.start.clone(),E=t.getNodeData(i);if(!1===r.insideout&&(E[lI]||(E[lI]=c.bbox()),E[lI].containsPoint(A)))return a;if(c instanceof lt){var X=r.precision||2;E[uI]||(E[uI]=c.getSegmentSubdivisions({precision:X})),O={precision:X,segmentSubdivisions:E[uI]}}!0===r.extrapolate&&C.setLength(1e6),(o=C.intersect(c,O))?ye.isArray(o)&&(o=A.chooseClosest(o)):!0===r.sticky&&(o=c instanceof He?c.pointNearestToPoint(A):c instanceof fo?c.intersectionWithLineFromCenterToPoint(A):c.closestPoint(A,O));var K=o?ye.transformPoint(o,g):a,oe=r.offset||0;return r.stroke&&(oe+=cI(i)/2),vg(K,e.start,oe)};function ha(e){return function(t,n,r,i){var o=!!i.rotate,s=o?t.getNodeUnrotatedBBox(n):t.getNodeBBox(n),a=s[e](),c=i.dx;if(c){var u=Pi(c);c=parseFloat(c),isFinite(c)&&(u&&(c/=100,c*=s.width),a.x+=c)}var d=i.dy;if(d){var f=Pi(d);d=parseFloat(d),isFinite(d)&&(f&&(d/=100,d*=s.height),a.y+=d)}return o?a.rotate(t.model.getBBox().center(),-t.model.angle()):a}}const uZ=ha("center"),lZ=ha("topMiddle"),fZ=ha("bottomMiddle"),dZ=ha("leftMiddle"),hZ=ha("rightMiddle"),gZ=ha("origin"),pZ=ha("topRight"),mZ=ha("bottomLeft"),vZ=ha("corner"),yZ=Bf(function sZ(e,t,n,r){var i=e.model.angle(),o=e.getNodeBBox(t),s=o.center(),a=o.origin(),c=o.corner(),u=r.padding;if(isFinite(u)||(u=0),a.y+u<=n.y&&n.y<=c.y-u){var d=n.y-s.y;s.x+=0===i||180===i?0:1*d/Math.tan(Do(i)),s.y+=d}else if(a.x+u<=n.x&&n.x<=c.x-u){var f=n.x-s.x;s.y+=90===i||270===i?0:f*Math.tan(Do(i)),s.x+=f}return s}),IZ=Bf(function aZ(e,t,n,r){var o,s,a,i=!!r.rotate;i?(o=e.getNodeUnrotatedBBox(t),a=e.model.getBBox().center(),s=e.model.angle()):o=e.getNodeBBox(t);var d,c=r.padding;switch(isFinite(c)&&o.inflate(c),i&&n.rotate(a,s),o.sideNearestToPoint(n)){case"left":d=o.leftMiddle();break;case"right":d=o.rightMiddle();break;case"top":d=o.topMiddle();break;case"bottom":d=o.bottomMiddle()}return i?d.rotate(a,-s):d}),CZ=function cZ(e,t,n,r,i){return e.model.getPointFromConnectedLink(this.model,i).offset(r.dx,r.dy)},cl={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},yg=9007199254740991,fI=hn.Highlighting,JS={[fI.DEFAULT]:{name:"stroke",options:{padding:3}},[fI.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[fI.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},bZ=[{name:os.BACK},{name:os.CELLS},{name:os.LABELS},{name:os.FRONT},{name:os.TOOLS}],DZ=Ha.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:$r,linkView:jf,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:JS,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new hi,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(e,t,n){return"passive"!==t.getAttribute("magnet")},validateConnection:function(e,t,n,r,i,o){return("target"===i?n:e)instanceof $r},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:cl.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(e,t,n,r,i){t&(e.FLAG_INSERT|e.FLAG_REMOVE)||r.mounting||r.isolate||i.requestConnectedLinksUpdate(e,n,r)},onViewPostponed:function(e,t,n){return n.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:nt,anchorNamespace:vt,linkAnchorNamespace:Ct,connectionPointNamespace:ui,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){const{options:e,el:t}=this;e.cellViewNamespace||(e.cellViewNamespace=typeof joint<"u"&&fa(joint,"shapes")?joint.shapes:null);const n=this.model=e.model||new sg;this._layers={},this.setGrid(e.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=Cn(t.ownerDocument),this.resetViews(n.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(e,t,n){var r=n.position;this.isAsync()||!Eo(r)?this.renderView(e,n):(n.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(e,n),0===r&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,n){const r=this.findViewByModel(e);r&&this.requestViewUpdate(r,r.FLAG_REMOVE,r.UPDATE_PRIORITY,n)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===cl.APPROX){const n=this.findViewByModel(e);n&&this.requestViewUpdate(n,n.FLAG_INSERT,n.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.resetLayers(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,n=this.model;if(!this.isAsync()){var r=this.UPDATE_DELAYING_BATCHES;r.includes(t)&&!n.hasActiveBatch(r)&&this.updateViews(e)}var i=this.SORT_DELAYING_BATCHES;i.includes(t)&&!n.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){const{options:e}=this,{defaultConnector:t,defaultRouter:n,defaultConnectionPoint:r,defaultAnchor:i,defaultLinkAnchor:o,origin:s,highlighting:a,cellViewNamespace:c,interactive:u}=e;!c&&typeof joint<"u"&&fa(joint,"shapes")&&(e.cellViewNamespace=joint.shapes),ur(t)||(e.defaultConnector=rs(t)),ur(n)||(e.defaultRouter=rs(n)),ur(r)||(e.defaultConnectionPoint=rs(r)),ur(i)||(e.defaultAnchor=rs(i)),ur(o)||(e.defaultLinkAnchor=rs(o)),zr(u)&&(e.interactive=mt({},u)),zr(a)&&(e.highlighting=el({},a,JS)),e.origin=mt({},s)},children:function(){var e=ye.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:As("paper-background"),selector:"background"},{namespaceURI:e.xhtml,tagName:"div",className:As("paper-grid"),selector:"grid"},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:As("layers"),selector:"layers"}]}]},hasLayerView(e){return e in this._layers},getLayerView(e){const{_layers:t}=this;if(e in t)return t[e];throw new Error(`dia.Paper: Unknown layer "${e}"`)},getLayerNode(e){return this.getLayerView(e).el},render:function(){this.renderChildren();const{childNodes:e,options:t}=this,{svg:n,defs:r,layers:i,background:o,grid:s}=e;return n.style.overflow=t.overflow?"visible":"hidden",this.svg=n,this.defs=r,this.layers=i,this.$background=Cn(o),this.$grid=Cn(s),this.renderLayers(),ye.ensureId(n),t.background&&this.drawBackground(t.background),t.drawGrid&&this.drawGrid(),this},renderLayers:function(e=bZ){this.removeLayers(),e.forEach(({name:i})=>{const s=new xz({name:i});this.layers.appendChild(s.el),this._layers[i]=s});const t=this.getLayerView(os.CELLS),n=this.getLayerView(os.TOOLS),r=this.getLayerView(os.LABELS);this.tools=n.el,this.cells=this.viewport=t.el,t.vel.addClass(As("viewport")),r.vel.addClass(As("viewport"))},removeLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].remove(),delete e[t]})},resetLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(e){var t=this.layers;if(void 0===e){var n=t.getAttribute("transform");return(this._viewportTransformString||null)===n?e=this._viewportMatrix:(e=t.getCTM(),this._viewportMatrix=e,this._viewportTransformString=n),ye.createSVGMatrix(e)}e=ye.createSVGMatrix(e);var r=ye.matrixToTransformString(e);return t.setAttribute("transform",r),this._viewportMatrix=e,this._viewportTransformString=t.getAttribute("transform"),this},clientMatrix:function(){return ye.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,n){if(e instanceof hn)for(var r=e.model,i=this.model.getConnectedLinks(r),o=0,s=i.length;o<s;o++){var a=i[o],c=this.findViewByModel(a);if(c){var u=["UPDATE"];a.getTargetCell()===r&&u.push("TARGET"),a.getSourceCell()===r&&u.push("SOURCE");var d=Math.max(t+1,c.UPDATE_PRIORITY);this.scheduleViewUpdate(c,c.getFlag(u),d,n)}}},forcePostponedViewUpdate:function(e,t){if(!(e&&e instanceof hn))return!1;var n=e.model;if(n.isElement())return!1;if(!(t&e.getFlag(["SOURCE","TARGET"]))){var r={silent:!0},i=0,o=this.findViewByModel(n.getSourceCell());o&&!this.isViewMounted(o)&&(i=this.dumpView(o,r),e.updateEndMagnet("source"));var s=0,a=this.findViewByModel(n.getTargetCell());if(a&&!this.isViewMounted(a)&&(s=this.dumpView(a,r),e.updateEndMagnet("target")),0===i&&0===s)return!this.dumpView(e,r)}return!1},requestViewUpdate:function(e,t,n,r){r||(r={}),this.scheduleViewUpdate(e,t,n,r);var i=this.isAsync();if(!(this.isFrozen()||i&&!1!==r.async||this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES))){var o=this.updateViews(r);i&&this.notifyAfterRender(o,r)}},scheduleViewUpdate:function(e,t,n,r){const{_updates:i,options:o}=this;i.idle&&o.autoFreeze&&(i.idle=!1,this.unfreeze());const{FLAG_REMOVE:s,FLAG_INSERT:a,UPDATE_PRIORITY:c,cid:u}=e;let d=i.priorities[n];if(d||(d=i.priorities[n]={}),n>c)for(let m=n-1;m>=c;m--){const C=i.priorities[m];!C||!(u in C)||(d[u]|=C[u],delete C[u])}let f=d[u]||0;if((f&t)===t)return;f||i.count++,t&s&&f&a?d[u]^=a:t&a&&f&s&&(d[u]^=s),d[u]|=t;const g=o.onViewUpdate;"function"==typeof g&&g.call(this,e,t,n,r||{},this)},dumpViewUpdate:function(e){if(!e)return 0;var n=e.cid,r=this._updates.priorities[e.UPDATE_PRIORITY],i=this.registerMountedView(e)|r[n];return delete r[n],i},dumpView:function(e,t={}){const n=this.dumpViewUpdate(e);if(!n)return 0;const r=!t.silent;r&&this.notifyBeforeRender(t);const i=this.updateView(e,n,t);return r&&this.notifyAfterRender({updated:1,priority:e.UPDATE_PRIORITY},t),i},updateView:function(e,t,n){if(!e)return 0;const{FLAG_REMOVE:r,FLAG_INSERT:i,FLAG_INIT:o,model:s}=e;if(e instanceof hn){if(t&r)return this.removeView(s),0;if(t&i){const a=!!(t&o);a&&(t^=o),this.insertView(e,a),t^=i}}return t?e.confirmUpdate(t,n||{}):0},requireView:function(e,t){var n=this.findViewByModel(e);return n?(this.dumpView(n,t),n):null},registerUnmountedView:function(e){var t=e.cid,n=this._updates;if(t in n.unmounted)return 0;var r=n.unmounted[t]|=e.FLAG_INSERT;return n.unmountedCids.push(t),delete n.mounted[t],r},registerMountedView:function(e){var t=e.cid,n=this._updates;if(t in n.mounted)return 0;n.mounted[t]=!0,n.mountedCids.push(t);var r=n.unmounted[t]||0;return delete n.unmounted[t],r},isViewMounted:function(e){return!!e&&e.cid in this._updates.mounted},dumpViews:function(e){var t=ns({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){this.notifyBeforeRender(e);let t,n=0,r=0,i=yg;do{r++,t=this.updateViewsBatch(e),n+=t.updated,i=Math.min(t.priority,i)}while(!t.empty);const o={updated:n,batches:r,priority:i};return this.notifyAfterRender(o,e),o},hasScheduledUpdates:function(){const e=this._updates.priorities,t=Object.keys(e);let n=t.length;for(;n>0&&n--;)for(let r in e[t[n]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:yg});const{_updates:n,options:r}=this,i=n.id;if(i){Oy(i),0===t.processed&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);const o=this.updateViewsBatch(e),s=ns({},e,{mountBatchSize:1e3-o.mounted,unmountBatchSize:1e3-o.unmounted}),a=this.checkViewport(s),c=a.unmounted,u=a.mounted;let d=t.processed;const f=n.count;o.updated>0?(d+=o.updated+o.unmounted,o.processed=d,t.priority=Math.min(o.priority,t.priority),o.empty&&0===u?(o.unmounted+=c,o.mounted+=u,o.priority=t.priority,this.notifyAfterRender(o,e),t.processed=0,t.priority=yg,n.count=0):t.processed=d):n.idle||r.autoFreeze&&(this.freeze(),n.idle=!0,this.trigger("render:idle",e));const g=e.progress;if(f&&"function"==typeof g&&g.call(this,o.empty,d,f,o,this),n.id!==i)return}if(n.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");n.id=Py(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(e={}){let t=e.beforeRender;"function"!=typeof t&&(t=this.options.beforeRender,"function"!=typeof t)||t.call(this,e,this)},notifyAfterRender:function(e,t={}){let n=t.afterRender;"function"!=typeof n&&(n=this.options.afterRender),"function"==typeof n&&n.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||1/0,n=this._updates,r=0,i=0,o=0,s=0,a=yg,c=!0,u=this.options,d=n.priorities,f="viewport"in e?e.viewport:u.viewport;"function"!=typeof f&&(f=null);var g=u.onViewPostponed;"function"!=typeof g&&(g=null);var m=Object.keys(d);e:for(var C=0,A=m.length;C<A;C++){var E=+m[C],_=d[E];for(var O in _){if(r>=t){c=!1;break e}var X=_c[O];if(X){var K=_[O];if(!(K&X.FLAG_REMOVE)){var oe=O in n.unmounted;if(X.DETACHABLE&&f&&!f.call(this,X,!oe,this)){oe||(this.registerUnmountedView(X),this.detachView(X)),n.unmounted[O]|=K,delete _[O],o++;continue}oe&&(K|=X.FLAG_INSERT,s++),K|=this.registerMountedView(X)}var Ie=this.updateView(X,K,e);Ie>0&&(_[O]=Ie,!g||!g.call(this,X,Ie,this)||_[O])?(i++,c=!1):(a>E&&(a=E),r++,delete _[O])}else delete _[O]}}return{priority:a,updated:r,postponed:i,unmounted:o,mounted:s,empty:c}},getUnmountedViews:function(){const t=Object.keys(this._updates.unmounted),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=_c[t[i]];return r},getMountedViews:function(){const t=Object.keys(this._updates.mounted),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=_c[t[i]];return r},checkUnmountedViews:function(e,t){t||(t={});var n=0;"function"!=typeof e&&(e=null);for(var i=this._updates,o=i.unmountedCids,s=i.unmounted,a=0,c=(Math.min(o.length,"mountBatchSize"in t?t.mountBatchSize:1/0));a<c;a++){var u=o[a];if(u in s){var d=_c[u];if(d){if(d.DETACHABLE&&e&&!e.call(this,d,!1,this)){o.push(u);continue}n++;var f=this.registerMountedView(d);f&&this.scheduleViewUpdate(d,f,d.UPDATE_PRIORITY,{mounting:!0})}}}return o.splice(0,a),n},checkMountedViews:function(e,t){t||(t={});var n=0;if("function"!=typeof e)return n;for(var i=this._updates,o=i.mountedCids,s=i.mounted,a=0,c=(Math.min(o.length,"unmountBatchSize"in t?t.unmountBatchSize:1/0));a<c;a++){var u=o[a];if(u in s){var d=_c[u];if(d){if(!d.DETACHABLE||e.call(this,d,!0,this)){o.push(u);continue}n++,this.registerUnmountedView(d)&&this.detachView(d)}}}return o.splice(0,a),n},checkViewVisibility:function(e,t={}){let n="viewport"in t?t.viewport:this.options.viewport;"function"!=typeof n&&(n=null);const r=this._updates,{mounted:i,unmounted:o}=r,s=!e.DETACHABLE||!n||n.call(this,e,!1,this);let a=!1,c=!1;if(e.cid in i&&!s){this.registerUnmountedView(e)&&this.detachView(e);const f=r.mountedCids.indexOf(e.cid);r.mountedCids.splice(f,1),a=!0}if(!a&&e.cid in o&&s){const d=r.unmountedCids.indexOf(e.cid);r.unmountedCids.splice(d,1);var u=this.registerMountedView(e);u&&this.scheduleViewUpdate(e,u,e.UPDATE_PRIORITY,{mounting:!0}),c=!0}return{mounted:c?1:0,unmounted:a?1:0}},checkViewport:function(e){var t=ns({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in t?t.viewport:this.options.viewport,r=this.checkMountedViews(n,t);return r>0&&(t.mountBatchSize=Math.min(this._updates.unmountedCids.length-r,t.mountBatchSize)),{mounted:this.checkUnmountedViews(n,t),unmounted:r}},freeze:function(e){e||(e={});var t=this._updates,n=e.key,r=this.options.frozen,i=t.freezeKey;if(n&&n!==i){if(r&&i)return;t.freezeKey=n,t.keyFrozen=r}this.options.frozen=!0;var o=t.id;t.id=null,this.isAsync()&&o&&Oy(o)},unfreeze:function(e){e||(e={});var t=this._updates,n=e.key,r=t.freezeKey;n&&r&&n!==r||(t.freezeKey=null,(!n||n!==r||!t.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===cl.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,n=e.height;return Eo(t)||(t=this.el.clientWidth),Eo(n)||(n=this.el.clientHeight),{width:t,height:n}},setDimensions:function(e,t){const{options:n}=this,{width:r,height:i}=n;let o=void 0===e?r:e,s=void 0===t?i:t;if(r===o&&i===s)return;n.width=o,n.height=s,this._setDimensions();const a=this.getComputedSize();this.trigger("resize",a.width,a.height)},_setDimensions:function(){const{options:e}=this;let t=e.width,n=e.height;Eo(t)&&(t=Math.round(t)),Eo(n)&&(n=Math.round(n)),this.$el.css({width:null===t?"":t,height:null===n?"":n})},setOrigin:function(e,t){return this.translate(e||0,t||0)},fitToContent:function(e,t,n,r){r=Tn(e)?e:mt({gridWidth:e,gridHeight:t,padding:n},r);const{x:i,y:o,width:s,height:a}=this.getFitToContentArea(r),{sx:c,sy:u}=this.scale();return this.setOrigin(-i*c,-o*u),this.setDimensions(s*c,a*u),new He(i,o,s,a)},getFitToContentArea:function(e={}){const t=e.gridWidth||1,n=e.gridHeight||1,r=Ua(e.padding||0),i=Math.max(e.minWidth||0,t),o=Math.max(e.minHeight||0,n),s=e.maxWidth||Number.MAX_VALUE,a=e.maxHeight||Number.MAX_VALUE,c=e.allowNewOrigin,u="contentArea"in e?new He(e.contentArea):this.getContentArea(e),{sx:d,sy:f}=this.scale();u.x*=d,u.y*=f,u.width*=d,u.height*=f;let g=Math.ceil((u.width+u.x)/t),m=Math.ceil((u.height+u.y)/n);e.allowNegativeBottomRight||(g=Math.max(g,1),m=Math.max(m,1)),g*=t,m*=n;let C=0;("negative"===c&&u.x<0||"positive"===c&&u.x>=0||"any"===c)&&(C=Math.ceil(-u.x/t)*t,C+=r.left,g+=C);let A=0;return("negative"===c&&u.y<0||"positive"===c&&u.y>=0||"any"===c)&&(A=Math.ceil(-u.y/n)*n,A+=r.top,m+=A),g+=r.right,m+=r.bottom,g=Math.max(g,i),m=Math.max(m,o),g=Math.min(g,s),m=Math.min(m,a),new He(-C/d,-A/f,g/d,m/f)},transformToFitContent:function(e){let t,n;if(e||(e={}),"contentArea"in e){const E=e.contentArea;t=this.localToPaperRect(E),n=new H(E)}else t=this.getContentBBox(e),n=this.paperToLocalPoint(t);if(!t.width||!t.height)return;ns(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const r=Ua(e.padding),i=e.minScaleX||e.minScale,o=e.maxScaleX||e.maxScale,s=e.minScaleY||e.minScale,a=e.maxScaleY||e.maxScale;let c;if(e.fittingBBox)c=e.fittingBBox;else{const E=this.translate(),_=this.getComputedSize();c={x:E.tx,y:E.ty,width:_.width,height:_.height}}c=new He(c).moveAndExpand({x:r.left,y:r.top,width:-r.left-r.right,height:-r.top-r.bottom});const u=this.scale();let d=c.width/t.width*u.sx,f=c.height/t.height*u.sy;if(e.preserveAspectRatio&&(d=f=Math.min(d,f)),e.scaleGrid){const E=e.scaleGrid;d=E*Math.floor(d/E),f=E*Math.floor(f/E)}d=Math.min(o,Math.max(i,d)),f=Math.min(a,Math.max(s,f));const g_x=d/u.sx,g_y=f/u.sy,m=this.options.origin;let C=c.x-n.x*d-m.x,A=c.y-n.y*f-m.y;switch(e.verticalAlign){case"middle":A+=(c.height-t.height*g_y)/2;break;case"bottom":A+=c.height-t.height*g_y}switch(e.horizontalAlign){case"middle":C+=(c.width-t.width*g_x)/2;break;case"right":C+=c.width-t.width*g_x}this.scale(d,f),this.translate(C,A)},scaleContentToFit:function(e){this.transformToFitContent(e)},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new He:ye(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...e){const{restrictTranslate:t}=this.options;let n;return n=ur(t)?t.apply(this,e):!0===t?this.getArea():t?new He(t):null,n},createViewForModel:function(e){const{options:t}=this;var n,r,i=t.cellViewNamespace,o=e.get("type")+"View",s=Nf(i,o,".");return e.isLink()?(n=t.linkView,r=jf):(n=t.elementView,r=$r),new(n.prototype instanceof Wi.View?s||n:n.call(this,e)||s||r)({model:e,interactive:t.interactive,labelsLayer:!0===t.labelsLayer?os.LABELS:t.labelsLayer})},removeView:function(e){const{id:t}=e,{_views:n,_updates:r}=this,i=n[t];if(i){var{cid:o}=i;const{mounted:s,unmounted:a}=r;i.remove(),delete n[t],delete s[o],delete a[o]}return i},renderView:function(e,t){const{id:n}=e,r=this._views;let i,o,s=!0;return n in r&&(i=r[n],i.model===e?(o=i.FLAG_INSERT,s=!1):this.removeView(e)),s&&(i=r[n]=this.createViewForModel(e),i.paper=this,o=this.registerUnmountedView(i)|this.FLAG_INIT|i.getFlag(Gr(i,"initFlag"))),this.requestViewUpdate(i,o,i.UPDATE_PRIORITY,t),i},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews();const n=this.options.autoFreeze?null:"reset";this.freeze({key:n});for(var r=0,i=e.length;r<i;r++)this.renderView(e[r],t);this.unfreeze({key:n}),this.sortViews()},removeViews:function(){Xs(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen())return void(this._updates.sort=!0);this.sortViewsExact()}},sortViewsExact:function(){var e=Cn(this.cells).children("[model-id]"),t=this.model.get("cells");!function(e,t){var n=Cn(e),r=n.map(function(){var o=this.parentNode,s=o.insertBefore(document.createTextNode(""),this.nextSibling);return function(){if(o===this)throw new Error("You can't sort elements if any one is a descendant of another.");o.insertBefore(this,s),o.removeChild(s)}});Array.prototype.sort.call(n,t).each(function(i){r[i].call(this)})}(e,function(n,r){var i=t.get(n.getAttribute("model-id")),o=t.get(r.getAttribute("model-id")),s=i.attributes.z||0,a=o.attributes.z||0;return s===a?0:s<a?-1:1})},insertView:function(e,t){const n=this.getLayerView(os.CELLS),{el:r,model:i}=e;this.options.sorting===cl.APPROX?n.insertSortedNode(r,i.get("z")):n.insertNode(r),e.onMount(t)},detachView(e){e.unmount(),e.onDetach()},scale:function(e,t,n,r){if(void 0===e)return ye.matrixToScale(this.matrix());void 0===t&&(t=e),void 0===n&&(n=0,r=0);var i=this.translate();(n||r||i.tx||i.ty)&&this.translate(i.tx-n*(e-1),i.ty-r*(t-1)),e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE);var a=this.matrix();return a.a=e,a.d=t,this.matrix(a),this.trigger("scale",e,t,n,r),this},rotate:function(e,t,n){if(void 0===e)return ye.matrixToRotate(this.matrix());if(void 0===t){var r=this.cells.getBBox();t=r.width/2,n=r.height/2}var i=this.matrix().translate(t,n).rotate(e).translate(-t,-n);return this.matrix(i),this},translate:function(e,t){if(void 0===e)return ye.matrixToTranslate(this.matrix());const{options:n}=this,{origin:r,drawGrid:i}=n;e||(e=0),t||(t=0);const o=this.matrix();if(o.e===e&&o.f===t)return this;o.e=e,o.f=t,this.matrix(o);const{tx:s,ty:a}=this.translate();return r.x=s,r.y=a,this.trigger("translate",s,a),i&&this.drawGrid(),this},findView:function(e){var t=Yi(e)?this.cells.querySelector(e):e instanceof Cn?e[0]:e,n=this.findAttribute("model-id",t);if(n)return this._views[n]},findViewByModel:function(e){var t=Yi(e)||Eo(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){return e=new H(e),this.model.getElements().map(this.findViewByModel,this).filter(function(n){return n&&n.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=ns(t||{},{strict:!1}),e=new He(e);var n=this.model.getElements().map(this.findViewByModel,this),r=t.strict?"containsRect":"intersect";return n.filter(function(i){return i&&e[r](i.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e,...t){"string"==typeof e&&this.trigger("tools:event",e,...t)},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var n=new H(e,t);return ye.transformPoint(n,this.matrix())},localToPaperRect:function(e,t,n,r){var i=new He(e,t,n,r);return ye.transformRect(i,this.matrix())},paperToLocalPoint:function(e,t){var n=new H(e,t);return ye.transformPoint(n,this.matrix().inverse())},paperToLocalRect:function(e,t,n,r){var i=new He(e,t,n,r);return ye.transformRect(i,this.matrix().inverse())},localToClientPoint:function(e,t){var n=new H(e,t);return ye.transformPoint(n,this.clientMatrix())},localToClientRect:function(e,t,n,r){var i=new He(e,t,n,r);return ye.transformRect(i,this.clientMatrix())},clientToLocalPoint:function(e,t){var n=new H(e,t);return ye.transformPoint(n,this.clientMatrix().inverse())},clientToLocalRect:function(e,t,n,r){var i=new He(e,t,n,r);return ye.transformRect(i,this.clientMatrix().inverse())},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,n,r){return this.localToPaperRect(e,t,n,r).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var r=new H(e,t).difference(this.pageOffset());return this.paperToLocalPoint(r)},pageToLocalRect:function(e,t,n,r){var i=this.pageOffset(),o=new He(e,t,n,r);return o.x-=i.x,o.y-=i.y,this.paperToLocalRect(o)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new H(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof jf))throw new Error("Must provide a linkView.");var t=e.model,n=this.options,r=this.model,i=r.constructor.validations;return!(!n.multiLinks&&!i.multiLinks.call(this,r,t)||!n.linkPinning&&!i.linkPinning.call(this,r,t)||"function"==typeof n.allowLink&&!n.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return ur(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e={}){let{highlighter:t,type:n}=e;const{highlighting:r,highlighterNamespace:i}=this.options;if(void 0===t){if(!r||n&&(t=r[n],!1===t))return!1;t||(t=r.default)}if(!t)return!1;Yi(t)&&(t={name:t});const o=t.name,s=i[o];if(!s)throw new Error('Unknown highlighter ("'+o+'")');if("function"!=typeof s.highlight)throw new Error('Highlighter ("'+o+'") is missing required highlight() method');if("function"!=typeof s.unhighlight)throw new Error('Highlighter ("'+o+'") is missing required unhighlight() method');return{highlighter:s,options:t.options||{},name:o}},onCellHighlight:function(e,t,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:i,options:o}=r;i.highlight(e,t,o)},onCellUnhighlight:function(e,t,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:i,options:o}=r;i.unhighlight(e,t,o)},pointerdblclick:function(e){e.preventDefault(),e=_i(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,n.x,n.y):this.trigger("blank:pointerdblclick",e,n.x,n.y)}},pointerclick:function(e){if(this.eventData(e).mousemoved<=this.options.clickThreshold){e=_i(e);var n=this.findView(e.target);if(this.guard(e,n))return;var r=this.snapToGrid(e.clientX,e.clientY);n?n.pointerclick(e,r.x,r.y):this.trigger("blank:pointerclick",e,r.x,r.y)}},contextmenu:function(e){this.options.preventContextMenu&&e.preventDefault(),this.contextMenuFired?this.contextMenuFired=!1:(e=_i(e),this.contextMenuTrigger(e))},contextMenuTrigger:function(e){var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,n.x,n.y):this.trigger("blank:contextmenu",e,n.x,n.y)}},pointerdown:function(e){e=_i(e);const{target:t,button:n}=e,r=this.findView(t),i=2===n;if(r){if(!i&&this.guard(e,r))return;const o=this.FORM_CONTROL_TAG_NAMES.includes(t.tagName);this.options.preventDefaultViewAction&&!o&&e.preventDefault(),o&&r.preventDefaultInteraction(e);const s=this.customEventTrigger(e,r);if(s){if(s.isPropagationStopped())return;e.data=s.data}const a=t.closest("[magnet]");if(a&&r.el!==a&&r.el.contains(a)){const c=_i(Cn.Event(e.originalEvent,{data:e.data,currentTarget:a}));if(this.onmagnet(c),c.isDefaultPrevented()&&e.preventDefault(),c.isPropagationStopped()){if(i)return;return void this.delegateDragEvents(r,c.data)}e.data=c.data}}if(i){this.contextMenuFired=!0;const o=Cn.Event(e.originalEvent,{type:"contextmenu",data:e.data});this.contextMenuTrigger(o)}else{const o=this.snapToGrid(e.clientX,e.clientY);r?r.pointerdown(e,o.x,o.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,o.x,o.y)),this.delegateDragEvents(r,e.data)}},pointermove:function(e){var t=this.eventData(e);if(t.mousemoved||(t.mousemoved=0,this.undelegateEvents()),!(++t.mousemoved<=this.options.moveThreshold)){e=_i(e);var r=this.snapToGrid(e.clientX,e.clientY),i=t.sourceView;i?i.pointermove(e,r.x,r.y):this.trigger("blank:pointermove",e,r.x,r.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=_i(e),n=this.snapToGrid(t.clientX,t.clientY),r=this.eventData(e).sourceView;r?r.pointerup(t,n.x,n.y):this.trigger("blank:pointerup",t,n.x,n.y),t.isPropagationStopped()||this.pointerclick(Cn.Event(e.originalEvent,{type:"click",data:e.data})),this.delegateEvents()},mouseover:function(e){e=_i(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=_i(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=_i(e);const{target:t,relatedTarget:n,currentTarget:r}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(n);i&&(o===i||(i.mouseenter(e),this.el.contains(n)))||o||r===this.el&&this.trigger("paper:mouseenter",e)},mouseleave:function(e){e=_i(e);const{target:t,relatedTarget:n,currentTarget:r}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(n);i&&(o===i||(i.mouseleave(e),this.el.contains(n)))||o||r===this.el&&this.trigger("paper:mouseleave",e)},_processMouseWheelEvtBuf:function cz(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function");let r,i,o,s,a,c,u=0,d=!1,f=!1,g=!0;const m=!t&&0!==t&&window&&"function"==typeof window.requestAnimationFrame;function C(I){const T=r,x=i;return r=i=void 0,u=I,s=e.apply(x,T),s}function A(I,T){return m?(window.cancelAnimationFrame(a),window.requestAnimationFrame(I)):setTimeout(I,T)}function X(I){const T=I-c;return void 0===c||T>=t||T<0||f&&I-u>=o}function K(){const I=Date.now();if(X(I))return oe(I);a=A(K,function O(I){const k=t-(I-c);return f?Math.min(k,o-(I-u)):k}(I))}function oe(I){return a=void 0,g&&r?C(I):(r=i=void 0,s)}function Ie(...I){const T=Date.now(),x=X(T);if(r=I,i=this,c=T,x){if(void 0===a)return function _(I){return u=I,a=A(K,t),d?C(I):s}(c);if(f)return a=A(K,t),C(c)}return void 0===a&&(a=A(K,t)),s}return t=+t||0,Tn(n)&&(d=!!n.leading,f="maxWait"in n,o=f?Math.max(+n.maxWait||0,t):o,g="trailing"in n?!!n.trailing:g),Ie.cancel=()=>{void 0!==a&&function E(I){if(m)return window.cancelAnimationFrame(I);clearTimeout(I)}(a),u=0,r=c=i=a=void 0},Ie.flush=()=>void 0===a?s:oe(Date.now()),Ie.pending=()=>void 0!==a,Ie}(function(){const{event:e,deltas:t}=this._mw_evt_buffer,n=t.reduce((s,a)=>s+function(e,t){return e>50?50:e<-50?-50:e}(a),0),r=Math.pow(.995,n),{x:i,y:o}=this.clientToLocalPoint(e.clientX,e.clientY);this.trigger("paper:pinch",e,i,o,r),this._mw_evt_buffer={event:null,deltas:[]}},20,{maxWait:20}),mousewheel:function(e){e=_i(e);const t=this.findView(e.target);if(this.guard(e,t))return;const n=e.originalEvent,r=this.snapToGrid(n.clientX,n.clientY),{deltaX:i,deltaY:o}=function(e){let i=0,o=0,s=0,a=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(i=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(i=o,o=0),s="deltaX"in e?e.deltaX:10*i,a="deltaY"in e?e.deltaY:10*o,(s||a)&&e.deltaMode&&(1==e.deltaMode?(s*=40,a*=40):(s*=800,a*=800)),0===e.deltaX&&0!==e.deltaY&&e.shiftKey&&(s=a,a=0,i=o,o=0),s&&!i&&(i=s<1?-1:1),a&&!o&&(o=a<1?-1:1),{spinX:i,spinY:o,deltaX:s,deltaY:a}}(n),s=this._events["paper:pinch"];if(e.ctrlKey&&s&&s.length>0)n.preventDefault(),this._mw_evt_buffer.event=n,this._mw_evt_buffer.deltas.push(o),this._processMouseWheelEvtBuf();else{const a=Math.max(-1,Math.min(1,n.wheelDelta));t?t.mousewheel(e,r.x,r.y,a):this.trigger("blank:mousewheel",e,r.x,r.y,a),this.trigger("paper:pan",e,i,o)}},onevent:function(e){var t=e.currentTarget,n=t.getAttribute("event");if(n){var r=this.findView(t);if(r){if(e=_i(e),this.guard(e,r))return;var i=this.snapToGrid(e.clientX,e.clientY);r.onevent(e,n,i.x,i.y)}}},magnetEvent:function(e,t){var n=e.currentTarget;if(n.getAttribute("magnet")){var i=this.findView(n);if(i){if(e=_i(e),this.guard(e,i))return;var o=this.snapToGrid(e.clientX,e.clientY);t.call(this,i,e,n,o.x,o.y)}}},onmagnet:function(e){if(2===e.button){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const t=Cn.Event(e.originalEvent,{type:"contextmenu",data:e.data,currentTarget:e.currentTarget});this.magnetContextMenuTrigger(t),t.isPropagationStopped()&&e.stopPropagation()}else this.magnetEvent(e,function(t,n,r,i,o){t.onmagnet(n,i,o)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(t,n,r,i,o){t.magnetpointerdblclick(n,r,i,o)})},magnetcontextmenu:function(e){this.options.preventContextMenu&&e.preventDefault(),this.magnetContextMenuFired?this.magnetContextMenuFired=!1:this.magnetContextMenuTrigger(e)},magnetContextMenuTrigger:function(e){this.magnetEvent(e,function(t,n,r,i,o){t.magnetcontextmenu(n,r,i,o)})},onlabel:function(e){var t=e.currentTarget,n=this.findView(t);if(!n||(e=_i(e),this.guard(e,n)))return;const r=this.customEventTrigger(e,n,t);if(r){if(r.isPropagationStopped())return;e.data=r.data}var i=this.snapToGrid(e.clientX,e.clientY);n.onlabel(e,i.x,i.y)},getPointerArgs(e){const t=_i(e),{x:n,y:r}=this.snapToGrid(t.clientX,t.clientY);return[t,n,r]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t)},guard:function(e,t){if("mousedown"===e.type&&2===e.button||this.options.guard&&this.options.guard(e,t))return!0;if(e.data&&void 0!==e.data.guarded)return e.data.guarded;const{target:n}=e;return!!this.GUARDED_TAG_NAMES.includes(n.tagName)||!(t&&t.model&&t.model instanceof Js||this.svg===n||this.el===n||Cn.contains(this.svg,n))},setGridSize:function(e){const{options:t}=this;return t.gridSize=e,t.drawGrid&&!t.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:ye("svg",{width:"100%",height:"100%"},ye("defs")),patterns:{},add:function(e,t){ye(this.root.node.childNodes[0]).append(t),this.patterns[e]=t,this.root.append(ye("rect",{width:"100%",height:"100%",fill:"url(#"+e+")"}))},get:function(e){return this.patterns[e]},exist:function(e){return void 0!==this.patterns[e]}}),this._gridCache},setGrid:function(e){return this.clearGrid(),this._gridCache=null,this._gridSettings=[],(Array.isArray(e)?e:[e||{}]).forEach(function(n){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(n))},this),this},_resolveDrawGridOption:function(e){var t=this.constructor.gridPatterns;if(Yi(e)&&Array.isArray(t[e]))return t[e].map(function(c){return mt({},c)});var n=e||{args:[{}]},r=Array.isArray(n),i=n.name;if(!r&&!i&&!n.markup&&(i="dot"),i&&Array.isArray(t[i])){var o=t[i].map(function(c){return mt({},c)}),s=Array.isArray(n.args)?n.args:[n.args||{}];ns(s[0],xc(e,"args"));for(var a=0;a<s.length;a++)o[a]&&mt(o[a],s[a]);return o}return r?n:[n]},drawGrid:function(e){const t=this.options.drawGridSize||this.options.gridSize;if(t<=1)return this.clearGrid();var n=Array.isArray(e)?e:[e],r=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach(function(s,a){var c="pattern_"+a,u=Xr(s,n[a],{sx:r.a||1,sy:r.d||1,ox:r.e||0,oy:r.f||0});u.width=t*(r.a||1)*(u.scaleFactor||1),u.height=t*(r.d||1)*(u.scaleFactor||1),i.exist(c)||i.add(c,ye("pattern",{id:c,patternUnits:"userSpaceOnUse"},ye(u.markup)));var d=i.get(c);ur(u.update)&&u.update(d.node.childNodes[0],u);var f=u.ox%u.width;f<0&&(f+=u.width);var g=u.oy%u.height;g<0&&(g+=u.height),d.attr({x:f,y:g,width:u.width,height:u.height})});var o=(new XMLSerializer).serializeToString(i.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(e){var t=(e=e||{}).position||"center",n=e.size||"auto auto",r=this.scale(),i=this.translate();Tn(t)&&(t=i.tx+r.sx*(t.x||0)+"px "+(i.ty+r.sy*(t.y||0))+"px"),Tn(n)&&(n=(n=new He(n).scale(r.sx,r.sy)).width+"px "+n.height+"px"),this.$background.css({backgroundSize:n,backgroundPosition:t})},drawBackgroundImage:function(e,t){if(e instanceof HTMLImageElement){if(this._background&&this._background.id===t.id){var n,r=(t=t||{}).size,i=t.repeat||"no-repeat",o=t.opacity||1,s=Math.abs(t.quality)||1,a=this.constructor.backgroundPatterns[((e="")=>((e,t)=>void 0===t?(nB(e)?(e=>e.match(Wj))(e):(e=>e.match(iB))(e))||[]:e.match(t)||[])(`${e}`.replace(/['\u2019]/g,"")).reduce((t,n,r)=>(n=n.toLowerCase(),t+(r?iz(n):n)),""))(i)];if(ur(a)){e.width*=s,e.height*=s;var c=a(e,t);if(!(c instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=c.toDataURL("image/png"),i="repeat",Tn(r)?(r.width*=c.width/e.width,r.height*=c.height/e.height):void 0===r&&(t.size={width:c.width/s,height:c.height/s})}else n=e.src,void 0===r&&(t.size={width:e.width,height:e.height});this.$background.css({opacity:o,backgroundRepeat:i,backgroundImage:"url("+n+")"}),this.updateBackgroundImage(t)}}else this.$background.css("backgroundImage","")},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(this.updateBackgroundColor((e=e||{}).color),e.image){e=this._background=rs(e),nl(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,Xs(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!Tn(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,n=e.name;if(t||(t=n+this.svg.id+tg(JSON.stringify(e))),!this.isDefined(t)){var i=Tz[n]&&Tz[n](e.args||{});if(!i)throw new Error("Non-existing filter "+n);var o=mt({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},e.attrs,{id:t});ye(i,o).appendTo(this.defs)}return t},defineGradient:function(e){if(!Tn(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:t,defs:n}=this,{type:r,id:i=r+t.id+tg(JSON.stringify(e)),stops:o,attrs:s={}}=e;if(this.isDefined(i))return i;const a=yn(o).map(({offset:u,color:d,opacity:f})=>ye("stop").attr({offset:u,"stop-color":d,"stop-opacity":Number.isFinite(f)?f:1})),c=ye(r,s,a);return c.id=i,c.appendTo(n),i},definePattern:function(e){if(!Tn(e))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:t,defs:n}=this,{id:r=t.id+tg(JSON.stringify(e)),markup:i,attrs:o={}}=e;if(!i)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(r))return r;const s=ye("pattern",{patternUnits:"userSpaceOnUse"});if(s.id=r,s.attr(o),"string"==typeof i)s.append(ye(i));else{const{fragment:a}=eg(i);s.append(a)}return s.appendTo(n),r},defineMarker:function(e){if(!Tn(e))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:t,defs:n}=this,{id:r=t.id+tg(JSON.stringify(e)),markup:i,attrs:o={},markerUnits:s="userSpaceOnUse"}=e;if(this.isDefined(r))return r;const a=ye("marker",{orient:"auto",overflow:"visible",markerUnits:s});let c;if(a.id=r,a.attr(o),i){let f;if("string"==typeof i)f=ye(i),f=Array.isArray(f)?f:[f];else{const{fragment:g}=eg(i);f=ye(g).children()}c=f.length>1?ye("g").append(f):f[0]}else{const{type:f="path"}=e;c=ye(f)}const u=xc(e,"type","id","markup","attrs","markerUnits");return Object.keys(u).forEach(f=>{const g=u[f],m=c.attr(f);null==m?c.attr(f,g):"transform"===f&&c.attr(f,g+" "+m)}),c.appendTo(a),a.appendTo(n),r},customEventTrigger:function(e,t,n=t.el){const r=e.target.closest("[event]");if(r&&n!==r&&t.el.contains(r)){const i=_i(Cn.Event(e.originalEvent,{data:e.data,currentTarget:r}));return this.onevent(i),i.isDefaultPrevented()&&e.preventDefault(),i}return null}},{sorting:cl,Layers:os,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=2*r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(e,0,0,n,r),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(e,0,0,n,r),t},flipX:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(2*n,0),i.scale(-1,1),i.drawImage(e,0,0,n,r),t},flipY:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=n,t.height=2*r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(0,2*r),i.scale(1,-1),i.drawImage(e,0,0,n,r),t},watermark:function(e,t){t=t||{};var n=e.width,r=e.height,i=document.createElement("canvas");i.width=3*n,i.height=3*r;for(var o=i.getContext("2d"),s=Eo(t.watermarkAngle)?-t.watermarkAngle:-20,a=Do(s),c=i.width/4,u=i.height/4,d=0;d<4;d++)for(var f=0;f<4;f++)(d+f)%2>0&&(o.setTransform(1,0,0,1,(2*d-1)*c,(2*f-1)*u),o.rotate(a),o.drawImage(e,-n/2,-r/2,n,r));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){ye(e).attr({width:t.thickness*t.sx,height:t.thickness*t.sy,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){var n=t.sx<=1?t.thickness*t.sx:t.thickness;ye(e).attr({width:n,height:n,fill:t.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;n=r-o>=0&&i-o>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",ye(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;n=r-o>=0&&i-o>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",ye(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;n=r-o>=0&&i-o>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",ye(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}]}}),dI=["#3f84e5","#49306B","#fe7f2d","#ad343e","#899e8b","#ede9e9","#b2a29f","#392F2D"];class hI extends gr{constructor(){super(...arguments),this.markup=[{tagName:"rect",selector:"background"},{tagName:"path",selector:"body"},{tagName:"circle",selector:"head"},{tagName:"text",selector:"label"}]}defaults(){const t={type:"custom.uml.Actor",size:{width:40,height:80},attrs:{background:{width:"calc(w)",height:"calc(h)",fill:"transparent"},body:{d:"M 0 calc(0.4 * h) h calc(w) M 0 calc(h) calc(0.5 * w) calc(0.7 * h) calc(w) calc(h) M calc(0.5 * w) calc(0.7 * h) V calc(0.3 * h)",fill:"none",stroke:dI[7],strokeWidth:2},head:{cx:"calc(0.5 * w)",cy:"calc(0.15 * h)",r:"calc(0.15 * h)",stroke:dI[7],strokeWidth:2,fill:"#ffffff"},label:{y:"calc(h + 10)",x:"calc(0.5 * w)",textAnchor:"middle",textVerticalAnchor:"top",fontSize:14,fontFamily:"sans-serif",fill:dI[7],textWrap:{width:"calc(3 * w)",height:null}}}};return el(t,super.defaults),t}}function EZ(e,...t){const n=[];return e.forEach((i,o)=>{n.push(i),o in t&&n.push(t[o])}),function TZ(e){const t=new DOMParser,n=`<svg>${e.trim()}</svg>`;if(t.parseFromString(n.replace(/@/g,""),"application/xml").getElementsByTagName("parsererror")[0])throw new Error("Invalid SVG markup");return function SZ(e){const t=[];return Array.from(e.children).forEach(n=>{t.push(KS(n))}),t}(t.parseFromString(n,"text/html").querySelector("svg"))}(n.join(""))}function KS(e){const t={},{tagName:n,attributes:r,namespaceURI:i,style:o,childNodes:s}=e;t.namespaceURI=i,t.tagName=i===ye.namespace.xhtml?n.toLowerCase():n;const a={};for(var c=o.length;c--;){var u=o[c];a[u]=o.getPropertyValue(u)}t.style=a;const d=r.getNamedItem("@selector");d&&(t.selector=d.value,r.removeNamedItem("@selector"));const f=r.getNamedItem("@group-selector");if(f){const A=f.value.split(",");t.groupSelector=A.map(E=>E.trim()),r.removeNamedItem("@group-selector")}const g=r.getNamedItem("class");g&&(t.className=g.value);const m=[];s.forEach(A=>{switch(A.nodeType){case Node.TEXT_NODE:{const E=A.data.replace(/\s\s+/g," ");E.trim()&&m.push(E);break}case Node.ELEMENT_NODE:m.push(KS(A))}}),m.length&&(t.children=m);const C={};return Array.from(r).forEach(A=>{const{name:E,value:_}=A;C[E]=_}),Object.keys(C).length>0&&(t.attributes=C),t}class Ig extends zy{constructor(){super(...arguments),this.markup=[]}defaults(){const t={type:"custom.uml.CustomTextBlock"};return el(t,super.defaults),t}createVariableComponent(t,n,r,i,o,s){const c=new(gr.define("example.Form",{attrs:{foreignObject:{width:"calc(w)",height:"calc(h)"}}},{markup:EZ`
        <foreignObject @selector="foreignObject" height="70" width="70">
            <div
                xmlns="http://www.w3.org/1999/xhtml"
                class="outer"
            >
                <div class="inner">
                    <form class="form">
                        <input @selector="name" type="text" name="name" autocomplete="off" placeholder="Your diagram name"/>
                    </form>
                </div>
            </div>
        </foreignObject>
    `}));return c.position(n,r),c.resize(o,s),c}}class Cg extends zy{constructor(){super(...arguments),this.variablesCounter=0,this.funcCounter=0,this.rectWidth=150,this.rectHeight=100,this.headerHeight=20,this.rectVariablesHeight=(this.rectHeight-this.headerHeight)/2,this.rectFunctionsHeight=(this.rectHeight-this.headerHeight)/2,this.functionComponents=[],this.markup=[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"headerText"},{tagName:"rect",selector:"variablesRect"},{tagName:"rect",selector:"functionsRect"}]}defaults(){this.rectWidth=150,this.rectHeight=100,this.headerHeight=20,this.rectVariablesHeight=(this.rectHeight-this.headerHeight)/2,this.rectFunctionsHeight=(this.rectHeight-this.headerHeight)/2;const t={type:"custom.uml.Classifier",size:{width:this.rectWidth,height:this.rectHeight},attrs:{body:{rx:0,ry:0,strokeWidth:2,stroke:"black"},headerText:{width:this.rectWidth,height:this.headerHeight,fontSize:12,fontWeight:"bold",fontFamily:"Arial, helvetica, sans-serif","ref-y":0,"ref-x":0,ref:"body","text-anchor":"middle"},variablesRect:{width:this.rectWidth,height:this.rectVariablesHeight,fill:"#3498db",stroke:"black","ref-y":this.headerHeight,"ref-x":0,ref:"body"},functionsRect:{width:this.rectWidth,height:this.rectFunctionsHeight,fill:"#9b59b6",stroke:"black","ref-dy":-this.rectFunctionsHeight,"ref-x":0,ref:"body"}}};return el(t,super.defaults),t}updateView(){const t=this.attributes;t.attrs.variablesRect.height=parseInt(t.attrs?.variablesRect?.height?.toString()||"0")+20,this.attr(t.attrs),this.resize(this.attributes.size?.width||0,(this.attributes.size?.height||0)+20)}userInput(t,n){const s=t.target.attributes[0].value;let c,u,d,a=new Ig;switch(s){case"headerText":console.log("Header section double-clicked");break;case"variablesRect":return this.updateView(),d=this.position().y+this.headerHeight+this.variablesCounter,u=a.createVariableComponent("variablesRect",this.position().x,d,n,this.rectWidth,this.headerHeight),this.variablesCounter+=20,this.rectVariablesHeight+=20,this.rectHeight+=20,this.functionComponents.forEach(f=>{let g=f.position();f.position(g.x,g.y+20)}),c=this.attr(),c.body2=u,this.embed(u),u;case"functionsRect":return this.updateView(),d=this.position().y+this.rectHeight-this.rectFunctionsHeight+this.funcCounter+20,u=a.createVariableComponent("functionsRect",this.position().x,d,n,this.rectWidth,this.headerHeight),this.functionComponents.push(u),this.funcCounter+=20,this.adjustSize(this.rectFunctionsHeight),c=this.attr(),c.body2=u,this.embed(u),u;default:console.log("Clicked outside the sections")}return null}adjustSize(t){this.rectHeight+=20,this.rectFunctionsHeight+=20,this.attr("size/height",this.rectHeight)}}function gI(e,t,n){const r=t.split(".");let i=e;for(const o of r.slice(0,-1))i[o]=i[o]||{},i=i[o];return i[r[r.length-1]]=n,e}const xZ=e=>new sg({},{cellNamespace:e}),_Z=e=>{const t=new sg({},{cellNamespace:e});let n=100;const r=i=>{n+=150,i.position(50,n),t.addCell(i)};return r(new hI),r(new Cg),t},eN=(e,t,n,r)=>new DZ({el:e,model:n(t),width:"100%",height:"100%",gridSize:10,drawGrid:!0,interactive:r,cellViewNamespace:t});function PZ(e){return null!=e&&"false"!=`${e}`}let pI=null;function mI(){return pI}class LZ{}const kc=new Rt("DocumentToken");let dN=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new EU,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){hN("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){hN("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(dn(Ws),dn(aa))};static#t=this.\u0275dir=$o({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class EU{constructor(){this.$implicit=null,this.ngIf=null}}function hN(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Rn(t)}'.`)}function vN(e){return"server"===e}const MH=["editor"],EH=["toolbox"];function TH(e,t){1&e&&fh(0,"div",3,4)}let SH=(()=>{class e{set inputId(n){this._inputId.set(n)}set diagram(n){this._inputDiagram.set(n)}constructor(){this.allowEdit=!1,this.diagramChanged=new Vs,this._inputId=Vd(null),this._inputDiagram=Vd(null),this._diagram=Vd(null),this._jointJsPapers=Vd(null),this.jointJsNameSpace=(()=>{const e={...Ot};return gI(e,(new hI).defaults().type,hI),gI(e,(new Cg).defaults().type,Cg),gI(e,(new Ig).defaults().type,Ig),e})(),Am(()=>{const n=this._inputDiagram(),r=this._jointJsPapers();if(!n||!r)return;const i=function rj(e){const t=function nj(e){return decodeURIComponent(e).replace(/ /g,"%20").replace(/!/g,"%21").replace(/#/g,"%23").replace(/\$/g,"%24").replace(/%/g,"%25")}(e);return JSON.parse(t)}(n);try{r.paperEditor.model.fromJSON(i)}catch(o){console.error("error while decoding diagram",o,n),r.paperEditor.model.clear()}}),Am(()=>{const n=this._diagram(),r=this._inputId();if(!r||!n)return void console.warn("inputId or diagram not set");const i=function ij(e){return function tj(e){return encodeURIComponent(e).replace(/%20/g," ").replace(/%21/g,"!").replace(/%23/g,"#").replace(/%24/g,"$").replace(/%25/g,"%")}(JSON.stringify(e))}(n);i!==this._inputDiagram()?this.diagramChanged.emit({inputId:r,diagram:i}):console.warn("diagram not changed")})}ngAfterViewInit(){const n=eN(this.editorRef.nativeElement,this.jointJsNameSpace,xZ,!0);let r=null;this.toolBoxRef&&(r=eN(this.toolBoxRef.nativeElement,this.jointJsNameSpace,_Z,!1)),this.subscribeToEvents(n,r),this._jointJsPapers.set({paperEditor:n,paperToolbox:r})}subscribeToEvents(n,r){n.model.on("change",()=>{this._diagram.set(n.model.toJSON())}),r?.on("element:pointerup",(i,o,s,a)=>{const c=i.model.clone();let u=Math.floor(481*Math.random())+20,d=Math.floor(481*Math.random())+20;c.position(u,d),n.model.addCell(c)}),n.on("cell:mouseenter",function(i){const o=new _z({tools:[new Pz({padding:3,rotate:!0,useModelGeometry:!0}),new Fz({scale:1.2,distance:15})]});i.addTools(o)}),n.on("element:pointerdblclick",function(i,o){if(i.model instanceof Cg){const a=i.model.userInput(o,n);null!=a&&n.model.addCell(a)}else if(!(i.model instanceof Ig))throw new Error("elementView.model is not instanceof UmlClass")}),n.on("cell:mouseleave",function(i){i.removeTools()})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=a0({type:e,selectors:[["uml-editor"]],viewQuery:function(r,i){if(1&r&&(Av(MH,7),Av(EH,5)),2&r){let o;wv(o=bv())&&(i.editorRef=o.first),wv(o=bv())&&(i.toolBoxRef=o.first)}},inputs:{inputId:"inputId",allowEdit:["allowEdit","allowEdit",PZ],diagram:"diagram"},outputs:{diagramChanged:"diagramChanged"},standalone:!0,features:[vA,ZD],decls:3,vars:1,consts:[["class","left",4,"ngIf"],[1,"right"],["editor",""],[1,"left"],["toolbox",""]],template:function(r,i){1&r&&(Ou(0,TH,2,0,"div",0),fh(1,"div",1,2)),2&r&&xm("ngIf",i.allowEdit)},dependencies:[dN],styles:[":host{display:flex;flex-direction:row;height:100%;width:100%;gap:2px}:host .left{width:30%!important;border-radius:4px;box-shadow:#0000003d 0 3px 8px}:host .right{width:70%!important}\n"],encapsulation:3,changeDetection:0})}return e})();function wN(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}class xH extends LZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class OI extends xH{static makeCurrent(){!function kZ(e){pI||(pI=e)}(new OI)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function _H(){return Zf=Zf||document.querySelector("base"),Zf?Zf.getAttribute("href"):null}();return null==n?null:function PH(e){return new URL(e,"http://a").pathname}(n)}resetBaseElement(){Zf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function wU(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Zf=null,kH=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Oe({token:e,factory:e.\u0275fac})}return e})();const kI=new Rt("EventManagerPlugins");let AN=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Fe(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(Nn(kI),Nn(hr))};static#t=this.\u0275prov=Oe({token:e,factory:e.\u0275fac})}return e})();class bN{constructor(t){this._doc=t}}const LI="ng-app-id";let DN=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vN(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${LI}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(LI),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(LI,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(Nn(kc),Nn(Np),Nn(CC,8),Nn(lu))};static#t=this.\u0275prov=Oe({token:e,factory:e.\u0275fac})}return e})();const RI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},FI=/%COMP%/g,jH=new Rt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function EN(e,t){return t.map(n=>n.replace(FI,e))}let TN=(()=>{class e{constructor(n,r,i,o,s,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=vN(a),this.defaultRenderer=new jI(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===gs.ShadowDom&&(r={...r,encapsulation:gs.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof NN?i.applyToHost(n):i instanceof BI&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case gs.Emulated:o=new NN(c,u,r,this.appId,d,s,a,f);break;case gs.ShadowDom:return new VH(c,u,n,r,s,a,this.nonce,f);default:o=new BI(c,u,r,d,s,a,f)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(Nn(AN),Nn(DN),Nn(Np),Nn(jH),Nn(kc),Nn(lu),Nn(hr),Nn(CC))};static#t=this.\u0275prov=Oe({token:e,factory:e.\u0275fac})}return e})();class jI{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(RI[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(SN(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(SN(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new Fe(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=RI[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=RI[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Fa.DashCase|Fa.Important)?t.style.setProperty(n,r,i&Fa.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Fa.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=mI().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function SN(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class VH extends jI{constructor(t,n,r,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=EN(i.id,i.styles);for(const d of u){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class BI extends jI{constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?EN(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class NN extends BI{constructor(t,n,r,i,o,s,a,c){const u=i+"-"+r.id;super(t,n,r,o,s,a,c,u),this.contentAttr=function BH(e){return"_ngcontent-%COMP%".replace(FI,e)}(u),this.hostAttr=function zH(e){return"_nghost-%COMP%".replace(FI,e)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let ZH=(()=>{class e extends bN{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(Nn(kc))};static#t=this.\u0275prov=Oe({token:e,factory:e.\u0275fac})}return e})();const xN=["alt","control","meta","shift"],UH={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HH={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let WH=(()=>{class e extends bN{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mI().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),xN.forEach(u=>{const d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=UH[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),xN.forEach(s=>{s!==i&&(0,HH[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(Nn(kc))};static#t=this.\u0275prov=Oe({token:e,factory:e.\u0275fac})}return e})();function _N(e){return{appProviders:[...KH,...e?.providers??[]],platformProviders:qH}}const qH=[{provide:lu,useValue:"browser"},{provide:IC,useValue:function XH(){OI.makeCurrent()},multi:!0},{provide:kc,useFactory:function JH(){return function U1(e){Sp=e}(document),document},deps:[]}],KH=[{provide:Ap,useValue:"root"},{provide:oa,useFactory:function $H(){return new oa},deps:[]},{provide:kI,useClass:ZH,multi:!0,deps:[kc,hr,lu]},{provide:kI,useClass:WH,multi:!0,deps:[kc]},TN,DN,AN,{provide:yw,useExisting:TN},{provide:class nH{},useClass:kH,deps:[]},[]];typeof window<"u"&&window;const LN={now:()=>(LN.delegate||Date).now(),delegate:void 0};class sW extends pe{constructor(t=1/0,n=1/0,r=LN){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(t),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=r?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}const Og={schedule(e,t){const n=setTimeout(e,t);return()=>clearTimeout(n)},scheduleBeforeRender(e){if(typeof window>"u")return Og.schedule(e,0);if(typeof window.requestAnimationFrame>"u")return Og.schedule(e,16);const t=window.requestAnimationFrame(e);return()=>window.cancelAnimationFrame(t)}};let GI;function pW(e,t,n){let r=n;return function cW(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}(e)&&t.some((i,o)=>!("*"===i||!function lW(e,t){if(!GI){const n=Element.prototype;GI=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}return e.nodeType===Node.ELEMENT_NODE&&GI.call(e,t)}(e,i)||(r=o,0))),r}class vW{constructor(t,n){this.componentFactory=n.get(vu).resolveComponentFactory(t)}create(t){return new yW(this.componentFactory,t)}}class yW{constructor(t,n){this.componentFactory=t,this.injector=n,this.eventEmitters=new sW(1),this.events=this.eventEmitters.pipe(Jn(r=>le(...r))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:r})=>r)),this.ngZone=this.injector.get(hr),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(t){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(t)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=Og.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(t){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(t):this.componentRef.instance[t])}setInputValue(t,n,r){this.runInZone(()=>{r&&(n=r.call(this.componentRef?.instance,n)),null!==this.componentRef?function fW(e,t){return e===t||e!=e&&t!=t}(n,this.getInputValue(t))&&(void 0!==n||!this.unchangedInputs.has(t))||(this.recordInputChange(t,n),this.unchangedInputs.delete(t),this.hasInputChanges=!0,this.componentRef.instance[t]=n,this.scheduleDetectChanges()):this.initialInputValues.set(t,n)})}initializeComponent(t){const n=Jo.create({providers:[],parent:this.injector}),r=function gW(e,t){const n=e.childNodes,r=t.map(()=>[]);let i=-1;t.some((o,s)=>"*"===o&&(i=s,!0));for(let o=0,s=n.length;o<s;++o){const a=n[o],c=pW(a,t,i);-1!==c&&r[c].push(a)}return r}(t,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(n,r,t),this.viewChangeDetectorRef=this.componentRef.injector.get(wm),this.implementsOnChanges=function uW(e){return"function"==typeof e}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(Uu).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:t,transform:n})=>{this.initialInputValues.has(t)&&this.setInputValue(t,this.initialInputValues.get(t),n)}),this.initialInputValues.clear()}initializeOutputs(t){const n=this.componentFactory.outputs.map(({propName:r,templateName:i})=>t.instance[r].pipe(Lt(s=>({name:i,value:s}))));this.eventEmitters.next(n)}callNgOnChanges(t){if(!this.implementsOnChanges||null===this.inputChanges)return;const n=this.inputChanges;this.inputChanges=null,t.instance.ngOnChanges(n)}markViewForCheck(t){this.hasInputChanges&&(this.hasInputChanges=!1,t.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=Og.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(t,n){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const r=this.inputChanges[t];if(r)return void(r.currentValue=n);const i=this.unchangedInputs.has(t),o=i?void 0:this.getInputValue(t);this.inputChanges[t]=new v0(o,n,i)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(t){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(t):t()}}class IW extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function VI(){return VI=function NH(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(c){wN(o,r,i,s,a,"next",c)}function a(c){wN(o,r,i,s,a,"throw",c)}s(void 0)})}}(function*(e,t){try{const n=yield function YH(e,t){return AF({rootComponent:e,..._N(t)})}(t);!function wW(e,t,n){try{const r=function CW(e,t){const n=function hW(e,t){return t.get(vu).resolveComponentFactory(e).inputs}(e,t.injector),r=t.strategyFactory||new vW(e,t.injector),i=function dW(e){const t={};return e.forEach(({propName:n,templateName:r,transform:i})=>{t[function aW(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}(r)]=[n,i]}),t}(n);class o extends IW{static#e=this.observedAttributes=Object.keys(i);get ngElementStrategy(){if(!this._ngElementStrategy){const a=this._ngElementStrategy=r.create(this.injector||t.injector);n.forEach(({propName:c,transform:u})=>{if(!this.hasOwnProperty(c))return;const d=this[c];delete this[c],a.setInputValue(c,d,u)})}return this._ngElementStrategy}constructor(a){super(),this.injector=a}attributeChangedCallback(a,c,u,d){const[f,g]=i[a];this.ngElementStrategy.setInputValue(f,u,g)}connectedCallback(){let a=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),a=!0),this.ngElementStrategy.connect(this),a||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(a=>{const c=new CustomEvent(a.name,{detail:a.value});this.dispatchEvent(c)})}}return n.forEach(({propName:s,transform:a})=>{Object.defineProperty(o.prototype,s,{get(){return this.ngElementStrategy.getInputValue(s)},set(c){this.ngElementStrategy.setInputValue(s,c,a)},configurable:!0,enumerable:!0})}),o}(t,{injector:n});customElements.define(e,r)}catch(r){console.error(r)}}(e,t,n.injector)}catch(n){console.error(n)}}),VI.apply(this,arguments)}Mt(332),function AW(e,t){return VI.apply(this,arguments)}("uml-editor",SH).then(()=>console.debug("UmlEditorComponent loaded"))})()})();