(()=>{var EP={717:(Jn,Ir,Kn)=>{var Li,At,gt;gt="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global,Li=[Kn(670),Kn(276),Ir],void 0!==(At=function(Sr,Yn,Jt){gt.Backbone=function(Rr,gt,Oe,rr){var Sr=Rr.Backbone,Yn=Array.prototype.slice;gt.VERSION="1.4.1",gt.$=rr,gt.noConflict=function(){return Rr.Backbone=Sr,this},gt.emulateHTTP=!1,gt.emulateJSON=!1;var Nr,Jt=gt.Events={},Ci=/\s+/,Zt=function(x,O,z,ae,Te){var B,Pe=0;if(z&&"object"==typeof z)for((void 0!==ae&&"context"in Te&&void 0===Te.context&&(Te.context=ae),B=Oe.keys(z));Pe<B.length;Pe++)O=Zt(x,O,B[Pe],z[B[Pe]],Te);else if(z&&Ci.test(z))for(B=z.split(Ci);Pe<B.length;Pe++)O=x(O,B[Pe],ae,Te);else O=x(O,z,ae,Te);return O};Jt.on=function(x,O,z){return this._events=Zt(Ki,this._events||{},x,O,{context:z,ctx:this,listening:Nr}),Nr&&((this._listeners||(this._listeners={}))[Nr.id]=Nr,Nr.interop=!1),this},Jt.listenTo=function(x,O,z){if(!x)return this;var ae=x._listenId||(x._listenId=Oe.uniqueId("l")),Te=this._listeningTo||(this._listeningTo={}),Pe=Nr=Te[ae];Pe||(this._listenId||(this._listenId=Oe.uniqueId("l")),Pe=Nr=Te[ae]=new Lo(this,x));var B=_i(x,O,z,this);if(Nr=void 0,B)throw B;return Pe.interop&&Pe.on(O,z),this};var Ki=function(x,O,z,ae){if(z){var Te=x[O]||(x[O]=[]),Pe=ae.context,B=ae.ctx,Y=ae.listening;Y&&Y.count++,Te.push({callback:z,context:Pe,ctx:Pe||B,listening:Y})}return x},_i=function(x,O,z,ae){try{x.on(O,z,ae)}catch(Te){return Te}};Jt.off=function(x,O,z){return this._events?(this._events=Zt(st,this._events,x,O,{context:z,listeners:this._listeners}),this):this},Jt.stopListening=function(x,O,z){var ae=this._listeningTo;if(!ae)return this;for(var Te=x?[x._listenId]:Oe.keys(ae),Pe=0;Pe<Te.length;Pe++){var B=ae[Te[Pe]];if(!B)break;B.obj.off(O,z,this),B.interop&&B.off(O,z)}return Oe.isEmpty(ae)&&(this._listeningTo=void 0),this};var st=function(x,O,z,ae){if(x){var Y,Te=ae.context,Pe=ae.listeners,B=0;if(!O&&!Te&&!z){for(Y=Oe.keys(Pe);B<Y.length;B++)Pe[Y[B]].cleanup();return}for(Y=O?[O]:Oe.keys(x);B<Y.length;B++){var ve=x[O=Y[B]];if(!ve)break;for(var ge=[],Q=0;Q<ve.length;Q++){var _e=ve[Q];if(z&&z!==_e.callback&&z!==_e.callback._callback||Te&&Te!==_e.context)ge.push(_e);else{var Je=_e.listening;Je&&Je.off(O,z)}}ge.length?x[O]=ge:delete x[O]}return x}};Jt.once=function(x,O,z){var ae=Zt(kt,{},x,O,this.off.bind(this));return"string"==typeof x&&null==z&&(O=void 0),this.on(ae,O,z)},Jt.listenToOnce=function(x,O,z){var ae=Zt(kt,{},O,z,this.stopListening.bind(this,x));return this.listenTo(x,ae)};var kt=function(x,O,z,ae){if(z){var Te=x[O]=Oe.once(function(){ae(O,Te),z.apply(this,arguments)});Te._callback=z}return x};Jt.trigger=function(x){if(!this._events)return this;for(var O=Math.max(0,arguments.length-1),z=Array(O),ae=0;ae<O;ae++)z[ae]=arguments[ae+1];return Zt(pi,this._events,x,void 0,z),this};var pi=function(x,O,z,ae){if(x){var Te=x[O],Pe=x.all;Te&&Pe&&(Pe=Pe.slice()),Te&&St(Te,ae),Pe&&St(Pe,[O].concat(ae))}return x},St=function(x,O){var z,ae=-1,Te=x.length,Pe=O[0],B=O[1],Y=O[2];switch(O.length){case 0:for(;++ae<Te;)(z=x[ae]).callback.call(z.ctx);return;case 1:for(;++ae<Te;)(z=x[ae]).callback.call(z.ctx,Pe);return;case 2:for(;++ae<Te;)(z=x[ae]).callback.call(z.ctx,Pe,B);return;case 3:for(;++ae<Te;)(z=x[ae]).callback.call(z.ctx,Pe,B,Y);return;default:for(;++ae<Te;)(z=x[ae]).callback.apply(z.ctx,O);return}},Lo=function(x,O){this.id=x._listenId,this.listener=x,this.obj=O,this.interop=!0,this.count=0,this._events=void 0};Lo.prototype.on=Jt.on,Lo.prototype.off=function(x,O){var z;this.interop?(this._events=Zt(st,this._events,x,O,{context:void 0,listeners:void 0}),z=!this._events):(this.count--,z=0===this.count),z&&this.cleanup()},Lo.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},Jt.bind=Jt.on,Jt.unbind=Jt.off,Oe.extend(gt,Jt);var Fi=gt.Model=function(x,O){var z=x||{};O||(O={}),this.preinitialize.apply(this,arguments),this.cid=Oe.uniqueId(this.cidPrefix),this.attributes={},O.collection&&(this.collection=O.collection),O.parse&&(z=this.parse(z,O)||{});var ae=Oe.result(this,"defaults");z=Oe.defaults(Oe.extend({},ae,z),ae),this.set(z,O),this.changed={},this.initialize.apply(this,arguments)};Oe.extend(Fi.prototype,Jt,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(x){return Oe.clone(this.attributes)},sync:function(){return gt.sync.apply(this,arguments)},get:function(x){return this.attributes[x]},escape:function(x){return Oe.escape(this.get(x))},has:function(x){return null!=this.get(x)},matches:function(x){return!!Oe.iteratee(x,this)(this.attributes)},set:function(x,O,z){if(null==x)return this;var ae;if("object"==typeof x?(ae=x,z=O):(ae={})[x]=O,z||(z={}),!this._validate(ae,z))return!1;var Te=z.unset,Pe=z.silent,B=[],Y=this._changing;this._changing=!0,Y||(this._previousAttributes=Oe.clone(this.attributes),this.changed={});var ve=this.attributes,ge=this.changed,Q=this._previousAttributes;for(var _e in ae)Oe.isEqual(ve[_e],O=ae[_e])||B.push(_e),Oe.isEqual(Q[_e],O)?delete ge[_e]:ge[_e]=O,Te?delete ve[_e]:ve[_e]=O;if(this.idAttribute in ae){var Je=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,Je,z)}if(!Pe){B.length&&(this._pending=z);for(var je=0;je<B.length;je++)this.trigger("change:"+B[je],this,ve[B[je]],z)}if(Y)return this;if(!Pe)for(;this._pending;)z=this._pending,this._pending=!1,this.trigger("change",this,z);return this._pending=!1,this._changing=!1,this},unset:function(x,O){return this.set(x,void 0,Oe.extend({},O,{unset:!0}))},clear:function(x){var O={};for(var z in this.attributes)O[z]=void 0;return this.set(O,Oe.extend({},x,{unset:!0}))},hasChanged:function(x){return null==x?!Oe.isEmpty(this.changed):Oe.has(this.changed,x)},changedAttributes:function(x){if(!x)return!!this.hasChanged()&&Oe.clone(this.changed);var ae,O=this._changing?this._previousAttributes:this.attributes,z={};for(var Te in x){var Pe=x[Te];Oe.isEqual(O[Te],Pe)||(z[Te]=Pe,ae=!0)}return!!ae&&z},previous:function(x){return null!=x&&this._previousAttributes?this._previousAttributes[x]:null},previousAttributes:function(){return Oe.clone(this._previousAttributes)},fetch:function(x){x=Oe.extend({parse:!0},x);var O=this,z=x.success;return x.success=function(ae){var Te=x.parse?O.parse(ae,x):ae;if(!O.set(Te,x))return!1;z&&z.call(x.context,O,ae,x),O.trigger("sync",O,ae,x)},Ui(this,x),this.sync("read",this,x)},save:function(x,O,z){var ae;null==x||"object"==typeof x?(ae=x,z=O):(ae={})[x]=O;var Te=(z=Oe.extend({validate:!0,parse:!0},z)).wait;if(ae&&!Te){if(!this.set(ae,z))return!1}else if(!this._validate(ae,z))return!1;var Pe=this,B=z.success,Y=this.attributes;z.success=function(Q){Pe.attributes=Y;var _e=z.parse?Pe.parse(Q,z):Q;if(Te&&(_e=Oe.extend({},ae,_e)),_e&&!Pe.set(_e,z))return!1;B&&B.call(z.context,Pe,Q,z),Pe.trigger("sync",Pe,Q,z)},Ui(this,z),ae&&Te&&(this.attributes=Oe.extend({},Y,ae));var ve=this.isNew()?"create":z.patch?"patch":"update";"patch"===ve&&!z.attrs&&(z.attrs=ae);var ge=this.sync(ve,this,z);return this.attributes=Y,ge},destroy:function(x){x=x?Oe.clone(x):{};var O=this,z=x.success,ae=x.wait,Te=function(){O.stopListening(),O.trigger("destroy",O,O.collection,x)};x.success=function(B){ae&&Te(),z&&z.call(x.context,O,B,x),O.isNew()||O.trigger("sync",O,B,x)};var Pe=!1;return this.isNew()?Oe.defer(x.success):(Ui(this,x),Pe=this.sync("delete",this,x)),ae||Te(),Pe},url:function(){var x=Oe.result(this,"urlRoot")||Oe.result(this.collection,"url")||Ai();if(this.isNew())return x;var O=this.get(this.idAttribute);return x.replace(/[^\/]$/,"$&/")+encodeURIComponent(O)},parse:function(x,O){return x},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(x){return this._validate({},Oe.extend({},x,{validate:!0}))},_validate:function(x,O){if(!O.validate||!this.validate)return!0;x=Oe.extend({},this.attributes,x);var z=this.validationError=this.validate(x,O)||null;return!z||(this.trigger("invalid",this,z,Oe.extend(O,{validationError:z})),!1)}});var hn=gt.Collection=function(x,O){O||(O={}),this.preinitialize.apply(this,arguments),O.model&&(this.model=O.model),void 0!==O.comparator&&(this.comparator=O.comparator),this._reset(),this.initialize.apply(this,arguments),x&&this.reset(x,Oe.extend({silent:!0},O))},Wn={add:!0,remove:!0,merge:!0},Zr={add:!0,remove:!1},I=function(x,O,z){z=Math.min(Math.max(z,0),x.length);var Pe,ae=Array(x.length-z),Te=O.length;for(Pe=0;Pe<ae.length;Pe++)ae[Pe]=x[Pe+z];for(Pe=0;Pe<Te;Pe++)x[Pe+z]=O[Pe];for(Pe=0;Pe<ae.length;Pe++)x[Pe+Te+z]=ae[Pe]};Oe.extend(hn.prototype,Jt,{model:Fi,preinitialize:function(){},initialize:function(){},toJSON:function(x){return this.map(function(O){return O.toJSON(x)})},sync:function(){return gt.sync.apply(this,arguments)},add:function(x,O){return this.set(x,Oe.extend({merge:!1},O,Zr))},remove:function(x,O){O=Oe.extend({},O);var z=!Oe.isArray(x);x=z?[x]:x.slice();var ae=this._removeModels(x,O);return!O.silent&&ae.length&&(O.changes={added:[],merged:[],removed:ae},this.trigger("update",this,O)),z?ae[0]:ae},set:function(x,O){if(null!=x){(O=Oe.extend({},Wn,O)).parse&&!this._isModel(x)&&(x=this.parse(x,O)||[]);var z=!Oe.isArray(x);x=z?[x]:x.slice();var ae=O.at;null!=ae&&(ae=+ae),ae>this.length&&(ae=this.length),ae<0&&(ae+=this.length+1);var Fe,$e,Te=[],Pe=[],B=[],Y=[],ve={},ge=O.add,Q=O.merge,_e=O.remove,Je=!1,je=this.comparator&&null==ae&&!1!==O.sort,Pt=Oe.isString(this.comparator)?this.comparator:null;for($e=0;$e<x.length;$e++){var Dt=this.get(Fe=x[$e]);if(Dt){if(Q&&Fe!==Dt){var wt=this._isModel(Fe)?Fe.attributes:Fe;O.parse&&(wt=Dt.parse(wt,O)),Dt.set(wt,O),B.push(Dt),je&&!Je&&(Je=Dt.hasChanged(Pt))}ve[Dt.cid]||(ve[Dt.cid]=!0,Te.push(Dt)),x[$e]=Dt}else ge&&(Fe=x[$e]=this._prepareModel(Fe,O))&&(Pe.push(Fe),this._addReference(Fe,O),ve[Fe.cid]=!0,Te.push(Fe))}if(_e){for($e=0;$e<this.length;$e++)ve[(Fe=this.models[$e]).cid]||Y.push(Fe);Y.length&&this._removeModels(Y,O)}var ut=!1;if(Te.length&&!je&&ge&&_e?(ut=this.length!==Te.length||Oe.some(this.models,function(dn,Xn){return dn!==Te[Xn]}),this.models.length=0,I(this.models,Te,0),this.length=this.models.length):Pe.length&&(je&&(Je=!0),I(this.models,Pe,ae??this.length),this.length=this.models.length),Je&&this.sort({silent:!0}),!O.silent){for($e=0;$e<Pe.length;$e++)null!=ae&&(O.index=ae+$e),(Fe=Pe[$e]).trigger("add",Fe,this,O);(Je||ut)&&this.trigger("sort",this,O),(Pe.length||Y.length||B.length)&&(O.changes={added:Pe,removed:Y,merged:B},this.trigger("update",this,O))}return z?x[0]:x}},reset:function(x,O){O=O?Oe.clone(O):{};for(var z=0;z<this.models.length;z++)this._removeReference(this.models[z],O);return O.previousModels=this.models,this._reset(),x=this.add(x,Oe.extend({silent:!0},O)),O.silent||this.trigger("reset",this,O),x},push:function(x,O){return this.add(x,Oe.extend({at:this.length},O))},pop:function(x){var O=this.at(this.length-1);return this.remove(O,x)},unshift:function(x,O){return this.add(x,Oe.extend({at:0},O))},shift:function(x){var O=this.at(0);return this.remove(O,x)},slice:function(){return Yn.apply(this.models,arguments)},get:function(x){if(null!=x)return this._byId[x]||this._byId[this.modelId(this._isModel(x)?x.attributes:x,x.idAttribute)]||x.cid&&this._byId[x.cid]},has:function(x){return null!=this.get(x)},at:function(x){return x<0&&(x+=this.length),this.models[x]},where:function(x,O){return this[O?"find":"filter"](x)},findWhere:function(x){return this.where(x,!0)},sort:function(x){var O=this.comparator;if(!O)throw new Error("Cannot sort a set without a comparator");x||(x={});var z=O.length;return Oe.isFunction(O)&&(O=O.bind(this)),1===z||Oe.isString(O)?this.models=this.sortBy(O):this.models.sort(O),x.silent||this.trigger("sort",this,x),this},pluck:function(x){return this.map(x+"")},fetch:function(x){var O=(x=Oe.extend({parse:!0},x)).success,z=this;return x.success=function(ae){z[x.reset?"reset":"set"](ae,x),O&&O.call(x.context,z,ae,x),z.trigger("sync",z,ae,x)},Ui(this,x),this.sync("read",this,x)},create:function(x,O){var z=(O=O?Oe.clone(O):{}).wait;if(!(x=this._prepareModel(x,O)))return!1;z||this.add(x,O);var ae=this,Te=O.success;return O.success=function(Pe,B,Y){z&&ae.add(Pe,Y),Te&&Te.call(Y.context,Pe,B,Y)},x.save(null,O),x},parse:function(x,O){return x},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(x,O){return x[O||this.model.prototype.idAttribute||"id"]},values:function(){return new ln(this,ns)},keys:function(){return new ln(this,kn)},entries:function(){return new ln(this,gi)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(x,O){return this._isModel(x)?(x.collection||(x.collection=this),x):((O=O?Oe.clone(O):{}).collection=this,(z=this.model.prototype?new this.model(x,O):this.model(x,O)).validationError?(this.trigger("invalid",this,z.validationError,O),!1):z);var z},_removeModels:function(x,O){for(var z=[],ae=0;ae<x.length;ae++){var Te=this.get(x[ae]);if(Te){var Pe=this.indexOf(Te);this.models.splice(Pe,1),this.length--,delete this._byId[Te.cid];var B=this.modelId(Te.attributes,Te.idAttribute);null!=B&&delete this._byId[B],O.silent||(O.index=Pe,Te.trigger("remove",Te,this,O)),z.push(Te),this._removeReference(Te,O)}}return z},_isModel:function(x){return x instanceof Fi},_addReference:function(x,O){this._byId[x.cid]=x;var z=this.modelId(x.attributes,x.idAttribute);null!=z&&(this._byId[z]=x),x.on("all",this._onModelEvent,this)},_removeReference:function(x,O){delete this._byId[x.cid];var z=this.modelId(x.attributes,x.idAttribute);null!=z&&delete this._byId[z],this===x.collection&&delete x.collection,x.off("all",this._onModelEvent,this)},_onModelEvent:function(x,O,z,ae){if(O){if(("add"===x||"remove"===x)&&z!==this)return;if("destroy"===x&&this.remove(O,ae),"changeId"===x){var Te=this.modelId(O.previousAttributes(),O.idAttribute),Pe=this.modelId(O.attributes,O.idAttribute);null!=Te&&delete this._byId[Te],null!=Pe&&(this._byId[Pe]=O)}}this.trigger.apply(this,arguments)}});var bn="function"==typeof Symbol&&Symbol.iterator;bn&&(hn.prototype[bn]=hn.prototype.values);var ln=function(x,O){this._collection=x,this._kind=O,this._index=0},ns=1,kn=2,gi=3;bn&&(ln.prototype[bn]=function(){return this}),ln.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var O,x=this._collection.at(this._index);if(this._index++,this._kind===ns)O=x;else{var z=this._collection.modelId(x.attributes,x.idAttribute);O=this._kind===kn?z:[z,x]}return{value:O,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var Wt=gt.View=function(x){this.cid=Oe.uniqueId("view"),this.preinitialize.apply(this,arguments),Oe.extend(this,Oe.pick(x,ni)),this._ensureElement(),this.initialize.apply(this,arguments)},Co=/^(\S+)\s*(.*)$/,ni=["model","collection","el","id","attributes","className","tagName","events"];Oe.extend(Wt.prototype,Jt,{tagName:"div",$:function(x){return this.$el.find(x)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(x){return this.undelegateEvents(),this._setElement(x),this.delegateEvents(),this},_setElement:function(x){this.$el=x instanceof gt.$?x:gt.$(x),this.el=this.$el[0]},delegateEvents:function(x){if(x||(x=Oe.result(this,"events")),!x)return this;for(var O in this.undelegateEvents(),x){var z=x[O];if(Oe.isFunction(z)||(z=this[z]),z){var ae=O.match(Co);this.delegate(ae[1],ae[2],z.bind(this))}}return this},delegate:function(x,O,z){return this.$el.on(x+".delegateEvents"+this.cid,O,z),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(x,O,z){return this.$el.off(x+".delegateEvents"+this.cid,O,z),this},_createElement:function(x){return document.createElement(x)},_ensureElement:function(){if(this.el)this.setElement(Oe.result(this,"el"));else{var x=Oe.extend({},Oe.result(this,"attributes"));this.id&&(x.id=Oe.result(this,"id")),this.className&&(x.class=Oe.result(this,"className")),this.setElement(this._createElement(Oe.result(this,"tagName"))),this._setAttributes(x)}},_setAttributes:function(x){this.$el.attr(x)}});var wr=function(x,O,z,ae){Oe.each(z,function(Te,Pe){O[Pe]&&(x.prototype[Pe]=function(x,O,z,ae){switch(O){case 1:return function(){return x[z](this[ae])};case 2:return function(Te){return x[z](this[ae],Te)};case 3:return function(Te,Pe){return x[z](this[ae],Qi(Te,this),Pe)};case 4:return function(Te,Pe,B){return x[z](this[ae],Qi(Te,this),Pe,B)};default:return function(){var Te=Yn.call(arguments);return Te.unshift(this[ae]),x[z].apply(x,Te)}}}(O,Te,Pe,ae))})},Qi=function(x,O){return Oe.isFunction(x)?x:Oe.isObject(x)&&!O._isModel(x)?Bi(x):Oe.isString(x)?function(z){return z.get(x)}:x},Bi=function(x){var O=Oe.matches(x);return function(z){return O(z.attributes)}};Oe.each([[hn,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[Fi,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],function(x){var O=x[0],z=x[1],ae=x[2];O.mixin=function(Te){var Pe=Oe.reduce(Oe.functions(Te),function(B,Y){return B[Y]=0,B},{});wr(O,Te,Pe,ae)},wr(O,Oe,z,ae)}),gt.sync=function(x,O,z){var ae=Ar[x];Oe.defaults(z||(z={}),{emulateHTTP:gt.emulateHTTP,emulateJSON:gt.emulateJSON});var Te={type:ae,dataType:"json"};if(z.url||(Te.url=Oe.result(O,"url")||Ai()),null==z.data&&O&&("create"===x||"update"===x||"patch"===x)&&(Te.contentType="application/json",Te.data=JSON.stringify(z.attrs||O.toJSON(z))),z.emulateJSON&&(Te.contentType="application/x-www-form-urlencoded",Te.data=Te.data?{model:Te.data}:{}),z.emulateHTTP&&("PUT"===ae||"DELETE"===ae||"PATCH"===ae)){Te.type="POST",z.emulateJSON&&(Te.data._method=ae);var Pe=z.beforeSend;z.beforeSend=function(ve){if(ve.setRequestHeader("X-HTTP-Method-Override",ae),Pe)return Pe.apply(this,arguments)}}"GET"!==Te.type&&!z.emulateJSON&&(Te.processData=!1);var B=z.error;z.error=function(ve,ge,Q){z.textStatus=ge,z.errorThrown=Q,B&&B.call(z.context,ve,ge,Q)};var Y=z.xhr=gt.ajax(Oe.extend(Te,z));return O.trigger("request",O,Y,z),Y};var Ar={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};gt.ajax=function(){return gt.$.ajax.apply(gt.$,arguments)};var eo=gt.Router=function(x){x||(x={}),this.preinitialize.apply(this,arguments),x.routes&&(this.routes=x.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},zi=/\((.*?)\)/g,_o=/(\(\?)?:\w+/g,to=/\*\w+/g,Ao=/[\-{}\[\]+?.,\\\^$|#\s]/g;Oe.extend(eo.prototype,Jt,{preinitialize:function(){},initialize:function(){},route:function(x,O,z){Oe.isRegExp(x)||(x=this._routeToRegExp(x)),Oe.isFunction(O)&&(z=O,O=""),z||(z=this[O]);var ae=this;return gt.history.route(x,function(Te){var Pe=ae._extractParameters(x,Te);!1!==ae.execute(z,Pe,O)&&(ae.trigger.apply(ae,["route:"+O].concat(Pe)),ae.trigger("route",O,Pe),gt.history.trigger("route",ae,O,Pe))}),this},execute:function(x,O,z){x&&x.apply(this,O)},navigate:function(x,O){return gt.history.navigate(x,O),this},_bindRoutes:function(){if(this.routes){this.routes=Oe.result(this,"routes");for(var x,O=Oe.keys(this.routes);null!=(x=O.pop());)this.route(x,this.routes[x])}},_routeToRegExp:function(x){return x=x.replace(Ao,"\\$&").replace(zi,"(?:$1)?").replace(_o,function(O,z){return z?O:"([^/?]+)"}).replace(to,"([^?]*?)"),new RegExp("^"+x+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(x,O){var z=x.exec(O).slice(1);return Oe.map(z,function(ae,Te){return Te===z.length-1?ae||null:ae?decodeURIComponent(ae):null})}});var Dr=gt.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Vi=/^[#\/]|\s+$/g,ri=/^\/+|\/+$/g,Fo=/#.*$/;Dr.started=!1,Oe.extend(Dr.prototype,Jt,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(x){return decodeURI(x.replace(/%25/g,"%2525"))},getSearch:function(){var x=this.location.href.replace(/#.*/,"").match(/\?.+/);return x?x[0]:""},getHash:function(x){var O=(x||this).location.href.match(/#(.*)$/);return O?O[1]:""},getPath:function(){var x=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===x.charAt(0)?x.slice(1):x},getFragment:function(x){return null==x&&(x=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),x.replace(Vi,"")},start:function(x){if(Dr.started)throw new Error("Backbone.history has already been started");if(Dr.started=!0,this.options=Oe.extend({root:"/"},this.options,x),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(ri,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var O=this.root.slice(0,-1)||"/";return this.location.replace(O+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var z=document.body,ae=z.insertBefore(this.iframe,z.firstChild).contentWindow;ae.document.open(),ae.document.close(),ae.location.hash="#"+this.fragment}var Te=window.addEventListener||function(Pe,B){return attachEvent("on"+Pe,B)};if(this._usePushState?Te("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Te("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var x=window.removeEventListener||function(O,z){return detachEvent("on"+O,z)};this._usePushState?x("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&x("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Dr.started=!1},route:function(x,O){this.handlers.unshift({route:x,callback:O})},checkUrl:function(x){var O=this.getFragment();if(O===this.fragment&&this.iframe&&(O=this.getHash(this.iframe.contentWindow)),O===this.fragment)return!1;this.iframe&&this.navigate(O),this.loadUrl()},loadUrl:function(x){return!!this.matchRoot()&&(x=this.fragment=this.getFragment(x),Oe.some(this.handlers,function(O){if(O.route.test(x))return O.callback(x),!0}))},navigate:function(x,O){if(!Dr.started)return!1;(!O||!0===O)&&(O={trigger:!!O}),x=this.getFragment(x||"");var z=this.root;(""===x||"?"===x.charAt(0))&&(z=z.slice(0,-1)||"/");var ae=z+x;x=x.replace(Fo,"");var Te=this.decodeFragment(x);if(this.fragment!==Te){if(this.fragment=Te,this._usePushState)this.history[O.replace?"replaceState":"pushState"]({},document.title,ae);else{if(!this._wantsHashChange)return this.location.assign(ae);if(this._updateHash(this.location,x,O.replace),this.iframe&&x!==this.getHash(this.iframe.contentWindow)){var Pe=this.iframe.contentWindow;O.replace||(Pe.document.open(),Pe.document.close()),this._updateHash(Pe.location,x,O.replace)}}if(O.trigger)return this.loadUrl(x)}},_updateHash:function(x,O,z){if(z){var ae=x.href.replace(/(javascript:|#).*$/,"");x.replace(ae+"#"+O)}else x.hash="#"+O}}),gt.history=new Dr;Fi.extend=hn.extend=eo.extend=Wt.extend=Dr.extend=function(x,O){var ae,z=this;return ae=x&&Oe.has(x,"constructor")?x.constructor:function(){return z.apply(this,arguments)},Oe.extend(ae,z,O),ae.prototype=Oe.create(z.prototype,x),ae.prototype.constructor=ae,ae.__super__=z.prototype,ae};var Ai=function(){throw new Error('A "url" property or function must be specified')},Ui=function(x,O){var z=O.error;O.error=function(ae){z&&z.call(O.context,x,ae,O),x.trigger("error",x,ae,O)}};return gt}(gt,Jt,Sr,Yn)}.apply(Ir,Li))&&(Jn.exports=At)},276:function(Jn,Ir){var Li;!function(At,Rr){"use strict";"object"==typeof Jn.exports?Jn.exports=At.document?Rr(At,!0):function(gt){if(!gt.document)throw new Error("jQuery requires a window with a document");return Rr(gt)}:Rr(At)}(typeof window<"u"?window:this,function(At,Rr){"use strict";var gt=[],Oe=Object.getPrototypeOf,rr=gt.slice,Sr=gt.flat?function(f){return gt.flat.call(f)}:function(f){return gt.concat.apply([],f)},Yn=gt.push,Jt=gt.indexOf,Ci={},Nr=Ci.toString,Zt=Ci.hasOwnProperty,Ki=Zt.toString,_i=Ki.call(Object),st={},kt=function(h){return"function"==typeof h&&"number"!=typeof h.nodeType&&"function"!=typeof h.item},pi=function(h){return null!=h&&h===h.window},St=At.document,Lo={type:!0,src:!0,nonce:!0,noModule:!0};function Fi(f,h,m){var y,_,D=(m=m||St).createElement("script");if(D.text=f,h)for(y in Lo)(_=h[y]||h.getAttribute&&h.getAttribute(y))&&D.setAttribute(y,_);m.head.appendChild(D).parentNode.removeChild(D)}function hn(f){return null==f?f+"":"object"==typeof f||"function"==typeof f?Ci[Nr.call(f)]||"object":typeof f}var Zr=/HTML$/i,I=function(f,h){return new I.fn.init(f,h)};function bn(f){var h=!!f&&"length"in f&&f.length,m=hn(f);return!kt(f)&&!pi(f)&&("array"===m||0===h||"number"==typeof h&&h>0&&h-1 in f)}function ln(f,h){return f.nodeName&&f.nodeName.toLowerCase()===h.toLowerCase()}I.fn=I.prototype={jquery:"3.7.1",constructor:I,length:0,toArray:function(){return rr.call(this)},get:function(f){return null==f?rr.call(this):f<0?this[f+this.length]:this[f]},pushStack:function(f){var h=I.merge(this.constructor(),f);return h.prevObject=this,h},each:function(f){return I.each(this,f)},map:function(f){return this.pushStack(I.map(this,function(h,m){return f.call(h,m,h)}))},slice:function(){return this.pushStack(rr.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(I.grep(this,function(f,h){return(h+1)%2}))},odd:function(){return this.pushStack(I.grep(this,function(f,h){return h%2}))},eq:function(f){var h=this.length,m=+f+(f<0?h:0);return this.pushStack(m>=0&&m<h?[this[m]]:[])},end:function(){return this.prevObject||this.constructor()},push:Yn,sort:gt.sort,splice:gt.splice},I.extend=I.fn.extend=function(){var f,h,m,y,_,D,S=arguments[0]||{},H=1,G=arguments.length,se=!1;for("boolean"==typeof S&&(se=S,S=arguments[H]||{},H++),"object"!=typeof S&&!kt(S)&&(S={}),H===G&&(S=this,H--);H<G;H++)if(null!=(f=arguments[H]))for(h in f)y=f[h],"__proto__"!==h&&S!==y&&(se&&y&&(I.isPlainObject(y)||(_=Array.isArray(y)))?(m=S[h],D=_&&!Array.isArray(m)?[]:_||I.isPlainObject(m)?m:{},_=!1,S[h]=I.extend(se,D,y)):void 0!==y&&(S[h]=y));return S},I.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(f){throw new Error(f)},noop:function(){},isPlainObject:function(f){var h,m;return!(!f||"[object Object]"!==Nr.call(f)||(h=Oe(f))&&("function"!=typeof(m=Zt.call(h,"constructor")&&h.constructor)||Ki.call(m)!==_i))},isEmptyObject:function(f){var h;for(h in f)return!1;return!0},globalEval:function(f,h,m){Fi(f,{nonce:h&&h.nonce},m)},each:function(f,h){var m,y=0;if(bn(f))for(m=f.length;y<m&&!1!==h.call(f[y],y,f[y]);y++);else for(y in f)if(!1===h.call(f[y],y,f[y]))break;return f},text:function(f){var h,m="",y=0,_=f.nodeType;if(!_)for(;h=f[y++];)m+=I.text(h);return 1===_||11===_?f.textContent:9===_?f.documentElement.textContent:3===_||4===_?f.nodeValue:m},makeArray:function(f,h){var m=h||[];return null!=f&&(bn(Object(f))?I.merge(m,"string"==typeof f?[f]:f):Yn.call(m,f)),m},inArray:function(f,h,m){return null==h?-1:Jt.call(h,f,m)},isXMLDoc:function(f){var m=f&&(f.ownerDocument||f).documentElement;return!Zr.test(f&&f.namespaceURI||m&&m.nodeName||"HTML")},merge:function(f,h){for(var m=+h.length,y=0,_=f.length;y<m;y++)f[_++]=h[y];return f.length=_,f},grep:function(f,h,m){for(var _=[],D=0,S=f.length,H=!m;D<S;D++)!h(f[D],D)!==H&&_.push(f[D]);return _},map:function(f,h,m){var y,_,D=0,S=[];if(bn(f))for(y=f.length;D<y;D++)null!=(_=h(f[D],D,m))&&S.push(_);else for(D in f)null!=(_=h(f[D],D,m))&&S.push(_);return Sr(S)},guid:1,support:st}),"function"==typeof Symbol&&(I.fn[Symbol.iterator]=gt[Symbol.iterator]),I.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(f,h){Ci["[object "+h+"]"]=h.toLowerCase()});var ns=gt.pop,kn=gt.sort,gi=gt.splice,Wt="[\\x20\\t\\r\\n\\f]",Co=new RegExp("^"+Wt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Wt+"+$","g");I.contains=function(f,h){var m=h&&h.parentNode;return f===m||!(!m||1!==m.nodeType||!(f.contains?f.contains(m):f.compareDocumentPosition&&16&f.compareDocumentPosition(m)))};var ni=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function rs(f,h){return h?"\0"===f?"\ufffd":f.slice(0,-1)+"\\"+f.charCodeAt(f.length-1).toString(16)+" ":"\\"+f}I.escapeSelector=function(f){return(f+"").replace(ni,rs)};var wr=St,Qi=Yn;!function(){var f,h,m,y,_,S,H,G,se,we,D=Qi,De=I.expando,pe=0,Be=0,Ft=ie(),Yt=ie(),Gt=ie(),$n=ie(),vr=function(L,te){return L===te&&(_=!0),0},xi="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",io="(?:\\\\[\\da-fA-F]{1,6}"+Wt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ct="\\["+Wt+"*("+io+")(?:"+Wt+"*([*^$|!~]?=)"+Wt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+io+"))|)"+Wt+"*\\]",oo=":("+io+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ct+")*)|.*)\\)|)",It=new RegExp(Wt+"+","g"),qn=new RegExp("^"+Wt+"*,"+Wt+"*"),Ca=new RegExp("^"+Wt+"*([>+~]|"+Wt+")"+Wt+"*"),As=new RegExp(Wt+"|>"),yi=new RegExp(oo),_t=new RegExp("^"+io+"$"),bi={ID:new RegExp("^#("+io+")"),CLASS:new RegExp("^\\.("+io+")"),TAG:new RegExp("^("+io+"|[*])"),ATTR:new RegExp("^"+ct),PSEUDO:new RegExp("^"+oo),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Wt+"*(even|odd|(([+-]|)(\\d*)n|)"+Wt+"*(?:([+-]|)"+Wt+"*(\\d+)|))"+Wt+"*\\)|)","i"),bool:new RegExp("^(?:"+xi+")$","i"),needsContext:new RegExp("^"+Wt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Wt+"*((?:-\\d)?\\d*)"+Wt+"*\\)|)(?=[^-]|$)","i")},so=/^(?:input|select|textarea|button)$/i,Vo=/^h\d$/i,si=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ke=/[+~]/,Xr=new RegExp("\\\\[\\da-fA-F]{1,6}"+Wt+"?|\\\\([^\\r\\n\\f])","g"),Mi=function(L,te){var fe="0x"+L.slice(1)-65536;return te||(fe<0?String.fromCharCode(fe+65536):String.fromCharCode(fe>>10|55296,1023&fe|56320))},C=function(){Go()},T=Sl(function(L){return!0===L.disabled&&ln(L,"fieldset")},{dir:"parentNode",next:"legend"});try{D.apply(gt=rr.call(wr.childNodes),wr.childNodes)}catch{D={apply:function(te,fe){Qi.apply(te,rr.call(fe))},call:function(te){Qi.apply(te,rr.call(arguments,1))}}}function F(L,te,fe,oe){var Ee,We,it,bt,Me,wn,Ct,Ut=te&&te.ownerDocument,Cn=te?te.nodeType:9;if(fe=fe||[],"string"!=typeof L||!L||1!==Cn&&9!==Cn&&11!==Cn)return fe;if(!oe&&(Go(te),te=te||S,G)){if(11!==Cn&&(Me=si.exec(L)))if(Ee=Me[1]){if(9===Cn){if(!(it=te.getElementById(Ee)))return fe;if(it.id===Ee)return D.call(fe,it),fe}else if(Ut&&(it=Ut.getElementById(Ee))&&F.contains(te,it)&&it.id===Ee)return D.call(fe,it),fe}else{if(Me[2])return D.apply(fe,te.getElementsByTagName(L)),fe;if((Ee=Me[3])&&te.getElementsByClassName)return D.apply(fe,te.getElementsByClassName(Ee)),fe}if(!($n[L+" "]||se&&se.test(L))){if(Ct=L,Ut=te,1===Cn&&(As.test(L)||Ca.test(L))){for(((Ut=ke.test(L)&&$r(te.parentNode)||te)!=te||!st.scope)&&((bt=te.getAttribute("id"))?bt=I.escapeSelector(bt):te.setAttribute("id",bt=De)),We=(wn=ai(L)).length;We--;)wn[We]=(bt?"#"+bt:":scope")+" "+ad(wn[We]);Ct=wn.join(",")}try{return D.apply(fe,Ut.querySelectorAll(Ct)),fe}catch{$n(L,!0)}finally{bt===De&&te.removeAttribute("id")}}}return Pm(L.replace(Co,"$1"),te,fe,oe)}function ie(){var L=[];return function te(fe,oe){return L.push(fe+" ")>h.cacheLength&&delete te[L.shift()],te[fe+" "]=oe}}function ee(L){return L[De]=!0,L}function ue(L){var te=S.createElement("fieldset");try{return!!L(te)}catch{return!1}finally{te.parentNode&&te.parentNode.removeChild(te),te=null}}function Ne(L){return function(te){return ln(te,"input")&&te.type===L}}function Kt(L){return function(te){return(ln(te,"input")||ln(te,"button"))&&te.type===L}}function zt(L){return function(te){return"form"in te?te.parentNode&&!1===te.disabled?"label"in te?"label"in te.parentNode?te.parentNode.disabled===L:te.disabled===L:te.isDisabled===L||te.isDisabled!==!L&&T(te)===L:te.disabled===L:"label"in te&&te.disabled===L}}function er(L){return ee(function(te){return te=+te,ee(function(fe,oe){for(var Ee,We=L([],fe.length,te),it=We.length;it--;)fe[Ee=We[it]]&&(fe[Ee]=!(oe[Ee]=fe[Ee]))})})}function $r(L){return L&&typeof L.getElementsByTagName<"u"&&L}function Go(L){var te,fe=L?L.ownerDocument||L:wr;return fe==S||9!==fe.nodeType||!fe.documentElement||(H=(S=fe).documentElement,G=!I.isXMLDoc(S),we=H.matches||H.webkitMatchesSelector||H.msMatchesSelector,H.msMatchesSelector&&wr!=S&&(te=S.defaultView)&&te.top!==te&&te.addEventListener("unload",C),st.getById=ue(function(oe){return H.appendChild(oe).id=I.expando,!S.getElementsByName||!S.getElementsByName(I.expando).length}),st.disconnectedMatch=ue(function(oe){return we.call(oe,"*")}),st.scope=ue(function(){return S.querySelectorAll(":scope")}),st.cssHas=ue(function(){try{return S.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),st.getById?(h.filter.ID=function(oe){var Ee=oe.replace(Xr,Mi);return function(We){return We.getAttribute("id")===Ee}},h.find.ID=function(oe,Ee){if(typeof Ee.getElementById<"u"&&G){var We=Ee.getElementById(oe);return We?[We]:[]}}):(h.filter.ID=function(oe){var Ee=oe.replace(Xr,Mi);return function(We){var it=typeof We.getAttributeNode<"u"&&We.getAttributeNode("id");return it&&it.value===Ee}},h.find.ID=function(oe,Ee){if(typeof Ee.getElementById<"u"&&G){var We,it,bt,Me=Ee.getElementById(oe);if(Me){if((We=Me.getAttributeNode("id"))&&We.value===oe)return[Me];for(bt=Ee.getElementsByName(oe),it=0;Me=bt[it++];)if((We=Me.getAttributeNode("id"))&&We.value===oe)return[Me]}return[]}}),h.find.TAG=function(oe,Ee){return typeof Ee.getElementsByTagName<"u"?Ee.getElementsByTagName(oe):Ee.querySelectorAll(oe)},h.find.CLASS=function(oe,Ee){if(typeof Ee.getElementsByClassName<"u"&&G)return Ee.getElementsByClassName(oe)},se=[],ue(function(oe){var Ee;H.appendChild(oe).innerHTML="<a id='"+De+"' href='' disabled='disabled'></a><select id='"+De+"-\r\\' disabled='disabled'><option selected=''></option></select>",oe.querySelectorAll("[selected]").length||se.push("\\["+Wt+"*(?:value|"+xi+")"),oe.querySelectorAll("[id~="+De+"-]").length||se.push("~="),oe.querySelectorAll("a#"+De+"+*").length||se.push(".#.+[+~]"),oe.querySelectorAll(":checked").length||se.push(":checked"),(Ee=S.createElement("input")).setAttribute("type","hidden"),oe.appendChild(Ee).setAttribute("name","D"),H.appendChild(oe).disabled=!0,2!==oe.querySelectorAll(":disabled").length&&se.push(":enabled",":disabled"),(Ee=S.createElement("input")).setAttribute("name",""),oe.appendChild(Ee),oe.querySelectorAll("[name='']").length||se.push("\\["+Wt+"*name"+Wt+"*="+Wt+"*(?:''|\"\")")}),st.cssHas||se.push(":has"),se=se.length&&new RegExp(se.join("|")),vr=function(oe,Ee){if(oe===Ee)return _=!0,0;var We=!oe.compareDocumentPosition-!Ee.compareDocumentPosition;return We||(1&(We=(oe.ownerDocument||oe)==(Ee.ownerDocument||Ee)?oe.compareDocumentPosition(Ee):1)||!st.sortDetached&&Ee.compareDocumentPosition(oe)===We?oe===S||oe.ownerDocument==wr&&F.contains(wr,oe)?-1:Ee===S||Ee.ownerDocument==wr&&F.contains(wr,Ee)?1:y?Jt.call(y,oe)-Jt.call(y,Ee):0:4&We?-1:1)}),S}for(f in F.matches=function(L,te){return F(L,null,null,te)},F.matchesSelector=function(L,te){if(Go(L),G&&!$n[te+" "]&&(!se||!se.test(te)))try{var fe=we.call(L,te);if(fe||st.disconnectedMatch||L.document&&11!==L.document.nodeType)return fe}catch{$n(te,!0)}return F(te,S,null,[L]).length>0},F.contains=function(L,te){return(L.ownerDocument||L)!=S&&Go(L),I.contains(L,te)},F.attr=function(L,te){(L.ownerDocument||L)!=S&&Go(L);var fe=h.attrHandle[te.toLowerCase()],oe=fe&&Zt.call(h.attrHandle,te.toLowerCase())?fe(L,te,!G):void 0;return void 0!==oe?oe:L.getAttribute(te)},F.error=function(L){throw new Error("Syntax error, unrecognized expression: "+L)},I.uniqueSort=function(L){var te,fe=[],oe=0,Ee=0;if(_=!st.sortStable,y=!st.sortStable&&rr.call(L,0),kn.call(L,vr),_){for(;te=L[Ee++];)te===L[Ee]&&(oe=fe.push(Ee));for(;oe--;)gi.call(L,fe[oe],1)}return y=null,L},I.fn.uniqueSort=function(){return this.pushStack(I.uniqueSort(rr.apply(this)))},(h=I.expr={cacheLength:50,createPseudo:ee,match:bi,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(L){return L[1]=L[1].replace(Xr,Mi),L[3]=(L[3]||L[4]||L[5]||"").replace(Xr,Mi),"~="===L[2]&&(L[3]=" "+L[3]+" "),L.slice(0,4)},CHILD:function(L){return L[1]=L[1].toLowerCase(),"nth"===L[1].slice(0,3)?(L[3]||F.error(L[0]),L[4]=+(L[4]?L[5]+(L[6]||1):2*("even"===L[3]||"odd"===L[3])),L[5]=+(L[7]+L[8]||"odd"===L[3])):L[3]&&F.error(L[0]),L},PSEUDO:function(L){var te,fe=!L[6]&&L[2];return bi.CHILD.test(L[0])?null:(L[3]?L[2]=L[4]||L[5]||"":fe&&yi.test(fe)&&(te=ai(fe,!0))&&(te=fe.indexOf(")",fe.length-te)-fe.length)&&(L[0]=L[0].slice(0,te),L[2]=fe.slice(0,te)),L.slice(0,3))}},filter:{TAG:function(L){var te=L.replace(Xr,Mi).toLowerCase();return"*"===L?function(){return!0}:function(fe){return ln(fe,te)}},CLASS:function(L){var te=Ft[L+" "];return te||(te=new RegExp("(^|"+Wt+")"+L+"("+Wt+"|$)"))&&Ft(L,function(fe){return te.test("string"==typeof fe.className&&fe.className||typeof fe.getAttribute<"u"&&fe.getAttribute("class")||"")})},ATTR:function(L,te,fe){return function(oe){var Ee=F.attr(oe,L);return null==Ee?"!="===te:!te||(Ee+="","="===te?Ee===fe:"!="===te?Ee!==fe:"^="===te?fe&&0===Ee.indexOf(fe):"*="===te?fe&&Ee.indexOf(fe)>-1:"$="===te?fe&&Ee.slice(-fe.length)===fe:"~="===te?(" "+Ee.replace(It," ")+" ").indexOf(fe)>-1:"|="===te&&(Ee===fe||Ee.slice(0,fe.length+1)===fe+"-"))}},CHILD:function(L,te,fe,oe,Ee){var We="nth"!==L.slice(0,3),it="last"!==L.slice(-4),bt="of-type"===te;return 1===oe&&0===Ee?function(Me){return!!Me.parentNode}:function(Me,wn,Ct){var Ut,Cn,Tt,tr,ci,Br=We!==it?"nextSibling":"previousSibling",Zi=Me.parentNode,Uo=bt&&Me.nodeName.toLowerCase(),rc=!Ct&&!bt,Vt=!1;if(Zi){if(We){for(;Br;){for(Tt=Me;Tt=Tt[Br];)if(bt?ln(Tt,Uo):1===Tt.nodeType)return!1;ci=Br="only"===L&&!ci&&"nextSibling"}return!0}if(ci=[it?Zi.firstChild:Zi.lastChild],it&&rc){for(Vt=(tr=(Ut=(Cn=Zi[De]||(Zi[De]={}))[L]||[])[0]===pe&&Ut[1])&&Ut[2],Tt=tr&&Zi.childNodes[tr];Tt=++tr&&Tt&&Tt[Br]||(Vt=tr=0)||ci.pop();)if(1===Tt.nodeType&&++Vt&&Tt===Me){Cn[L]=[pe,tr,Vt];break}}else if(rc&&(Vt=tr=(Ut=(Cn=Me[De]||(Me[De]={}))[L]||[])[0]===pe&&Ut[1]),!1===Vt)for(;(Tt=++tr&&Tt&&Tt[Br]||(Vt=tr=0)||ci.pop())&&(!(bt?ln(Tt,Uo):1===Tt.nodeType)||!++Vt||(rc&&((Cn=Tt[De]||(Tt[De]={}))[L]=[pe,Vt]),Tt!==Me)););return(Vt-=Ee)===oe||Vt%oe==0&&Vt/oe>=0}}},PSEUDO:function(L,te){var fe,oe=h.pseudos[L]||h.setFilters[L.toLowerCase()]||F.error("unsupported pseudo: "+L);return oe[De]?oe(te):oe.length>1?(fe=[L,L,"",te],h.setFilters.hasOwnProperty(L.toLowerCase())?ee(function(Ee,We){for(var it,bt=oe(Ee,te),Me=bt.length;Me--;)Ee[it=Jt.call(Ee,bt[Me])]=!(We[it]=bt[Me])}):function(Ee){return oe(Ee,0,fe)}):oe}},pseudos:{not:ee(function(L){var te=[],fe=[],oe=ld(L.replace(Co,"$1"));return oe[De]?ee(function(Ee,We,it,bt){for(var Me,wn=oe(Ee,null,bt,[]),Ct=Ee.length;Ct--;)(Me=wn[Ct])&&(Ee[Ct]=!(We[Ct]=Me))}):function(Ee,We,it){return te[0]=Ee,oe(te,null,it,fe),te[0]=null,!fe.pop()}}),has:ee(function(L){return function(te){return F(L,te).length>0}}),contains:ee(function(L){return L=L.replace(Xr,Mi),function(te){return(te.textContent||I.text(te)).indexOf(L)>-1}}),lang:ee(function(L){return _t.test(L||"")||F.error("unsupported lang: "+L),L=L.replace(Xr,Mi).toLowerCase(),function(te){var fe;do{if(fe=G?te.lang:te.getAttribute("xml:lang")||te.getAttribute("lang"))return(fe=fe.toLowerCase())===L||0===fe.indexOf(L+"-")}while((te=te.parentNode)&&1===te.nodeType);return!1}}),target:function(L){var te=At.location&&At.location.hash;return te&&te.slice(1)===L.id},root:function(L){return L===H},focus:function(L){return L===function j(){try{return S.activeElement}catch{}}()&&S.hasFocus()&&!!(L.type||L.href||~L.tabIndex)},enabled:zt(!1),disabled:zt(!0),checked:function(L){return ln(L,"input")&&!!L.checked||ln(L,"option")&&!!L.selected},selected:function(L){return!0===L.selected},empty:function(L){for(L=L.firstChild;L;L=L.nextSibling)if(L.nodeType<6)return!1;return!0},parent:function(L){return!h.pseudos.empty(L)},header:function(L){return Vo.test(L.nodeName)},input:function(L){return so.test(L.nodeName)},button:function(L){return ln(L,"input")&&"button"===L.type||ln(L,"button")},text:function(L){var te;return ln(L,"input")&&"text"===L.type&&(null==(te=L.getAttribute("type"))||"text"===te.toLowerCase())},first:er(function(){return[0]}),last:er(function(L,te){return[te-1]}),eq:er(function(L,te,fe){return[fe<0?fe+te:fe]}),even:er(function(L,te){for(var fe=0;fe<te;fe+=2)L.push(fe);return L}),odd:er(function(L,te){for(var fe=1;fe<te;fe+=2)L.push(fe);return L}),lt:er(function(L,te,fe){var oe;for(oe=fe<0?fe+te:fe>te?te:fe;--oe>=0;)L.push(oe);return L}),gt:er(function(L,te,fe){for(var oe=fe<0?fe+te:fe;++oe<te;)L.push(oe);return L})}}).pseudos.nth=h.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})h.pseudos[f]=Ne(f);for(f in{submit:!0,reset:!0})h.pseudos[f]=Kt(f);function _a(){}function ai(L,te){var fe,oe,Ee,We,it,bt,Me,wn=Yt[L+" "];if(wn)return te?0:wn.slice(0);for(it=L,bt=[],Me=h.preFilter;it;){for(We in(!fe||(oe=qn.exec(it)))&&(oe&&(it=it.slice(oe[0].length)||it),bt.push(Ee=[])),fe=!1,(oe=Ca.exec(it))&&(fe=oe.shift(),Ee.push({value:fe,type:oe[0].replace(Co," ")}),it=it.slice(fe.length)),h.filter)(oe=bi[We].exec(it))&&(!Me[We]||(oe=Me[We](oe)))&&(fe=oe.shift(),Ee.push({value:fe,type:We,matches:oe}),it=it.slice(fe.length));if(!fe)break}return te?it.length:it?F.error(L):Yt(L,bt).slice(0)}function ad(L){for(var te=0,fe=L.length,oe="";te<fe;te++)oe+=L[te].value;return oe}function Sl(L,te,fe){var oe=te.dir,Ee=te.next,We=Ee||oe,it=fe&&"parentNode"===We,bt=Be++;return te.first?function(Me,wn,Ct){for(;Me=Me[oe];)if(1===Me.nodeType||it)return L(Me,wn,Ct);return!1}:function(Me,wn,Ct){var Ut,Cn,Tt=[pe,bt];if(Ct){for(;Me=Me[oe];)if((1===Me.nodeType||it)&&L(Me,wn,Ct))return!0}else for(;Me=Me[oe];)if(1===Me.nodeType||it)if(Cn=Me[De]||(Me[De]={}),Ee&&ln(Me,Ee))Me=Me[oe]||Me;else{if((Ut=Cn[We])&&Ut[0]===pe&&Ut[1]===bt)return Tt[2]=Ut[2];if(Cn[We]=Tt,Tt[2]=L(Me,wn,Ct))return!0}return!1}}function hh(L){return L.length>1?function(te,fe,oe){for(var Ee=L.length;Ee--;)if(!L[Ee](te,fe,oe))return!1;return!0}:L[0]}function cd(L,te,fe,oe,Ee){for(var We,it=[],bt=0,Me=L.length,wn=null!=te;bt<Me;bt++)(We=L[bt])&&(!fe||fe(We,oe,Ee))&&(it.push(We),wn&&te.push(bt));return it}function ph(L,te,fe,oe,Ee,We){return oe&&!oe[De]&&(oe=ph(oe)),Ee&&!Ee[De]&&(Ee=ph(Ee,We)),ee(function(it,bt,Me,wn){var Ct,Ut,Cn,Tt,tr=[],ci=[],Br=bt.length,Zi=it||function Xs(L,te,fe){for(var oe=0,Ee=te.length;oe<Ee;oe++)F(L,te[oe],fe);return fe}(te||"*",Me.nodeType?[Me]:Me,[]),Uo=!L||!it&&te?Zi:cd(Zi,tr,L,Me,wn);if(fe?fe(Uo,Tt=Ee||(it?L:Br||oe)?[]:bt,Me,wn):Tt=Uo,oe)for(Ct=cd(Tt,ci),oe(Ct,[],Me,wn),Ut=Ct.length;Ut--;)(Cn=Ct[Ut])&&(Tt[ci[Ut]]=!(Uo[ci[Ut]]=Cn));if(it){if(Ee||L){if(Ee){for(Ct=[],Ut=Tt.length;Ut--;)(Cn=Tt[Ut])&&Ct.push(Uo[Ut]=Cn);Ee(null,Tt=[],Ct,wn)}for(Ut=Tt.length;Ut--;)(Cn=Tt[Ut])&&(Ct=Ee?Jt.call(it,Cn):tr[Ut])>-1&&(it[Ct]=!(bt[Ct]=Cn))}}else Tt=cd(Tt===bt?Tt.splice(Br,Tt.length):Tt),Ee?Ee(null,bt,Tt,wn):D.apply(bt,Tt)})}function gh(L){for(var te,fe,oe,Ee=L.length,We=h.relative[L[0].type],it=We||h.relative[" "],bt=We?1:0,Me=Sl(function(Ut){return Ut===te},it,!0),wn=Sl(function(Ut){return Jt.call(te,Ut)>-1},it,!0),Ct=[function(Ut,Cn,Tt){var tr=!We&&(Tt||Cn!=m)||((te=Cn).nodeType?Me(Ut,Cn,Tt):wn(Ut,Cn,Tt));return te=null,tr}];bt<Ee;bt++)if(fe=h.relative[L[bt].type])Ct=[Sl(hh(Ct),fe)];else{if((fe=h.filter[L[bt].type].apply(null,L[bt].matches))[De]){for(oe=++bt;oe<Ee&&!h.relative[L[oe].type];oe++);return ph(bt>1&&hh(Ct),bt>1&&ad(L.slice(0,bt-1).concat({value:" "===L[bt-2].type?"*":""})).replace(Co,"$1"),fe,bt<oe&&gh(L.slice(bt,oe)),oe<Ee&&gh(L=L.slice(oe)),oe<Ee&&ad(L))}Ct.push(fe)}return hh(Ct)}function ld(L,te){var fe,oe=[],Ee=[],We=Gt[L+" "];if(!We){for(te||(te=ai(L)),fe=te.length;fe--;)(We=gh(te[fe]))[De]?oe.push(We):Ee.push(We);We=Gt(L,function Gw(L,te){var fe=te.length>0,oe=L.length>0,Ee=function(We,it,bt,Me,wn){var Ct,Ut,Cn,Tt=0,tr="0",ci=We&&[],Br=[],Zi=m,Uo=We||oe&&h.find.TAG("*",wn),rc=pe+=null==Zi?1:Math.random()||.1,Vt=Uo.length;for(wn&&(m=it==S||it||wn);tr!==Vt&&null!=(Ct=Uo[tr]);tr++){if(oe&&Ct){for(Ut=0,!it&&Ct.ownerDocument!=S&&(Go(Ct),bt=!G);Cn=L[Ut++];)if(Cn(Ct,it||S,bt)){D.call(Me,Ct);break}wn&&(pe=rc)}fe&&((Ct=!Cn&&Ct)&&Tt--,We&&ci.push(Ct))}if(Tt+=tr,fe&&tr!==Tt){for(Ut=0;Cn=te[Ut++];)Cn(ci,Br,it,bt);if(We){if(Tt>0)for(;tr--;)ci[tr]||Br[tr]||(Br[tr]=ns.call(Me));Br=cd(Br)}D.apply(Me,Br),wn&&!We&&Br.length>0&&Tt+te.length>1&&I.uniqueSort(Me)}return wn&&(pe=rc,m=Zi),ci};return fe?ee(Ee):Ee}(Ee,oe)),We.selector=L}return We}function Pm(L,te,fe,oe){var Ee,We,it,bt,Me,wn="function"==typeof L&&L,Ct=!oe&&ai(L=wn.selector||L);if(fe=fe||[],1===Ct.length){if((We=Ct[0]=Ct[0].slice(0)).length>2&&"ID"===(it=We[0]).type&&9===te.nodeType&&G&&h.relative[We[1].type]){if(!(te=(h.find.ID(it.matches[0].replace(Xr,Mi),te)||[])[0]))return fe;wn&&(te=te.parentNode),L=L.slice(We.shift().value.length)}for(Ee=bi.needsContext.test(L)?0:We.length;Ee--&&!h.relative[bt=(it=We[Ee]).type];)if((Me=h.find[bt])&&(oe=Me(it.matches[0].replace(Xr,Mi),ke.test(We[0].type)&&$r(te.parentNode)||te))){if(We.splice(Ee,1),!(L=oe.length&&ad(We)))return D.apply(fe,oe),fe;break}}return(wn||ld(L,Ct))(oe,te,!G,fe,!te||ke.test(L)&&$r(te.parentNode)||te),fe}_a.prototype=h.filters=h.pseudos,h.setFilters=new _a,st.sortStable=De.split("").sort(vr).join("")===De,Go(),st.sortDetached=ue(function(L){return 1&L.compareDocumentPosition(S.createElement("fieldset"))}),I.find=F,I.expr[":"]=I.expr.pseudos,I.unique=I.uniqueSort,F.compile=ld,F.select=Pm,F.setDocument=Go,F.tokenize=ai,F.escape=I.escapeSelector,F.getText=I.text,F.isXML=I.isXMLDoc,F.selectors=I.expr,F.support=I.support,F.uniqueSort=I.uniqueSort}();var Bi=function(f,h,m){for(var y=[],_=void 0!==m;(f=f[h])&&9!==f.nodeType;)if(1===f.nodeType){if(_&&I(f).is(m))break;y.push(f)}return y},ji=function(f,h){for(var m=[];f;f=f.nextSibling)1===f.nodeType&&f!==h&&m.push(f);return m},ir=I.expr.match.needsContext,Ar=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function eo(f,h,m){return kt(h)?I.grep(f,function(y,_){return!!h.call(y,_,y)!==m}):h.nodeType?I.grep(f,function(y){return y===h!==m}):"string"!=typeof h?I.grep(f,function(y){return Jt.call(h,y)>-1!==m}):I.filter(h,f,m)}I.filter=function(f,h,m){var y=h[0];return m&&(f=":not("+f+")"),1===h.length&&1===y.nodeType?I.find.matchesSelector(y,f)?[y]:[]:I.find.matches(f,I.grep(h,function(_){return 1===_.nodeType}))},I.fn.extend({find:function(f){var h,m,y=this.length,_=this;if("string"!=typeof f)return this.pushStack(I(f).filter(function(){for(h=0;h<y;h++)if(I.contains(_[h],this))return!0}));for(m=this.pushStack([]),h=0;h<y;h++)I.find(f,_[h],m);return y>1?I.uniqueSort(m):m},filter:function(f){return this.pushStack(eo(this,f||[],!1))},not:function(f){return this.pushStack(eo(this,f||[],!0))},is:function(f){return!!eo(this,"string"==typeof f&&ir.test(f)?I(f):f||[],!1).length}});var zi,_o=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,to=I.fn.init=function(f,h,m){var y,_;if(!f)return this;if(m=m||zi,"string"==typeof f){if(!(y="<"===f[0]&&">"===f[f.length-1]&&f.length>=3?[null,f,null]:_o.exec(f))||!y[1]&&h)return!h||h.jquery?(h||m).find(f):this.constructor(h).find(f);if(y[1]){if(I.merge(this,I.parseHTML(y[1],(h=h instanceof I?h[0]:h)&&h.nodeType?h.ownerDocument||h:St,!0)),Ar.test(y[1])&&I.isPlainObject(h))for(y in h)kt(this[y])?this[y](h[y]):this.attr(y,h[y]);return this}return(_=St.getElementById(y[2]))&&(this[0]=_,this.length=1),this}return f.nodeType?(this[0]=f,this.length=1,this):kt(f)?void 0!==m.ready?m.ready(f):f(I):I.makeArray(f,this)};to.prototype=I.fn,zi=I(St);var Ao=/^(?:parents|prev(?:Until|All))/,Dr={children:!0,contents:!0,next:!0,prev:!0};function Vi(f,h){for(;(f=f[h])&&1!==f.nodeType;);return f}I.fn.extend({has:function(f){var h=I(f,this),m=h.length;return this.filter(function(){for(var y=0;y<m;y++)if(I.contains(this,h[y]))return!0})},closest:function(f,h){var m,y=0,_=this.length,D=[],S="string"!=typeof f&&I(f);if(!ir.test(f))for(;y<_;y++)for(m=this[y];m&&m!==h;m=m.parentNode)if(m.nodeType<11&&(S?S.index(m)>-1:1===m.nodeType&&I.find.matchesSelector(m,f))){D.push(m);break}return this.pushStack(D.length>1?I.uniqueSort(D):D)},index:function(f){return f?"string"==typeof f?Jt.call(I(f),this[0]):Jt.call(this,f.jquery?f[0]:f):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(f,h){return this.pushStack(I.uniqueSort(I.merge(this.get(),I(f,h))))},addBack:function(f){return this.add(null==f?this.prevObject:this.prevObject.filter(f))}}),I.each({parent:function(f){var h=f.parentNode;return h&&11!==h.nodeType?h:null},parents:function(f){return Bi(f,"parentNode")},parentsUntil:function(f,h,m){return Bi(f,"parentNode",m)},next:function(f){return Vi(f,"nextSibling")},prev:function(f){return Vi(f,"previousSibling")},nextAll:function(f){return Bi(f,"nextSibling")},prevAll:function(f){return Bi(f,"previousSibling")},nextUntil:function(f,h,m){return Bi(f,"nextSibling",m)},prevUntil:function(f,h,m){return Bi(f,"previousSibling",m)},siblings:function(f){return ji((f.parentNode||{}).firstChild,f)},children:function(f){return ji(f.firstChild)},contents:function(f){return null!=f.contentDocument&&Oe(f.contentDocument)?f.contentDocument:(ln(f,"template")&&(f=f.content||f),I.merge([],f.childNodes))}},function(f,h){I.fn[f]=function(m,y){var _=I.map(this,h,m);return"Until"!==f.slice(-5)&&(y=m),y&&"string"==typeof y&&(_=I.filter(y,_)),this.length>1&&(Dr[f]||I.uniqueSort(_),Ao.test(f)&&_.reverse()),this.pushStack(_)}});var ri=/[^\x20\t\r\n\f]+/g;function Gi(f){return f}function Ai(f){throw f}function Ui(f,h,m,y){var _;try{f&&kt(_=f.promise)?_.call(f).done(h).fail(m):f&&kt(_=f.then)?_.call(f,h,m):h.apply(void 0,[f].slice(y))}catch(D){m.apply(void 0,[D])}}I.Callbacks=function(f){f="string"==typeof f?function Fo(f){var h={};return I.each(f.match(ri)||[],function(m,y){h[y]=!0}),h}(f):I.extend({},f);var h,m,y,_,D=[],S=[],H=-1,G=function(){for(_=_||f.once,y=h=!0;S.length;H=-1)for(m=S.shift();++H<D.length;)!1===D[H].apply(m[0],m[1])&&f.stopOnFalse&&(H=D.length,m=!1);f.memory||(m=!1),h=!1,_&&(D=m?[]:"")},se={add:function(){return D&&(m&&!h&&(H=D.length-1,S.push(m)),function we(De){I.each(De,function(pe,Be){kt(Be)?(!f.unique||!se.has(Be))&&D.push(Be):Be&&Be.length&&"string"!==hn(Be)&&we(Be)})}(arguments),m&&!h&&G()),this},remove:function(){return I.each(arguments,function(we,De){for(var pe;(pe=I.inArray(De,D,pe))>-1;)D.splice(pe,1),pe<=H&&H--}),this},has:function(we){return we?I.inArray(we,D)>-1:D.length>0},empty:function(){return D&&(D=[]),this},disable:function(){return _=S=[],D=m="",this},disabled:function(){return!D},lock:function(){return _=S=[],!m&&!h&&(D=m=""),this},locked:function(){return!!_},fireWith:function(we,De){return _||(De=[we,(De=De||[]).slice?De.slice():De],S.push(De),h||G()),this},fire:function(){return se.fireWith(this,arguments),this},fired:function(){return!!y}};return se},I.extend({Deferred:function(f){var h=[["notify","progress",I.Callbacks("memory"),I.Callbacks("memory"),2],["resolve","done",I.Callbacks("once memory"),I.Callbacks("once memory"),0,"resolved"],["reject","fail",I.Callbacks("once memory"),I.Callbacks("once memory"),1,"rejected"]],m="pending",y={state:function(){return m},always:function(){return _.done(arguments).fail(arguments),this},catch:function(D){return y.then(null,D)},pipe:function(){var D=arguments;return I.Deferred(function(S){I.each(h,function(H,G){var se=kt(D[G[4]])&&D[G[4]];_[G[1]](function(){var we=se&&se.apply(this,arguments);we&&kt(we.promise)?we.promise().progress(S.notify).done(S.resolve).fail(S.reject):S[G[0]+"With"](this,se?[we]:arguments)})}),D=null}).promise()},then:function(D,S,H){var G=0;function se(we,De,pe,Be){return function(){var Ft=this,Yt=arguments,Gt=function(){var vr,xi;if(!(we<G)){if((vr=pe.apply(Ft,Yt))===De.promise())throw new TypeError("Thenable self-resolution");kt(xi=vr&&("object"==typeof vr||"function"==typeof vr)&&vr.then)?Be?xi.call(vr,se(G,De,Gi,Be),se(G,De,Ai,Be)):(G++,xi.call(vr,se(G,De,Gi,Be),se(G,De,Ai,Be),se(G,De,Gi,De.notifyWith))):(pe!==Gi&&(Ft=void 0,Yt=[vr]),(Be||De.resolveWith)(Ft,Yt))}},$n=Be?Gt:function(){try{Gt()}catch(vr){I.Deferred.exceptionHook&&I.Deferred.exceptionHook(vr,$n.error),we+1>=G&&(pe!==Ai&&(Ft=void 0,Yt=[vr]),De.rejectWith(Ft,Yt))}};we?$n():(I.Deferred.getErrorHook?$n.error=I.Deferred.getErrorHook():I.Deferred.getStackHook&&($n.error=I.Deferred.getStackHook()),At.setTimeout($n))}}return I.Deferred(function(we){h[0][3].add(se(0,we,kt(H)?H:Gi,we.notifyWith)),h[1][3].add(se(0,we,kt(D)?D:Gi)),h[2][3].add(se(0,we,kt(S)?S:Ai))}).promise()},promise:function(D){return null!=D?I.extend(D,y):y}},_={};return I.each(h,function(D,S){var H=S[2],G=S[5];y[S[1]]=H.add,G&&H.add(function(){m=G},h[3-D][2].disable,h[3-D][3].disable,h[0][2].lock,h[0][3].lock),H.add(S[3].fire),_[S[0]]=function(){return _[S[0]+"With"](this===_?void 0:this,arguments),this},_[S[0]+"With"]=H.fireWith}),y.promise(_),f&&f.call(_,_),_},when:function(f){var h=arguments.length,m=h,y=Array(m),_=rr.call(arguments),D=I.Deferred(),S=function(H){return function(G){y[H]=this,_[H]=arguments.length>1?rr.call(arguments):G,--h||D.resolveWith(y,_)}};if(h<=1&&(Ui(f,D.done(S(m)).resolve,D.reject,!h),"pending"===D.state()||kt(_[m]&&_[m].then)))return D.then();for(;m--;)Ui(_[m],S(m),D.reject);return D.promise()}});var x=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;I.Deferred.exceptionHook=function(f,h){At.console&&At.console.warn&&f&&x.test(f.name)&&At.console.warn("jQuery.Deferred exception: "+f.message,f.stack,h)},I.readyException=function(f){At.setTimeout(function(){throw f})};var O=I.Deferred();function z(){St.removeEventListener("DOMContentLoaded",z),At.removeEventListener("load",z),I.ready()}I.fn.ready=function(f){return O.then(f).catch(function(h){I.readyException(h)}),this},I.extend({isReady:!1,readyWait:1,ready:function(f){(!0===f?--I.readyWait:I.isReady)||(I.isReady=!0,!(!0!==f&&--I.readyWait>0)&&O.resolveWith(St,[I]))}}),I.ready.then=O.then,"complete"===St.readyState||"loading"!==St.readyState&&!St.documentElement.doScroll?At.setTimeout(I.ready):(St.addEventListener("DOMContentLoaded",z),At.addEventListener("load",z));var ae=function(f,h,m,y,_,D,S){var H=0,G=f.length,se=null==m;if("object"===hn(m))for(H in _=!0,m)ae(f,h,H,m[H],!0,D,S);else if(void 0!==y&&(_=!0,kt(y)||(S=!0),se&&(S?(h.call(f,y),h=null):(se=h,h=function(we,De,pe){return se.call(I(we),pe)})),h))for(;H<G;H++)h(f[H],m,S?y:y.call(f[H],H,h(f[H],m)));return _?f:se?h.call(f):G?h(f[0],m):D},Te=/^-ms-/,Pe=/-([a-z])/g;function B(f,h){return h.toUpperCase()}function Y(f){return f.replace(Te,"ms-").replace(Pe,B)}var ve=function(f){return 1===f.nodeType||9===f.nodeType||!+f.nodeType};function ge(){this.expando=I.expando+ge.uid++}ge.uid=1,ge.prototype={cache:function(f){var h=f[this.expando];return h||(h={},ve(f)&&(f.nodeType?f[this.expando]=h:Object.defineProperty(f,this.expando,{value:h,configurable:!0}))),h},set:function(f,h,m){var y,_=this.cache(f);if("string"==typeof h)_[Y(h)]=m;else for(y in h)_[Y(y)]=h[y];return _},get:function(f,h){return void 0===h?this.cache(f):f[this.expando]&&f[this.expando][Y(h)]},access:function(f,h,m){return void 0===h||h&&"string"==typeof h&&void 0===m?this.get(f,h):(this.set(f,h,m),void 0!==m?m:h)},remove:function(f,h){var m,y=f[this.expando];if(void 0!==y){if(void 0!==h)for((m=(h=Array.isArray(h)?h.map(Y):(h=Y(h))in y?[h]:h.match(ri)||[]).length);m--;)delete y[h[m]];(void 0===h||I.isEmptyObject(y))&&(f.nodeType?f[this.expando]=void 0:delete f[this.expando])}},hasData:function(f){var h=f[this.expando];return void 0!==h&&!I.isEmptyObject(h)}};var Q=new ge,_e=new ge,Je=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,je=/[A-Z]/g;function Fe(f,h,m){var y;if(void 0===m&&1===f.nodeType)if(y="data-"+h.replace(je,"-$&").toLowerCase(),"string"==typeof(m=f.getAttribute(y))){try{m=function Pt(f){return"true"===f||"false"!==f&&("null"===f?null:f===+f+""?+f:Je.test(f)?JSON.parse(f):f)}(m)}catch{}_e.set(f,h,m)}else m=void 0;return m}I.extend({hasData:function(f){return _e.hasData(f)||Q.hasData(f)},data:function(f,h,m){return _e.access(f,h,m)},removeData:function(f,h){_e.remove(f,h)},_data:function(f,h,m){return Q.access(f,h,m)},_removeData:function(f,h){Q.remove(f,h)}}),I.fn.extend({data:function(f,h){var m,y,_,D=this[0],S=D&&D.attributes;if(void 0===f){if(this.length&&(_=_e.get(D),1===D.nodeType&&!Q.get(D,"hasDataAttrs"))){for(m=S.length;m--;)S[m]&&0===(y=S[m].name).indexOf("data-")&&(y=Y(y.slice(5)),Fe(D,y,_[y]));Q.set(D,"hasDataAttrs",!0)}return _}return"object"==typeof f?this.each(function(){_e.set(this,f)}):ae(this,function(H){var G;if(D&&void 0===H)return void 0!==(G=_e.get(D,f))||void 0!==(G=Fe(D,f))?G:void 0;this.each(function(){_e.set(this,f,H)})},null,h,arguments.length>1,null,!0)},removeData:function(f){return this.each(function(){_e.remove(this,f)})}}),I.extend({queue:function(f,h,m){var y;if(f)return y=Q.get(f,h=(h||"fx")+"queue"),m&&(!y||Array.isArray(m)?y=Q.access(f,h,I.makeArray(m)):y.push(m)),y||[]},dequeue:function(f,h){var m=I.queue(f,h=h||"fx"),y=m.length,_=m.shift(),D=I._queueHooks(f,h);"inprogress"===_&&(_=m.shift(),y--),_&&("fx"===h&&m.unshift("inprogress"),delete D.stop,_.call(f,function(){I.dequeue(f,h)},D)),!y&&D&&D.empty.fire()},_queueHooks:function(f,h){var m=h+"queueHooks";return Q.get(f,m)||Q.access(f,m,{empty:I.Callbacks("once memory").add(function(){Q.remove(f,[h+"queue",m])})})}}),I.fn.extend({queue:function(f,h){var m=2;return"string"!=typeof f&&(h=f,f="fx",m--),arguments.length<m?I.queue(this[0],f):void 0===h?this:this.each(function(){var y=I.queue(this,f,h);I._queueHooks(this,f),"fx"===f&&"inprogress"!==y[0]&&I.dequeue(this,f)})},dequeue:function(f){return this.each(function(){I.dequeue(this,f)})},clearQueue:function(f){return this.queue(f||"fx",[])},promise:function(f,h){var m,y=1,_=I.Deferred(),D=this,S=this.length,H=function(){--y||_.resolveWith(D,[D])};for("string"!=typeof f&&(h=f,f=void 0),f=f||"fx";S--;)(m=Q.get(D[S],f+"queueHooks"))&&m.empty&&(y++,m.empty.add(H));return H(),_.promise(h)}});var $e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Dt=new RegExp("^(?:([+-])=|)("+$e+")([a-z%]*)$","i"),wt=["Top","Right","Bottom","Left"],ut=St.documentElement,un=function(f){return I.contains(f.ownerDocument,f)},dn={composed:!0};ut.getRootNode&&(un=function(f){return I.contains(f.ownerDocument,f)||f.getRootNode(dn)===f.ownerDocument});var Xn=function(f,h){return"none"===(f=h||f).style.display||""===f.style.display&&un(f)&&"none"===I.css(f,"display")};function xn(f,h,m,y){var _,D,S=20,H=y?function(){return y.cur()}:function(){return I.css(f,h,"")},G=H(),se=m&&m[3]||(I.cssNumber[h]?"":"px"),we=f.nodeType&&(I.cssNumber[h]||"px"!==se&&+G)&&Dt.exec(I.css(f,h));if(we&&we[3]!==se){for(se=se||we[3],we=+(G/=2)||1;S--;)I.style(f,h,we+se),(1-D)*(1-(D=H()/G||.5))<=0&&(S=0),we/=D;I.style(f,h,(we*=2)+se),m=m||[]}return m&&(we=+we||+G||0,_=m[1]?we+(m[1]+1)*m[2]:+m[2],y&&(y.unit=se,y.start=we,y.end=_)),_}var Ot={};function dt(f){var h,m=f.ownerDocument,y=f.nodeName,_=Ot[y];return _||(h=m.body.appendChild(m.createElement(y)),_=I.css(h,"display"),h.parentNode.removeChild(h),"none"===_&&(_="block"),Ot[y]=_,_)}function Vn(f,h){for(var m,y,_=[],D=0,S=f.length;D<S;D++)(y=f[D]).style&&(m=y.style.display,h?("none"===m&&(_[D]=Q.get(y,"display")||null,_[D]||(y.style.display="")),""===y.style.display&&Xn(y)&&(_[D]=dt(y))):"none"!==m&&(_[D]="none",Q.set(y,"display",m)));for(D=0;D<S;D++)null!=_[D]&&(f[D].style.display=_[D]);return f}I.fn.extend({show:function(){return Vn(this,!0)},hide:function(){return Vn(this)},toggle:function(f){return"boolean"==typeof f?f?this.show():this.hide():this.each(function(){Xn(this)?I(this).show():I(this).hide()})}});var h,m,In=/^(?:checkbox|radio)$/i,Qn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pn=/^$|^module$|\/(?:java|ecma)script/i;h=St.createDocumentFragment().appendChild(St.createElement("div")),(m=St.createElement("input")).setAttribute("type","radio"),m.setAttribute("checked","checked"),m.setAttribute("name","t"),h.appendChild(m),st.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,h.innerHTML="<textarea>x</textarea>",st.noCloneChecked=!!h.cloneNode(!0).lastChild.defaultValue,h.innerHTML="<option></option>",st.option=!!h.lastChild;var Ke={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Lt(f,h){var m;return m=typeof f.getElementsByTagName<"u"?f.getElementsByTagName(h||"*"):typeof f.querySelectorAll<"u"?f.querySelectorAll(h||"*"):[],void 0===h||h&&ln(f,h)?I.merge([f],m):m}function qe(f,h){for(var m=0,y=f.length;m<y;m++)Q.set(f[m],"globalEval",!h||Q.get(h[m],"globalEval"))}Ke.tbody=Ke.tfoot=Ke.colgroup=Ke.caption=Ke.thead,Ke.th=Ke.td,st.option||(Ke.optgroup=Ke.option=[1,"<select multiple='multiple'>","</select>"]);var sn=/<|&#?\w+;/;function Et(f,h,m,y,_){for(var D,S,H,G,se,we,De=h.createDocumentFragment(),pe=[],Be=0,Ft=f.length;Be<Ft;Be++)if((D=f[Be])||0===D)if("object"===hn(D))I.merge(pe,D.nodeType?[D]:D);else if(sn.test(D)){for(S=S||De.appendChild(h.createElement("div")),H=(Qn.exec(D)||["",""])[1].toLowerCase(),S.innerHTML=(G=Ke[H]||Ke._default)[1]+I.htmlPrefilter(D)+G[2],we=G[0];we--;)S=S.lastChild;I.merge(pe,S.childNodes),(S=De.firstChild).textContent=""}else pe.push(h.createTextNode(D));for(De.textContent="",Be=0;D=pe[Be++];)if(y&&I.inArray(D,y)>-1)_&&_.push(D);else if(se=un(D),S=Lt(De.appendChild(D),"script"),se&&qe(S),m)for(we=0;D=S[we++];)pn.test(D.type||"")&&m.push(D);return De}var ar=/^([^.]*)(?:\.(.+)|)/;function pr(){return!0}function On(){return!1}function gn(f,h,m,y,_,D){var S,H;if("object"==typeof h){for(H in"string"!=typeof m&&(y=y||m,m=void 0),h)gn(f,H,m,y,h[H],D);return f}if(null==y&&null==_?(_=m,y=m=void 0):null==_&&("string"==typeof m?(_=y,y=void 0):(_=y,y=m,m=void 0)),!1===_)_=On;else if(!_)return f;return 1===D&&(S=_,_=function(G){return I().off(G),S.apply(this,arguments)},_.guid=S.guid||(S.guid=I.guid++)),f.each(function(){I.event.add(this,h,_,y,m)})}function gr(f,h,m){m?(Q.set(f,h,!1),I.event.add(f,h,{namespace:!1,handler:function(y){var _,D=Q.get(this,h);if(1&y.isTrigger&&this[h]){if(D)(I.event.special[h]||{}).delegateType&&y.stopPropagation();else if(D=rr.call(arguments),Q.set(this,h,D),this[h](),_=Q.get(this,h),Q.set(this,h,!1),D!==_)return y.stopImmediatePropagation(),y.preventDefault(),_}else D&&(Q.set(this,h,I.event.trigger(D[0],D.slice(1),this)),y.stopPropagation(),y.isImmediatePropagationStopped=pr)}})):void 0===Q.get(f,h)&&I.event.add(f,h,pr)}I.event={global:{},add:function(f,h,m,y,_){var D,S,H,G,se,we,De,pe,Be,Ft,Yt,Gt=Q.get(f);if(ve(f))for(m.handler&&(m=(D=m).handler,_=D.selector),_&&I.find.matchesSelector(ut,_),m.guid||(m.guid=I.guid++),(G=Gt.events)||(G=Gt.events=Object.create(null)),(S=Gt.handle)||(S=Gt.handle=function($n){return typeof I<"u"&&I.event.triggered!==$n.type?I.event.dispatch.apply(f,arguments):void 0}),se=(h=(h||"").match(ri)||[""]).length;se--;)Be=Yt=(H=ar.exec(h[se])||[])[1],Ft=(H[2]||"").split(".").sort(),Be&&(De=I.event.special[Be]||{},De=I.event.special[Be=(_?De.delegateType:De.bindType)||Be]||{},we=I.extend({type:Be,origType:Yt,data:y,handler:m,guid:m.guid,selector:_,needsContext:_&&I.expr.match.needsContext.test(_),namespace:Ft.join(".")},D),(pe=G[Be])||((pe=G[Be]=[]).delegateCount=0,(!De.setup||!1===De.setup.call(f,y,Ft,S))&&f.addEventListener&&f.addEventListener(Be,S)),De.add&&(De.add.call(f,we),we.handler.guid||(we.handler.guid=m.guid)),_?pe.splice(pe.delegateCount++,0,we):pe.push(we),I.event.global[Be]=!0)},remove:function(f,h,m,y,_){var D,S,H,G,se,we,De,pe,Be,Ft,Yt,Gt=Q.hasData(f)&&Q.get(f);if(Gt&&(G=Gt.events)){for(se=(h=(h||"").match(ri)||[""]).length;se--;)if(Be=Yt=(H=ar.exec(h[se])||[])[1],Ft=(H[2]||"").split(".").sort(),Be){for(De=I.event.special[Be]||{},pe=G[Be=(y?De.delegateType:De.bindType)||Be]||[],H=H[2]&&new RegExp("(^|\\.)"+Ft.join("\\.(?:.*\\.|)")+"(\\.|$)"),S=D=pe.length;D--;)we=pe[D],(_||Yt===we.origType)&&(!m||m.guid===we.guid)&&(!H||H.test(we.namespace))&&(!y||y===we.selector||"**"===y&&we.selector)&&(pe.splice(D,1),we.selector&&pe.delegateCount--,De.remove&&De.remove.call(f,we));S&&!pe.length&&((!De.teardown||!1===De.teardown.call(f,Ft,Gt.handle))&&I.removeEvent(f,Be,Gt.handle),delete G[Be])}else for(Be in G)I.event.remove(f,Be+h[se],m,y,!0);I.isEmptyObject(G)&&Q.remove(f,"handle events")}},dispatch:function(f){var h,m,y,_,D,S,H=new Array(arguments.length),G=I.event.fix(f),se=(Q.get(this,"events")||Object.create(null))[G.type]||[],we=I.event.special[G.type]||{};for(H[0]=G,h=1;h<arguments.length;h++)H[h]=arguments[h];if(G.delegateTarget=this,!we.preDispatch||!1!==we.preDispatch.call(this,G)){for(S=I.event.handlers.call(this,G,se),h=0;(_=S[h++])&&!G.isPropagationStopped();)for(G.currentTarget=_.elem,m=0;(D=_.handlers[m++])&&!G.isImmediatePropagationStopped();)(!G.rnamespace||!1===D.namespace||G.rnamespace.test(D.namespace))&&(G.handleObj=D,G.data=D.data,void 0!==(y=((I.event.special[D.origType]||{}).handle||D.handler).apply(_.elem,H))&&!1===(G.result=y)&&(G.preventDefault(),G.stopPropagation()));return we.postDispatch&&we.postDispatch.call(this,G),G.result}},handlers:function(f,h){var m,y,_,D,S,H=[],G=h.delegateCount,se=f.target;if(G&&se.nodeType&&!("click"===f.type&&f.button>=1))for(;se!==this;se=se.parentNode||this)if(1===se.nodeType&&("click"!==f.type||!0!==se.disabled)){for(D=[],S={},m=0;m<G;m++)void 0===S[_=(y=h[m]).selector+" "]&&(S[_]=y.needsContext?I(_,this).index(se)>-1:I.find(_,this,null,[se]).length),S[_]&&D.push(y);D.length&&H.push({elem:se,handlers:D})}return se=this,G<h.length&&H.push({elem:se,handlers:h.slice(G)}),H},addProp:function(f,h){Object.defineProperty(I.Event.prototype,f,{enumerable:!0,configurable:!0,get:kt(h)?function(){if(this.originalEvent)return h(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[f]},set:function(m){Object.defineProperty(this,f,{enumerable:!0,configurable:!0,writable:!0,value:m})}})},fix:function(f){return f[I.expando]?f:new I.Event(f)},special:{load:{noBubble:!0},click:{setup:function(f){var h=this||f;return In.test(h.type)&&h.click&&ln(h,"input")&&gr(h,"click",!0),!1},trigger:function(f){var h=this||f;return In.test(h.type)&&h.click&&ln(h,"input")&&gr(h,"click"),!0},_default:function(f){var h=f.target;return In.test(h.type)&&h.click&&ln(h,"input")&&Q.get(h,"click")||ln(h,"a")}},beforeunload:{postDispatch:function(f){void 0!==f.result&&f.originalEvent&&(f.originalEvent.returnValue=f.result)}}}},I.removeEvent=function(f,h,m){f.removeEventListener&&f.removeEventListener(h,m)},I.Event=function(f,h){if(!(this instanceof I.Event))return new I.Event(f,h);f&&f.type?(this.originalEvent=f,this.type=f.type,this.isDefaultPrevented=f.defaultPrevented||void 0===f.defaultPrevented&&!1===f.returnValue?pr:On,this.target=f.target&&3===f.target.nodeType?f.target.parentNode:f.target,this.currentTarget=f.currentTarget,this.relatedTarget=f.relatedTarget):this.type=f,h&&I.extend(this,h),this.timeStamp=f&&f.timeStamp||Date.now(),this[I.expando]=!0},I.Event.prototype={constructor:I.Event,isDefaultPrevented:On,isPropagationStopped:On,isImmediatePropagationStopped:On,isSimulated:!1,preventDefault:function(){var f=this.originalEvent;this.isDefaultPrevented=pr,f&&!this.isSimulated&&f.preventDefault()},stopPropagation:function(){var f=this.originalEvent;this.isPropagationStopped=pr,f&&!this.isSimulated&&f.stopPropagation()},stopImmediatePropagation:function(){var f=this.originalEvent;this.isImmediatePropagationStopped=pr,f&&!this.isSimulated&&f.stopImmediatePropagation(),this.stopPropagation()}},I.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},I.event.addProp),I.each({focus:"focusin",blur:"focusout"},function(f,h){function m(y){if(St.documentMode){var _=Q.get(this,"handle"),D=I.event.fix(y);D.type="focusin"===y.type?"focus":"blur",D.isSimulated=!0,_(y),D.target===D.currentTarget&&_(D)}else I.event.simulate(h,y.target,I.event.fix(y))}I.event.special[f]={setup:function(){var y;if(gr(this,f,!0),!St.documentMode)return!1;(y=Q.get(this,h))||this.addEventListener(h,m),Q.set(this,h,(y||0)+1)},trigger:function(){return gr(this,f),!0},teardown:function(){var y;if(!St.documentMode)return!1;(y=Q.get(this,h)-1)?Q.set(this,h,y):(this.removeEventListener(h,m),Q.remove(this,h))},_default:function(y){return Q.get(y.target,f)},delegateType:h},I.event.special[h]={setup:function(){var y=this.ownerDocument||this.document||this,_=St.documentMode?this:y,D=Q.get(_,h);D||(St.documentMode?this.addEventListener(h,m):y.addEventListener(f,m,!0)),Q.set(_,h,(D||0)+1)},teardown:function(){var y=this.ownerDocument||this.document||this,_=St.documentMode?this:y,D=Q.get(_,h)-1;D?Q.set(_,h,D):(St.documentMode?this.removeEventListener(h,m):y.removeEventListener(f,m,!0),Q.remove(_,h))}}}),I.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(f,h){I.event.special[f]={delegateType:h,bindType:h,handle:function(m){var y,D=m.relatedTarget,S=m.handleObj;return(!D||D!==this&&!I.contains(this,D))&&(m.type=S.origType,y=S.handler.apply(this,arguments),m.type=h),y}}}),I.fn.extend({on:function(f,h,m,y){return gn(this,f,h,m,y)},one:function(f,h,m,y){return gn(this,f,h,m,y,1)},off:function(f,h,m){var y,_;if(f&&f.preventDefault&&f.handleObj)return y=f.handleObj,I(f.delegateTarget).off(y.namespace?y.origType+"."+y.namespace:y.origType,y.selector,y.handler),this;if("object"==typeof f){for(_ in f)this.off(_,h,f[_]);return this}return(!1===h||"function"==typeof h)&&(m=h,h=void 0),!1===m&&(m=On),this.each(function(){I.event.remove(this,f,m,h)})}});var Wr=/<script|<style|<link/i,Gn=/checked\s*(?:[^=]|=\s*.checked.)/i,fn=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function lt(f,h){return ln(f,"table")&&ln(11!==h.nodeType?h:h.firstChild,"tr")&&I(f).children("tbody")[0]||f}function J(f){return f.type=(null!==f.getAttribute("type"))+"/"+f.type,f}function me(f){return"true/"===(f.type||"").slice(0,5)?f.type=f.type.slice(5):f.removeAttribute("type"),f}function yt(f,h){var m,y,_,S,H,G;if(1===h.nodeType){if(Q.hasData(f)&&(G=Q.get(f).events))for(_ in Q.remove(h,"handle events"),G)for(m=0,y=G[_].length;m<y;m++)I.event.add(h,_,G[_][m]);_e.hasData(f)&&(S=_e.access(f),H=I.extend({},S),_e.set(h,H))}}function at(f,h){var m=h.nodeName.toLowerCase();"input"===m&&In.test(f.type)?h.checked=f.checked:("input"===m||"textarea"===m)&&(h.defaultValue=f.defaultValue)}function Fn(f,h,m,y){h=Sr(h);var _,D,S,H,G,se,we=0,De=f.length,pe=De-1,Be=h[0],Ft=kt(Be);if(Ft||De>1&&"string"==typeof Be&&!st.checkClone&&Gn.test(Be))return f.each(function(Yt){var Gt=f.eq(Yt);Ft&&(h[0]=Be.call(this,Yt,Gt.html())),Fn(Gt,h,m,y)});if(De&&(D=(_=Et(h,f[0].ownerDocument,!1,f,y)).firstChild,1===_.childNodes.length&&(_=D),D||y)){for(H=(S=I.map(Lt(_,"script"),J)).length;we<De;we++)G=_,we!==pe&&(G=I.clone(G,!0,!0),H&&I.merge(S,Lt(G,"script"))),m.call(f[we],G,we);if(H)for(se=S[S.length-1].ownerDocument,I.map(S,me),we=0;we<H;we++)pn.test((G=S[we]).type||"")&&!Q.access(G,"globalEval")&&I.contains(se,G)&&(G.src&&"module"!==(G.type||"").toLowerCase()?I._evalUrl&&!G.noModule&&I._evalUrl(G.src,{nonce:G.nonce||G.getAttribute("nonce")},se):Fi(G.textContent.replace(fn,""),G,se))}return f}function Ve(f,h,m){for(var y,_=h?I.filter(h,f):f,D=0;null!=(y=_[D]);D++)!m&&1===y.nodeType&&I.cleanData(Lt(y)),y.parentNode&&(m&&un(y)&&qe(Lt(y,"script")),y.parentNode.removeChild(y));return f}I.extend({htmlPrefilter:function(f){return f},clone:function(f,h,m){var y,_,D,S,H=f.cloneNode(!0),G=un(f);if(!(st.noCloneChecked||1!==f.nodeType&&11!==f.nodeType||I.isXMLDoc(f)))for(S=Lt(H),y=0,_=(D=Lt(f)).length;y<_;y++)at(D[y],S[y]);if(h)if(m)for(D=D||Lt(f),S=S||Lt(H),y=0,_=D.length;y<_;y++)yt(D[y],S[y]);else yt(f,H);return(S=Lt(H,"script")).length>0&&qe(S,!G&&Lt(f,"script")),H},cleanData:function(f){for(var h,m,y,_=I.event.special,D=0;void 0!==(m=f[D]);D++)if(ve(m)){if(h=m[Q.expando]){if(h.events)for(y in h.events)_[y]?I.event.remove(m,y):I.removeEvent(m,y,h.handle);m[Q.expando]=void 0}m[_e.expando]&&(m[_e.expando]=void 0)}}}),I.fn.extend({detach:function(f){return Ve(this,f,!0)},remove:function(f){return Ve(this,f)},text:function(f){return ae(this,function(h){return void 0===h?I.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=h)})},null,f,arguments.length)},append:function(){return Fn(this,arguments,function(f){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||lt(this,f).appendChild(f)})},prepend:function(){return Fn(this,arguments,function(f){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var h=lt(this,f);h.insertBefore(f,h.firstChild)}})},before:function(){return Fn(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this)})},after:function(){return Fn(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling)})},empty:function(){for(var f,h=0;null!=(f=this[h]);h++)1===f.nodeType&&(I.cleanData(Lt(f,!1)),f.textContent="");return this},clone:function(f,h){return f=f??!1,h=h??f,this.map(function(){return I.clone(this,f,h)})},html:function(f){return ae(this,function(h){var m=this[0]||{},y=0,_=this.length;if(void 0===h&&1===m.nodeType)return m.innerHTML;if("string"==typeof h&&!Wr.test(h)&&!Ke[(Qn.exec(h)||["",""])[1].toLowerCase()]){h=I.htmlPrefilter(h);try{for(;y<_;y++)1===(m=this[y]||{}).nodeType&&(I.cleanData(Lt(m,!1)),m.innerHTML=h);m=0}catch{}}m&&this.empty().append(h)},null,f,arguments.length)},replaceWith:function(){var f=[];return Fn(this,arguments,function(h){var m=this.parentNode;I.inArray(this,f)<0&&(I.cleanData(Lt(this)),m&&m.replaceChild(h,this))},f)}}),I.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,h){I.fn[f]=function(m){for(var y,_=[],D=I(m),S=D.length-1,H=0;H<=S;H++)y=H===S?this:this.clone(!0),I(D[H])[h](y),Yn.apply(_,y.get());return this.pushStack(_)}});var Ue=new RegExp("^("+$e+")(?!px)[a-z%]+$","i"),Ie=/^--/,Re=function(f){var h=f.ownerDocument.defaultView;return(!h||!h.opener)&&(h=At),h.getComputedStyle(f)},ht=function(f,h,m){var y,_,D={};for(_ in h)D[_]=f.style[_],f.style[_]=h[_];for(_ in y=m.call(f),h)f.style[_]=D[_];return y},jt=new RegExp(wt.join("|"),"i");function Ye(f,h,m){var y,_,D,S,H=Ie.test(h),G=f.style;return(m=m||Re(f))&&(S=m.getPropertyValue(h)||m[h],H&&S&&(S=S.replace(Co,"$1")||void 0),""===S&&!un(f)&&(S=I.style(f,h)),!st.pixelBoxStyles()&&Ue.test(S)&&jt.test(h)&&(y=G.width,_=G.minWidth,D=G.maxWidth,G.minWidth=G.maxWidth=G.width=S,S=m.width,G.width=y,G.minWidth=_,G.maxWidth=D)),void 0!==S?S+"":S}function et(f,h){return{get:function(){if(!f())return(this.get=h).apply(this,arguments);delete this.get}}}!function(){function f(){if(se){G.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",se.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ut.appendChild(G).appendChild(se);var we=At.getComputedStyle(se);m="1%"!==we.top,H=12===h(we.marginLeft),se.style.right="60%",D=36===h(we.right),y=36===h(we.width),se.style.position="absolute",_=12===h(se.offsetWidth/3),ut.removeChild(G),se=null}}function h(we){return Math.round(parseFloat(we))}var m,y,_,D,S,H,G=St.createElement("div"),se=St.createElement("div");se.style&&(se.style.backgroundClip="content-box",se.cloneNode(!0).style.backgroundClip="",st.clearCloneStyle="content-box"===se.style.backgroundClip,I.extend(st,{boxSizingReliable:function(){return f(),y},pixelBoxStyles:function(){return f(),D},pixelPosition:function(){return f(),m},reliableMarginLeft:function(){return f(),H},scrollboxSize:function(){return f(),_},reliableTrDimensions:function(){var we,De,pe,Be;return null==S&&(we=St.createElement("table"),De=St.createElement("tr"),pe=St.createElement("div"),we.style.cssText="position:absolute;left:-11111px;border-collapse:separate",De.style.cssText="box-sizing:content-box;border:1px solid",De.style.height="1px",pe.style.height="9px",pe.style.display="block",ut.appendChild(we).appendChild(De).appendChild(pe),Be=At.getComputedStyle(De),S=parseInt(Be.height,10)+parseInt(Be.borderTopWidth,10)+parseInt(Be.borderBottomWidth,10)===De.offsetHeight,ut.removeChild(we)),S}}))}();var $t=["Webkit","Moz","ms"],pt=St.createElement("div").style,Mn={};function Lr(f){return I.cssProps[f]||Mn[f]||(f in pt?f:Mn[f]=function Rn(f){for(var h=f[0].toUpperCase()+f.slice(1),m=$t.length;m--;)if((f=$t[m]+h)in pt)return f}(f)||f)}var Fr=/^(none|table(?!-c[ea]).+)/,zs={position:"absolute",visibility:"hidden",display:"block"},Vs={letterSpacing:"0",fontWeight:"400"};function Ha(f,h,m){var y=Dt.exec(h);return y?Math.max(0,y[2]-(m||0))+(y[3]||"px"):h}function Gs(f,h,m,y,_,D){var S="width"===h?1:0,H=0,G=0,se=0;if(m===(y?"border":"content"))return 0;for(;S<4;S+=2)"margin"===m&&(se+=I.css(f,m+wt[S],!0,_)),y?("content"===m&&(G-=I.css(f,"padding"+wt[S],!0,_)),"margin"!==m&&(G-=I.css(f,"border"+wt[S]+"Width",!0,_))):(G+=I.css(f,"padding"+wt[S],!0,_),"padding"!==m?G+=I.css(f,"border"+wt[S]+"Width",!0,_):H+=I.css(f,"border"+wt[S]+"Width",!0,_));return!y&&D>=0&&(G+=Math.max(0,Math.ceil(f["offset"+h[0].toUpperCase()+h.slice(1)]-D-G-H-.5))||0),G+se}function va(f,h,m){var y=Re(f),D=(!st.boxSizingReliable()||m)&&"border-box"===I.css(f,"boxSizing",!1,y),S=D,H=Ye(f,h,y),G="offset"+h[0].toUpperCase()+h.slice(1);if(Ue.test(H)){if(!m)return H;H="auto"}return(!st.boxSizingReliable()&&D||!st.reliableTrDimensions()&&ln(f,"tr")||"auto"===H||!parseFloat(H)&&"inline"===I.css(f,"display",!1,y))&&f.getClientRects().length&&(D="border-box"===I.css(f,"boxSizing",!1,y),(S=G in f)&&(H=f[G])),(H=parseFloat(H)||0)+Gs(f,h,m||(D?"border":"content"),S,y,H)+"px"}function mr(f,h,m,y,_){return new mr.prototype.init(f,h,m,y,_)}I.extend({cssHooks:{opacity:{get:function(f,h){if(h){var m=Ye(f,"opacity");return""===m?"1":m}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(f,h,m,y){if(f&&3!==f.nodeType&&8!==f.nodeType&&f.style){var _,D,S,H=Y(h),G=Ie.test(h),se=f.style;if(G||(h=Lr(H)),S=I.cssHooks[h]||I.cssHooks[H],void 0===m)return S&&"get"in S&&void 0!==(_=S.get(f,!1,y))?_:se[h];if("string"==(D=typeof m)&&(_=Dt.exec(m))&&_[1]&&(m=xn(f,h,_),D="number"),null==m||m!=m)return;"number"===D&&!G&&(m+=_&&_[3]||(I.cssNumber[H]?"":"px")),!st.clearCloneStyle&&""===m&&0===h.indexOf("background")&&(se[h]="inherit"),(!S||!("set"in S)||void 0!==(m=S.set(f,m,y)))&&(G?se.setProperty(h,m):se[h]=m)}},css:function(f,h,m,y){var _,D,S,H=Y(h);return Ie.test(h)||(h=Lr(H)),(S=I.cssHooks[h]||I.cssHooks[H])&&"get"in S&&(_=S.get(f,!0,m)),void 0===_&&(_=Ye(f,h,y)),"normal"===_&&h in Vs&&(_=Vs[h]),""===m||m?(D=parseFloat(_),!0===m||isFinite(D)?D||0:_):_}}),I.each(["height","width"],function(f,h){I.cssHooks[h]={get:function(m,y,_){if(y)return!Fr.test(I.css(m,"display"))||m.getClientRects().length&&m.getBoundingClientRect().width?va(m,h,_):ht(m,zs,function(){return va(m,h,_)})},set:function(m,y,_){var D,S=Re(m),H=!st.scrollboxSize()&&"absolute"===S.position,se=(H||_)&&"border-box"===I.css(m,"boxSizing",!1,S),we=_?Gs(m,h,_,se,S):0;return se&&H&&(we-=Math.ceil(m["offset"+h[0].toUpperCase()+h.slice(1)]-parseFloat(S[h])-Gs(m,h,"border",!1,S)-.5)),we&&(D=Dt.exec(y))&&"px"!==(D[3]||"px")&&(m.style[h]=y,y=I.css(m,h)),Ha(0,y,we)}}}),I.cssHooks.marginLeft=et(st.reliableMarginLeft,function(f,h){if(h)return(parseFloat(Ye(f,"marginLeft"))||f.getBoundingClientRect().left-ht(f,{marginLeft:0},function(){return f.getBoundingClientRect().left}))+"px"}),I.each({margin:"",padding:"",border:"Width"},function(f,h){I.cssHooks[f+h]={expand:function(m){for(var y=0,_={},D="string"==typeof m?m.split(" "):[m];y<4;y++)_[f+wt[y]+h]=D[y]||D[y-2]||D[0];return _}},"margin"!==f&&(I.cssHooks[f+h].set=Ha)}),I.fn.extend({css:function(f,h){return ae(this,function(m,y,_){var D,S,H={},G=0;if(Array.isArray(y)){for(D=Re(m),S=y.length;G<S;G++)H[y[G]]=I.css(m,y[G],!1,D);return H}return void 0!==_?I.style(m,y,_):I.css(m,y)},f,h,arguments.length>1)}}),I.Tween=mr,mr.prototype={constructor:mr,init:function(f,h,m,y,_,D){this.elem=f,this.prop=m,this.easing=_||I.easing._default,this.options=h,this.start=this.now=this.cur(),this.end=y,this.unit=D||(I.cssNumber[m]?"":"px")},cur:function(){var f=mr.propHooks[this.prop];return f&&f.get?f.get(this):mr.propHooks._default.get(this)},run:function(f){var h,m=mr.propHooks[this.prop];return this.pos=h=this.options.duration?I.easing[this.easing](f,this.options.duration*f,0,1,this.options.duration):f,this.now=(this.end-this.start)*h+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),m&&m.set?m.set(this):mr.propHooks._default.set(this),this}},mr.prototype.init.prototype=mr.prototype,mr.propHooks={_default:{get:function(f){var h;return 1!==f.elem.nodeType||null!=f.elem[f.prop]&&null==f.elem.style[f.prop]?f.elem[f.prop]:(h=I.css(f.elem,f.prop,""))&&"auto"!==h?h:0},set:function(f){I.fx.step[f.prop]?I.fx.step[f.prop](f):1!==f.elem.nodeType||!I.cssHooks[f.prop]&&null==f.elem.style[Lr(f.prop)]?f.elem[f.prop]=f.now:I.style(f.elem,f.prop,f.now+f.unit)}}},mr.propHooks.scrollTop=mr.propHooks.scrollLeft={set:function(f){f.elem.nodeType&&f.elem.parentNode&&(f.elem[f.prop]=f.now)}},I.easing={linear:function(f){return f},swing:function(f){return.5-Math.cos(f*Math.PI)/2},_default:"swing"},I.fx=mr.prototype.init,I.fx.step={};var no,Do,Za=/^(?:toggle|show|hide)$/,Us=/queueHooks$/;function Bo(){Do&&(!1===St.hidden&&At.requestAnimationFrame?At.requestAnimationFrame(Bo):At.setTimeout(Bo,I.fx.interval),I.fx.tick())}function mi(){return At.setTimeout(function(){no=void 0}),no=Date.now()}function vi(f,h){var m,y=0,_={height:f};for(h=h?1:0;y<4;y+=2-h)_["margin"+(m=wt[y])]=_["padding"+m]=f;return h&&(_.opacity=_.width=f),_}function El(f,h,m){for(var y,_=(Er.tweeners[h]||[]).concat(Er.tweeners["*"]),D=0,S=_.length;D<S;D++)if(y=_[D].call(m,h,f))return y}function Er(f,h,m){var y,_,D=0,S=Er.prefilters.length,H=I.Deferred().always(function(){delete G.elem}),G=function(){if(_)return!1;for(var De=no||mi(),pe=Math.max(0,se.startTime+se.duration-De),Ft=1-(pe/se.duration||0),Yt=0,Gt=se.tweens.length;Yt<Gt;Yt++)se.tweens[Yt].run(Ft);return H.notifyWith(f,[se,Ft,pe]),Ft<1&&Gt?pe:(Gt||H.notifyWith(f,[se,1,0]),H.resolveWith(f,[se]),!1)},se=H.promise({elem:f,props:I.extend({},h),opts:I.extend(!0,{specialEasing:{},easing:I.easing._default},m),originalProperties:h,originalOptions:m,startTime:no||mi(),duration:m.duration,tweens:[],createTween:function(De,pe){var Be=I.Tween(f,se.opts,De,pe,se.opts.specialEasing[De]||se.opts.easing);return se.tweens.push(Be),Be},stop:function(De){var pe=0,Be=De?se.tweens.length:0;if(_)return this;for(_=!0;pe<Be;pe++)se.tweens[pe].run(1);return De?(H.notifyWith(f,[se,1,0]),H.resolveWith(f,[se,De])):H.rejectWith(f,[se,De]),this}}),we=se.props;for(function Ml(f,h){var m,y,_,D,S;for(m in f)if(_=h[y=Y(m)],D=f[m],Array.isArray(D)&&(_=D[1],D=f[m]=D[0]),m!==y&&(f[y]=D,delete f[m]),(S=I.cssHooks[y])&&"expand"in S)for(m in D=S.expand(D),delete f[y],D)m in f||(f[m]=D[m],h[m]=_);else h[y]=_}(we,se.opts.specialEasing);D<S;D++)if(y=Er.prefilters[D].call(se,f,we,se.opts))return kt(y.stop)&&(I._queueHooks(se.elem,se.opts.queue).stop=y.stop.bind(y)),y;return I.map(we,El,se),kt(se.opts.start)&&se.opts.start.call(f,se),se.progress(se.opts.progress).done(se.opts.done,se.opts.complete).fail(se.opts.fail).always(se.opts.always),I.fx.timer(I.extend(G,{elem:f,anim:se,queue:se.opts.queue})),se}I.Animation=I.extend(Er,{tweeners:{"*":[function(f,h){var m=this.createTween(f,h);return xn(m.elem,f,Dt.exec(h),m),m}]},tweener:function(f,h){kt(f)?(h=f,f=["*"]):f=f.match(ri);for(var m,y=0,_=f.length;y<_;y++)(Er.tweeners[m=f[y]]=Er.tweeners[m]||[]).unshift(h)},prefilters:[function xl(f,h,m){var y,_,D,S,H,G,se,we,De="width"in h||"height"in h,pe=this,Be={},Ft=f.style,Yt=f.nodeType&&Xn(f),Gt=Q.get(f,"fxshow");for(y in m.queue||(null==(S=I._queueHooks(f,"fx")).unqueued&&(S.unqueued=0,H=S.empty.fire,S.empty.fire=function(){S.unqueued||H()}),S.unqueued++,pe.always(function(){pe.always(function(){S.unqueued--,I.queue(f,"fx").length||S.empty.fire()})})),h)if(Za.test(_=h[y])){if(delete h[y],D=D||"toggle"===_,_===(Yt?"hide":"show")){if("show"!==_||!Gt||void 0===Gt[y])continue;Yt=!0}Be[y]=Gt&&Gt[y]||I.style(f,y)}if((G=!I.isEmptyObject(h))||!I.isEmptyObject(Be))for(y in De&&1===f.nodeType&&(m.overflow=[Ft.overflow,Ft.overflowX,Ft.overflowY],null==(se=Gt&&Gt.display)&&(se=Q.get(f,"display")),"none"===(we=I.css(f,"display"))&&(se?we=se:(Vn([f],!0),se=f.style.display||se,we=I.css(f,"display"),Vn([f]))),("inline"===we||"inline-block"===we&&null!=se)&&"none"===I.css(f,"float")&&(G||(pe.done(function(){Ft.display=se}),null==se&&(se="none"===(we=Ft.display)?"":we)),Ft.display="inline-block")),m.overflow&&(Ft.overflow="hidden",pe.always(function(){Ft.overflow=m.overflow[0],Ft.overflowX=m.overflow[1],Ft.overflowY=m.overflow[2]})),G=!1,Be)G||(Gt?"hidden"in Gt&&(Yt=Gt.hidden):Gt=Q.access(f,"fxshow",{display:se}),D&&(Gt.hidden=!Yt),Yt&&Vn([f],!0),pe.done(function(){for(y in Yt||Vn([f]),Q.remove(f,"fxshow"),Be)I.style(f,y,Be[y])})),G=El(Yt?Gt[y]:0,y,pe),y in Gt||(Gt[y]=G.start,Yt&&(G.end=G.start,G.start=0))}],prefilter:function(f,h){h?Er.prefilters.unshift(f):Er.prefilters.push(f)}}),I.speed=function(f,h,m){var y=f&&"object"==typeof f?I.extend({},f):{complete:m||!m&&h||kt(f)&&f,duration:f,easing:m&&h||h&&!kt(h)&&h};return I.fx.off?y.duration=0:"number"!=typeof y.duration&&(y.duration=y.duration in I.fx.speeds?I.fx.speeds[y.duration]:I.fx.speeds._default),(null==y.queue||!0===y.queue)&&(y.queue="fx"),y.old=y.complete,y.complete=function(){kt(y.old)&&y.old.call(this),y.queue&&I.dequeue(this,y.queue)},y},I.fn.extend({fadeTo:function(f,h,m,y){return this.filter(Xn).css("opacity",0).show().end().animate({opacity:h},f,m,y)},animate:function(f,h,m,y){var _=I.isEmptyObject(f),D=I.speed(h,m,y),S=function(){var H=Er(this,I.extend({},f),D);(_||Q.get(this,"finish"))&&H.stop(!0)};return S.finish=S,_||!1===D.queue?this.each(S):this.queue(D.queue,S)},stop:function(f,h,m){var y=function(_){var D=_.stop;delete _.stop,D(m)};return"string"!=typeof f&&(m=h,h=f,f=void 0),h&&this.queue(f||"fx",[]),this.each(function(){var _=!0,D=null!=f&&f+"queueHooks",S=I.timers,H=Q.get(this);if(D)H[D]&&H[D].stop&&y(H[D]);else for(D in H)H[D]&&H[D].stop&&Us.test(D)&&y(H[D]);for(D=S.length;D--;)S[D].elem===this&&(null==f||S[D].queue===f)&&(S[D].anim.stop(m),_=!1,S.splice(D,1));(_||!m)&&I.dequeue(this,f)})},finish:function(f){return!1!==f&&(f=f||"fx"),this.each(function(){var h,m=Q.get(this),y=m[f+"queue"],_=m[f+"queueHooks"],D=I.timers,S=y?y.length:0;for(m.finish=!0,I.queue(this,f,[]),_&&_.stop&&_.stop.call(this,!0),h=D.length;h--;)D[h].elem===this&&D[h].queue===f&&(D[h].anim.stop(!0),D.splice(h,1));for(h=0;h<S;h++)y[h]&&y[h].finish&&y[h].finish.call(this);delete m.finish})}}),I.each(["toggle","show","hide"],function(f,h){var m=I.fn[h];I.fn[h]=function(y,_,D){return null==y||"boolean"==typeof y?m.apply(this,arguments):this.animate(vi(h,!0),y,_,D)}}),I.each({slideDown:vi("show"),slideUp:vi("hide"),slideToggle:vi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(f,h){I.fn[f]=function(m,y,_){return this.animate(h,m,y,_)}}),I.timers=[],I.fx.tick=function(){var f,h=0,m=I.timers;for(no=Date.now();h<m.length;h++)!(f=m[h])()&&m[h]===f&&m.splice(h--,1);m.length||I.fx.stop(),no=void 0},I.fx.timer=function(f){I.timers.push(f),I.fx.start()},I.fx.interval=13,I.fx.start=function(){Do||(Do=!0,Bo())},I.fx.stop=function(){Do=null},I.fx.speeds={slow:600,fast:200,_default:400},I.fn.delay=function(f,h){return f=I.fx&&I.fx.speeds[f]||f,this.queue(h=h||"fx",function(m,y){var _=At.setTimeout(m,f);y.stop=function(){At.clearTimeout(_)}})},function(){var f=St.createElement("input"),m=St.createElement("select").appendChild(St.createElement("option"));f.type="checkbox",st.checkOn=""!==f.value,st.optSelected=m.selected,(f=St.createElement("input")).value="t",f.type="radio",st.radioValue="t"===f.value}();var ya,jo=I.expr.attrHandle;I.fn.extend({attr:function(f,h){return ae(this,I.attr,f,h,arguments.length>1)},removeAttr:function(f){return this.each(function(){I.removeAttr(this,f)})}}),I.extend({attr:function(f,h,m){var y,_,D=f.nodeType;if(3!==D&&8!==D&&2!==D)return typeof f.getAttribute>"u"?I.prop(f,h,m):((1!==D||!I.isXMLDoc(f))&&(_=I.attrHooks[h.toLowerCase()]||(I.expr.match.bool.test(h)?ya:void 0)),void 0!==m?null===m?void I.removeAttr(f,h):_&&"set"in _&&void 0!==(y=_.set(f,m,h))?y:(f.setAttribute(h,m+""),m):_&&"get"in _&&null!==(y=_.get(f,h))?y:(y=I.find.attr(f,h))??void 0)},attrHooks:{type:{set:function(f,h){if(!st.radioValue&&"radio"===h&&ln(f,"input")){var m=f.value;return f.setAttribute("type",h),m&&(f.value=m),h}}}},removeAttr:function(f,h){var m,y=0,_=h&&h.match(ri);if(_&&1===f.nodeType)for(;m=_[y++];)f.removeAttribute(m)}}),ya={set:function(f,h,m){return!1===h?I.removeAttr(f,m):f.setAttribute(m,m),m}},I.each(I.expr.match.bool.source.match(/\w+/g),function(f,h){var m=jo[h]||I.find.attr;jo[h]=function(y,_,D){var S,H,G=_.toLowerCase();return D||(H=jo[G],jo[G]=S,S=null!=m(y,_,D)?G:null,jo[G]=H),S}});var Wa=/^(?:input|select|textarea|button)$/i,Di=/^(?:a|area)$/i;function Ei(f){return(f.match(ri)||[]).join(" ")}function is(f){return f.getAttribute&&f.getAttribute("class")||""}function Ya(f){return Array.isArray(f)?f:"string"==typeof f&&f.match(ri)||[]}I.fn.extend({prop:function(f,h){return ae(this,I.prop,f,h,arguments.length>1)},removeProp:function(f){return this.each(function(){delete this[I.propFix[f]||f]})}}),I.extend({prop:function(f,h,m){var y,_,D=f.nodeType;if(3!==D&&8!==D&&2!==D)return(1!==D||!I.isXMLDoc(f))&&(_=I.propHooks[h=I.propFix[h]||h]),void 0!==m?_&&"set"in _&&void 0!==(y=_.set(f,m,h))?y:f[h]=m:_&&"get"in _&&null!==(y=_.get(f,h))?y:f[h]},propHooks:{tabIndex:{get:function(f){var h=I.find.attr(f,"tabindex");return h?parseInt(h,10):Wa.test(f.nodeName)||Di.test(f.nodeName)&&f.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),st.optSelected||(I.propHooks.selected={get:function(f){return null},set:function(f){}}),I.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){I.propFix[this.toLowerCase()]=this}),I.fn.extend({addClass:function(f){var h,m,y,_,D,S;return kt(f)?this.each(function(H){I(this).addClass(f.call(this,H,is(this)))}):(h=Ya(f)).length?this.each(function(){if(y=is(this),m=1===this.nodeType&&" "+Ei(y)+" "){for(D=0;D<h.length;D++)m.indexOf(" "+(_=h[D])+" ")<0&&(m+=_+" ");S=Ei(m),y!==S&&this.setAttribute("class",S)}}):this},removeClass:function(f){var h,m,y,_,D,S;return kt(f)?this.each(function(H){I(this).removeClass(f.call(this,H,is(this)))}):arguments.length?(h=Ya(f)).length?this.each(function(){if(y=is(this),m=1===this.nodeType&&" "+Ei(y)+" "){for(D=0;D<h.length;D++)for(_=h[D];m.indexOf(" "+_+" ")>-1;)m=m.replace(" "+_+" "," ");S=Ei(m),y!==S&&this.setAttribute("class",S)}}):this:this.attr("class","")},toggleClass:function(f,h){var m,y,_,D,S=typeof f,H="string"===S||Array.isArray(f);return kt(f)?this.each(function(G){I(this).toggleClass(f.call(this,G,is(this),h),h)}):"boolean"==typeof h&&H?h?this.addClass(f):this.removeClass(f):(m=Ya(f),this.each(function(){if(H)for(D=I(this),_=0;_<m.length;_++)D.hasClass(y=m[_])?D.removeClass(y):D.addClass(y);else(void 0===f||"boolean"===S)&&((y=is(this))&&Q.set(this,"__className__",y),this.setAttribute&&this.setAttribute("class",y||!1===f?"":Q.get(this,"__className__")||""))}))},hasClass:function(f){var h,m,y=0;for(h=" "+f+" ";m=this[y++];)if(1===m.nodeType&&(" "+Ei(is(m))+" ").indexOf(h)>-1)return!0;return!1}});var Tc=/\r/g;I.fn.extend({val:function(f){var h,m,y,_=this[0];return arguments.length?(y=kt(f),this.each(function(D){var S;1===this.nodeType&&(null==(S=y?f.call(this,D,I(this).val()):f)?S="":"number"==typeof S?S+="":Array.isArray(S)&&(S=I.map(S,function(H){return null==H?"":H+""})),(!(h=I.valHooks[this.type]||I.valHooks[this.nodeName.toLowerCase()])||!("set"in h)||void 0===h.set(this,S,"value"))&&(this.value=S))})):_?(h=I.valHooks[_.type]||I.valHooks[_.nodeName.toLowerCase()])&&"get"in h&&void 0!==(m=h.get(_,"value"))?m:"string"==typeof(m=_.value)?m.replace(Tc,""):m??"":void 0}}),I.extend({valHooks:{option:{get:function(f){return I.find.attr(f,"value")??Ei(I.text(f))}},select:{get:function(f){var h,m,y,_=f.options,D=f.selectedIndex,S="select-one"===f.type,H=S?null:[],G=S?D+1:_.length;for(y=D<0?G:S?D:0;y<G;y++)if(((m=_[y]).selected||y===D)&&!m.disabled&&(!m.parentNode.disabled||!ln(m.parentNode,"optgroup"))){if(h=I(m).val(),S)return h;H.push(h)}return H},set:function(f,h){for(var m,y,_=f.options,D=I.makeArray(h),S=_.length;S--;)((y=_[S]).selected=I.inArray(I.valHooks.option.get(y),D)>-1)&&(m=!0);return m||(f.selectedIndex=-1),D}}}}),I.each(["radio","checkbox"],function(){I.valHooks[this]={set:function(f,h){if(Array.isArray(h))return f.checked=I.inArray(I(f).val(),h)>-1}},st.checkOn||(I.valHooks[this].get=function(f){return null===f.getAttribute("value")?"on":f.value})});var Hs=At.location,Sc={guid:Date.now()},Xa=/\?/;I.parseXML=function(f){var h,m;if(!f||"string"!=typeof f)return null;try{h=(new At.DOMParser).parseFromString(f,"text/xml")}catch{}return m=h&&h.getElementsByTagName("parsererror")[0],(!h||m)&&I.error("Invalid XML: "+(m?I.map(m.childNodes,function(y){return y.textContent}).join("\n"):f)),h};var Nc=/^(?:focusinfocus|focusoutblur)$/,ba=function(f){f.stopPropagation()};I.extend(I.event,{trigger:function(f,h,m,y){var _,D,S,H,G,se,we,De,pe=[m||St],Be=Zt.call(f,"type")?f.type:f,Ft=Zt.call(f,"namespace")?f.namespace.split("."):[];if(D=De=S=m=m||St,3!==m.nodeType&&8!==m.nodeType&&!Nc.test(Be+I.event.triggered)&&(Be.indexOf(".")>-1&&(Ft=Be.split("."),Be=Ft.shift(),Ft.sort()),G=Be.indexOf(":")<0&&"on"+Be,(f=f[I.expando]?f:new I.Event(Be,"object"==typeof f&&f)).isTrigger=y?2:3,f.namespace=Ft.join("."),f.rnamespace=f.namespace?new RegExp("(^|\\.)"+Ft.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=void 0,f.target||(f.target=m),h=null==h?[f]:I.makeArray(h,[f]),we=I.event.special[Be]||{},y||!we.trigger||!1!==we.trigger.apply(m,h))){if(!y&&!we.noBubble&&!pi(m)){for(Nc.test((H=we.delegateType||Be)+Be)||(D=D.parentNode);D;D=D.parentNode)pe.push(D),S=D;S===(m.ownerDocument||St)&&pe.push(S.defaultView||S.parentWindow||At)}for(_=0;(D=pe[_++])&&!f.isPropagationStopped();)De=D,f.type=_>1?H:we.bindType||Be,(se=(Q.get(D,"events")||Object.create(null))[f.type]&&Q.get(D,"handle"))&&se.apply(D,h),(se=G&&D[G])&&se.apply&&ve(D)&&(f.result=se.apply(D,h),!1===f.result&&f.preventDefault());return f.type=Be,!y&&!f.isDefaultPrevented()&&(!we._default||!1===we._default.apply(pe.pop(),h))&&ve(m)&&G&&kt(m[Be])&&!pi(m)&&((S=m[G])&&(m[G]=null),I.event.triggered=Be,f.isPropagationStopped()&&De.addEventListener(Be,ba),m[Be](),f.isPropagationStopped()&&De.removeEventListener(Be,ba),I.event.triggered=void 0,S&&(m[G]=S)),f.result}},simulate:function(f,h,m){var y=I.extend(new I.Event,m,{type:f,isSimulated:!0});I.event.trigger(y,null,h)}}),I.fn.extend({trigger:function(f,h){return this.each(function(){I.event.trigger(f,h,this)})},triggerHandler:function(f,h){var m=this[0];if(m)return I.event.trigger(f,h,m,!0)}});var sd=/\[\]$/,Ia=/\r?\n/g,$a=/^(?:submit|button|image|reset|file)$/i,kc=/^(?:input|select|textarea|keygen)/i;function Zs(f,h,m,y){var _;if(Array.isArray(h))I.each(h,function(D,S){m||sd.test(f)?y(f,S):Zs(f+"["+("object"==typeof S&&null!=S?D:"")+"]",S,m,y)});else if(m||"object"!==hn(h))y(f,h);else for(_ in h)Zs(f+"["+_+"]",h[_],m,y)}I.param=function(f,h){var m,y=[],_=function(D,S){var H=kt(S)?S():S;y[y.length]=encodeURIComponent(D)+"="+encodeURIComponent(H??"")};if(null==f)return"";if(Array.isArray(f)||f.jquery&&!I.isPlainObject(f))I.each(f,function(){_(this.name,this.value)});else for(m in f)Zs(m,f[m],h,_);return y.join("&")},I.fn.extend({serialize:function(){return I.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var f=I.prop(this,"elements");return f?I.makeArray(f):this}).filter(function(){var f=this.type;return this.name&&!I(this).is(":disabled")&&kc.test(this.nodeName)&&!$a.test(f)&&(this.checked||!In.test(f))}).map(function(f,h){var m=I(this).val();return null==m?null:Array.isArray(m)?I.map(m,function(y){return{name:h.name,value:y.replace(Ia,"\r\n")}}):{name:h.name,value:m.replace(Ia,"\r\n")}}).get()}});var Pc=/%20/g,qa=/#.*$/,Ja=/([?&])_=[^&]*/,Ka=/^(.*?):[ \t]*([^\r\n]*)$/gm,Qa=/^(?:GET|HEAD)$/,ii=/^\/\//,Ws={},ec={},Hi="*/".concat("*"),ro=St.createElement("a");function tc(f){return function(h,m){"string"!=typeof h&&(m=h,h="*");var y,_=0,D=h.toLowerCase().match(ri)||[];if(kt(m))for(;y=D[_++];)"+"===y[0]?(y=y.slice(1)||"*",(f[y]=f[y]||[]).unshift(m)):(f[y]=f[y]||[]).push(m)}}function _s(f,h,m,y){var _={},D=f===ec;function S(H){var G;return _[H]=!0,I.each(f[H]||[],function(se,we){var De=we(h,m,y);return"string"!=typeof De||D||_[De]?D?!(G=De):void 0:(h.dataTypes.unshift(De),S(De),!1)}),G}return S(h.dataTypes[0])||!_["*"]&&S("*")}function Ys(f,h){var m,y,_=I.ajaxSettings.flatOptions||{};for(m in h)void 0!==h[m]&&((_[m]?f:y||(y={}))[m]=h[m]);return y&&I.extend(!0,f,y),f}ro.href=Hs.href,I.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Hs.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Hs.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Hi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":I.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(f,h){return h?Ys(Ys(f,I.ajaxSettings),h):Ys(I.ajaxSettings,f)},ajaxPrefilter:tc(Ws),ajaxTransport:tc(ec),ajax:function(f,h){"object"==typeof f&&(h=f,f=void 0);var m,y,_,D,S,H,G,se,we,De,pe=I.ajaxSetup({},h=h||{}),Be=pe.context||pe,Ft=pe.context&&(Be.nodeType||Be.jquery)?I(Be):I.event,Yt=I.Deferred(),Gt=I.Callbacks("once memory"),$n=pe.statusCode||{},vr={},xi={},io="canceled",ct={readyState:0,getResponseHeader:function(It){var qn;if(G){if(!D)for(D={};qn=Ka.exec(_);)D[qn[1].toLowerCase()+" "]=(D[qn[1].toLowerCase()+" "]||[]).concat(qn[2]);qn=D[It.toLowerCase()+" "]}return null==qn?null:qn.join(", ")},getAllResponseHeaders:function(){return G?_:null},setRequestHeader:function(It,qn){return null==G&&(It=xi[It.toLowerCase()]=xi[It.toLowerCase()]||It,vr[It]=qn),this},overrideMimeType:function(It){return null==G&&(pe.mimeType=It),this},statusCode:function(It){var qn;if(It)if(G)ct.always(It[ct.status]);else for(qn in It)$n[qn]=[$n[qn],It[qn]];return this},abort:function(It){var qn=It||io;return m&&m.abort(qn),oo(0,qn),this}};if(Yt.promise(ct),pe.url=((f||pe.url||Hs.href)+"").replace(ii,Hs.protocol+"//"),pe.type=h.method||h.type||pe.method||pe.type,pe.dataTypes=(pe.dataType||"*").toLowerCase().match(ri)||[""],null==pe.crossDomain){H=St.createElement("a");try{H.href=pe.url,H.href=H.href,pe.crossDomain=ro.protocol+"//"+ro.host!=H.protocol+"//"+H.host}catch{pe.crossDomain=!0}}if(pe.data&&pe.processData&&"string"!=typeof pe.data&&(pe.data=I.param(pe.data,pe.traditional)),_s(Ws,pe,h,ct),G)return ct;for(we in(se=I.event&&pe.global)&&0==I.active++&&I.event.trigger("ajaxStart"),pe.type=pe.type.toUpperCase(),pe.hasContent=!Qa.test(pe.type),y=pe.url.replace(qa,""),pe.hasContent?pe.data&&pe.processData&&0===(pe.contentType||"").indexOf("application/x-www-form-urlencoded")&&(pe.data=pe.data.replace(Pc,"+")):(De=pe.url.slice(y.length),pe.data&&(pe.processData||"string"==typeof pe.data)&&(y+=(Xa.test(y)?"&":"?")+pe.data,delete pe.data),!1===pe.cache&&(y=y.replace(Ja,"$1"),De=(Xa.test(y)?"&":"?")+"_="+Sc.guid+++De),pe.url=y+De),pe.ifModified&&(I.lastModified[y]&&ct.setRequestHeader("If-Modified-Since",I.lastModified[y]),I.etag[y]&&ct.setRequestHeader("If-None-Match",I.etag[y])),(pe.data&&pe.hasContent&&!1!==pe.contentType||h.contentType)&&ct.setRequestHeader("Content-Type",pe.contentType),ct.setRequestHeader("Accept",pe.dataTypes[0]&&pe.accepts[pe.dataTypes[0]]?pe.accepts[pe.dataTypes[0]]+("*"!==pe.dataTypes[0]?", "+Hi+"; q=0.01":""):pe.accepts["*"]),pe.headers)ct.setRequestHeader(we,pe.headers[we]);if(pe.beforeSend&&(!1===pe.beforeSend.call(Be,ct,pe)||G))return ct.abort();if(io="abort",Gt.add(pe.complete),ct.done(pe.success),ct.fail(pe.error),m=_s(ec,pe,h,ct)){if(ct.readyState=1,se&&Ft.trigger("ajaxSend",[ct,pe]),G)return ct;pe.async&&pe.timeout>0&&(S=At.setTimeout(function(){ct.abort("timeout")},pe.timeout));try{G=!1,m.send(vr,oo)}catch(It){if(G)throw It;oo(-1,It)}}else oo(-1,"No Transport");function oo(It,qn,Ca,As){var yi,_t,bi,so,Vo,si=qn;G||(G=!0,S&&At.clearTimeout(S),m=void 0,_=As||"",ct.readyState=It>0?4:0,yi=It>=200&&It<300||304===It,Ca&&(so=function Yr(f,h,m){for(var y,_,D,S,H=f.contents,G=f.dataTypes;"*"===G[0];)G.shift(),void 0===y&&(y=f.mimeType||h.getResponseHeader("Content-Type"));if(y)for(_ in H)if(H[_]&&H[_].test(y)){G.unshift(_);break}if(G[0]in m)D=G[0];else{for(_ in m){if(!G[0]||f.converters[_+" "+G[0]]){D=_;break}S||(S=_)}D=D||S}if(D)return D!==G[0]&&G.unshift(D),m[D]}(pe,ct,Ca)),!yi&&I.inArray("script",pe.dataTypes)>-1&&I.inArray("json",pe.dataTypes)<0&&(pe.converters["text script"]=function(){}),so=function Tl(f,h,m,y){var _,D,S,H,G,se={},we=f.dataTypes.slice();if(we[1])for(S in f.converters)se[S.toLowerCase()]=f.converters[S];for(D=we.shift();D;)if(f.responseFields[D]&&(m[f.responseFields[D]]=h),!G&&y&&f.dataFilter&&(h=f.dataFilter(h,f.dataType)),G=D,D=we.shift())if("*"===D)D=G;else if("*"!==G&&G!==D){if(!(S=se[G+" "+D]||se["* "+D]))for(_ in se)if((H=_.split(" "))[1]===D&&(S=se[G+" "+H[0]]||se["* "+H[0]])){!0===S?S=se[_]:!0!==se[_]&&(D=H[0],we.unshift(H[1]));break}if(!0!==S)if(S&&f.throws)h=S(h);else try{h=S(h)}catch(De){return{state:"parsererror",error:S?De:"No conversion from "+G+" to "+D}}}return{state:"success",data:h}}(pe,so,ct,yi),yi?(pe.ifModified&&((Vo=ct.getResponseHeader("Last-Modified"))&&(I.lastModified[y]=Vo),(Vo=ct.getResponseHeader("etag"))&&(I.etag[y]=Vo)),204===It||"HEAD"===pe.type?si="nocontent":304===It?si="notmodified":(si=so.state,_t=so.data,yi=!(bi=so.error))):(bi=si,(It||!si)&&(si="error",It<0&&(It=0))),ct.status=It,ct.statusText=(qn||si)+"",yi?Yt.resolveWith(Be,[_t,si,ct]):Yt.rejectWith(Be,[ct,si,bi]),ct.statusCode($n),$n=void 0,se&&Ft.trigger(yi?"ajaxSuccess":"ajaxError",[ct,pe,yi?_t:bi]),Gt.fireWith(Be,[ct,si]),se&&(Ft.trigger("ajaxComplete",[ct,pe]),--I.active||I.event.trigger("ajaxStop")))}return ct},getJSON:function(f,h,m){return I.get(f,h,m,"json")},getScript:function(f,h){return I.get(f,void 0,h,"script")}}),I.each(["get","post"],function(f,h){I[h]=function(m,y,_,D){return kt(y)&&(D=D||_,_=y,y=void 0),I.ajax(I.extend({url:m,type:h,dataType:D,data:y,success:_},I.isPlainObject(m)&&m))}}),I.ajaxPrefilter(function(f){var h;for(h in f.headers)"content-type"===h.toLowerCase()&&(f.contentType=f.headers[h]||"")}),I._evalUrl=function(f,h,m){return I.ajax({url:f,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(y){I.globalEval(y,h,m)}})},I.fn.extend({wrapAll:function(f){var h;return this[0]&&(kt(f)&&(f=f.call(this[0])),h=I(f,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&h.insertBefore(this[0]),h.map(function(){for(var m=this;m.firstElementChild;)m=m.firstElementChild;return m}).append(this)),this},wrapInner:function(f){return kt(f)?this.each(function(h){I(this).wrapInner(f.call(this,h))}):this.each(function(){var h=I(this),m=h.contents();m.length?m.wrapAll(f):h.append(f)})},wrap:function(f){var h=kt(f);return this.each(function(m){I(this).wrapAll(h?f.call(this,m):f)})},unwrap:function(f){return this.parent(f).not("body").each(function(){I(this).replaceWith(this.childNodes)}),this}}),I.expr.pseudos.hidden=function(f){return!I.expr.pseudos.visible(f)},I.expr.pseudos.visible=function(f){return!!(f.offsetWidth||f.offsetHeight||f.getClientRects().length)},I.ajaxSettings.xhr=function(){try{return new At.XMLHttpRequest}catch{}};var os={0:200,1223:204},zo=I.ajaxSettings.xhr();st.cors=!!zo&&"withCredentials"in zo,st.ajax=zo=!!zo,I.ajaxTransport(function(f){var h,m;if(st.cors||zo&&!f.crossDomain)return{send:function(y,_){var D,S=f.xhr();if(S.open(f.type,f.url,f.async,f.username,f.password),f.xhrFields)for(D in f.xhrFields)S[D]=f.xhrFields[D];for(D in f.mimeType&&S.overrideMimeType&&S.overrideMimeType(f.mimeType),!f.crossDomain&&!y["X-Requested-With"]&&(y["X-Requested-With"]="XMLHttpRequest"),y)S.setRequestHeader(D,y[D]);h=function(H){return function(){h&&(h=m=S.onload=S.onerror=S.onabort=S.ontimeout=S.onreadystatechange=null,"abort"===H?S.abort():"error"===H?"number"!=typeof S.status?_(0,"error"):_(S.status,S.statusText):_(os[S.status]||S.status,S.statusText,"text"!==(S.responseType||"text")||"string"!=typeof S.responseText?{binary:S.response}:{text:S.responseText},S.getAllResponseHeaders()))}},S.onload=h(),m=S.onerror=S.ontimeout=h("error"),void 0!==S.onabort?S.onabort=m:S.onreadystatechange=function(){4===S.readyState&&At.setTimeout(function(){h&&m()})},h=h("abort");try{S.send(f.hasContent&&f.data||null)}catch(H){if(h)throw H}},abort:function(){h&&h()}}}),I.ajaxPrefilter(function(f){f.crossDomain&&(f.contents.script=!1)}),I.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(f){return I.globalEval(f),f}}}),I.ajaxPrefilter("script",function(f){void 0===f.cache&&(f.cache=!1),f.crossDomain&&(f.type="GET")}),I.ajaxTransport("script",function(f){var h,m;if(f.crossDomain||f.scriptAttrs)return{send:function(y,_){h=I("<script>").attr(f.scriptAttrs||{}).prop({charset:f.scriptCharset,src:f.url}).on("load error",m=function(D){h.remove(),m=null,D&&_("error"===D.type?404:200,D.type)}),St.head.appendChild(h[0])},abort:function(){m&&m()}}});var f,oi=[],Rc=/(=)\?(?=&|$)|\?\?/;I.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var f=oi.pop()||I.expando+"_"+Sc.guid++;return this[f]=!0,f}}),I.ajaxPrefilter("json jsonp",function(f,h,m){var y,_,D,S=!1!==f.jsonp&&(Rc.test(f.url)?"url":"string"==typeof f.data&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rc.test(f.data)&&"data");if(S||"jsonp"===f.dataTypes[0])return y=f.jsonpCallback=kt(f.jsonpCallback)?f.jsonpCallback():f.jsonpCallback,S?f[S]=f[S].replace(Rc,"$1"+y):!1!==f.jsonp&&(f.url+=(Xa.test(f.url)?"&":"?")+f.jsonp+"="+y),f.converters["script json"]=function(){return D||I.error(y+" was not called"),D[0]},f.dataTypes[0]="json",_=At[y],At[y]=function(){D=arguments},m.always(function(){void 0===_?I(At).removeProp(y):At[y]=_,f[y]&&(f.jsonpCallback=h.jsonpCallback,oi.push(y)),D&&kt(_)&&_(D[0]),D=_=void 0}),"script"}),st.createHTMLDocument=((f=St.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===f.childNodes.length),I.parseHTML=function(f,h,m){return"string"!=typeof f?[]:("boolean"==typeof h&&(m=h,h=!1),h||(st.createHTMLDocument?((y=(h=St.implementation.createHTMLDocument("")).createElement("base")).href=St.location.href,h.head.appendChild(y)):h=St),D=!m&&[],(_=Ar.exec(f))?[h.createElement(_[1])]:(_=Et([f],h,D),D&&D.length&&I(D).remove(),I.merge([],_.childNodes)));var y,_,D},I.fn.load=function(f,h,m){var y,_,D,S=this,H=f.indexOf(" ");return H>-1&&(y=Ei(f.slice(H)),f=f.slice(0,H)),kt(h)?(m=h,h=void 0):h&&"object"==typeof h&&(_="POST"),S.length>0&&I.ajax({url:f,type:_||"GET",dataType:"html",data:h}).done(function(G){D=arguments,S.html(y?I("<div>").append(I.parseHTML(G)).find(y):G)}).always(m&&function(G,se){S.each(function(){m.apply(this,D||[G.responseText,se,G])})}),this},I.expr.pseudos.animated=function(f){return I.grep(I.timers,function(h){return f===h.elem}).length},I.offset={setOffset:function(f,h,m){var y,_,D,S,H,G,we=I.css(f,"position"),De=I(f),pe={};"static"===we&&(f.style.position="relative"),H=De.offset(),D=I.css(f,"top"),G=I.css(f,"left"),("absolute"===we||"fixed"===we)&&(D+G).indexOf("auto")>-1?(S=(y=De.position()).top,_=y.left):(S=parseFloat(D)||0,_=parseFloat(G)||0),kt(h)&&(h=h.call(f,m,I.extend({},H))),null!=h.top&&(pe.top=h.top-H.top+S),null!=h.left&&(pe.left=h.left-H.left+_),"using"in h?h.using.call(f,pe):De.css(pe)}},I.fn.extend({offset:function(f){if(arguments.length)return void 0===f?this:this.each(function(_){I.offset.setOffset(this,f,_)});var h,m,y=this[0];return y?y.getClientRects().length?{top:(h=y.getBoundingClientRect()).top+(m=y.ownerDocument.defaultView).pageYOffset,left:h.left+m.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var f,h,m,y=this[0],_={top:0,left:0};if("fixed"===I.css(y,"position"))h=y.getBoundingClientRect();else{for(h=this.offset(),m=y.ownerDocument,f=y.offsetParent||m.documentElement;f&&(f===m.body||f===m.documentElement)&&"static"===I.css(f,"position");)f=f.parentNode;f&&f!==y&&1===f.nodeType&&((_=I(f).offset()).top+=I.css(f,"borderTopWidth",!0),_.left+=I.css(f,"borderLeftWidth",!0))}return{top:h.top-_.top-I.css(y,"marginTop",!0),left:h.left-_.left-I.css(y,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var f=this.offsetParent;f&&"static"===I.css(f,"position");)f=f.offsetParent;return f||ut})}}),I.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(f,h){var m="pageYOffset"===h;I.fn[f]=function(y){return ae(this,function(_,D,S){var H;if(pi(_)?H=_:9===_.nodeType&&(H=_.defaultView),void 0===S)return H?H[h]:_[D];H?H.scrollTo(m?H.pageXOffset:S,m?S:H.pageYOffset):_[D]=S},f,y,arguments.length)}}),I.each(["top","left"],function(f,h){I.cssHooks[h]=et(st.pixelPosition,function(m,y){if(y)return y=Ye(m,h),Ue.test(y)?I(m).position()[h]+"px":y})}),I.each({Height:"height",Width:"width"},function(f,h){I.each({padding:"inner"+f,content:h,"":"outer"+f},function(m,y){I.fn[y]=function(_,D){var S=arguments.length&&(m||"boolean"!=typeof _),H=m||(!0===_||!0===D?"margin":"border");return ae(this,function(G,se,we){var De;return pi(G)?0===y.indexOf("outer")?G["inner"+f]:G.document.documentElement["client"+f]:9===G.nodeType?(De=G.documentElement,Math.max(G.body["scroll"+f],De["scroll"+f],G.body["offset"+f],De["offset"+f],De["client"+f])):void 0===we?I.css(G,se,H):I.style(G,se,we,H)},h,S?_:void 0,S)}})}),I.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(f,h){I.fn[h]=function(m){return this.on(h,m)}}),I.fn.extend({bind:function(f,h,m){return this.on(f,null,h,m)},unbind:function(f,h){return this.off(f,null,h)},delegate:function(f,h,m,y){return this.on(h,f,m,y)},undelegate:function(f,h,m){return 1===arguments.length?this.off(f,"**"):this.off(h,f||"**",m)},hover:function(f,h){return this.on("mouseenter",f).on("mouseleave",h||f)}}),I.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(f,h){I.fn[h]=function(m,y){return arguments.length>0?this.on(h,null,m,y):this.trigger(h)}});var nc=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;I.proxy=function(f,h){var m,y,_;if("string"==typeof h&&(m=f[h],h=f,f=m),kt(f))return y=rr.call(arguments,2),_=function(){return f.apply(h||this,y.concat(rr.call(arguments)))},_.guid=f.guid=f.guid||I.guid++,_},I.holdReady=function(f){f?I.readyWait++:I.ready(!0)},I.isArray=Array.isArray,I.parseJSON=JSON.parse,I.nodeName=ln,I.isFunction=kt,I.isWindow=pi,I.camelCase=Y,I.type=hn,I.now=Date.now,I.isNumeric=function(f){var h=I.type(f);return("number"===h||"string"===h)&&!isNaN(f-parseFloat(f))},I.trim=function(f){return null==f?"":(f+"").replace(nc,"$1")},void 0!==(Li=function(){return I}.apply(Ir,[]))&&(Jn.exports=Li);var Lc=At.jQuery,wa=At.$;return I.noConflict=function(f){return At.$===I&&(At.$=wa),f&&At.jQuery===I&&(At.jQuery=Lc),I},typeof Rr>"u"&&(At.jQuery=At.$=I),I})},332:()=>{"use strict";!function(B){const Y=B.performance;function ve(fn){Y&&Y.mark&&Y.mark(fn)}function ge(fn,lt){Y&&Y.measure&&Y.measure(fn,lt)}ve("Zone");const Q=B.__Zone_symbol_prefix||"__zone_symbol__";function _e(fn){return Q+fn}const Je=!0===B[_e("forceDuplicateZoneCheck")];if(B.Zone){if(Je||"function"!=typeof B.Zone.__symbol__)throw new Error("Zone already loaded.");return B.Zone}let je=(()=>{class fn{static#e=this.__symbol__=_e;static assertZonePatched(){if(B.Promise!==pr.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let J=fn.current;for(;J.parent;)J=J.parent;return J}static get current(){return gn.zone}static get currentTask(){return gr}static __load_patch(J,me,yt=!1){if(pr.hasOwnProperty(J)){if(!yt&&Je)throw Error("Already loaded patch: "+J)}else if(!B["__Zone_disable_"+J]){const at="Zone:"+J;ve(at),pr[J]=me(B,fn,On),ge(at,at)}}get parent(){return this._parent}get name(){return this._name}constructor(J,me){this._parent=J,this._name=me?me.name||"unnamed":"<root>",this._properties=me&&me.properties||{},this._zoneDelegate=new Fe(this,this._parent&&this._parent._zoneDelegate,me)}get(J){const me=this.getZoneWith(J);if(me)return me._properties[J]}getZoneWith(J){let me=this;for(;me;){if(me._properties.hasOwnProperty(J))return me;me=me._parent}return null}fork(J){if(!J)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,J)}wrap(J,me){if("function"!=typeof J)throw new Error("Expecting function got: "+J);const yt=this._zoneDelegate.intercept(this,J,me),at=this;return function(){return at.runGuarded(yt,this,arguments,me)}}run(J,me,yt,at){gn={parent:gn,zone:this};try{return this._zoneDelegate.invoke(this,J,me,yt,at)}finally{gn=gn.parent}}runGuarded(J,me=null,yt,at){gn={parent:gn,zone:this};try{try{return this._zoneDelegate.invoke(this,J,me,yt,at)}catch(Fn){if(this._zoneDelegate.handleError(this,Fn))throw Fn}}finally{gn=gn.parent}}runTask(J,me,yt){if(J.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(J.zone||Vn).name+"; Execution: "+this.name+")");if(J.state===In&&(J.type===ar||J.type===Et))return;const at=J.state!=Ke;at&&J._transitionTo(Ke,pn),J.runCount++;const Fn=gr;gr=J,gn={parent:gn,zone:this};try{J.type==Et&&J.data&&!J.data.isPeriodic&&(J.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,J,me,yt)}catch(Ve){if(this._zoneDelegate.handleError(this,Ve))throw Ve}}finally{J.state!==In&&J.state!==qe&&(J.type==ar||J.data&&J.data.isPeriodic?at&&J._transitionTo(pn,Ke):(J.runCount=0,this._updateTaskCount(J,-1),at&&J._transitionTo(In,Ke,In))),gn=gn.parent,gr=Fn}}scheduleTask(J){if(J.zone&&J.zone!==this){let yt=this;for(;yt;){if(yt===J.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${J.zone.name}`);yt=yt.parent}}J._transitionTo(Qn,In);const me=[];J._zoneDelegates=me,J._zone=this;try{J=this._zoneDelegate.scheduleTask(this,J)}catch(yt){throw J._transitionTo(qe,Qn,In),this._zoneDelegate.handleError(this,yt),yt}return J._zoneDelegates===me&&this._updateTaskCount(J,1),J.state==Qn&&J._transitionTo(pn,Qn),J}scheduleMicroTask(J,me,yt,at){return this.scheduleTask(new $e(sn,J,me,yt,at,void 0))}scheduleMacroTask(J,me,yt,at,Fn){return this.scheduleTask(new $e(Et,J,me,yt,at,Fn))}scheduleEventTask(J,me,yt,at,Fn){return this.scheduleTask(new $e(ar,J,me,yt,at,Fn))}cancelTask(J){if(J.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(J.zone||Vn).name+"; Execution: "+this.name+")");if(J.state===pn||J.state===Ke){J._transitionTo(Lt,pn,Ke);try{this._zoneDelegate.cancelTask(this,J)}catch(me){throw J._transitionTo(qe,Lt),this._zoneDelegate.handleError(this,me),me}return this._updateTaskCount(J,-1),J._transitionTo(In,Lt),J.runCount=0,J}}_updateTaskCount(J,me){const yt=J._zoneDelegates;-1==me&&(J._zoneDelegates=null);for(let at=0;at<yt.length;at++)yt[at]._updateTaskCount(J.type,me)}}return fn})();const Pt={name:"",onHasTask:(fn,lt,J,me)=>fn.hasTask(J,me),onScheduleTask:(fn,lt,J,me)=>fn.scheduleTask(J,me),onInvokeTask:(fn,lt,J,me,yt,at)=>fn.invokeTask(J,me,yt,at),onCancelTask:(fn,lt,J,me)=>fn.cancelTask(J,me)};class Fe{constructor(lt,J,me){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=lt,this._parentDelegate=J,this._forkZS=me&&(me&&me.onFork?me:J._forkZS),this._forkDlgt=me&&(me.onFork?J:J._forkDlgt),this._forkCurrZone=me&&(me.onFork?this.zone:J._forkCurrZone),this._interceptZS=me&&(me.onIntercept?me:J._interceptZS),this._interceptDlgt=me&&(me.onIntercept?J:J._interceptDlgt),this._interceptCurrZone=me&&(me.onIntercept?this.zone:J._interceptCurrZone),this._invokeZS=me&&(me.onInvoke?me:J._invokeZS),this._invokeDlgt=me&&(me.onInvoke?J:J._invokeDlgt),this._invokeCurrZone=me&&(me.onInvoke?this.zone:J._invokeCurrZone),this._handleErrorZS=me&&(me.onHandleError?me:J._handleErrorZS),this._handleErrorDlgt=me&&(me.onHandleError?J:J._handleErrorDlgt),this._handleErrorCurrZone=me&&(me.onHandleError?this.zone:J._handleErrorCurrZone),this._scheduleTaskZS=me&&(me.onScheduleTask?me:J._scheduleTaskZS),this._scheduleTaskDlgt=me&&(me.onScheduleTask?J:J._scheduleTaskDlgt),this._scheduleTaskCurrZone=me&&(me.onScheduleTask?this.zone:J._scheduleTaskCurrZone),this._invokeTaskZS=me&&(me.onInvokeTask?me:J._invokeTaskZS),this._invokeTaskDlgt=me&&(me.onInvokeTask?J:J._invokeTaskDlgt),this._invokeTaskCurrZone=me&&(me.onInvokeTask?this.zone:J._invokeTaskCurrZone),this._cancelTaskZS=me&&(me.onCancelTask?me:J._cancelTaskZS),this._cancelTaskDlgt=me&&(me.onCancelTask?J:J._cancelTaskDlgt),this._cancelTaskCurrZone=me&&(me.onCancelTask?this.zone:J._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const yt=me&&me.onHasTask;(yt||J&&J._hasTaskZS)&&(this._hasTaskZS=yt?me:Pt,this._hasTaskDlgt=J,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=lt,me.onScheduleTask||(this._scheduleTaskZS=Pt,this._scheduleTaskDlgt=J,this._scheduleTaskCurrZone=this.zone),me.onInvokeTask||(this._invokeTaskZS=Pt,this._invokeTaskDlgt=J,this._invokeTaskCurrZone=this.zone),me.onCancelTask||(this._cancelTaskZS=Pt,this._cancelTaskDlgt=J,this._cancelTaskCurrZone=this.zone))}fork(lt,J){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,lt,J):new je(lt,J)}intercept(lt,J,me){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,lt,J,me):J}invoke(lt,J,me,yt,at){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,lt,J,me,yt,at):J.apply(me,yt)}handleError(lt,J){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,lt,J)}scheduleTask(lt,J){let me=J;if(this._scheduleTaskZS)this._hasTaskZS&&me._zoneDelegates.push(this._hasTaskDlgtOwner),me=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,lt,J),me||(me=J);else if(J.scheduleFn)J.scheduleFn(J);else{if(J.type!=sn)throw new Error("Task is missing scheduleFn.");Ot(J)}return me}invokeTask(lt,J,me,yt){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,lt,J,me,yt):J.callback.apply(me,yt)}cancelTask(lt,J){let me;if(this._cancelTaskZS)me=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,lt,J);else{if(!J.cancelFn)throw Error("Task is not cancelable");me=J.cancelFn(J)}return me}hasTask(lt,J){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,lt,J)}catch(me){this.handleError(lt,me)}}_updateTaskCount(lt,J){const me=this._taskCounts,yt=me[lt],at=me[lt]=yt+J;if(at<0)throw new Error("More tasks executed then were scheduled.");0!=yt&&0!=at||this.hasTask(this.zone,{microTask:me.microTask>0,macroTask:me.macroTask>0,eventTask:me.eventTask>0,change:lt})}}class $e{constructor(lt,J,me,yt,at,Fn){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=lt,this.source=J,this.data=yt,this.scheduleFn=at,this.cancelFn=Fn,!me)throw new Error("callback is not defined");this.callback=me;const Ve=this;this.invoke=lt===ar&&yt&&yt.useG?$e.invokeTask:function(){return $e.invokeTask.call(B,Ve,this,arguments)}}static invokeTask(lt,J,me){lt||(lt=this),Wr++;try{return lt.runCount++,lt.zone.runTask(lt,J,me)}finally{1==Wr&&dt(),Wr--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(In,Qn)}_transitionTo(lt,J,me){if(this._state!==J&&this._state!==me)throw new Error(`${this.type} '${this.source}': can not transition to '${lt}', expecting state '${J}'${me?" or '"+me+"'":""}, was '${this._state}'.`);this._state=lt,lt==In&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Dt=_e("setTimeout"),wt=_e("Promise"),ut=_e("then");let Xn,un=[],dn=!1;function xn(fn){if(Xn||B[wt]&&(Xn=B[wt].resolve(0)),Xn){let lt=Xn[ut];lt||(lt=Xn.then),lt.call(Xn,fn)}else B[Dt](fn,0)}function Ot(fn){0===Wr&&0===un.length&&xn(dt),fn&&un.push(fn)}function dt(){if(!dn){for(dn=!0;un.length;){const fn=un;un=[];for(let lt=0;lt<fn.length;lt++){const J=fn[lt];try{J.zone.runTask(J,null,null)}catch(me){On.onUnhandledError(me)}}}On.microtaskDrainDone(),dn=!1}}const Vn={name:"NO ZONE"},In="notScheduled",Qn="scheduling",pn="scheduled",Ke="running",Lt="canceling",qe="unknown",sn="microTask",Et="macroTask",ar="eventTask",pr={},On={symbol:_e,currentZoneFrame:()=>gn,onUnhandledError:Gn,microtaskDrainDone:Gn,scheduleMicroTask:Ot,showUncaughtError:()=>!je[_e("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:Gn,patchMethod:()=>Gn,bindArguments:()=>[],patchThen:()=>Gn,patchMacroTask:()=>Gn,patchEventPrototype:()=>Gn,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>Gn,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>Gn,wrapWithCurrentZone:()=>Gn,filterProperties:()=>[],attachOriginToPatched:()=>Gn,_redefineProperty:()=>Gn,patchCallbacks:()=>Gn,nativeScheduleMicroTask:xn};let gn={parent:null,zone:new je(null,null)},gr=null,Wr=0;function Gn(){}ge("Zone","Zone"),B.Zone=je}(globalThis);const Jn=Object.getOwnPropertyDescriptor,Ir=Object.defineProperty,Kn=Object.getPrototypeOf,Li=Object.create,At=Array.prototype.slice,Rr="addEventListener",gt="removeEventListener",Oe=Zone.__symbol__(Rr),rr=Zone.__symbol__(gt),Sr="true",Yn="false",Jt=Zone.__symbol__("");function Ci(B,Y){return Zone.current.wrap(B,Y)}function Nr(B,Y,ve,ge,Q){return Zone.current.scheduleMacroTask(B,Y,ve,ge,Q)}const Zt=Zone.__symbol__,Ki=typeof window<"u",_i=Ki?window:void 0,st=Ki&&_i||globalThis,kt="removeAttribute";function pi(B,Y){for(let ve=B.length-1;ve>=0;ve--)"function"==typeof B[ve]&&(B[ve]=Ci(B[ve],Y+"_"+ve));return B}function Lo(B){return!B||!1!==B.writable&&!("function"==typeof B.get&&typeof B.set>"u")}const Fi=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,hn=!("nw"in st)&&typeof st.process<"u"&&"[object process]"==={}.toString.call(st.process),Wn=!hn&&!Fi&&!(!Ki||!_i.HTMLElement),Zr=typeof st.process<"u"&&"[object process]"==={}.toString.call(st.process)&&!Fi&&!(!Ki||!_i.HTMLElement),I={},bn=function(B){if(!(B=B||st.event))return;let Y=I[B.type];Y||(Y=I[B.type]=Zt("ON_PROPERTY"+B.type));const ve=this||B.target||st,ge=ve[Y];let Q;return Wn&&ve===_i&&"error"===B.type?(Q=ge&&ge.call(this,B.message,B.filename,B.lineno,B.colno,B.error),!0===Q&&B.preventDefault()):(Q=ge&&ge.apply(this,arguments),null!=Q&&!Q&&B.preventDefault()),Q};function ln(B,Y,ve){let ge=Jn(B,Y);if(!ge&&ve&&Jn(ve,Y)&&(ge={enumerable:!0,configurable:!0}),!ge||!ge.configurable)return;const Q=Zt("on"+Y+"patched");if(B.hasOwnProperty(Q)&&B[Q])return;delete ge.writable,delete ge.value;const _e=ge.get,Je=ge.set,je=Y.slice(2);let Pt=I[je];Pt||(Pt=I[je]=Zt("ON_PROPERTY"+je)),ge.set=function(Fe){let $e=this;!$e&&B===st&&($e=st),$e&&("function"==typeof $e[Pt]&&$e.removeEventListener(je,bn),Je&&Je.call($e,null),$e[Pt]=Fe,"function"==typeof Fe&&$e.addEventListener(je,bn,!1))},ge.get=function(){let Fe=this;if(!Fe&&B===st&&(Fe=st),!Fe)return null;const $e=Fe[Pt];if($e)return $e;if(_e){let Dt=_e.call(this);if(Dt)return ge.set.call(this,Dt),"function"==typeof Fe[kt]&&Fe.removeAttribute(Y),Dt}return null},Ir(B,Y,ge),B[Q]=!0}function ns(B,Y,ve){if(Y)for(let ge=0;ge<Y.length;ge++)ln(B,"on"+Y[ge],ve);else{const ge=[];for(const Q in B)"on"==Q.slice(0,2)&&ge.push(Q);for(let Q=0;Q<ge.length;Q++)ln(B,ge[Q],ve)}}const kn=Zt("originalInstance");function gi(B){const Y=st[B];if(!Y)return;st[Zt(B)]=Y,st[B]=function(){const Q=pi(arguments,B);switch(Q.length){case 0:this[kn]=new Y;break;case 1:this[kn]=new Y(Q[0]);break;case 2:this[kn]=new Y(Q[0],Q[1]);break;case 3:this[kn]=new Y(Q[0],Q[1],Q[2]);break;case 4:this[kn]=new Y(Q[0],Q[1],Q[2],Q[3]);break;default:throw new Error("Arg list too long.")}},ni(st[B],Y);const ve=new Y(function(){});let ge;for(ge in ve)"XMLHttpRequest"===B&&"responseBlob"===ge||function(Q){"function"==typeof ve[Q]?st[B].prototype[Q]=function(){return this[kn][Q].apply(this[kn],arguments)}:Ir(st[B].prototype,Q,{set:function(_e){"function"==typeof _e?(this[kn][Q]=Ci(_e,B+"."+Q),ni(this[kn][Q],_e)):this[kn][Q]=_e},get:function(){return this[kn][Q]}})}(ge);for(ge in Y)"prototype"!==ge&&Y.hasOwnProperty(ge)&&(st[B][ge]=Y[ge])}function Wt(B,Y,ve){let ge=B;for(;ge&&!ge.hasOwnProperty(Y);)ge=Kn(ge);!ge&&B[Y]&&(ge=B);const Q=Zt(Y);let _e=null;if(ge&&(!(_e=ge[Q])||!ge.hasOwnProperty(Q))&&(_e=ge[Q]=ge[Y],Lo(ge&&Jn(ge,Y)))){const je=ve(_e,Q,Y);ge[Y]=function(){return je(this,arguments)},ni(ge[Y],_e)}return _e}function Co(B,Y,ve){let ge=null;function Q(_e){const Je=_e.data;return Je.args[Je.cbIdx]=function(){_e.invoke.apply(this,arguments)},ge.apply(Je.target,Je.args),_e}ge=Wt(B,Y,_e=>function(Je,je){const Pt=ve(Je,je);return Pt.cbIdx>=0&&"function"==typeof je[Pt.cbIdx]?Nr(Pt.name,je[Pt.cbIdx],Pt,Q):_e.apply(Je,je)})}function ni(B,Y){B[Zt("OriginalDelegate")]=Y}let rs=!1,wr=!1;function Bi(){if(rs)return wr;rs=!0;try{const B=_i.navigator.userAgent;(-1!==B.indexOf("MSIE ")||-1!==B.indexOf("Trident/")||-1!==B.indexOf("Edge/"))&&(wr=!0)}catch{}return wr}Zone.__load_patch("ZoneAwarePromise",(B,Y,ve)=>{const ge=Object.getOwnPropertyDescriptor,Q=Object.defineProperty,Je=ve.symbol,je=[],Pt=!1!==B[Je("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],Fe=Je("Promise"),$e=Je("then"),Dt="__creationTrace__";ve.onUnhandledError=Ve=>{if(ve.showUncaughtError()){const Ue=Ve&&Ve.rejection;Ue?console.error("Unhandled Promise rejection:",Ue instanceof Error?Ue.message:Ue,"; Zone:",Ve.zone.name,"; Task:",Ve.task&&Ve.task.source,"; Value:",Ue,Ue instanceof Error?Ue.stack:void 0):console.error(Ve)}},ve.microtaskDrainDone=()=>{for(;je.length;){const Ve=je.shift();try{Ve.zone.runGuarded(()=>{throw Ve.throwOriginal?Ve.rejection:Ve})}catch(Ue){ut(Ue)}}};const wt=Je("unhandledPromiseRejectionHandler");function ut(Ve){ve.onUnhandledError(Ve);try{const Ue=Y[wt];"function"==typeof Ue&&Ue.call(this,Ve)}catch{}}function un(Ve){return Ve&&Ve.then}function dn(Ve){return Ve}function Xn(Ve){return J.reject(Ve)}const xn=Je("state"),Ot=Je("value"),dt=Je("finally"),Vn=Je("parentPromiseValue"),In=Je("parentPromiseState"),Qn="Promise.then",pn=null,Ke=!0,Lt=!1,qe=0;function sn(Ve,Ue){return Ie=>{try{On(Ve,Ue,Ie)}catch(Re){On(Ve,!1,Re)}}}const Et=function(){let Ve=!1;return function(Ie){return function(){Ve||(Ve=!0,Ie.apply(null,arguments))}}},ar="Promise resolved with itself",pr=Je("currentTaskTrace");function On(Ve,Ue,Ie){const Re=Et();if(Ve===Ie)throw new TypeError(ar);if(Ve[xn]===pn){let ht=null;try{("object"==typeof Ie||"function"==typeof Ie)&&(ht=Ie&&Ie.then)}catch(jt){return Re(()=>{On(Ve,!1,jt)})(),Ve}if(Ue!==Lt&&Ie instanceof J&&Ie.hasOwnProperty(xn)&&Ie.hasOwnProperty(Ot)&&Ie[xn]!==pn)gr(Ie),On(Ve,Ie[xn],Ie[Ot]);else if(Ue!==Lt&&"function"==typeof ht)try{ht.call(Ie,Re(sn(Ve,Ue)),Re(sn(Ve,!1)))}catch(jt){Re(()=>{On(Ve,!1,jt)})()}else{Ve[xn]=Ue;const jt=Ve[Ot];if(Ve[Ot]=Ie,Ve[dt]===dt&&Ue===Ke&&(Ve[xn]=Ve[In],Ve[Ot]=Ve[Vn]),Ue===Lt&&Ie instanceof Error){const Ye=Y.currentTask&&Y.currentTask.data&&Y.currentTask.data[Dt];Ye&&Q(Ie,pr,{configurable:!0,enumerable:!1,writable:!0,value:Ye})}for(let Ye=0;Ye<jt.length;)Wr(Ve,jt[Ye++],jt[Ye++],jt[Ye++],jt[Ye++]);if(0==jt.length&&Ue==Lt){Ve[xn]=qe;let Ye=Ie;try{throw new Error("Uncaught (in promise): "+function _e(Ve){return Ve&&Ve.toString===Object.prototype.toString?(Ve.constructor&&Ve.constructor.name||"")+": "+JSON.stringify(Ve):Ve?Ve.toString():Object.prototype.toString.call(Ve)}(Ie)+(Ie&&Ie.stack?"\n"+Ie.stack:""))}catch(et){Ye=et}Pt&&(Ye.throwOriginal=!0),Ye.rejection=Ie,Ye.promise=Ve,Ye.zone=Y.current,Ye.task=Y.currentTask,je.push(Ye),ve.scheduleMicroTask()}}}return Ve}const gn=Je("rejectionHandledHandler");function gr(Ve){if(Ve[xn]===qe){try{const Ue=Y[gn];Ue&&"function"==typeof Ue&&Ue.call(this,{rejection:Ve[Ot],promise:Ve})}catch{}Ve[xn]=Lt;for(let Ue=0;Ue<je.length;Ue++)Ve===je[Ue].promise&&je.splice(Ue,1)}}function Wr(Ve,Ue,Ie,Re,ht){gr(Ve);const jt=Ve[xn],Ye=jt?"function"==typeof Re?Re:dn:"function"==typeof ht?ht:Xn;Ue.scheduleMicroTask(Qn,()=>{try{const et=Ve[Ot],$t=!!Ie&&dt===Ie[dt];$t&&(Ie[Vn]=et,Ie[In]=jt);const pt=Ue.run(Ye,void 0,$t&&Ye!==Xn&&Ye!==dn?[]:[et]);On(Ie,!0,pt)}catch(et){On(Ie,!1,et)}},Ie)}const fn=function(){},lt=B.AggregateError;class J{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(Ue){return On(new this(null),Ke,Ue)}static reject(Ue){return On(new this(null),Lt,Ue)}static any(Ue){if(!Ue||"function"!=typeof Ue[Symbol.iterator])return Promise.reject(new lt([],"All promises were rejected"));const Ie=[];let Re=0;try{for(let Ye of Ue)Re++,Ie.push(J.resolve(Ye))}catch{return Promise.reject(new lt([],"All promises were rejected"))}if(0===Re)return Promise.reject(new lt([],"All promises were rejected"));let ht=!1;const jt=[];return new J((Ye,et)=>{for(let $t=0;$t<Ie.length;$t++)Ie[$t].then(pt=>{ht||(ht=!0,Ye(pt))},pt=>{jt.push(pt),Re--,0===Re&&(ht=!0,et(new lt(jt,"All promises were rejected")))})})}static race(Ue){let Ie,Re,ht=new this((et,$t)=>{Ie=et,Re=$t});function jt(et){Ie(et)}function Ye(et){Re(et)}for(let et of Ue)un(et)||(et=this.resolve(et)),et.then(jt,Ye);return ht}static all(Ue){return J.allWithCallback(Ue)}static allSettled(Ue){return(this&&this.prototype instanceof J?this:J).allWithCallback(Ue,{thenCallback:Re=>({status:"fulfilled",value:Re}),errorCallback:Re=>({status:"rejected",reason:Re})})}static allWithCallback(Ue,Ie){let Re,ht,jt=new this((pt,Mn)=>{Re=pt,ht=Mn}),Ye=2,et=0;const $t=[];for(let pt of Ue){un(pt)||(pt=this.resolve(pt));const Mn=et;try{pt.then(Rn=>{$t[Mn]=Ie?Ie.thenCallback(Rn):Rn,Ye--,0===Ye&&Re($t)},Rn=>{Ie?($t[Mn]=Ie.errorCallback(Rn),Ye--,0===Ye&&Re($t)):ht(Rn)})}catch(Rn){ht(Rn)}Ye++,et++}return Ye-=2,0===Ye&&Re($t),jt}constructor(Ue){const Ie=this;if(!(Ie instanceof J))throw new Error("Must be an instanceof Promise.");Ie[xn]=pn,Ie[Ot]=[];try{const Re=Et();Ue&&Ue(Re(sn(Ie,Ke)),Re(sn(Ie,Lt)))}catch(Re){On(Ie,!1,Re)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return J}then(Ue,Ie){let Re=this.constructor?.[Symbol.species];(!Re||"function"!=typeof Re)&&(Re=this.constructor||J);const ht=new Re(fn),jt=Y.current;return this[xn]==pn?this[Ot].push(jt,ht,Ue,Ie):Wr(this,jt,ht,Ue,Ie),ht}catch(Ue){return this.then(null,Ue)}finally(Ue){let Ie=this.constructor?.[Symbol.species];(!Ie||"function"!=typeof Ie)&&(Ie=J);const Re=new Ie(fn);Re[dt]=dt;const ht=Y.current;return this[xn]==pn?this[Ot].push(ht,Re,Ue,Ue):Wr(this,ht,Re,Ue,Ue),Re}}J.resolve=J.resolve,J.reject=J.reject,J.race=J.race,J.all=J.all;const me=B[Fe]=B.Promise;B.Promise=J;const yt=Je("thenPatched");function at(Ve){const Ue=Ve.prototype,Ie=ge(Ue,"then");if(Ie&&(!1===Ie.writable||!Ie.configurable))return;const Re=Ue.then;Ue[$e]=Re,Ve.prototype.then=function(ht,jt){return new J((et,$t)=>{Re.call(this,et,$t)}).then(ht,jt)},Ve[yt]=!0}return ve.patchThen=at,me&&(at(me),Wt(B,"fetch",Ve=>function Fn(Ve){return function(Ue,Ie){let Re=Ve.apply(Ue,Ie);if(Re instanceof J)return Re;let ht=Re.constructor;return ht[yt]||at(ht),Re}}(Ve))),Promise[Y.__symbol__("uncaughtPromiseErrors")]=je,J}),Zone.__load_patch("toString",B=>{const Y=Function.prototype.toString,ve=Zt("OriginalDelegate"),ge=Zt("Promise"),Q=Zt("Error"),_e=function(){if("function"==typeof this){const Fe=this[ve];if(Fe)return"function"==typeof Fe?Y.call(Fe):Object.prototype.toString.call(Fe);if(this===Promise){const $e=B[ge];if($e)return Y.call($e)}if(this===Error){const $e=B[Q];if($e)return Y.call($e)}}return Y.call(this)};_e[ve]=Y,Function.prototype.toString=_e;const Je=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":Je.call(this)}});let ji=!1;if(typeof window<"u")try{const B=Object.defineProperty({},"passive",{get:function(){ji=!0}});window.addEventListener("test",B,B),window.removeEventListener("test",B,B)}catch{ji=!1}const ir={useG:!0},Ar={},eo={},zi=new RegExp("^"+Jt+"(\\w+)(true|false)$"),_o=Zt("propagationStopped");function to(B,Y){const ve=(Y?Y(B):B)+Yn,ge=(Y?Y(B):B)+Sr,Q=Jt+ve,_e=Jt+ge;Ar[B]={},Ar[B][Yn]=Q,Ar[B][Sr]=_e}function Ao(B,Y,ve,ge){const Q=ge&&ge.add||Rr,_e=ge&&ge.rm||gt,Je=ge&&ge.listeners||"eventListeners",je=ge&&ge.rmAll||"removeAllListeners",Pt=Zt(Q),Fe="."+Q+":",$e="prependListener",Dt="."+$e+":",wt=function(Ot,dt,Vn){if(Ot.isRemoved)return;const In=Ot.callback;let Qn;"object"==typeof In&&In.handleEvent&&(Ot.callback=Ke=>In.handleEvent(Ke),Ot.originalDelegate=In);try{Ot.invoke(Ot,dt,[Vn])}catch(Ke){Qn=Ke}const pn=Ot.options;return pn&&"object"==typeof pn&&pn.once&&dt[_e].call(dt,Vn.type,Ot.originalDelegate?Ot.originalDelegate:Ot.callback,pn),Qn};function ut(Ot,dt,Vn){if(!(dt=dt||B.event))return;const In=Ot||dt.target||B,Qn=In[Ar[dt.type][Vn?Sr:Yn]];if(Qn){const pn=[];if(1===Qn.length){const Ke=wt(Qn[0],In,dt);Ke&&pn.push(Ke)}else{const Ke=Qn.slice();for(let Lt=0;Lt<Ke.length&&(!dt||!0!==dt[_o]);Lt++){const qe=wt(Ke[Lt],In,dt);qe&&pn.push(qe)}}if(1===pn.length)throw pn[0];for(let Ke=0;Ke<pn.length;Ke++){const Lt=pn[Ke];Y.nativeScheduleMicroTask(()=>{throw Lt})}}}const un=function(Ot){return ut(this,Ot,!1)},dn=function(Ot){return ut(this,Ot,!0)};function Xn(Ot,dt){if(!Ot)return!1;let Vn=!0;dt&&void 0!==dt.useG&&(Vn=dt.useG);const In=dt&&dt.vh;let Qn=!0;dt&&void 0!==dt.chkDup&&(Qn=dt.chkDup);let pn=!1;dt&&void 0!==dt.rt&&(pn=dt.rt);let Ke=Ot;for(;Ke&&!Ke.hasOwnProperty(Q);)Ke=Kn(Ke);if(!Ke&&Ot[Q]&&(Ke=Ot),!Ke||Ke[Pt])return!1;const Lt=dt&&dt.eventNameToString,qe={},sn=Ke[Pt]=Ke[Q],Et=Ke[Zt(_e)]=Ke[_e],ar=Ke[Zt(Je)]=Ke[Je],pr=Ke[Zt(je)]=Ke[je];let On;dt&&dt.prepend&&(On=Ke[Zt(dt.prepend)]=Ke[dt.prepend]);const J=Vn?function(Ie){if(!qe.isExisting)return sn.call(qe.target,qe.eventName,qe.capture?dn:un,qe.options)}:function(Ie){return sn.call(qe.target,qe.eventName,Ie.invoke,qe.options)},me=Vn?function(Ie){if(!Ie.isRemoved){const Re=Ar[Ie.eventName];let ht;Re&&(ht=Re[Ie.capture?Sr:Yn]);const jt=ht&&Ie.target[ht];if(jt)for(let Ye=0;Ye<jt.length;Ye++)if(jt[Ye]===Ie){jt.splice(Ye,1),Ie.isRemoved=!0,0===jt.length&&(Ie.allRemoved=!0,Ie.target[ht]=null);break}}if(Ie.allRemoved)return Et.call(Ie.target,Ie.eventName,Ie.capture?dn:un,Ie.options)}:function(Ie){return Et.call(Ie.target,Ie.eventName,Ie.invoke,Ie.options)},at=dt&&dt.diff?dt.diff:function(Ie,Re){const ht=typeof Re;return"function"===ht&&Ie.callback===Re||"object"===ht&&Ie.originalDelegate===Re},Fn=Zone[Zt("UNPATCHED_EVENTS")],Ve=B[Zt("PASSIVE_EVENTS")],Ue=function(Ie,Re,ht,jt,Ye=!1,et=!1){return function(){const $t=this||B;let pt=arguments[0];dt&&dt.transferEventName&&(pt=dt.transferEventName(pt));let Mn=arguments[1];if(!Mn)return Ie.apply(this,arguments);if(hn&&"uncaughtException"===pt)return Ie.apply(this,arguments);let Rn=!1;if("function"!=typeof Mn){if(!Mn.handleEvent)return Ie.apply(this,arguments);Rn=!0}if(In&&!In(Ie,Mn,$t,arguments))return;const Lr=ji&&!!Ve&&-1!==Ve.indexOf(pt),Fr=function gn(Ie,Re){return!ji&&"object"==typeof Ie&&Ie?!!Ie.capture:ji&&Re?"boolean"==typeof Ie?{capture:Ie,passive:!0}:Ie?"object"==typeof Ie&&!1!==Ie.passive?{...Ie,passive:!0}:Ie:{passive:!0}:Ie}(arguments[2],Lr);if(Fn)for(let vi=0;vi<Fn.length;vi++)if(pt===Fn[vi])return Lr?Ie.call($t,pt,Mn,Fr):Ie.apply(this,arguments);const zs=!!Fr&&("boolean"==typeof Fr||Fr.capture),Vs=!(!Fr||"object"!=typeof Fr)&&Fr.once,Ha=Zone.current;let Gs=Ar[pt];Gs||(to(pt,Lt),Gs=Ar[pt]);const va=Gs[zs?Sr:Yn];let Do,mr=$t[va],no=!1;if(mr){if(no=!0,Qn)for(let vi=0;vi<mr.length;vi++)if(at(mr[vi],Mn))return}else mr=$t[va]=[];const Za=$t.constructor.name,Us=eo[Za];Us&&(Do=Us[pt]),Do||(Do=Za+Re+(Lt?Lt(pt):pt)),qe.options=Fr,Vs&&(qe.options.once=!1),qe.target=$t,qe.capture=zs,qe.eventName=pt,qe.isExisting=no;const Bo=Vn?ir:void 0;Bo&&(Bo.taskData=qe);const mi=Ha.scheduleEventTask(Do,Mn,Bo,ht,jt);return qe.target=null,Bo&&(Bo.taskData=null),Vs&&(Fr.once=!0),!ji&&"boolean"==typeof mi.options||(mi.options=Fr),mi.target=$t,mi.capture=zs,mi.eventName=pt,Rn&&(mi.originalDelegate=Mn),et?mr.unshift(mi):mr.push(mi),Ye?$t:void 0}};return Ke[Q]=Ue(sn,Fe,J,me,pn),On&&(Ke[$e]=Ue(On,Dt,function(Ie){return On.call(qe.target,qe.eventName,Ie.invoke,qe.options)},me,pn,!0)),Ke[_e]=function(){const Ie=this||B;let Re=arguments[0];dt&&dt.transferEventName&&(Re=dt.transferEventName(Re));const ht=arguments[2],jt=!!ht&&("boolean"==typeof ht||ht.capture),Ye=arguments[1];if(!Ye)return Et.apply(this,arguments);if(In&&!In(Et,Ye,Ie,arguments))return;const et=Ar[Re];let $t;et&&($t=et[jt?Sr:Yn]);const pt=$t&&Ie[$t];if(pt)for(let Mn=0;Mn<pt.length;Mn++){const Rn=pt[Mn];if(at(Rn,Ye))return pt.splice(Mn,1),Rn.isRemoved=!0,0===pt.length&&(Rn.allRemoved=!0,Ie[$t]=null,"string"==typeof Re)&&(Ie[Jt+"ON_PROPERTY"+Re]=null),Rn.zone.cancelTask(Rn),pn?Ie:void 0}return Et.apply(this,arguments)},Ke[Je]=function(){const Ie=this||B;let Re=arguments[0];dt&&dt.transferEventName&&(Re=dt.transferEventName(Re));const ht=[],jt=Dr(Ie,Lt?Lt(Re):Re);for(let Ye=0;Ye<jt.length;Ye++){const et=jt[Ye];ht.push(et.originalDelegate?et.originalDelegate:et.callback)}return ht},Ke[je]=function(){const Ie=this||B;let Re=arguments[0];if(Re){dt&&dt.transferEventName&&(Re=dt.transferEventName(Re));const ht=Ar[Re];if(ht){const et=Ie[ht[Yn]],$t=Ie[ht[Sr]];if(et){const pt=et.slice();for(let Mn=0;Mn<pt.length;Mn++){const Rn=pt[Mn];this[_e].call(this,Re,Rn.originalDelegate?Rn.originalDelegate:Rn.callback,Rn.options)}}if($t){const pt=$t.slice();for(let Mn=0;Mn<pt.length;Mn++){const Rn=pt[Mn];this[_e].call(this,Re,Rn.originalDelegate?Rn.originalDelegate:Rn.callback,Rn.options)}}}}else{const ht=Object.keys(Ie);for(let jt=0;jt<ht.length;jt++){const et=zi.exec(ht[jt]);let $t=et&&et[1];$t&&"removeListener"!==$t&&this[je].call(this,$t)}this[je].call(this,"removeListener")}if(pn)return this},ni(Ke[Q],sn),ni(Ke[_e],Et),pr&&ni(Ke[je],pr),ar&&ni(Ke[Je],ar),!0}let xn=[];for(let Ot=0;Ot<ve.length;Ot++)xn[Ot]=Xn(ve[Ot],ge);return xn}function Dr(B,Y){if(!Y){const _e=[];for(let Je in B){const je=zi.exec(Je);let Pt=je&&je[1];if(Pt&&(!Y||Pt===Y)){const Fe=B[Je];if(Fe)for(let $e=0;$e<Fe.length;$e++)_e.push(Fe[$e])}}return _e}let ve=Ar[Y];ve||(to(Y),ve=Ar[Y]);const ge=B[ve[Yn]],Q=B[ve[Sr]];return ge?Q?ge.concat(Q):ge.slice():Q?Q.slice():[]}function Vi(B,Y){const ve=B.Event;ve&&ve.prototype&&Y.patchMethod(ve.prototype,"stopImmediatePropagation",ge=>function(Q,_e){Q[_o]=!0,ge&&ge.apply(Q,_e)})}function ri(B,Y,ve,ge,Q){const _e=Zone.__symbol__(ge);if(Y[_e])return;const Je=Y[_e]=Y[ge];Y[ge]=function(je,Pt,Fe){return Pt&&Pt.prototype&&Q.forEach(function($e){const Dt=`${ve}.${ge}::`+$e,wt=Pt.prototype;try{if(wt.hasOwnProperty($e)){const ut=B.ObjectGetOwnPropertyDescriptor(wt,$e);ut&&ut.value?(ut.value=B.wrapWithCurrentZone(ut.value,Dt),B._redefineProperty(Pt.prototype,$e,ut)):wt[$e]&&(wt[$e]=B.wrapWithCurrentZone(wt[$e],Dt))}else wt[$e]&&(wt[$e]=B.wrapWithCurrentZone(wt[$e],Dt))}catch{}}),Je.call(Y,je,Pt,Fe)},B.attachOriginToPatched(Y[ge],Je)}function Fo(B,Y,ve){if(!ve||0===ve.length)return Y;const ge=ve.filter(_e=>_e.target===B);if(!ge||0===ge.length)return Y;const Q=ge[0].ignoreProperties;return Y.filter(_e=>-1===Q.indexOf(_e))}function Gi(B,Y,ve,ge){B&&ns(B,Fo(B,Y,ve),ge)}function Ai(B){return Object.getOwnPropertyNames(B).filter(Y=>Y.startsWith("on")&&Y.length>2).map(Y=>Y.substring(2))}Zone.__load_patch("util",(B,Y,ve)=>{const ge=Ai(B);ve.patchOnProperties=ns,ve.patchMethod=Wt,ve.bindArguments=pi,ve.patchMacroTask=Co;const Q=Y.__symbol__("BLACK_LISTED_EVENTS"),_e=Y.__symbol__("UNPATCHED_EVENTS");B[_e]&&(B[Q]=B[_e]),B[Q]&&(Y[Q]=Y[_e]=B[Q]),ve.patchEventPrototype=Vi,ve.patchEventTarget=Ao,ve.isIEOrEdge=Bi,ve.ObjectDefineProperty=Ir,ve.ObjectGetOwnPropertyDescriptor=Jn,ve.ObjectCreate=Li,ve.ArraySlice=At,ve.patchClass=gi,ve.wrapWithCurrentZone=Ci,ve.filterProperties=Fo,ve.attachOriginToPatched=ni,ve._redefineProperty=Object.defineProperty,ve.patchCallbacks=ri,ve.getGlobalObjects=()=>({globalSources:eo,zoneSymbolEventNames:Ar,eventNames:ge,isBrowser:Wn,isMix:Zr,isNode:hn,TRUE_STR:Sr,FALSE_STR:Yn,ZONE_SYMBOL_PREFIX:Jt,ADD_EVENT_LISTENER_STR:Rr,REMOVE_EVENT_LISTENER_STR:gt})});const O=Zt("zoneTask");function z(B,Y,ve,ge){let Q=null,_e=null;ve+=ge;const Je={};function je(Fe){const $e=Fe.data;return $e.args[0]=function(){return Fe.invoke.apply(this,arguments)},$e.handleId=Q.apply(B,$e.args),Fe}function Pt(Fe){return _e.call(B,Fe.data.handleId)}Q=Wt(B,Y+=ge,Fe=>function($e,Dt){if("function"==typeof Dt[0]){const wt={isPeriodic:"Interval"===ge,delay:"Timeout"===ge||"Interval"===ge?Dt[1]||0:void 0,args:Dt},ut=Dt[0];Dt[0]=function(){try{return ut.apply(this,arguments)}finally{wt.isPeriodic||("number"==typeof wt.handleId?delete Je[wt.handleId]:wt.handleId&&(wt.handleId[O]=null))}};const un=Nr(Y,Dt[0],wt,je,Pt);if(!un)return un;const dn=un.data.handleId;return"number"==typeof dn?Je[dn]=un:dn&&(dn[O]=un),dn&&dn.ref&&dn.unref&&"function"==typeof dn.ref&&"function"==typeof dn.unref&&(un.ref=dn.ref.bind(dn),un.unref=dn.unref.bind(dn)),"number"==typeof dn||dn?dn:un}return Fe.apply(B,Dt)}),_e=Wt(B,ve,Fe=>function($e,Dt){const wt=Dt[0];let ut;"number"==typeof wt?ut=Je[wt]:(ut=wt&&wt[O],ut||(ut=wt)),ut&&"string"==typeof ut.type?"notScheduled"!==ut.state&&(ut.cancelFn&&ut.data.isPeriodic||0===ut.runCount)&&("number"==typeof wt?delete Je[wt]:wt&&(wt[O]=null),ut.zone.cancelTask(ut)):Fe.apply(B,Dt)})}Zone.__load_patch("legacy",B=>{const Y=B[Zone.__symbol__("legacyPatch")];Y&&Y()}),Zone.__load_patch("timers",B=>{const Y="set",ve="clear";z(B,Y,ve,"Timeout"),z(B,Y,ve,"Interval"),z(B,Y,ve,"Immediate")}),Zone.__load_patch("requestAnimationFrame",B=>{z(B,"request","cancel","AnimationFrame"),z(B,"mozRequest","mozCancel","AnimationFrame"),z(B,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(B,Y)=>{const ve=["alert","prompt","confirm"];for(let ge=0;ge<ve.length;ge++)Wt(B,ve[ge],(_e,Je,je)=>function(Pt,Fe){return Y.current.run(_e,B,Fe,je)})}),Zone.__load_patch("EventTarget",(B,Y,ve)=>{(function Pe(B,Y){Y.patchEventPrototype(B,Y)})(B,ve),function Te(B,Y){if(Zone[Y.symbol("patchEventTarget")])return;const{eventNames:ve,zoneSymbolEventNames:ge,TRUE_STR:Q,FALSE_STR:_e,ZONE_SYMBOL_PREFIX:Je}=Y.getGlobalObjects();for(let Pt=0;Pt<ve.length;Pt++){const Fe=ve[Pt],wt=Je+(Fe+_e),ut=Je+(Fe+Q);ge[Fe]={},ge[Fe][_e]=wt,ge[Fe][Q]=ut}const je=B.EventTarget;je&&je.prototype&&Y.patchEventTarget(B,Y,[je&&je.prototype])}(B,ve);const ge=B.XMLHttpRequestEventTarget;ge&&ge.prototype&&ve.patchEventTarget(B,ve,[ge.prototype])}),Zone.__load_patch("MutationObserver",(B,Y,ve)=>{gi("MutationObserver"),gi("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(B,Y,ve)=>{gi("IntersectionObserver")}),Zone.__load_patch("FileReader",(B,Y,ve)=>{gi("FileReader")}),Zone.__load_patch("on_property",(B,Y,ve)=>{!function Ui(B,Y){if(hn&&!Zr||Zone[B.symbol("patchEvents")])return;const ve=Y.__Zone_ignore_on_properties;let ge=[];if(Wn){const Q=window;ge=ge.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const _e=function Qi(){try{const B=_i.navigator.userAgent;if(-1!==B.indexOf("MSIE ")||-1!==B.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:Q,ignoreProperties:["error"]}]:[];Gi(Q,Ai(Q),ve&&ve.concat(_e),Kn(Q))}ge=ge.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let Q=0;Q<ge.length;Q++){const _e=Y[ge[Q]];_e&&_e.prototype&&Gi(_e.prototype,Ai(_e.prototype),ve)}}(ve,B)}),Zone.__load_patch("customElements",(B,Y,ve)=>{!function ae(B,Y){const{isBrowser:ve,isMix:ge}=Y.getGlobalObjects();(ve||ge)&&B.customElements&&"customElements"in B&&Y.patchCallbacks(Y,B.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(B,ve)}),Zone.__load_patch("XHR",(B,Y)=>{!function Pt(Fe){const $e=Fe.XMLHttpRequest;if(!$e)return;const Dt=$e.prototype;let ut=Dt[Oe],un=Dt[rr];if(!ut){const qe=Fe.XMLHttpRequestEventTarget;if(qe){const sn=qe.prototype;ut=sn[Oe],un=sn[rr]}}const dn="readystatechange",Xn="scheduled";function xn(qe){const sn=qe.data,Et=sn.target;Et[_e]=!1,Et[je]=!1;const ar=Et[Q];ut||(ut=Et[Oe],un=Et[rr]),ar&&un.call(Et,dn,ar);const pr=Et[Q]=()=>{if(Et.readyState===Et.DONE)if(!sn.aborted&&Et[_e]&&qe.state===Xn){const gn=Et[Y.__symbol__("loadfalse")];if(0!==Et.status&&gn&&gn.length>0){const gr=qe.invoke;qe.invoke=function(){const Wr=Et[Y.__symbol__("loadfalse")];for(let Gn=0;Gn<Wr.length;Gn++)Wr[Gn]===qe&&Wr.splice(Gn,1);!sn.aborted&&qe.state===Xn&&gr.call(qe)},gn.push(qe)}else qe.invoke()}else!sn.aborted&&!1===Et[_e]&&(Et[je]=!0)};return ut.call(Et,dn,pr),Et[ve]||(Et[ve]=qe),Ke.apply(Et,sn.args),Et[_e]=!0,qe}function Ot(){}function dt(qe){const sn=qe.data;return sn.aborted=!0,Lt.apply(sn.target,sn.args)}const Vn=Wt(Dt,"open",()=>function(qe,sn){return qe[ge]=0==sn[2],qe[Je]=sn[1],Vn.apply(qe,sn)}),Qn=Zt("fetchTaskAborting"),pn=Zt("fetchTaskScheduling"),Ke=Wt(Dt,"send",()=>function(qe,sn){if(!0===Y.current[pn]||qe[ge])return Ke.apply(qe,sn);{const Et={target:qe,url:qe[Je],isPeriodic:!1,args:sn,aborted:!1},ar=Nr("XMLHttpRequest.send",Ot,Et,xn,dt);qe&&!0===qe[je]&&!Et.aborted&&ar.state===Xn&&ar.invoke()}}),Lt=Wt(Dt,"abort",()=>function(qe,sn){const Et=function wt(qe){return qe[ve]}(qe);if(Et&&"string"==typeof Et.type){if(null==Et.cancelFn||Et.data&&Et.data.aborted)return;Et.zone.cancelTask(Et)}else if(!0===Y.current[Qn])return Lt.apply(qe,sn)})}(B);const ve=Zt("xhrTask"),ge=Zt("xhrSync"),Q=Zt("xhrListener"),_e=Zt("xhrScheduled"),Je=Zt("xhrURL"),je=Zt("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",B=>{B.navigator&&B.navigator.geolocation&&function St(B,Y){const ve=B.constructor.name;for(let ge=0;ge<Y.length;ge++){const Q=Y[ge],_e=B[Q];if(_e){if(!Lo(Jn(B,Q)))continue;B[Q]=(je=>{const Pt=function(){return je.apply(this,pi(arguments,ve+"."+Q))};return ni(Pt,je),Pt})(_e)}}}(B.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(B,Y)=>{function ve(ge){return function(Q){Dr(B,ge).forEach(Je=>{const je=B.PromiseRejectionEvent;if(je){const Pt=new je(ge,{promise:Q.promise,reason:Q.rejection});Je.invoke(Pt)}})}}B.PromiseRejectionEvent&&(Y[Zt("unhandledPromiseRejectionHandler")]=ve("unhandledrejection"),Y[Zt("rejectionHandledHandler")]=ve("rejectionhandled"))}),Zone.__load_patch("queueMicrotask",(B,Y,ve)=>{!function x(B,Y){Y.patchMethod(B,"queueMicrotask",ve=>function(ge,Q){Zone.current.scheduleMicroTask("queueMicrotask",Q[0])})}(B,ve)})},670:(Jn,Ir,Kn)=>{"use strict";Kn.r(Ir),Kn.d(Ir,{VERSION:()=>At,after:()=>Ia,all:()=>os,allKeys:()=>ut,any:()=>zo,assign:()=>gn,before:()=>$a,bind:()=>Wa,bindAll:()=>is,chain:()=>Ml,chunk:()=>so,clone:()=>lt,collect:()=>ro,compact:()=>xi,compose:()=>sd,constant:()=>Ui,contains:()=>oi,countBy:()=>se,create:()=>fn,debounce:()=>Xa,default:()=>Mi,defaults:()=>gr,defer:()=>Hs,delay:()=>Tc,detect:()=>Ws,difference:()=>ct,drop:()=>$n,each:()=>Hi,escape:()=>Ha,every:()=>os,extend:()=>On,extendOwn:()=>gn,filter:()=>Yr,find:()=>Ws,findIndex:()=>qa,findKey:()=>Zs,findLastIndex:()=>Ja,findWhere:()=>ec,first:()=>Gt,flatten:()=>io,foldl:()=>_s,foldr:()=>Ys,forEach:()=>Hi,functions:()=>ar,get:()=>Fn,groupBy:()=>H,has:()=>Ve,head:()=>Gt,identity:()=>Ue,include:()=>oi,includes:()=>oi,indexBy:()=>G,indexOf:()=>Qa,initial:()=>Yt,inject:()=>_s,intersection:()=>Ca,invert:()=>Et,invoke:()=>Rc,isArguments:()=>Fo,isArray:()=>Dr,isArrayBuffer:()=>Qi,isBoolean:()=>ln,isDataView:()=>Ao,isDate:()=>Co,isElement:()=>ns,isEmpty:()=>_e,isEqual:()=>wt,isError:()=>rs,isFinite:()=>Gi,isFunction:()=>ir,isMap:()=>Qn,isMatch:()=>Je,isNaN:()=>Ai,isNull:()=>I,isNumber:()=>Wt,isObject:()=>Zr,isRegExp:()=>ni,isSet:()=>Ke,isString:()=>gi,isSymbol:()=>wr,isTypedArray:()=>B,isUndefined:()=>bn,isWeakMap:()=>pn,isWeakSet:()=>Lt,iteratee:()=>Ye,keys:()=>Q,last:()=>vr,lastIndexOf:()=>ii,map:()=>ro,mapObject:()=>$t,matcher:()=>Ie,matches:()=>Ie,max:()=>wa,memoize:()=>Ya,methods:()=>ar,min:()=>f,mixin:()=>si,negate:()=>ba,noop:()=>pt,now:()=>Fr,object:()=>_t,omit:()=>Ft,once:()=>kc,pairs:()=>sn,partial:()=>jo,partition:()=>we,pick:()=>Be,pluck:()=>nc,property:()=>Re,propertyOf:()=>Mn,random:()=>Lr,range:()=>bi,reduce:()=>_s,reduceRight:()=>Ys,reject:()=>Tl,rest:()=>$n,restArguments:()=>Wn,result:()=>vi,sample:()=>y,select:()=>Yr,shuffle:()=>_,size:()=>De,some:()=>zo,sortBy:()=>D,sortedIndex:()=>Ka,tail:()=>$n,take:()=>Gt,tap:()=>J,template:()=>mi,templateSettings:()=>mr,throttle:()=>Sc,times:()=>Rn,toArray:()=>m,toPath:()=>me,transpose:()=>As,unescape:()=>va,union:()=>qn,uniq:()=>It,unique:()=>It,uniqueId:()=>xl,unzip:()=>As,values:()=>qe,where:()=>Lc,without:()=>oo,wrap:()=>Nc,zip:()=>yi});var Li={};Kn.r(Li),Kn.d(Li,{VERSION:()=>At,after:()=>Ia,all:()=>os,allKeys:()=>ut,any:()=>zo,assign:()=>gn,before:()=>$a,bind:()=>Wa,bindAll:()=>is,chain:()=>Ml,chunk:()=>so,clone:()=>lt,collect:()=>ro,compact:()=>xi,compose:()=>sd,constant:()=>Ui,contains:()=>oi,countBy:()=>se,create:()=>fn,debounce:()=>Xa,default:()=>ke,defaults:()=>gr,defer:()=>Hs,delay:()=>Tc,detect:()=>Ws,difference:()=>ct,drop:()=>$n,each:()=>Hi,escape:()=>Ha,every:()=>os,extend:()=>On,extendOwn:()=>gn,filter:()=>Yr,find:()=>Ws,findIndex:()=>qa,findKey:()=>Zs,findLastIndex:()=>Ja,findWhere:()=>ec,first:()=>Gt,flatten:()=>io,foldl:()=>_s,foldr:()=>Ys,forEach:()=>Hi,functions:()=>ar,get:()=>Fn,groupBy:()=>H,has:()=>Ve,head:()=>Gt,identity:()=>Ue,include:()=>oi,includes:()=>oi,indexBy:()=>G,indexOf:()=>Qa,initial:()=>Yt,inject:()=>_s,intersection:()=>Ca,invert:()=>Et,invoke:()=>Rc,isArguments:()=>Fo,isArray:()=>Dr,isArrayBuffer:()=>Qi,isBoolean:()=>ln,isDataView:()=>Ao,isDate:()=>Co,isElement:()=>ns,isEmpty:()=>_e,isEqual:()=>wt,isError:()=>rs,isFinite:()=>Gi,isFunction:()=>ir,isMap:()=>Qn,isMatch:()=>Je,isNaN:()=>Ai,isNull:()=>I,isNumber:()=>Wt,isObject:()=>Zr,isRegExp:()=>ni,isSet:()=>Ke,isString:()=>gi,isSymbol:()=>wr,isTypedArray:()=>B,isUndefined:()=>bn,isWeakMap:()=>pn,isWeakSet:()=>Lt,iteratee:()=>Ye,keys:()=>Q,last:()=>vr,lastIndexOf:()=>ii,map:()=>ro,mapObject:()=>$t,matcher:()=>Ie,matches:()=>Ie,max:()=>wa,memoize:()=>Ya,methods:()=>ar,min:()=>f,mixin:()=>si,negate:()=>ba,noop:()=>pt,now:()=>Fr,object:()=>_t,omit:()=>Ft,once:()=>kc,pairs:()=>sn,partial:()=>jo,partition:()=>we,pick:()=>Be,pluck:()=>nc,property:()=>Re,propertyOf:()=>Mn,random:()=>Lr,range:()=>bi,reduce:()=>_s,reduceRight:()=>Ys,reject:()=>Tl,rest:()=>$n,restArguments:()=>Wn,result:()=>vi,sample:()=>y,select:()=>Yr,shuffle:()=>_,size:()=>De,some:()=>zo,sortBy:()=>D,sortedIndex:()=>Ka,tail:()=>$n,take:()=>Gt,tap:()=>J,template:()=>mi,templateSettings:()=>mr,throttle:()=>Sc,times:()=>Rn,toArray:()=>m,toPath:()=>me,transpose:()=>As,unescape:()=>va,union:()=>qn,uniq:()=>It,unique:()=>It,uniqueId:()=>xl,unzip:()=>As,values:()=>qe,where:()=>Lc,without:()=>oo,wrap:()=>Nc,zip:()=>yi});var At="1.13.6",Rr="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},gt=Array.prototype,Oe=Object.prototype,rr=typeof Symbol<"u"?Symbol.prototype:null,Sr=gt.push,Yn=gt.slice,Jt=Oe.toString,Ci=Oe.hasOwnProperty,Nr=typeof ArrayBuffer<"u",Zt=typeof DataView<"u",Ki=Array.isArray,_i=Object.keys,st=Object.create,kt=Nr&&ArrayBuffer.isView,pi=isNaN,St=isFinite,Lo=!{toString:null}.propertyIsEnumerable("toString"),Fi=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],hn=Math.pow(2,53)-1;function Wn(C,T){return T=null==T?C.length-1:+T,function(){for(var j=Math.max(arguments.length-T,0),F=Array(j),ie=0;ie<j;ie++)F[ie]=arguments[ie+T];switch(T){case 0:return C.call(this,F);case 1:return C.call(this,arguments[0],F);case 2:return C.call(this,arguments[0],arguments[1],F)}var ee=Array(T+1);for(ie=0;ie<T;ie++)ee[ie]=arguments[ie];return ee[T]=F,C.apply(this,ee)}}function Zr(C){var T=typeof C;return"function"===T||"object"===T&&!!C}function I(C){return null===C}function bn(C){return void 0===C}function ln(C){return!0===C||!1===C||"[object Boolean]"===Jt.call(C)}function ns(C){return!(!C||1!==C.nodeType)}function kn(C){var T="[object "+C+"]";return function(j){return Jt.call(j)===T}}const gi=kn("String"),Wt=kn("Number"),Co=kn("Date"),ni=kn("RegExp"),rs=kn("Error"),wr=kn("Symbol"),Qi=kn("ArrayBuffer");var Bi=kn("Function");"object"!=typeof Int8Array&&"function"!=typeof(Rr.document&&Rr.document.childNodes)&&(Bi=function(C){return"function"==typeof C||!1});const ir=Bi,Ar=kn("Object");var eo=Zt&&Ar(new DataView(new ArrayBuffer(8))),zi=typeof Map<"u"&&Ar(new Map),_o=kn("DataView");const Ao=eo?function to(C){return null!=C&&ir(C.getInt8)&&Qi(C.buffer)}:_o,Dr=Ki||kn("Array");function Vi(C,T){return null!=C&&Ci.call(C,T)}var ri=kn("Arguments");!function(){ri(arguments)||(ri=function(C){return Vi(C,"callee")})}();const Fo=ri;function Gi(C){return!wr(C)&&St(C)&&!isNaN(parseFloat(C))}function Ai(C){return Wt(C)&&pi(C)}function Ui(C){return function(){return C}}function x(C){return function(T){var j=C(T);return"number"==typeof j&&j>=0&&j<=hn}}function O(C){return function(T){return T?.[C]}}const z=O("byteLength"),ae=x(z);var Te=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const B=Nr?function Pe(C){return kt?kt(C)&&!Ao(C):ae(C)&&Te.test(Jt.call(C))}:Ui(!1),Y=O("length");function ge(C,T){T=function ve(C){for(var T={},j=C.length,F=0;F<j;++F)T[C[F]]=!0;return{contains:function(ie){return!0===T[ie]},push:function(ie){return T[ie]=!0,C.push(ie)}}}(T);var j=Fi.length,F=C.constructor,ie=ir(F)&&F.prototype||Oe,ee="constructor";for(Vi(C,ee)&&!T.contains(ee)&&T.push(ee);j--;)(ee=Fi[j])in C&&C[ee]!==ie[ee]&&!T.contains(ee)&&T.push(ee)}function Q(C){if(!Zr(C))return[];if(_i)return _i(C);var T=[];for(var j in C)Vi(C,j)&&T.push(j);return Lo&&ge(C,T),T}function _e(C){if(null==C)return!0;var T=Y(C);return"number"==typeof T&&(Dr(C)||gi(C)||Fo(C))?0===T:0===Y(Q(C))}function Je(C,T){var j=Q(T),F=j.length;if(null==C)return!F;for(var ie=Object(C),ee=0;ee<F;ee++){var ue=j[ee];if(T[ue]!==ie[ue]||!(ue in ie))return!1}return!0}function je(C){return C instanceof je?C:this instanceof je?void(this._wrapped=C):new je(C)}function Pt(C){return new Uint8Array(C.buffer||C,C.byteOffset||0,z(C))}je.VERSION=At,je.prototype.valueOf=je.prototype.toJSON=je.prototype.value=function(){return this._wrapped},je.prototype.toString=function(){return String(this._wrapped)};var Fe="[object DataView]";function $e(C,T,j,F){if(C===T)return 0!==C||1/C==1/T;if(null==C||null==T)return!1;if(C!=C)return T!=T;var ie=typeof C;return("function"===ie||"object"===ie||"object"==typeof T)&&Dt(C,T,j,F)}function Dt(C,T,j,F){C instanceof je&&(C=C._wrapped),T instanceof je&&(T=T._wrapped);var ie=Jt.call(C);if(ie!==Jt.call(T))return!1;if(eo&&"[object Object]"==ie&&Ao(C)){if(!Ao(T))return!1;ie=Fe}switch(ie){case"[object RegExp]":case"[object String]":return""+C==""+T;case"[object Number]":return+C!=+C?+T!=+T:0==+C?1/+C==1/T:+C==+T;case"[object Date]":case"[object Boolean]":return+C==+T;case"[object Symbol]":return rr.valueOf.call(C)===rr.valueOf.call(T);case"[object ArrayBuffer]":case Fe:return Dt(Pt(C),Pt(T),j,F)}var ee="[object Array]"===ie;if(!ee&&B(C)){if(z(C)!==z(T))return!1;if(C.buffer===T.buffer&&C.byteOffset===T.byteOffset)return!0;ee=!0}if(!ee){if("object"!=typeof C||"object"!=typeof T)return!1;var Ne=C.constructor,Kt=T.constructor;if(Ne!==Kt&&!(ir(Ne)&&Ne instanceof Ne&&ir(Kt)&&Kt instanceof Kt)&&"constructor"in C&&"constructor"in T)return!1}F=F||[];for(var zt=(j=j||[]).length;zt--;)if(j[zt]===C)return F[zt]===T;if(j.push(C),F.push(T),ee){if((zt=C.length)!==T.length)return!1;for(;zt--;)if(!$e(C[zt],T[zt],j,F))return!1}else{var $r,er=Q(C);if(zt=er.length,Q(T).length!==zt)return!1;for(;zt--;)if(!Vi(T,$r=er[zt])||!$e(C[$r],T[$r],j,F))return!1}return j.pop(),F.pop(),!0}function wt(C,T){return $e(C,T)}function ut(C){if(!Zr(C))return[];var T=[];for(var j in C)T.push(j);return Lo&&ge(C,T),T}function un(C){var T=Y(C);return function(j){if(null==j)return!1;var F=ut(j);if(Y(F))return!1;for(var ie=0;ie<T;ie++)if(!ir(j[C[ie]]))return!1;return C!==Vn||!ir(j[dn])}}var dn="forEach",xn=["clear","delete"],Ot=["get","has","set"],dt=xn.concat(dn,Ot),Vn=xn.concat(Ot),In=["add"].concat(xn,dn,"has");const Qn=zi?un(dt):kn("Map"),pn=zi?un(Vn):kn("WeakMap"),Ke=zi?un(In):kn("Set"),Lt=kn("WeakSet");function qe(C){for(var T=Q(C),j=T.length,F=Array(j),ie=0;ie<j;ie++)F[ie]=C[T[ie]];return F}function sn(C){for(var T=Q(C),j=T.length,F=Array(j),ie=0;ie<j;ie++)F[ie]=[T[ie],C[T[ie]]];return F}function Et(C){for(var T={},j=Q(C),F=0,ie=j.length;F<ie;F++)T[C[j[F]]]=j[F];return T}function ar(C){var T=[];for(var j in C)ir(C[j])&&T.push(j);return T.sort()}function pr(C,T){return function(j){var F=arguments.length;if(T&&(j=Object(j)),F<2||null==j)return j;for(var ie=1;ie<F;ie++)for(var ee=arguments[ie],ue=C(ee),Ne=ue.length,Kt=0;Kt<Ne;Kt++){var zt=ue[Kt];(!T||void 0===j[zt])&&(j[zt]=ee[zt])}return j}}const On=pr(ut),gn=pr(Q),gr=pr(ut,!0);function Gn(C){if(!Zr(C))return{};if(st)return st(C);var T=function(){};T.prototype=C;var j=new T;return T.prototype=null,j}function fn(C,T){var j=Gn(C);return T&&gn(j,T),j}function lt(C){return Zr(C)?Dr(C)?C.slice():On({},C):C}function J(C,T){return T(C),C}function me(C){return Dr(C)?C:[C]}function yt(C){return je.toPath(C)}function at(C,T){for(var j=T.length,F=0;F<j;F++){if(null==C)return;C=C[T[F]]}return j?C:void 0}function Fn(C,T,j){var F=at(C,yt(T));return bn(F)?j:F}function Ve(C,T){for(var j=(T=yt(T)).length,F=0;F<j;F++){var ie=T[F];if(!Vi(C,ie))return!1;C=C[ie]}return!!j}function Ue(C){return C}function Ie(C){return C=gn({},C),function(T){return Je(T,C)}}function Re(C){return C=yt(C),function(T){return at(T,C)}}function ht(C,T,j){if(void 0===T)return C;switch(j??3){case 1:return function(F){return C.call(T,F)};case 3:return function(F,ie,ee){return C.call(T,F,ie,ee)};case 4:return function(F,ie,ee,ue){return C.call(T,F,ie,ee,ue)}}return function(){return C.apply(T,arguments)}}function jt(C,T,j){return null==C?Ue:ir(C)?ht(C,T,j):Zr(C)&&!Dr(C)?Ie(C):Re(C)}function Ye(C,T){return jt(C,T,1/0)}function et(C,T,j){return je.iteratee!==Ye?je.iteratee(C,T):jt(C,T,j)}function $t(C,T,j){T=et(T,j);for(var F=Q(C),ie=F.length,ee={},ue=0;ue<ie;ue++){var Ne=F[ue];ee[Ne]=T(C[Ne],Ne,C)}return ee}function pt(){}function Mn(C){return null==C?pt:function(T){return Fn(C,T)}}function Rn(C,T,j){var F=Array(Math.max(0,C));T=ht(T,j,1);for(var ie=0;ie<C;ie++)F[ie]=T(ie);return F}function Lr(C,T){return null==T&&(T=C,C=0),C+Math.floor(Math.random()*(T-C+1))}je.toPath=me,je.iteratee=Ye;const Fr=Date.now||function(){return(new Date).getTime()};function zs(C){var T=function(ee){return C[ee]},j="(?:"+Q(C).join("|")+")",F=RegExp(j),ie=RegExp(j,"g");return function(ee){return F.test(ee=null==ee?"":""+ee)?ee.replace(ie,T):ee}}const Vs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ha=zs(Vs),va=zs(Et(Vs)),mr=je.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var no=/(.)^/,Do={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Za=/\\|'|\r|\n|\u2028|\u2029/g;function Us(C){return"\\"+Do[C]}var Bo=/^\s*(\w|\$)+\s*$/;function mi(C,T,j){!T&&j&&(T=j),T=gr({},T,je.templateSettings);var F=RegExp([(T.escape||no).source,(T.interpolate||no).source,(T.evaluate||no).source].join("|")+"|$","g"),ie=0,ee="__p+='";C.replace(F,function(zt,er,$r,Go,_a){return ee+=C.slice(ie,_a).replace(Za,Us),ie=_a+zt.length,er?ee+="'+\n((__t=("+er+"))==null?'':_.escape(__t))+\n'":$r?ee+="'+\n((__t=("+$r+"))==null?'':__t)+\n'":Go&&(ee+="';\n"+Go+"\n__p+='"),zt}),ee+="';\n";var Ne,ue=T.variable;if(ue){if(!Bo.test(ue))throw new Error("variable is not a bare identifier: "+ue)}else ee="with(obj||{}){\n"+ee+"}\n",ue="obj";ee="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+ee+"return __p;\n";try{Ne=new Function(ue,"_",ee)}catch(zt){throw zt.source=ee,zt}var Kt=function(zt){return Ne.call(this,zt,je)};return Kt.source="function("+ue+"){\n"+ee+"}",Kt}function vi(C,T,j){var F=(T=yt(T)).length;if(!F)return ir(j)?j.call(C):j;for(var ie=0;ie<F;ie++){var ee=C?.[T[ie]];void 0===ee&&(ee=j,ie=F),C=ir(ee)?ee.call(C):ee}return C}var El=0;function xl(C){var T=++El+"";return C?C+T:T}function Ml(C){var T=je(C);return T._chain=!0,T}function Er(C,T,j,F,ie){if(!(F instanceof T))return C.apply(j,ie);var ee=Gn(C.prototype),ue=C.apply(ee,ie);return Zr(ue)?ue:ee}var ya=Wn(function(C,T){var j=ya.placeholder,F=function(){for(var ie=0,ee=T.length,ue=Array(ee),Ne=0;Ne<ee;Ne++)ue[Ne]=T[Ne]===j?arguments[ie++]:T[Ne];for(;ie<arguments.length;)ue.push(arguments[ie++]);return Er(C,F,this,this,ue)};return F});ya.placeholder=je;const jo=ya,Wa=Wn(function(C,T,j){if(!ir(C))throw new TypeError("Bind must be called on a function");var F=Wn(function(ie){return Er(C,F,T,this,j.concat(ie))});return F}),Di=x(Y);function Ei(C,T,j,F){if(F=F||[],T||0===T){if(T<=0)return F.concat(C)}else T=1/0;for(var ie=F.length,ee=0,ue=Y(C);ee<ue;ee++){var Ne=C[ee];if(Di(Ne)&&(Dr(Ne)||Fo(Ne)))if(T>1)Ei(Ne,T-1,j,F),ie=F.length;else for(var Kt=0,zt=Ne.length;Kt<zt;)F[ie++]=Ne[Kt++];else j||(F[ie++]=Ne)}return F}const is=Wn(function(C,T){var j=(T=Ei(T,!1,!1)).length;if(j<1)throw new Error("bindAll must be passed function names");for(;j--;){var F=T[j];C[F]=Wa(C[F],C)}return C});function Ya(C,T){var j=function(F){var ie=j.cache,ee=""+(T?T.apply(this,arguments):F);return Vi(ie,ee)||(ie[ee]=C.apply(this,arguments)),ie[ee]};return j.cache={},j}const Tc=Wn(function(C,T,j){return setTimeout(function(){return C.apply(null,j)},T)}),Hs=jo(Tc,je,1);function Sc(C,T,j){var F,ie,ee,ue,Ne=0;j||(j={});var Kt=function(){Ne=!1===j.leading?0:Fr(),F=null,ue=C.apply(ie,ee),F||(ie=ee=null)},zt=function(){var er=Fr();!Ne&&!1===j.leading&&(Ne=er);var $r=T-(er-Ne);return ie=this,ee=arguments,$r<=0||$r>T?(F&&(clearTimeout(F),F=null),Ne=er,ue=C.apply(ie,ee),F||(ie=ee=null)):!F&&!1!==j.trailing&&(F=setTimeout(Kt,$r)),ue};return zt.cancel=function(){clearTimeout(F),Ne=0,F=ie=ee=null},zt}function Xa(C,T,j){var F,ie,ee,ue,Ne,Kt=function(){var er=Fr()-ie;T>er?F=setTimeout(Kt,T-er):(F=null,j||(ue=C.apply(Ne,ee)),F||(ee=Ne=null))},zt=Wn(function(er){return Ne=this,ee=er,ie=Fr(),F||(F=setTimeout(Kt,T),j&&(ue=C.apply(Ne,ee))),ue});return zt.cancel=function(){clearTimeout(F),F=ee=Ne=null},zt}function Nc(C,T){return jo(T,C)}function ba(C){return function(){return!C.apply(this,arguments)}}function sd(){var C=arguments,T=C.length-1;return function(){for(var j=T,F=C[T].apply(this,arguments);j--;)F=C[j].call(this,F);return F}}function Ia(C,T){return function(){if(--C<1)return T.apply(this,arguments)}}function $a(C,T){var j;return function(){return--C>0&&(j=T.apply(this,arguments)),C<=1&&(T=null),j}}const kc=jo($a,2);function Zs(C,T,j){T=et(T,j);for(var ie,F=Q(C),ee=0,ue=F.length;ee<ue;ee++)if(T(C[ie=F[ee]],ie,C))return ie}function Pc(C){return function(T,j,F){j=et(j,F);for(var ie=Y(T),ee=C>0?0:ie-1;ee>=0&&ee<ie;ee+=C)if(j(T[ee],ee,T))return ee;return-1}}const qa=Pc(1),Ja=Pc(-1);function Ka(C,T,j,F){for(var ie=(j=et(j,F,1))(T),ee=0,ue=Y(C);ee<ue;){var Ne=Math.floor((ee+ue)/2);j(C[Ne])<ie?ee=Ne+1:ue=Ne}return ee}function Oc(C,T,j){return function(F,ie,ee){var ue=0,Ne=Y(F);if("number"==typeof ee)C>0?ue=ee>=0?ee:Math.max(ee+Ne,ue):Ne=ee>=0?Math.min(ee+1,Ne):ee+Ne+1;else if(j&&ee&&Ne)return F[ee=j(F,ie)]===ie?ee:-1;if(ie!=ie)return(ee=T(Yn.call(F,ue,Ne),Ai))>=0?ee+ue:-1;for(ee=C>0?ue:Ne-1;ee>=0&&ee<Ne;ee+=C)if(F[ee]===ie)return ee;return-1}}const Qa=Oc(1,qa,Ka),ii=Oc(-1,Ja);function Ws(C,T,j){var ie=(Di(C)?qa:Zs)(C,T,j);if(void 0!==ie&&-1!==ie)return C[ie]}function ec(C,T){return Ws(C,Ie(T))}function Hi(C,T,j){var F,ie;if(T=ht(T,j),Di(C))for(F=0,ie=C.length;F<ie;F++)T(C[F],F,C);else{var ee=Q(C);for(F=0,ie=ee.length;F<ie;F++)T(C[ee[F]],ee[F],C)}return C}function ro(C,T,j){T=et(T,j);for(var F=!Di(C)&&Q(C),ie=(F||C).length,ee=Array(ie),ue=0;ue<ie;ue++){var Ne=F?F[ue]:ue;ee[ue]=T(C[Ne],Ne,C)}return ee}function tc(C){return function(j,F,ie,ee){var ue=arguments.length>=3;return function(j,F,ie,ee){var ue=!Di(j)&&Q(j),Ne=(ue||j).length,Kt=C>0?0:Ne-1;for(ee||(ie=j[ue?ue[Kt]:Kt],Kt+=C);Kt>=0&&Kt<Ne;Kt+=C){var zt=ue?ue[Kt]:Kt;ie=F(ie,j[zt],zt,j)}return ie}(j,ht(F,ee,4),ie,ue)}}const _s=tc(1),Ys=tc(-1);function Yr(C,T,j){var F=[];return T=et(T,j),Hi(C,function(ie,ee,ue){T(ie,ee,ue)&&F.push(ie)}),F}function Tl(C,T,j){return Yr(C,ba(et(T)),j)}function os(C,T,j){T=et(T,j);for(var F=!Di(C)&&Q(C),ie=(F||C).length,ee=0;ee<ie;ee++){var ue=F?F[ee]:ee;if(!T(C[ue],ue,C))return!1}return!0}function zo(C,T,j){T=et(T,j);for(var F=!Di(C)&&Q(C),ie=(F||C).length,ee=0;ee<ie;ee++){var ue=F?F[ee]:ee;if(T(C[ue],ue,C))return!0}return!1}function oi(C,T,j,F){return Di(C)||(C=qe(C)),("number"!=typeof j||F)&&(j=0),Qa(C,T,j)>=0}const Rc=Wn(function(C,T,j){var F,ie;return ir(T)?ie=T:(T=yt(T),F=T.slice(0,-1),T=T[T.length-1]),ro(C,function(ee){var ue=ie;if(!ue){if(F&&F.length&&(ee=at(ee,F)),null==ee)return;ue=ee[T]}return null==ue?ue:ue.apply(ee,j)})});function nc(C,T){return ro(C,Re(T))}function Lc(C,T){return Yr(C,Ie(T))}function wa(C,T,j){var ee,ue,F=-1/0,ie=-1/0;if(null==T||"number"==typeof T&&"object"!=typeof C[0]&&null!=C)for(var Ne=0,Kt=(C=Di(C)?C:qe(C)).length;Ne<Kt;Ne++)null!=(ee=C[Ne])&&ee>F&&(F=ee);else T=et(T,j),Hi(C,function(zt,er,$r){((ue=T(zt,er,$r))>ie||ue===-1/0&&F===-1/0)&&(F=zt,ie=ue)});return F}function f(C,T,j){var ee,ue,F=1/0,ie=1/0;if(null==T||"number"==typeof T&&"object"!=typeof C[0]&&null!=C)for(var Ne=0,Kt=(C=Di(C)?C:qe(C)).length;Ne<Kt;Ne++)null!=(ee=C[Ne])&&ee<F&&(F=ee);else T=et(T,j),Hi(C,function(zt,er,$r){((ue=T(zt,er,$r))<ie||ue===1/0&&F===1/0)&&(F=zt,ie=ue)});return F}var h=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function m(C){return C?Dr(C)?Yn.call(C):gi(C)?C.match(h):Di(C)?ro(C,Ue):qe(C):[]}function y(C,T,j){if(null==T||j)return Di(C)||(C=qe(C)),C[Lr(C.length-1)];var F=m(C),ie=Y(F);T=Math.max(Math.min(T,ie),0);for(var ee=ie-1,ue=0;ue<T;ue++){var Ne=Lr(ue,ee),Kt=F[ue];F[ue]=F[Ne],F[Ne]=Kt}return F.slice(0,T)}function _(C){return y(C,1/0)}function D(C,T,j){var F=0;return T=et(T,j),nc(ro(C,function(ie,ee,ue){return{value:ie,index:F++,criteria:T(ie,ee,ue)}}).sort(function(ie,ee){var ue=ie.criteria,Ne=ee.criteria;if(ue!==Ne){if(ue>Ne||void 0===ue)return 1;if(ue<Ne||void 0===Ne)return-1}return ie.index-ee.index}),"value")}function S(C,T){return function(j,F,ie){var ee=T?[[],[]]:{};return F=et(F,ie),Hi(j,function(ue,Ne){var Kt=F(ue,Ne,j);C(ee,ue,Kt)}),ee}}const H=S(function(C,T,j){Vi(C,j)?C[j].push(T):C[j]=[T]}),G=S(function(C,T,j){C[j]=T}),se=S(function(C,T,j){Vi(C,j)?C[j]++:C[j]=1}),we=S(function(C,T,j){C[j?0:1].push(T)},!0);function De(C){return null==C?0:Di(C)?C.length:Q(C).length}function pe(C,T,j){return T in j}const Be=Wn(function(C,T){var j={},F=T[0];if(null==C)return j;ir(F)?(T.length>1&&(F=ht(F,T[1])),T=ut(C)):(F=pe,T=Ei(T,!1,!1),C=Object(C));for(var ie=0,ee=T.length;ie<ee;ie++){var ue=T[ie],Ne=C[ue];F(Ne,ue,C)&&(j[ue]=Ne)}return j}),Ft=Wn(function(C,T){var F,j=T[0];return ir(j)?(j=ba(j),T.length>1&&(F=T[1])):(T=ro(Ei(T,!1,!1),String),j=function(ie,ee){return!oi(T,ee)}),Be(C,j,F)});function Yt(C,T,j){return Yn.call(C,0,Math.max(0,C.length-(null==T||j?1:T)))}function Gt(C,T,j){return null==C||C.length<1?null==T||j?void 0:[]:null==T||j?C[0]:Yt(C,C.length-T)}function $n(C,T,j){return Yn.call(C,null==T||j?1:T)}function vr(C,T,j){return null==C||C.length<1?null==T||j?void 0:[]:null==T||j?C[C.length-1]:$n(C,Math.max(0,C.length-T))}function xi(C){return Yr(C,Boolean)}function io(C,T){return Ei(C,T,!1)}const ct=Wn(function(C,T){return T=Ei(T,!0,!0),Yr(C,function(j){return!oi(T,j)})}),oo=Wn(function(C,T){return ct(C,T)});function It(C,T,j,F){ln(T)||(F=j,j=T,T=!1),null!=j&&(j=et(j,F));for(var ie=[],ee=[],ue=0,Ne=Y(C);ue<Ne;ue++){var Kt=C[ue],zt=j?j(Kt,ue,C):Kt;T&&!j?((!ue||ee!==zt)&&ie.push(Kt),ee=zt):j?oi(ee,zt)||(ee.push(zt),ie.push(Kt)):oi(ie,Kt)||ie.push(Kt)}return ie}const qn=Wn(function(C){return It(Ei(C,!0,!0))});function Ca(C){for(var T=[],j=arguments.length,F=0,ie=Y(C);F<ie;F++){var ee=C[F];if(!oi(T,ee)){var ue;for(ue=1;ue<j&&oi(arguments[ue],ee);ue++);ue===j&&T.push(ee)}}return T}function As(C){for(var T=C&&wa(C,Y).length||0,j=Array(T),F=0;F<T;F++)j[F]=nc(C,F);return j}const yi=Wn(As);function _t(C,T){for(var j={},F=0,ie=Y(C);F<ie;F++)T?j[C[F]]=T[F]:j[C[F][0]]=C[F][1];return j}function bi(C,T,j){null==T&&(T=C||0,C=0),j||(j=T<C?-1:1);for(var F=Math.max(Math.ceil((T-C)/j),0),ie=Array(F),ee=0;ee<F;ee++,C+=j)ie[ee]=C;return ie}function so(C,T){if(null==T||T<1)return[];for(var j=[],F=0,ie=C.length;F<ie;)j.push(Yn.call(C,F,F+=T));return j}function Vo(C,T){return C._chain?je(T).chain():T}function si(C){return Hi(ar(C),function(T){var j=je[T]=C[T];je.prototype[T]=function(){var F=[this._wrapped];return Sr.apply(F,arguments),Vo(this,j.apply(je,F))}}),je}Hi(["pop","push","reverse","shift","sort","splice","unshift"],function(C){var T=gt[C];je.prototype[C]=function(){var j=this._wrapped;return null!=j&&(T.apply(j,arguments),("shift"===C||"splice"===C)&&0===j.length&&delete j[0]),Vo(this,j)}}),Hi(["concat","join","slice"],function(C){var T=gt[C];je.prototype[C]=function(){var j=this._wrapped;return null!=j&&(j=T.apply(j,arguments)),Vo(this,j)}});const ke=je;var Xr=si(Li);Xr._=Xr;const Mi=Xr}},Vw={};function Bt(Jn){var Ir=Vw[Jn];if(void 0!==Ir)return Ir.exports;var Kn=Vw[Jn]={exports:{}};return EP[Jn].call(Kn.exports,Kn,Kn.exports,Bt),Kn.exports}Bt.d=(Jn,Ir)=>{for(var Kn in Ir)Bt.o(Ir,Kn)&&!Bt.o(Jn,Kn)&&Object.defineProperty(Jn,Kn,{enumerable:!0,get:Ir[Kn]})},Bt.o=(Jn,Ir)=>Object.prototype.hasOwnProperty.call(Jn,Ir),Bt.r=Jn=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Jn,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Jn,"__esModule",{value:!0})},(()=>{"use strict";var Jn={};Bt.r(Jn),Bt.d(Jn,{ellipseWithEllipse:()=>cT,ellipseWithLine:()=>n0,exists:()=>aT,lineWithLine:()=>fl,pathWithEllipse:()=>vT,pathWithLine:()=>mT,pathWithPath:()=>bT,pathWithPolygon:()=>fg,pathWithPolyline:()=>a0,pathWithRect:()=>yT,polygonWithEllipse:()=>dg,polygonWithLine:()=>s0,polygonWithPolygon:()=>gT,polygonWithPolyline:()=>pT,polygonWithRect:()=>hT,polylineWithEllipse:()=>o0,polylineWithLine:()=>ug,polylineWithPolyline:()=>fT,polylineWithRect:()=>dT,rectWithEllipse:()=>uT,rectWithLine:()=>lT,rectWithRect:()=>r0});var Ir={};Bt.r(Ir),Bt.d(Ir,{Curve:()=>jn,Ellipse:()=>vo,Line:()=>rt,Path:()=>mt,Point:()=>q,Polygon:()=>Oo,Polyline:()=>or,Rect:()=>Xe,bezier:()=>aG,ellipse:()=>eG,intersection:()=>lG,line:()=>ll,normalizeAngle:()=>Ps,point:()=>sg,random:()=>Wb,rect:()=>iG,scale:()=>$5,snapToGrid:()=>cl,toDeg:()=>rg,toRad:()=>Po,types:()=>cn});var Kn={};Bt.r(Kn),Bt.d(Kn,{absolute:()=>MH,bottom:()=>OH,ellipse:()=>LH,ellipseSpread:()=>RH,fn:()=>TH,left:()=>NH,line:()=>SH,right:()=>kH,top:()=>PH});var Li={};Bt.r(Li),Bt.d(Li,{bottom:()=>VH,inside:()=>ZH,insideOriented:()=>HH,left:()=>BH,manual:()=>FH,outside:()=>UH,outsideOriented:()=>GH,radial:()=>WH,radialOriented:()=>YH,right:()=>jH,top:()=>zH});var At={};Bt.r(At),Bt.d(At,{Circle:()=>U0,Ellipse:()=>QH,Generic:()=>Ln,Image:()=>nZ,Path:()=>YS,Polygon:()=>eZ,Polyline:()=>tZ,Rect:()=>qH,Rhombus:()=>rZ,Text:()=>KH,TextBlock:()=>iZ,TextBlockView:()=>oZ,TextView:()=>JH});var Rr={};Bt.r(Rr),Bt.d(Rr,{BorderedImage:()=>fZ,Circle:()=>sZ,Cylinder:()=>mZ,DoubleLink:()=>CZ,Ellipse:()=>aZ,EmbeddedImage:()=>hZ,HeaderedRectangle:()=>gZ,Image:()=>dZ,InscribedImage:()=>pZ,Link:()=>wZ,Path:()=>cZ,Polygon:()=>lZ,Polyline:()=>uZ,Rectangle:()=>H0,ShadowLink:()=>_Z,TextBlock:()=>IZ});var gt={};Bt.r(gt),Bt.d(gt,{Atomic:()=>AZ,Coupled:()=>DZ,Link:()=>EZ,Model:()=>W0});var Oe={};Bt.r(Oe),Bt.d(Oe,{And:()=>kZ,Gate:()=>Ng,Gate11:()=>X0,Gate21:()=>vl,IO:()=>Y0,Input:()=>xZ,Nand:()=>OZ,Nor:()=>PZ,Not:()=>SZ,Or:()=>NZ,Output:()=>MZ,Repeater:()=>TZ,Wire:()=>FZ,Xnor:()=>LZ,Xor:()=>RZ});var rr={};Bt.r(rr),Bt.d(rr,{BishopBlack:()=>ZZ,BishopWhite:()=>HZ,KingBlack:()=>jZ,KingWhite:()=>BZ,KnightBlack:()=>YZ,KnightWhite:()=>WZ,PawnBlack:()=>$Z,PawnWhite:()=>XZ,QueenBlack:()=>VZ,QueenWhite:()=>zZ,RookBlack:()=>UZ,RookWhite:()=>GZ});var Sr={};Bt.r(Sr),Bt.d(Sr,{Attribute:()=>jf,Derived:()=>QZ,Entity:()=>XS,ISA:()=>nW,IdentifyingRelationship:()=>JZ,Key:()=>eW,Line:()=>rW,Multivalued:()=>KZ,Normal:()=>tW,Relationship:()=>$S,WeakEntity:()=>qZ});var Yn={};Bt.r(Yn),Bt.d(Yn,{Arrow:()=>aW,EndState:()=>sW,StartState:()=>oW,State:()=>iW});var Jt={};Bt.r(Jt),Bt.d(Jt,{Arrow:()=>lW,Member:()=>cW});var Ci={};Bt.r(Ci),Bt.d(Ci,{Link:()=>hW,Place:()=>uW,PlaceView:()=>dW,Transition:()=>fW});var Nr={};Bt.r(Nr),Bt.d(Nr,{Abstract:()=>pW,AbstractView:()=>gW,Aggregation:()=>IW,Association:()=>CW,Class:()=>$0,ClassView:()=>q0,Composition:()=>wW,EndState:()=>DW,Generalization:()=>yW,Implementation:()=>bW,Interface:()=>mW,InterfaceView:()=>vW,StartState:()=>AW,State:()=>_W,Transition:()=>EW});var Zt={};Bt.r(Zt),Bt.d(Zt,{basic:()=>At,chess:()=>rr,devs:()=>gt,erd:()=>Sr,fsa:()=>Yn,logic:()=>Oe,org:()=>Jt,pn:()=>Ci,standard:()=>Rr,uml:()=>Nr});var Ki={};Bt.r(Ki),Bt.d(Ki,{manhattan:()=>iI,metro:()=>YW,normal:()=>TW,oneSide:()=>SW,orthogonal:()=>eI,rightAngle:()=>e4});var _i={};Bt.r(_i),Bt.d(_i,{curve:()=>lI,jumpover:()=>h4,normal:()=>p4,rounded:()=>v4,smooth:()=>y4,straight:()=>aI});var st={};Bt.r(st),Bt.d(st,{addClass:()=>k4,list:()=>P4,mask:()=>S4,opacity:()=>N4,stroke:()=>M4});var kt={};Bt.r(kt),Bt.d(kt,{connectionClosest:()=>T1,connectionLength:()=>R4,connectionPerpendicular:()=>B4,connectionRatio:()=>O4,resolveRef:()=>Hf});var pi={};Bt.r(pi),Bt.d(pi,{anchor:()=>H4,bbox:()=>Z4,boundary:()=>Y4,rectangle:()=>W4});var St={};function Fi(e,t){return Object.is(e,t)}Bt.r(St),Bt.d(St,{bottom:()=>Q4,bottomLeft:()=>i9,bottomRight:()=>o9,center:()=>J4,left:()=>e9,midSide:()=>a9,modelCenter:()=>c9,perpendicular:()=>s9,right:()=>t9,top:()=>K4,topLeft:()=>n9,topRight:()=>r9}),Bt(332);let hn=null,Wn=!1,Zr=1;const I=Symbol("SIGNAL");function bn(e){const t=hn;return hn=e,t}const gi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Wt(e){if(Wn)throw new Error("");if(null===hn)return;hn.consumerOnSignalRead(e);const t=hn.nextProducerIndex++;to(hn),t<hn.producerNode.length&&hn.producerNode[t]!==e&&_o(hn)&&zi(hn.producerNode[t],hn.producerIndexOfThis[t]),hn.producerNode[t]!==e&&(hn.producerNode[t]=e,hn.producerIndexOfThis[t]=_o(hn)?eo(e,hn,t):0),hn.producerLastReadVersion[t]=e.version}function ni(e){if((!_o(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Zr)){if(!e.producerMustRecompute(e)&&!ir(e))return e.dirty=!1,void(e.lastCleanEpoch=Zr);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Zr}}function rs(e){if(void 0===e.liveConsumerNode)return;const t=Wn;Wn=!0;try{for(const n of e.liveConsumerNode)n.dirty||Qi(n)}finally{Wn=t}}function wr(){return!1!==hn?.consumerAllowSignalWrites}function Qi(e){e.dirty=!0,rs(e),e.consumerMarkedDirty?.(e)}function Bi(e){return e&&(e.nextProducerIndex=0),bn(e)}function ji(e,t){if(bn(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(_o(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)zi(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function ir(e){to(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(ni(n),r!==n.version))return!0}return!1}function Ar(e){if(to(e),_o(e))for(let t=0;t<e.producerNode.length;t++)zi(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function eo(e,t,n){if(Ao(e),to(e),0===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=eo(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function zi(e,t){if(Ao(e),to(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)zi(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];to(i),i.producerIndexOfThis[r]=t}}function _o(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function to(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Ao(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}let Ui=function Ai(){throw new Error};function x(){Ui()}let z=null;function B(e,t){wr()||x(),e.equal(e.value,t)||(e.value=t,function Q(e){e.version++,function Co(){Zr++}(),rs(e),z?.()}(e))}const ge=(()=>({...gi,equal:Fi,value:void 0}))();const Je=()=>{},je=(()=>({...gi,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:Je}))();function Fe(e){return"function"==typeof e}function $e(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Dt=$e(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function wt(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class ut{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Fe(r))try{r()}catch(o){t=o instanceof Dt?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Xn(o)}catch(s){t=t??[],s instanceof Dt?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Dt(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Xn(t);else{if(t instanceof ut){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&wt(n,t)}remove(t){const{_finalizers:n}=this;n&&wt(n,t),t instanceof ut&&t._removeParent(this)}}ut.EMPTY=(()=>{const e=new ut;return e.closed=!0,e})();const un=ut.EMPTY;function dn(e){return e instanceof ut||e&&"closed"in e&&Fe(e.remove)&&Fe(e.add)&&Fe(e.unsubscribe)}function Xn(e){Fe(e)?e():e.unsubscribe()}const xn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ot={setTimeout(e,t,...n){const{delegate:r}=Ot;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Ot;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function dt(e){Ot.setTimeout(()=>{const{onUnhandledError:t}=xn;if(!t)throw e;t(e)})}function Vn(){}const In=Ke("C",void 0,void 0);function Ke(e,t,n){return{kind:e,value:t,error:n}}let Lt=null;function qe(e){if(xn.useDeprecatedSynchronousErrorHandling){const t=!Lt;if(t&&(Lt={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Lt;if(Lt=null,n)throw r}}else e()}class Et extends ut{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,dn(t)&&t.add(this)):this.destination=fn}static create(t,n,r){return new gn(t,n,r)}next(t){this.isStopped?Gn(function pn(e){return Ke("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Gn(function Qn(e){return Ke("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Gn(In,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ar=Function.prototype.bind;function pr(e,t){return ar.call(e,t)}class On{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){gr(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){gr(r)}else gr(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){gr(n)}}}class gn extends Et{constructor(t,n,r){let i;if(super(),Fe(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&xn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&pr(t.next,o),error:t.error&&pr(t.error,o),complete:t.complete&&pr(t.complete,o)}):i=t}this.destination=new On(i)}}function gr(e){xn.useDeprecatedSynchronousErrorHandling?function sn(e){xn.useDeprecatedSynchronousErrorHandling&&Lt&&(Lt.errorThrown=!0,Lt.error=e)}(e):dt(e)}function Gn(e,t){const{onStoppedNotification:n}=xn;n&&Ot.setTimeout(()=>n(e,t))}const fn={closed:!0,next:Vn,error:function Wr(e){throw e},complete:Vn},lt="function"==typeof Symbol&&Symbol.observable||"@@observable";function J(e){return e}let at=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function Ue(e){return e&&e instanceof Et||function Ve(e){return e&&Fe(e.next)&&Fe(e.error)&&Fe(e.complete)}(e)&&dn(e)}(n)?n:new gn(n,r,i);return qe(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Fn(r))((i,o)=>{const s=new gn({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[lt](){return this}pipe(...n){return function yt(e){return 0===e.length?J:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=Fn(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Fn(e){var t;return null!==(t=e??xn.Promise)&&void 0!==t?t:Promise}const Ie=$e(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Re=(()=>{class e extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ht(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ie}next(n){qe(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){qe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){qe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?un:(this.currentObservers=null,o.push(n),new ut(()=>{this.currentObservers=null,wt(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new at;return n.source=this,n}}return e.create=(t,n)=>new ht(t,n),e})();class ht extends Re{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:un}}function Ye(e){return t=>{if(function jt(e){return Fe(e?.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function et(e,t,n,r,i){return new $t(e,t,n,r,i)}class $t extends Et{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function pt(e,t){return Ye((n,r)=>{let i=0;n.subscribe(et(r,o=>{r.next(e.call(t,o,i++))}))})}function Er(e){return this instanceof Er?(this.v=e,this):new Er(e)}function Wa(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function mi(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ia=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function $a(e){return Fe(e?.then)}function kc(e){return Fe(e[lt])}function Zs(e){return Symbol.asyncIterator&&Fe(e?.[Symbol.asyncIterator])}function Pc(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ja=function qa(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ka(e){return Fe(e?.[Ja])}function Oc(e){return function ya(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(p){r[p]&&(i[p]=function(g){return new Promise(function(v,w){o.push([p,g,v,w])>1||a(p,g)})})}function a(p,g){try{!function c(p){p.value instanceof Er?Promise.resolve(p.value.v).then(l,u):d(o[0][2],p)}(r[p](g))}catch(v){d(o[0][3],v)}}function l(p){a("next",p)}function u(p){a("throw",p)}function d(p,g){p(g),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Er(n.read());if(i)return yield Er(void 0);yield yield Er(r)}}finally{n.releaseLock()}})}function Qa(e){return Fe(e?.getReader)}function ii(e){if(e instanceof at)return e;if(null!=e){if(kc(e))return function Ws(e){return new at(t=>{const n=e[lt]();if(Fe(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Ia(e))return function ec(e){return new at(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if($a(e))return function Hi(e){return new at(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,dt)})}(e);if(Zs(e))return tc(e);if(Ka(e))return function ro(e){return new at(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Qa(e))return function _s(e){return tc(Oc(e))}(e)}throw Pc(e)}function tc(e){return new at(t=>{(function Ys(e,t){var n,r,i,o;return function Do(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Wa(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Yr(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function os(e,t,n=1/0){return Fe(t)?os((r,i)=>pt((o,s)=>t(r,o,i,s))(ii(e(r,i))),n):("number"==typeof t&&(n=t),Ye((r,i)=>function Tl(e,t,n,r,i,o,s,a){const c=[];let l=0,u=0,d=!1;const p=()=>{d&&!c.length&&!l&&t.complete()},g=w=>l<r?v(w):c.push(w),v=w=>{o&&t.next(w),l++;let E=!1;ii(n(w,u++)).subscribe(et(t,N=>{i?.(N),o?g(N):t.next(N)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<r;){const N=c.shift();s?Yr(t,s,()=>v(N)):v(N)}p()}catch(N){t.error(N)}}))};return e.subscribe(et(t,g,()=>{d=!0,p()})),()=>{a?.()}}(r,i,e,n)))}function zo(e=1/0){return os(J,e)}const oi=new at(e=>e.complete());function Lc(e){return e&&Fe(e.schedule)}function wa(e){return e[e.length-1]}function f(e){return Fe(wa(e))?e.pop():void 0}function h(e){return Lc(wa(e))?e.pop():void 0}function y(e,t=0){return Ye((n,r)=>{n.subscribe(et(r,i=>Yr(r,e,()=>r.next(i),t),()=>Yr(r,e,()=>r.complete(),t),i=>Yr(r,e,()=>r.error(i),t)))})}function _(e,t=0){return Ye((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function se(e,t){if(!e)throw new Error("Iterable cannot be null");return new at(n=>{Yr(n,t,()=>{const r=e[Symbol.asyncIterator]();Yr(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function pe(e,t){return t?function De(e,t){if(null!=e){if(kc(e))return function D(e,t){return ii(e).pipe(_(t),y(t))}(e,t);if(Ia(e))return function H(e,t){return new at(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if($a(e))return function S(e,t){return ii(e).pipe(_(t),y(t))}(e,t);if(Zs(e))return se(e,t);if(Ka(e))return function G(e,t){return new at(n=>{let r;return Yr(n,t,()=>{r=e[Ja](),Yr(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Fe(r?.return)&&r.return()})}(e,t);if(Qa(e))return function we(e,t){return se(Oc(e),t)}(e,t)}throw Pc(e)}(e,t):ii(e)}function Be(...e){const t=h(e),n=function m(e,t){return"number"==typeof wa(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?ii(r[0]):zo(n)(pe(r,t)):oi}class Ft extends Re{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Yt(...e){return pe(e,h(e))}function Gt(e={}){const{connector:t=(()=>new Re),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,c,l=0,u=!1,d=!1;const p=()=>{a?.unsubscribe(),a=void 0},g=()=>{p(),s=c=void 0,u=d=!1},v=()=>{const w=s;g(),w?.unsubscribe()};return Ye((w,E)=>{l++,!d&&!u&&p();const N=c=c??t();E.add(()=>{l--,0===l&&!d&&!u&&(a=$n(v,i))}),N.subscribe(E),!s&&l>0&&(s=new gn({next:P=>N.next(P),error:P=>{d=!0,p(),a=$n(g,n,P),N.error(P)},complete:()=>{u=!0,p(),a=$n(g,r),N.complete()}}),ii(w).subscribe(s))})(o)}}function $n(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new gn({next:()=>{r.unsubscribe(),e()}});return ii(t(...n)).subscribe(r)}function vr(e,t){return Ye((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(et(r,c=>{i?.unsubscribe();let l=0;const u=o++;ii(e(c,u)).subscribe(i=et(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xi(e,t=J){return e=e??io,Ye((n,r)=>{let i,o=!0;n.subscribe(et(r,s=>{const a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}function io(e,t){return e===t}function ct(e){for(let t in e)if(e[t]===ct)return t;throw Error("Could not find renamed property on target object.")}function oo(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function It(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(It).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function qn(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const As=ct({__forward_ref__:ct});function yi(e){return e.__forward_ref__=yi,e.toString=function(){return It(this())},e}function _t(e){return function bi(e){return"function"==typeof e&&e.hasOwnProperty(As)&&e.__forward_ref__===yi}(e)?e():e}function so(e){return e&&!!e.\u0275providers}const si="https://g.co/ng/security#xss";class ke extends Error{constructor(t,n){super(function Xr(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}const Mi=ct({\u0275cmp:ct}),C=ct({\u0275dir:ct}),T=ct({\u0275pipe:ct}),F=ct({\u0275fac:ct}),ie=ct({__NG_ELEMENT_ID__:ct}),ee=ct({__NG_ENV_ID__:ct});function ue(e){return"string"==typeof e?e:null==e?"":String(e)}function _a(e,t){throw new ke(-201,!1)}function fe(e,t){null==e&&function oe(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Me(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ct(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ut(e){return Tt(e,Br)||Tt(e,Uo)}function Tt(e,t){return e.hasOwnProperty(t)?e[t]:null}function ci(e){return e&&(e.hasOwnProperty(Zi)||e.hasOwnProperty(rc))?e[Zi]:null}const Br=ct({\u0275prov:ct}),Zi=ct({\u0275inj:ct}),Uo=ct({ngInjectableDef:ct}),rc=ct({ngInjectorDef:ct});var Vt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Vt||{});let Om;function Uw(){return Om}function Eo(e){const t=Om;return Om=e,t}function Hw(e,t,n){const r=Ut(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Vt.Optional?null:void 0!==t?t:void _a(It(e))}const cr=globalThis;class tt{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Me({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ud={},jm="__NG_DI_FLAG__",mh="ngTempTokenPath",TP=/\n/gm,Ww="__source";let Nl;function ic(e){const t=Nl;return Nl=e,t}function kP(e,t=Vt.Default){if(void 0===Nl)throw new ke(-203,!1);return null===Nl?Hw(e,void 0,t):Nl.get(e,t&Vt.Optional?null:void 0,t)}function nt(e,t=Vt.Default){return(Uw()||kP)(_t(e),t)}function an(e,t=Vt.Default){return nt(e,vh(t))}function vh(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function zm(e){const t=[];for(let n=0;n<e.length;n++){const r=_t(e[n]);if(Array.isArray(r)){if(0===r.length)throw new ke(900,!1);let i,o=Vt.Default;for(let s=0;s<r.length;s++){const a=r[s],c=PP(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}t.push(nt(i,o))}else t.push(nt(r))}return t}function PP(e){return e[jm]}function Aa(e){return{toString:e}.toString()}var yh=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(yh||{}),Ds=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ds||{});const $s={},Bn=[];function Xw(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Vm(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];qw(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function $w(e){return 3===e||4===e||6===e}function qw(e){return 64===e.charCodeAt(0)}function fd(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Jw(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Jw(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const Kw="ng-template";function LP(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(n&&"class"===o&&-1!==Xw(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Qw(e){return 4===e.type&&e.value!==Kw}function FP(e,t,n){return t===(4!==e.type||n?e.value:Kw)}function BP(e,t,n){let r=4;const i=e.attrs||[],o=function VP(e){for(let t=0;t<e.length;t++)if($w(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!FP(e,c,n)||""===c&&1===t.length){if(Es(r))return!1;s=!0}}else{const l=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!LP(e.attrs,l,n)){if(Es(r))return!1;s=!0}continue}const d=jP(8&r?"class":c,i,Qw(e),n);if(-1===d){if(Es(r))return!1;s=!0;continue}if(""!==l){let p;p=d>o?"":i[d+1].toLowerCase();const g=8&r?p:null;if(g&&-1!==Xw(g,l,0)||2&r&&l!==p){if(Es(r))return!1;s=!0}}}}else{if(!s&&!Es(r)&&!Es(c))return!1;if(s&&Es(c))continue;s=!1,r=c|1&r}}return Es(r)||s}function Es(e){return 0==(1&e)}function jP(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function GP(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function eC(e,t,n=!1){for(let r=0;r<t.length;r++)if(BP(e,t[r],n))return!0;return!1}function UP(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function tC(e,t){return e?":not("+t.trim()+")":t}function HP(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Es(s)&&(t+=tC(o,i),i=""),r=s,o=o||!Es(r);n++}return""!==i&&(t+=tC(o,i)),t}function Da(e){return Aa(()=>{const t=rC(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===yh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ds.Emulated,styles:e.styles||Bn,_:null,schemas:e.schemas||null,tView:null,id:""};iC(n);const r=e.dependencies;return n.directiveDefs=bh(r,!1),n.pipeDefs=bh(r,!0),n.id=function qP(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function YP(e){return mn(e)||li(e)}function XP(e){return null!==e}function Ea(e){return Aa(()=>({type:e.type,bootstrap:e.bootstrap||Bn,declarations:e.declarations||Bn,imports:e.imports||Bn,exports:e.exports||Bn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function nC(e,t){if(null==e)return $s;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function ao(e){return Aa(()=>{const t=rC(e);return iC(t),t})}function mn(e){return e[Mi]||null}function li(e){return e[C]||null}function Ti(e){return e[T]||null}function rC(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||$s,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Bn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nC(e.inputs,t),outputs:nC(e.outputs),debugInfo:null}}function iC(e){e.features?.forEach(t=>t(e))}function bh(e,t){if(!e)return null;const n=t?Ti:YP;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(XP)}const kr=0,He=1,Nt=2,Cr=3,xs=4,Yi=5,Ms=6,kl=7,lr=8,co=9,Pl=10,Qt=11,hd=12,oC=13,Ol=14,xr=15,pd=16,Rl=17,qs=18,gd=19,sC=20,oc=21,Ih=22,Bc=23,en=25,Gm=1,Js=7,Ll=9,jr=10;var Fl=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(Fl||{});function Si(e){return Array.isArray(e)&&"object"==typeof e[Gm]}function Ii(e){return Array.isArray(e)&&!0===e[Gm]}function Um(e){return 0!=(4&e.flags)}function jc(e){return e.componentOffset>-1}function Ch(e){return 1==(1&e.flags)}function Ts(e){return!!e.template}function Hm(e){return 0!=(512&e[Nt])}function zc(e,t){return e.hasOwnProperty(F)?e[F]:null}class uC{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function dC(e){return e.type.prototype.ngOnChanges&&(e.setInput=tO),eO}function eO(){const e=hC(this),t=e?.current;if(t){const n=e.previous;if(n===$s)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function tO(e,t,n,r){const i=this.declaredInputs[n],o=hC(e)||function nO(e,t){return e[fC]=t}(e,{previous:$s,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new uC(c&&c.currentValue,t,a===$s),e[r]=t}const fC="__ngSimpleChanges__";function hC(e){return e[fC]||null}const Ks=function(e,t,n){};function ur(e){for(;Array.isArray(e);)e=e[kr];return e}function vd(e,t){return ur(t[e])}function lo(e,t){return ur(t[e.index])}function yd(e,t){return e.data[t]}function Ho(e,t){const n=t[e];return Si(n)?n:n[kr]}function $m(e){return 128==(128&e[Nt])}function Qs(e,t){return null==t?null:e[t]}function mC(e){e[Rl]=0}function aO(e){1024&e[Nt]||(e[Nt]|=1024,$m(e)&&Ah(e))}function yC(e){return 9216&e[Nt]||e[Bc]?.dirty}function bC(e){yC(e)&&Ah(e)}function Ah(e){let t=e[Cr];for(;null!==t&&!(Ii(t)&&t[Nt]&Fl.HasChildViewsToRefresh||Si(t)&&8192&t[Nt]);){if(Ii(t))t[Nt]|=Fl.HasChildViewsToRefresh;else if(t[Nt]|=8192,!$m(t))break;t=t[Cr]}}function Dh(e,t){if(256==(256&e[Nt]))throw new ke(911,!1);null===e[oc]&&(e[oc]=[]),e[oc].push(t)}const Xt={lFrame:TC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function wC(){return Xt.bindingsEnabled}function jl(){return null!==Xt.skipHydrationRootTNode}function Ae(){return Xt.lFrame.lView}function Nn(){return Xt.lFrame.tView}function bd(e){return Xt.lFrame.contextLView=e,e[lr]}function Id(e){return Xt.lFrame.contextLView=null,e}function nr(){let e=CC();for(;null!==e&&64===e.type;)e=e.parent;return e}function CC(){return Xt.lFrame.currentTNode}function ea(e,t){const n=Xt.lFrame;n.currentTNode=e,n.isParent=t}function Jm(){return Xt.lFrame.isParent}function Km(){Xt.lFrame.isParent=!1}function ta(){return Xt.lFrame.bindingIndex++}function Ma(e){const t=Xt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function yO(e,t){const n=Xt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Qm(t)}function Qm(e){Xt.lFrame.currentDirectiveIndex=e}function ev(e){const t=Xt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function EC(){return Xt.lFrame.currentQueryIndex}function tv(e){Xt.lFrame.currentQueryIndex=e}function IO(e){const t=e[He];return 2===t.type?t.declTNode:1===t.type?e[Yi]:null}function xC(e,t,n){if(n&Vt.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&Vt.Host||(i=IO(o),null===i||(o=o[Ol],10&i.type))););if(null===i)return!1;t=i,e=o}const r=Xt.lFrame=MC();return r.currentTNode=t,r.lView=e,!0}function nv(e){const t=MC(),n=e[He];Xt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function MC(){const e=Xt.lFrame,t=null===e?null:e.child;return null===t?TC(e):t}function TC(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function SC(){const e=Xt.lFrame;return Xt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const NC=SC;function rv(){const e=SC();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Xi(){return Xt.lFrame.selectedIndex}function Vc(e){Xt.lFrame.selectedIndex=e}function yr(){const e=Xt.lFrame;return yd(e.tView,e.selectedIndex)}let PC=!0;function Eh(){return PC}function sc(e){PC=e}function xh(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function Mh(e,t,n){OC(e,t,3,n)}function Th(e,t,n,r){(3&e[Nt])===n&&OC(e,t,n,r)}function iv(e,t){let n=e[Nt];(3&n)===t&&(n&=16383,n+=1,e[Nt]=n)}function OC(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&e[Rl]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[Rl]+=65536),(a<o||-1==o)&&(xO(e,n,t,c),e[Rl]=(4294901760&e[Rl])+c+2),c++}function RC(e,t){Ks(4,e,t);const n=bn(null);try{t.call(e)}finally{bn(n),Ks(5,e,t)}}function xO(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[Nt]>>14<e[Rl]>>16&&(3&e[Nt])===t&&(e[Nt]+=16384,RC(a,o)):RC(a,o)}const zl=-1;class Cd{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function sv(e){return e!==zl}function _d(e){return 32767&e}function Ad(e,t){let n=function kO(e){return e>>16}(e),r=t;for(;n>0;)r=r[Ol],n--;return r}let av=!0;function Sh(e){const t=av;return av=e,t}const LC=255,FC=5;let PO=0;const na={};function Nh(e,t){const n=BC(e,t);if(-1!==n)return n;const r=t[He];r.firstCreatePass&&(e.injectorIndex=t.length,cv(r.data,e),cv(t,null),cv(r.blueprint,null));const i=kh(e,t),o=e.injectorIndex;if(sv(i)){const s=_d(i),a=Ad(i,t),c=a[He].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function cv(e,t){e.push(0,0,0,0,0,0,0,0,t)}function BC(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function kh(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=ZC(i),null===r)return zl;if(n++,i=i[Ol],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return zl}function lv(e,t,n){!function OO(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ie)&&(r=n[ie]),null==r&&(r=n[ie]=PO++);const i=r&LC;t.data[e+(i>>FC)]|=1<<i}(e,t,n)}function jC(e,t,n){if(n&Vt.Optional||void 0!==e)return e;_a()}function zC(e,t,n,r){if(n&Vt.Optional&&void 0===r&&(r=null),!(n&(Vt.Self|Vt.Host))){const i=e[co],o=Eo(void 0);try{return i?i.get(t,r,n&Vt.Optional):Hw(t,r,n&Vt.Optional)}finally{Eo(o)}}return jC(r,0,n)}function VC(e,t,n,r=Vt.Default,i){if(null!==e){if(2048&t[Nt]&&!(r&Vt.Self)){const s=function zO(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[Nt]&&!(512&s[Nt]);){const a=GC(o,s,n,r|Vt.Self,na);if(a!==na)return a;let c=o.parent;if(!c){const l=s[sC];if(l){const u=l.get(n,na,r);if(u!==na)return u}c=ZC(s),s=s[Ol]}o=c}return i}(e,t,n,r,na);if(s!==na)return s}const o=GC(e,t,n,r,na);if(o!==na)return o}return zC(t,n,r,i)}function GC(e,t,n,r,i){const o=function FO(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ie)?e[ie]:void 0;return"number"==typeof t?t>=0?t&LC:BO:t}(n);if("function"==typeof o){if(!xC(t,e,r))return r&Vt.Host?jC(i,0,r):zC(t,n,r,i);try{let s;if(s=o(r),null!=s||r&Vt.Optional)return s;_a()}finally{NC()}}else if("number"==typeof o){let s=null,a=BC(e,t),c=zl,l=r&Vt.Host?t[xr][Yi]:null;for((-1===a||r&Vt.SkipSelf)&&(c=-1===a?kh(e,t):t[a+8],c!==zl&&HC(r,!1)?(s=t[He],a=_d(c),t=Ad(c,t)):a=-1);-1!==a;){const u=t[He];if(UC(o,a,u.data)){const d=LO(a,t,n,s,r,l);if(d!==na)return d}c=t[a+8],c!==zl&&HC(r,t[He].data[a+8]===l)&&UC(o,a,t)?(s=u,a=_d(c),t=Ad(c,t)):a=-1}}return i}function LO(e,t,n,r,i,o){const s=t[He],a=s.data[e+8],u=Ph(a,s,n,null==r?jc(a)&&av:r!=s&&0!=(3&a.type),i&Vt.Host&&o===a);return null!==u?Gc(t,s,u,a):na}function Ph(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,c=e.directiveStart,u=o>>20,p=i?a+u:e.directiveEnd;for(let g=r?a:a+u;g<p;g++){const v=s[g];if(g<c&&n===v||g>=c&&v.type===n)return g}if(i){const g=s[c];if(g&&Ts(g)&&g.type===n)return c}return null}function Gc(e,t,n,r){let i=e[n];const o=t.data;if(function MO(e){return e instanceof Cd}(i)){const s=i;s.resolving&&function er(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new ke(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Ne(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ue(e)}(o[n]));const a=Sh(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Eo(s.injectImpl):null;xC(e,r,Vt.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function EO(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=dC(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==l&&Eo(l),Sh(a),s.resolving=!1,NC()}}return i}function UC(e,t,n){return!!(n[t+(e>>FC)]&1<<e)}function HC(e,t){return!(e&Vt.Self||e&Vt.Host&&t)}class ui{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return VC(this._tNode,this._lView,t,vh(r),n)}}function BO(){return new ui(nr(),Ae())}function ZC(e){const t=e[He],n=t.type;return 2===n?t.declTNode:1===n?e[Yi]:null}function Xl(e,t){e.forEach(n=>Array.isArray(n)?Xl(n,t):t(n))}function YC(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Rh(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ed(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Zo(e,t,n){let r=$l(e,t);return r>=0?e[1|r]=n:(r=~r,function XC(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function hv(e,t){const n=$l(e,t);if(n>=0)return e[1|n]}function $l(e,t){return function $C(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const Md=new tt("ENVIRONMENT_INITIALIZER"),QC=new tt("INJECTOR",-1),mv=new tt("INJECTOR_DEF_TYPES");class jh{get(t,n=ud){if(n===ud){const r=new Error(`NullInjectorError: No provider for ${It(t)}!`);throw r.name="NullInjectorError",r}return n}}function cR(...e){return{\u0275providers:t_(0,e),\u0275fromNgModule:!0}}function t_(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Xl(t,s=>{const a=s;zh(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&n_(i,o),n}function n_(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];vv(i,o=>{t(o,r)})}}function zh(e,t,n,r){if(!(e=_t(e)))return!1;let i=null,o=ci(e);const s=!o&&mn(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const c=e.ngModule;if(o=ci(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)zh(l,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Xl(o.imports,u=>{zh(u,t,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&n_(l,t)}if(!a){const l=zc(i)||(()=>new i);t({provide:i,useFactory:l,deps:Bn},i),t({provide:mv,useValue:i,multi:!0},i),t({provide:Md,useValue:()=>nt(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=e;vv(c,u=>{t(u,l)})}}}return i!==e&&void 0!==e.providers}function vv(e,t){for(let n of e)so(n)&&(n=n.\u0275providers),Array.isArray(n)?vv(n,t):t(n)}const lR=ct({provide:String,useValue:ct});function yv(e){return null!==e&&"object"==typeof e&&lR in e}function Uc(e){return"function"==typeof e}const bv=new tt("Set Injector scope."),Vh={},dR={};let Iv;function Gh(){return void 0===Iv&&(Iv=new jh),Iv}class Ta{}class Kl extends Ta{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cv(t,s=>this.processProvider(s)),this.records.set(QC,Ql(void 0,this)),i.has("environment")&&this.records.set(Ta,Ql(void 0,this));const o=this.records.get(bv);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mv,Bn,Vt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=ic(this),r=Eo(void 0);try{return t()}finally{ic(n),Eo(r)}}get(t,n=ud,r=Vt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(ee))return t[ee](this);r=vh(r);const o=ic(this),s=Eo(void 0);try{if(!(r&Vt.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function mR(e){return"function"==typeof e||"object"==typeof e&&e instanceof tt}(t)&&Ut(t);c=l&&this.injectableDefInScope(l)?Ql(wv(t),Vh):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&Vt.Self?Gh():this.parent).get(t,n=r&Vt.Optional&&n===ud?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[mh]=a[mh]||[]).unshift(It(t)),o)throw a;return function OP(e,t,n,r){const i=e[mh];throw t[Ww]&&i.unshift(t[Ww]),e.message=function RP(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=It(t);if(Array.isArray(t))i=t.map(It).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):It(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(TP,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[mh]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Eo(s),ic(o)}}resolveInjectorInitializers(){const t=ic(this),n=Eo(void 0);try{const i=this.get(Md,Bn,Vt.Self);for(const o of i)o()}finally{ic(t),Eo(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(It(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,!1)}processProvider(t){let n=Uc(t=_t(t))?t:_t(t&&t.provide);const r=function hR(e){return yv(e)?Ql(void 0,e.useValue):Ql(o_(e),Vh)}(t);if(Uc(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ql(void 0,Vh,!0),i.factory=()=>zm(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Vh&&(n.value=dR,n.value=n.factory()),"object"==typeof n.value&&n.value&&function gR(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=_t(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function wv(e){const t=Ut(e),n=null!==t?t.factory:zc(e);if(null!==n)return n;if(e instanceof tt)throw new ke(204,!1);if(e instanceof Function)return function fR(e){const t=e.length;if(t>0)throw Ed(t,"?"),new ke(204,!1);const n=function tr(e){return e&&(e[Br]||e[Uo])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new ke(204,!1)}function o_(e,t,n){let r;if(Uc(e)){const i=_t(e);return zc(i)||wv(i)}if(yv(e))r=()=>_t(e.useValue);else if(function i_(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...zm(e.deps||[]));else if(function r_(e){return!(!e||!e.useExisting)}(e))r=()=>nt(_t(e.useExisting));else{const i=_t(e&&(e.useClass||e.provide));if(!function pR(e){return!!e.deps}(e))return zc(i)||wv(i);r=()=>new i(...zm(e.deps))}return r}function Ql(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Cv(e,t){for(const n of e)Array.isArray(n)?Cv(n,t):n&&so(n)?Cv(n.\u0275providers,t):t(n)}function l_(e,t=null,n=null,r){const i=function u_(e,t=null,n=null,r,i=new Set){const o=[n||Bn,cR(e)];return r=r||("object"==typeof e?void 0:It(e)),new Kl(o,t||Gh(),r||null,i)}(e,t,n,r);return i.resolveInjectorInitializers(),i}let Dv,To=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=ud;static#t=this.NULL=new jh;static create(n,r){if(Array.isArray(n))return l_({name:""},r,n,"");{const i=n.name??"";return l_({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=Me({token:e,providedIn:"any",factory:()=>nt(QC)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();const Ev=new tt("AppId",{providedIn:"root",factory:()=>DR}),DR="ng",f_=new tt("Platform Initializer"),Zc=new tt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),eu=new tt("AnimationModuleType"),xv=new tt("CSP nonce",{providedIn:"root",factory:()=>function ac(){if(void 0!==Dv)return Dv;if(typeof document<"u")return document;throw new ke(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function h_(e){return e.ownerDocument}function Yh(e){return 128==(128&e.flags)}var uc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(uc||{});const kv=new Map;let FR=0;const Ov="__ngContext__";function $i(e,t){Si(t)?(e[Ov]=t[gd],function jR(e){kv.set(e[gd],e)}(t)):e[Ov]=t}let Rv;function Lv(e,t){return Rv(e,t)}function Pd(e){const t=e[Cr];return Ii(t)?t[Cr]:t}function N_(e){return P_(e[hd])}function k_(e){return P_(e[xs])}function P_(e){for(;null!==e&&!Ii(e);)e=e[xs];return e}function nu(e,t,n,r,i){if(null!=r){let o,s=!1;Ii(r)?o=r:Si(r)&&(s=!0,r=r[kr]);const a=ur(r);0===e&&null!==n?null==i?F_(t,n,a):Wc(t,n,a,i||null,!0):1===e&&null!==n?Wc(t,n,a,i||null,!0):2===e?function ep(e,t,n){const r=Kh(e,t);r&&function o2(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function c2(e,t,n,r,i){const o=n[Js];o!==ur(n)&&nu(t,e,r,o,i);for(let a=jr;a<n.length;a++){const c=n[a];Ld(c[He],c,e,t,r,o)}}(t,e,o,n,i)}}function qh(e,t,n){return e.createElement(t,n)}function R_(e,t){const n=e[Ll],r=n.indexOf(t);n.splice(r,1)}function Od(e,t){if(e.length<=jr)return;const n=jr+t,r=e[n];if(r){const i=r[pd];null!==i&&i!==e&&R_(i,r),t>0&&(e[n-1][xs]=r[xs]);const o=Rh(e,jr+t);!function qR(e,t){Ld(e,t,t[Qt],2,null,null),t[kr]=null,t[Yi]=null}(r[He],r);const s=o[qs];null!==s&&s.detachView(o[He]),r[Cr]=null,r[xs]=null,r[Nt]&=-129}return r}function Jh(e,t){if(!(256&t[Nt])){const n=t[Qt];n.destroyNode&&Ld(e,t,n,3,null,null),function QR(e){let t=e[hd];if(!t)return Bv(e[He],e);for(;t;){let n=null;if(Si(t))n=t[hd];else{const r=t[jr];r&&(n=r)}if(!n){for(;t&&!t[xs]&&t!==e;)Si(t)&&Bv(t[He],t),t=t[Cr];null===t&&(t=e),Si(t)&&Bv(t[He],t),n=t&&t[xs]}t=n}}(t)}}function Bv(e,t){if(!(256&t[Nt])){t[Nt]&=-129,t[Nt]|=256,t[Bc]&&Ar(t[Bc]),function r2(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Cd)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Ks(4,a,c);try{c.call(a)}finally{Ks(5,a,c)}}else{Ks(4,i,o);try{o.call(i)}finally{Ks(5,i,o)}}}}}(e,t),function n2(e,t){const n=e.cleanup,r=t[kl];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[kl]=null);const i=t[oc];if(null!==i){t[oc]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[He].type&&t[Qt].destroy();const n=t[pd];if(null!==n&&Ii(t[Cr])){n!==t[Cr]&&R_(n,t);const r=t[qs];null!==r&&r.detachView(e)}!function zR(e){kv.delete(e[gd])}(t)}}function jv(e,t,n){return function L_(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[kr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===Ds.None||o===Ds.Emulated)return null}return lo(r,n)}}(e,t.parent,n)}function Wc(e,t,n,r,i){e.insertBefore(t,n,r,i)}function F_(e,t,n){e.appendChild(t,n)}function B_(e,t,n,r,i){null!==r?Wc(e,t,n,r,i):F_(e,t,n)}function Kh(e,t){return e.parentNode(t)}function j_(e,t,n){return V_(e,t,n)}let zv,tp,V_=function z_(e,t,n){return 40&e.type?lo(e,n):null};function Qh(e,t,n,r){const i=jv(e,r,t),o=t[Qt],a=j_(r.parent||t[Yi],r,t);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)B_(o,i,n[c],a,!1);else B_(o,i,n,a,!1);void 0!==zv&&zv(o,r,t,n,i)}function Rd(e,t){if(null!==t){const n=t.type;if(3&n)return lo(t,e);if(4&n)return Vv(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Rd(e,r);{const i=e[t.index];return Ii(i)?Vv(-1,i):ur(i)}}if(32&n)return Lv(t,e)()||ur(e[t.index]);{const r=U_(e,t);return null!==r?Array.isArray(r)?r[0]:Rd(Pd(e[xr]),r):Rd(e,t.next)}}return null}function U_(e,t){return null!==t?e[xr][Yi].projection[t.projection]:null}function Vv(e,t){const n=jr+e+1;if(n<t.length){const r=t[n],i=r[He].firstChild;if(null!==i)return Rd(r,i)}return t[Js]}function Gv(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===t&&(a&&$i(ur(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)Gv(e,t,n.child,r,i,o,!1),nu(t,e,i,a,o);else if(32&c){const l=Lv(n,r);let u;for(;u=l();)nu(t,e,i,u,o);nu(t,e,i,a,o)}else 16&c?Z_(e,t,r,n,i,o):nu(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Ld(e,t,n,r,i,o){Gv(n,r,e.firstChild,t,i,o,!1)}function Z_(e,t,n,r,i,o){const s=n[xr],c=s[Yi].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)nu(t,e,i,c[l],o);else{let l=c;const u=s[Cr];Yh(r)&&(l.flags|=128),Gv(e,t,l,u,i,o,!0)}}function W_(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Y_(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Vm(e,t,r),null!==i&&W_(e,t,i),null!==o&&function u2(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}function ru(e){return function Uv(){if(void 0===tp&&(tp=null,cr.trustedTypes))try{tp=cr.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return tp}()?.createHTML(e)||e}class Yc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${si})`}}class p2 extends Yc{getTypeName(){return"HTML"}}class g2 extends Yc{getTypeName(){return"Style"}}class m2 extends Yc{getTypeName(){return"Script"}}class v2 extends Yc{getTypeName(){return"URL"}}class y2 extends Yc{getTypeName(){return"ResourceURL"}}function Yo(e){return e instanceof Yc?e.changingThisBreaksApplicationSecurity:e}function ra(e,t){const n=function b2(e){return e instanceof Yc&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${si})`)}return n===t}class D2{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(ru(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class E2{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=ru(t),n}}const M2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rp(e){return(e=String(e)).match(M2)?e:"unsafe:"+e}function Sa(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Fd(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const K_=Sa("area,br,col,hr,img,wbr"),Q_=Sa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),eA=Sa("rp,rt"),Zv=Fd(K_,Fd(Q_,Sa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fd(eA,Sa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fd(eA,Q_)),Wv=Sa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tA=Fd(Wv,Sa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Sa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),T2=Sa("script,style,template");class S2{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Zv.hasOwnProperty(n))return this.sanitizedSomething=!0,!T2.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!tA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;Wv[a]&&(c=rp(c)),this.buf.push(" ",s,'="',nA(c),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Zv.hasOwnProperty(n)&&!K_.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(nA(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const N2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,k2=/([^\#-~ |!])/g;function nA(e){return e.replace(/&/g,"&amp;").replace(N2,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(k2,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ip;function rA(e,t){let n=null;try{ip=ip||function J_(e){const t=new E2(e);return function x2(){try{return!!(new window.DOMParser).parseFromString(ru(""),"text/html")}catch{return!1}}()?new D2(t):t}(e);let r=t?String(t):"";n=ip.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ip.getInertBodyElement(r)}while(r!==o);return ru((new S2).sanitizeChildren(Yv(n)||n))}finally{if(n){const r=Yv(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Yv(e){return"content"in e&&function P2(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ni=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ni||{});let sA=(e,t,n)=>null;function ty(e,t,n=!1){return sA(e,t,n)}class $2{}class lA{}class J2{resolveComponentFactory(t){throw function q2(e){const t=Error(`No component factory found for ${It(e)}.`);return t.ngComponent=e,t}(t)}}let su=(()=>{class e{static#e=this.NULL=new J2}return e})();function K2(){return au(nr(),Ae())}function au(e,t){return new fo(lo(e,t))}let fo=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=K2}return e})();function Q2(e){return e instanceof fo?e.nativeElement:e}class iy{}let tL=(()=>{class e{static#e=this.\u0275prov=Me({token:e,providedIn:"root",factory:()=>null})}return e})();class cu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const nL=new cu("17.0.7"),oy={};function Vd(e,t){const n=function ae(e){const t=Object.create(ge);t.value=e;const n=()=>(Wt(t),t.value);return n[I]=t,n}(e),r=n[I];return t?.equal&&(r.equal=t.equal),n.set=i=>B(r,i),n.update=i=>function Y(e,t){wr()||x(),B(e,t(e.value))}(r,i),n.asReadonly=rL.bind(n),n}function rL(){const e=this[I];if(void 0===e.readonlyFn){const t=()=>this();t[I]=e,e.readonlyFn=t}return e.readonlyFn}function Ud(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(ur(o)),Ii(o)&&bA(o,r);const s=n.type;if(8&s)Ud(e,t,n.child,r);else if(32&s){const a=Lv(n,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=U_(t,n);if(Array.isArray(a))r.push(...a);else{const c=Pd(t[xr]);Ud(c[He],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function bA(e,t){for(let n=jr;n<e.length;n++){const r=e[n],i=r[He].firstChild;null!==i&&Ud(r[He],r,i,t)}e[Js]!==e[kr]&&t.push(e[Js])}let IA=[];const mL={...gi,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ah(e.lView)},consumerOnSignalRead(){this.lView[Bc]=this}};function ay(e){return e.ngOriginalError}class ss{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&ay(t);for(;n&&ay(n);)n=ay(n);return n||null}}const CA=new tt("",{providedIn:"root",factory:()=>an(ss).handleError.bind(void 0)}),AA=new tt("",{providedIn:"root",factory:()=>!1}),nn={};function lu(e){MA(Nn(),Ae(),Xi()+e,!1)}function MA(e,t,n,r){if(!r)if(3==(3&t[Nt])){const o=e.preOrderCheckHooks;null!==o&&Mh(t,o,n)}else{const o=e.preOrderHooks;null!==o&&Th(t,o,0,n)}Vc(n)}function Qe(e,t=Vt.Default){const n=Ae();return null===n?nt(e,t):VC(nr(),n,_t(e),t)}function hp(e,t,n,r,i,o,s,a,c,l,u){const d=t.blueprint.slice();return d[kr]=i,d[Nt]=140|r,(null!==l||e&&2048&e[Nt])&&(d[Nt]|=2048),mC(d),d[Cr]=d[Ol]=e,d[lr]=n,d[Pl]=s||e&&e[Pl],d[Qt]=a||e&&e[Qt],d[co]=c||e&&e[co]||null,d[Yi]=o,d[gd]=function BR(){return FR++}(),d[Ms]=u,d[sC]=l,d[xr]=2==t.type?e[xr]:d,d}function uu(e,t,n,r,i){let o=e.data[t];if(null===o)o=function cy(e,t,n,r,i){const o=CC(),s=Jm(),c=e.data[t]=function TL(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return jl()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(e,t,n,r,i),function vO(){return Xt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function wd(){const e=Xt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ea(o,!0),o}function Hd(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function SA(e,t,n,r,i){const o=Xi(),s=2&r;try{Vc(-1),s&&t.length>en&&MA(e,t,en,!1),Ks(s?2:0,i),n(r,i)}finally{Vc(o),Ks(s?3:1,i)}}function ly(e,t,n){if(Um(t)){const r=bn(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{bn(r)}}}function uy(e,t,n){wC()&&(function LL(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;jc(n)&&function UL(e,t,n){const r=lo(t,e),i=NA(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=pp(e,hp(e,i,null,s,r,t,null,e[Pl].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Nh(n,t),$i(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const c=e.data[a],l=Gc(t,e,a,n);$i(l,t),null!==s&&HL(0,a-i,l,c,0,s),Ts(c)&&(Ho(n.index,t)[lr]=Gc(t,e,a,n))}}(e,t,n,lo(n,t)),64==(64&n.flags)&&LA(e,t,n))}function dy(e,t,n=lo){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function NA(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=fy(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function fy(e,t,n,r,i,o,s,a,c,l,u){const d=en+r,p=d+i,g=function _L(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:nn);return n}(d,p),v="function"==typeof l?l():l;return g[He]={type:e,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:u}}let kA=e=>null;function PA(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?OA(n,t,i,o):r.hasOwnProperty(i)&&OA(n,t,r[i],o)}return n}function OA(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Xo(e,t,n,r,i,o,s,a){const c=lo(t,n);let u,l=t.inputs;!a&&null!=l&&(u=l[r])?(vy(e,n,u,r,i),jc(t)&&function kL(e,t){const n=Ho(t,e);16&n[Nt]||(n[Nt]|=64)}(n,t.index)):3&t.type&&(r=function NL(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(c,r,i))}function hy(e,t,n,r){if(wC()){const i=null===r?null:{"":-1},o=function BL(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(eC(t,s.selectors,!1))if(r||(r=[]),Ts(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),py(e,t,a.length)}else r.unshift(s),py(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&RA(e,t,n,s,i,a),i&&function jL(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new ke(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=fd(n.mergedAttrs,n.attrs)}function RA(e,t,n,r,i,o){for(let l=0;l<r.length;l++)lv(Nh(n,t),e,r[l].type);!function VL(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Hd(e,t,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=fd(n.mergedAttrs,u.hostAttrs),GL(e,n,t,c,u),zL(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function SL(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let c=null,l=null;for(let u=t.directiveStart;u<i;u++){const d=o[u],p=n?n.get(d):null,v=p?p.outputs:null;c=PA(d.inputs,u,c,p?p.inputs:null),l=PA(d.outputs,u,l,v);const w=null===c||null===s||Qw(t)?null:ZL(c,u,s);a.push(w)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(e,n,o)}function LA(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function bO(){return Xt.lFrame.currentDirectiveIndex}();try{Vc(o);for(let a=r;a<i;a++){const c=e.data[a],l=t[a];Qm(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&FL(c,l)}}finally{Vc(-1),Qm(s)}}function FL(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function py(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function zL(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ts(t)&&(n[""]=e)}}function GL(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=zc(i.type)),s=new Cd(o,Ts(i),Qe);e.blueprint[r]=s,n[r]=s,function OL(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function RL(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,Hd(e,n,i.hostVars,nn),i)}function ia(e,t,n,r,i,o){const s=lo(e,t);!function gy(e,t,n,r,i,o,s){if(null==o)e.removeAttribute(t,i,n);else{const a=null==s?ue(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}(t[Qt],s,o,e.value,n,r,i)}function HL(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)FA(r,n,s[a++],s[a++],s[a++])}function FA(e,t,n,r,i){const o=bn(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{bn(o)}}function ZL(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function BA(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function jA(e,t){const n=e.contentQueries;if(null!==n){const r=bn(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=e.data[s];tv(n[i]),a.contentQueries(2,t[s],s)}}}finally{bn(r)}}}function pp(e,t){return e[hd]?e[oC][xs]=t:e[hd]=t,e[oC]=t,t}function my(e,t,n){tv(0);const r=bn(null);try{t(e,n)}finally{bn(r)}}function zA(e){return e[kl]||(e[kl]=[])}function VA(e){return e.cleanup||(e.cleanup=[])}function GA(e,t,n){return(null===e||Ts(e))&&(n=function Xm(e){for(;Array.isArray(e);){if("object"==typeof e[Gm])return e;e=e[kr]}return null}(n[t.index])),n[Qt]}function gp(e,t){const n=e[co],r=n?n.get(ss,null):null;r&&r.handleError(t)}function vy(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];FA(e.data[s],t[s],r,a,i)}}function XL(e,t,n,r){const i=t[Nt];if(256==(256&i))return;t[Pl].inlineEffectRunner?.flush(),nv(t);let s=null,a=null;(function $L(e){return 2!==e.type})(e)&&(a=function hL(e){return e[Bc]??function pL(e){const t=IA.pop()??Object.create(mL);return t.lView=e,t}(e)}(t),s=Bi(a));try{mC(t),function AC(e){return Xt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&SA(e,t,n,2,r);const c=3==(3&i);if(c){const d=e.preOrderCheckHooks;null!==d&&Mh(t,d,null)}else{const d=e.preOrderHooks;null!==d&&Th(t,d,0,null),iv(t,0)}if(function qL(e){for(let t=N_(e);null!==t;t=k_(t)){if(!(t[Nt]&Fl.HasTransplantedViews))continue;const n=t[Ll];for(let r=0;r<n.length;r++){aO(n[r])}}}(t),UA(t,0),null!==e.contentQueries&&jA(e,t),c){const d=e.contentCheckHooks;null!==d&&Mh(t,d)}else{const d=e.contentHooks;null!==d&&Th(t,d,1),iv(t,1)}!function CL(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Vc(~i);else{const o=i,s=n[++r],a=n[++r];yO(s,o),a(2,t[o])}}}finally{Vc(-1)}}(e,t);const l=e.components;null!==l&&ZA(t,l,0);const u=e.viewQuery;if(null!==u&&my(2,u,r),c){const d=e.viewCheckHooks;null!==d&&Mh(t,d)}else{const d=e.viewHooks;null!==d&&Th(t,d,2),iv(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Ih]){for(const d of t[Ih])d();t[Ih]=null}t[Nt]&=-73}catch(c){throw Ah(t),c}finally{null!==a&&(ji(a,s),function gL(e){e.lView[Bc]!==e&&(e.lView=null,IA.push(e))}(a)),rv()}}function UA(e,t){for(let n=N_(e);null!==n;n=k_(n)){n[Nt]&=~Fl.HasChildViewsToRefresh;for(let r=jr;r<n.length;r++)HA(n[r],t)}}function JL(e,t,n){HA(Ho(t,e),n)}function HA(e,t){$m(e)&&by(e,t)}function by(e,t){const r=e[He],i=e[Nt],o=e[Bc];let s=!!(0===t&&16&i);if(s||=!!(64&i&&0===t),s||=!!(1024&i),s||=!(!o?.dirty||!ir(o)),o&&(o.dirty=!1),e[Nt]&=-9217,s)XL(r,e,r.template,e[lr]);else if(8192&i){UA(e,1);const a=r.components;null!==a&&ZA(e,a,1)}}function ZA(e,t,n){for(let r=0;r<t.length;r++)JL(e,t[r],n)}function Zd(e){for(;e;){e[Nt]|=64;const t=Pd(e);if(Hm(e)&&!t)return e;e=t}return null}class Wd{get rootNodes(){const t=this._lView,n=t[He];return Ud(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[lr]}set context(t){this._lView[lr]=t}get destroyed(){return 256==(256&this._lView[Nt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Cr];if(Ii(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Od(t,r),Rh(n,r))}this._attachedToViewContainer=!1}Jh(this._lView[He],this._lView)}onDestroy(t){Dh(this._lView,t)}markForCheck(){Zd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Nt]&=-129}reattach(){bC(this._lView),this._lView[Nt]|=128}detectChanges(){this._lView[Nt]|=1024,function yy(e,t=!0){const n=e[Pl],r=n.rendererFactory,i=n.afterRenderEventManager;r.begin?.(),i?.begin();try{!function YL(e){by(e,0);let t=0;for(;yC(e);){if(100===t)throw new ke(103,!1);t++,by(e,1)}}(e)}catch(s){throw t&&gp(e,s),s}finally{r.end?.(),n.inlineEffectRunner?.flush(),i?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ke(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function KR(e,t){Ld(e,t,t[Qt],2,null,null)}(this._lView[He],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ke(902,!1);this._appRef=t}}let Yd=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=KL}return e})();function KL(e){return function QL(e,t,n){if(jc(e)&&!n){const r=Ho(e.index,t);return new Wd(r,r)}return 47&e.type?new Wd(t[xr],t):null}(nr(),Ae(),16==(16&e))}let mp=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=rF;static#t=this.__NG_ENV_ID__=n=>n}return e})();class nF extends mp{constructor(t){super(),this._lView=t}onDestroy(t){return Dh(this._lView,t),()=>function qm(e,t){if(null===e[oc])return;const n=e[oc].indexOf(t);-1!==n&&e[oc].splice(n,1)}(this._lView,t)}}function rF(){return new nF(Ae())}const iF=new tt("",{providedIn:"root",factory:()=>an(oF)});let oF=(()=>{class e{static#e=this.\u0275prov=Me({token:e,providedIn:"root",factory:()=>new aF})}return e})(),sF=(()=>{class e{constructor(){this.queuedEffectCount=0,this.queues=new Map}scheduleEffect(n){const r=n.creationZone;this.queues.has(r)||this.queues.set(r,new Set);const i=this.queues.get(r);i.has(n)||(this.queuedEffectCount++,i.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,r]of this.queues)null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r))}flushQueue(n){for(const r of n)n.delete(r),this.queuedEffectCount--,r.run()}static#e=this.\u0275prov=Me({token:e,providedIn:"root",factory:()=>new e})}return e})();class aF{constructor(){this.hasQueuedFlush=!1,this.delegate=new sF,this.flushTask=()=>{this.delegate.flush(),this.hasQueuedFlush=!1}}scheduleEffect(t){this.delegate.scheduleEffect(t),this.hasQueuedFlush||(queueMicrotask(this.flushTask),this.hasQueuedFlush=!0)}}class cF{constructor(t,n,r,i,o,s){this.scheduler=t,this.effectFn=n,this.creationZone=r,this.errorHandler=o,this.watcher=function _e(e,t,n){const r=Object.create(je);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=c=>{r.cleanupFn=c};return r.ref={notify:()=>Qi(r),run:()=>{if(null===r.fn)return;if(function ns(){return Wn}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!ir(r))return;r.hasRun=!0;const c=Bi(r);try{r.cleanupFn(),r.cleanupFn=Je,r.fn(i)}finally{ji(r,c)}},cleanup:()=>r.cleanupFn(),destroy:()=>function s(c){(function o(c){return null===c.fn&&null===c.schedule})(c)||(Ar(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=Je)}(r),[I]:r},r.ref}(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(n){this.errorHandler?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Iy(e,t){!t?.injector&&function _v(e){if(!Uw()&&!function NP(){return Nl}())throw new ke(-203,!1)}();const n=t?.injector??an(To),r=n.get(ss,null,{optional:!0}),i=!0!==t?.manualCleanup?n.get(mp):null,o=new cF(n.get(iF),e,typeof Zone>"u"?null:Zone.current,i,r,t?.allowSignalWrites??!1),s=n.get(Yd,null,{optional:!0});return s&&8&s._lView[Nt]?(s._lView[Ih]??=[]).push(o.watcher.notify):o.watcher.notify(),o}const WA=new Set;function Xc(e){WA.has(e)||(WA.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function wy(e){return t=>{setTimeout(e,void 0,t)}}const No=class lF extends Re{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=wy(o),i&&(i=wy(i)),s&&(s=wy(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof ut&&t.add(a),a}};function YA(...e){}class vn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new No(!1),this.onMicrotaskEmpty=new No(!1),this.onStable=new No(!1),this.onError=new No(!1),typeof Zone>"u")throw new ke(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function uF(){const e="function"==typeof cr.requestAnimationFrame;let t=cr[e?"requestAnimationFrame":"setTimeout"],n=cr[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function hF(e){const t=()=>{!function fF(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(cr,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,_y(e),e.isCheckStableRunning=!0,Cy(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),_y(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function gF(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return XA(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),$A(e)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return XA(e),n.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),$A(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,_y(e),Cy(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vn.isInAngularZone())throw new ke(909,!1)}static assertNotInAngularZone(){if(vn.isInAngularZone())throw new ke(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,dF,YA,YA);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const dF={};function Cy(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function _y(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function XA(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function $A(e){e._nesting--,Cy(e)}const qA=new tt("",{providedIn:"root",factory:JA});function JA(){const e=an(vn);let t=!0;return Be(new at(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new at(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{vn.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{vn.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Gt()))}let vp=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Me({token:e,providedIn:"root",factory:()=>new e})}return e})();function bF(e,t){const n=Ho(t,e),r=n[He];!function IF(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[kr];null!==i&&null===n[Ms]&&(n[Ms]=ty(i,n[co])),Ay(r,n,n[lr])}function Ay(e,t,n){nv(t);try{const r=e.viewQuery;null!==r&&my(1,r,n);const i=e.template;null!==i&&SA(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&jA(e,t),e.staticViewQueries&&my(2,e.viewQuery,n);const o=e.components;null!==o&&function wF(e,t){for(let n=0;n<t.length;n++)bF(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Nt]&=-5,rv()}}function yp(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=qn(i,a):2==o&&(r=qn(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}class nD extends su{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=mn(t);return new Xd(n,this.ngModule)}}function rD(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class _F{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=vh(r);const i=this.injector.get(t,oy,r);return i!==oy||n===oy?i:this.parentInjector.get(t,n,r)}}class Xd extends lA{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=rD(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return rD(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function ZP(e){return e.map(HP).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof Ta?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new _F(t,o):t,a=s.get(iy,null);if(null===a)throw new ke(407,!1);const u={rendererFactory:a,sanitizer:s.get(tL,null),inlineEffectRunner:null,afterRenderEventManager:s.get(vp,null)},d=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=r?function AL(e,t,n,r){const o=r.get(AA,!1)||n===Ds.ShadowDom,s=e.selectRootElement(t,o);return function DL(e){kA(e)}(s),s}(d,r,this.componentDef.encapsulation,s):qh(d,p,function CF(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(p)),E=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let N=null;null!==g&&(N=ty(g,s,!0));const P=fy(0,null,null,1,0,null,null,null,null,null,null),W=hp(null,P,null,E,null,null,u,d,s,null,N);let K,de;nv(W);try{const ye=this.componentDef;let b,M=null;ye.findHostDirectiveDefs?(b=[],M=new Map,ye.findHostDirectiveDefs(ye,b,M),b.push(ye)):b=[ye];const k=function DF(e,t){const n=e[He],r=en;return e[r]=t,uu(n,r,2,"#host",null)}(W,g),R=function EF(e,t,n,r,i,o,s){const a=i[He];!function xF(e,t,n,r){for(const i of e)t.mergedAttrs=fd(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(yp(t,t.mergedAttrs,!0),null!==n&&Y_(r,n,t))}(r,e,t,s);let c=null;null!==t&&(c=ty(t,i[co]));const l=o.rendererFactory.createRenderer(t,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=hp(i,NA(n),null,u,i[e.index],e,o,l,null,null,c);return a.firstCreatePass&&py(a,e,r.length-1),pp(i,d),i[e.index]=d}(k,g,ye,b,W,u,d);de=yd(P,en),g&&function TF(e,t,n,r){if(r)Vm(e,n,["ng-version",nL.full]);else{const{attrs:i,classes:o}=function WP(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Es(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&Vm(e,n,i),o&&o.length>0&&W_(e,n,o.join(" "))}}(d,ye,g,r),void 0!==n&&function SF(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(de,this.ngContentSelectors,n),K=function MF(e,t,n,r,i,o){const s=nr(),a=i[He],c=lo(s,i);RA(a,i,s,n,null,r);for(let u=0;u<n.length;u++)$i(Gc(i,a,s.directiveStart+u,s),i);LA(a,i,s),c&&$i(c,i);const l=Gc(i,a,s.directiveStart+s.componentOffset,s);if(e[lr]=i[lr]=l,null!==o)for(const u of o)u(l,t);return ly(a,s,e),l}(R,ye,b,M,W,[NF]),Ay(P,W,null)}finally{rv()}return new AF(this.componentType,K,au(de,W),W,de)}}class AF extends $2{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Wd(i,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;vy(o[He],o,i,t,n),this.previousInputValues.set(t,n),Zd(Ho(this._tNode.index,o))}}get injector(){return new ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function NF(){const e=nr();xh(Ae()[He],e)}function $d(e){let t=function iD(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(Ts(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ke(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=bp(e.inputs),s.inputTransforms=bp(e.inputTransforms),s.declaredInputs=bp(e.declaredInputs),s.outputs=bp(e.outputs);const a=i.hostBindings;a&&RF(e,a);const c=i.viewQuery,l=i.contentQueries;if(c&&PF(e,c),l&&OF(e,l),oo(e.inputs,i.inputs),oo(e.declaredInputs,i.declaredInputs),oo(e.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),oo(s.inputTransforms,i.inputTransforms)),Ts(i)&&i.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===$d&&(n=!1)}}t=Object.getPrototypeOf(t)}!function kF(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=fd(i.hostAttrs,n=fd(n,i.hostAttrs))}}(r)}function bp(e){return e===$s?{}:e===Bn?[]:e}function PF(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function OF(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function RF(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function qd(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}e.inputTransforms=n}function qr(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Kd(e,t,n,r){const i=Ae();return qr(i,ta(),t)&&(Nn(),ia(yr(),i,e,t,n,r)),Kd}function wp(e,t){return e<<17|t<<2}function dc(e){return e>>17&32767}function Dy(e){return 2|e}function Jc(e){return(131068&e)>>2}function Ey(e,t){return-131069&e|t<<2}function xy(e){return 1|e}function vD(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?dc(o):Jc(o),c=!1;for(;0!==a&&(!1===c||s);){const u=e[a+1];WF(e[a],t)&&(c=!0,e[a+1]=r?xy(u):Dy(u)),a=r?dc(u):Jc(u)}c&&(e[n+1]=r?Dy(o):xy(o))}function WF(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&$l(e,t)>=0}const fi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yD(e){return e.substring(fi.key,fi.keyEnd)}function bD(e,t){const n=fi.textEnd;return n===t?-1:(t=fi.keyEnd=function qF(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,fi.key=t,n),Iu(e,t,n))}function Iu(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Cp(e,t,n){const r=Ae();return qr(r,ta(),t)&&Xo(Nn(),yr(),r,e,t,r[Qt],n,!1),Cp}function My(e,t,n,r,i){const s=i?"class":"style";vy(e,n,t.inputs[s],s,r)}function Ty(e,t,n){return Ss(e,t,n,!1),Ty}function sa(e,t){return Ss(e,t,null,!0),sa}function AD(e){!function Ns(e,t,n,r){const i=Nn(),o=Ma(2);i.firstUpdatePass&&ED(i,null,o,r);const s=Ae();if(n!==nn&&qr(s,o,n)){const a=i.data[Xi()];if(SD(a,r)&&!DD(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=qn(c,n||"")),My(i,a,s,n,r)}else!function s3(e,t,n,r,i,o,s,a){i===nn&&(i=Bn);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const p=c<i.length?i[c+1]:void 0,g=l<o.length?o[l+1]:void 0;let w,v=null;u===d?(c+=2,l+=2,p!==g&&(v=d,w=g)):null===d||null!==u&&u<d?(c+=2,v=u):(l+=2,v=d,w=g),null!==v&&MD(e,t,n,r,v,w,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}(i,a,s,s[Qt],s[o+1],s[o+1]=function i3(e,t,n){if(null==n||""===n)return Bn;const r=[],i=Yo(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}(o3,ca,e,!0)}function ca(e,t){for(let n=function XF(e){return function wD(e){fi.key=0,fi.keyEnd=0,fi.value=0,fi.valueEnd=0,fi.textEnd=e.length}(e),bD(e,Iu(e,0,fi.textEnd))}(t);n>=0;n=bD(t,n))Zo(e,yD(t),!0)}function Ss(e,t,n,r){const i=Ae(),o=Nn(),s=Ma(2);o.firstUpdatePass&&ED(o,e,s,r),t!==nn&&qr(i,s,t)&&MD(o,o.data[Xi()],i,i[Qt],e,i[s+1]=function a3(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=It(Yo(e)))),e}(t,n),r,s)}function DD(e,t){return t>=e.expandoStartIndex}function ED(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[Xi()],s=DD(e,n);SD(o,r)&&null===t&&!s&&(t=!1),t=function e3(e,t,n,r){const i=ev(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Qd(n=Sy(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=Sy(i,e,t,n,r),null===o){let c=function t3(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Jc(r))return e[dc(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=Sy(null,e,t,c[1],r),c=Qd(c,t.attrs,r),function n3(e,t,n,r){e[dc(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else o=function r3(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Qd(r,e[o].hostAttrs,n);return Qd(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function HF(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=dc(s),c=Jc(s);e[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||$l(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const p=dc(e[a+1]);e[r+1]=wp(p,a),0!==p&&(e[p+1]=Ey(e[p+1],r)),e[a+1]=function GF(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=wp(a,0),0!==a&&(e[a+1]=Ey(e[a+1],r)),a=r;else e[r+1]=wp(c,0),0===a?a=r:e[c+1]=Ey(e[c+1],r),c=r;l&&(e[r+1]=Dy(e[r+1])),vD(e,u,r,!0),vD(e,u,r,!1),function ZF(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&$l(o,t)>=0&&(n[r+1]=xy(n[r+1]))}(t,u,e,r,o),s=wp(a,c),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function Sy(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=Qd(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Qd(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Zo(e,s,!!n||t[++o]))}return void 0===e?null:e}function o3(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&Zo(e,r,n)}function MD(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const c=e.data,l=c[a+1],u=function UF(e){return 1==(1&e)}(l)?TD(c,t,n,i,Jc(l),s):void 0;_p(u)||(_p(o)||function VF(e){return 2==(2&e)}(l)&&(o=TD(c,null,n,i,a,s)),function l2(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:uc.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=uc.Important),e.setStyle(n,r,i,o))}}(r,s,vd(Xi(),n),i,o))}function TD(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let p=n[i+1];p===nn&&(p=d?Bn:void 0);let g=d?hv(p,r):u===r?p:void 0;if(l&&!_p(g)&&(g=hv(c,r)),_p(g)&&(a=g,s))return a;const v=e[i+1];i=s?dc(v):Jc(v)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=hv(c,r))}return a}function _p(e){return void 0!==e}function SD(e,t){return 0!=(e.flags&(t?8:16))}let LD=(e,t)=>null;function wu(e,t){return LD(e,t)}function sf(e,t,n,r){const i=t.tView,a=hp(e,i,n,4096&e[Nt]?4096:16,null,t,null,null,null,r?.injector??null,r?.dehydratedView??null);a[pd]=e[t.index];const l=e[qs];return null!==l&&(a[qs]=l.createEmbeddedView(i)),Ay(i,a,n),a}function Cu(e,t){return!t||null===t.firstChild||Yh(e)}function af(e,t,n,r=!0){const i=t[He];if(function e2(e,t,n,r){const i=jr+r,o=n.length;r>0&&(n[i-1][xs]=t),r<o-jr?(t[xs]=n[i],YC(n,jr+r,t)):(n.push(t),t[xs]=null),t[Cr]=n;const s=t[pd];null!==s&&n!==s&&function t2(e,t){const n=e[Ll];t[xr]!==t[Cr][Cr][xr]&&(e[Nt]|=Fl.HasTransplantedViews),null===n?e[Ll]=[t]:n.push(t)}(s,t);const a=t[qs];null!==a&&a.insertView(e),bC(t),t[Nt]|=128}(i,t,e,n),r){const s=Vv(n,e),a=t[Qt],c=Kh(a,e[Js]);null!==c&&function JR(e,t,n,r,i,o){r[kr]=i,r[Yi]=t,Ld(e,r,n,1,i,o)}(i,e[Yi],a,t,c,s)}const o=t[Ms];null!==o&&null!==o.firstChild&&(o.firstChild=null)}let la=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=V3}return e})();function V3(){return UD(nr(),Ae())}const G3=la,VD=class extends G3{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return au(this._hostTNode,this._hostLView)}get injector(){return new ui(this._hostTNode,this._hostLView)}get parentInjector(){const t=kh(this._hostTNode,this._hostLView);if(sv(t)){const n=Ad(t,this._hostLView),r=_d(t);return new ui(n[He].data[r+8],n)}return new ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=GD(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-jr}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=wu(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Cu(this._hostTNode,s)),a}createComponent(t,n,r,i,o){const s=t&&!function Dd(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}const c=s?t:new Xd(mn(t)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const w=(s?l:this.parentInjector).get(Ta,null);w&&(o=w)}const u=mn(c.componentType??{}),d=wu(this._lContainer,u?.id??null),g=c.create(l,i,d?.firstChild??null,o);return this.insertImpl(g.hostView,a,Cu(this._hostTNode,d)),g}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const i=t._lView;if(function sO(e){return Ii(e[Cr])}(i)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const c=i[Cr],l=new VD(c,c[Yi],c[Cr]);l.detach(l.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;return af(s,i,o,r),t.attachToViewContainerRef(),YC(jy(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=GD(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Od(this._lContainer,n);r&&(Rh(jy(this._lContainer),n),Jh(r[He],r))}detach(t){const n=this._adjustIndex(t,-1),r=Od(this._lContainer,n);return r&&null!=Rh(jy(this._lContainer),n)?new Wd(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function GD(e){return e[8]}function jy(e){return e[8]||(e[8]=[])}function UD(e,t){let n;const r=t[e.index];return Ii(r)?n=r:(n=BA(r,t,null,e),t[e.index]=n,pp(t,n)),HD(n,t,e,r),new VD(n,e,t)}let HD=function WD(e,t,n,r){if(e[Js])return;let i;i=8&n.type?ur(r):function U3(e,t){const n=e[Qt],r=n.createComment(""),i=lo(t,e);return Wc(n,Kh(n,i),r,function s2(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[Js]=i},zy=(e,t,n)=>!1;function ua(e,t,n,r,i,o,s,a){const c=Ae(),l=Nn(),u=e+en,d=l.firstCreatePass?function Y3(e,t,n,r,i,o,s,a,c){const l=t.consts,u=uu(t,e,4,s||null,Qs(l,a));hy(t,n,u,Qs(l,c)),xh(t,u);const d=u.tView=fy(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,r,i,o,s):l.data[u];ea(d,!1);const p=YD(l,c,d,e);Eh()&&Qh(l,c,p,d),$i(p,c);const g=BA(p,c,p,d);return c[u]=g,pp(c,g),function ZD(e,t,n){return zy(e,t,n)}(g,d,c),Ch(d)&&uy(l,c,d),null!=s&&dy(c,d,a),ua}let YD=function XD(e,t,n,r){return sc(!0),t[Qt].createComment("")};function Mp(e,t,n){Xc("NgControlFlow");const r=Ae(),i=ta(),o=function Vy(e,t){return e[t]}(r,en+e);if(qr(r,i,t)){const a=bn(null);try{if(function By(e,t){const n=Od(e,t);return void 0!==n&&Jh(n[He],n),n}(o,0),-1!==t){const c=function Gy(e,t){return yd(e,t)}(r[He],en+t),l=wu(o,c.tView.ssrId);af(o,sf(r,c,n,{dehydratedView:l}),0,Cu(c,l))}}finally{bn(a)}}else{const a=function zD(e,t){const n=jr+t;if(n<e.length)return e[n]}(o,0);void 0!==a&&(a[lr]=n)}}function ho(e,t,n,r){const i=Ae(),o=Nn(),s=en+e,a=i[Qt],c=o.firstCreatePass?function RB(e,t,n,r,i,o){const s=t.consts,c=uu(t,e,2,r,Qs(s,i));return hy(t,n,c,Qs(s,o)),null!==c.attrs&&yp(c,c.attrs,!1),null!==c.mergedAttrs&&yp(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,i,t,n,r):o.data[s],l=vE(o,i,c,a,t,e);i[s]=l;const u=Ch(c);return ea(c,!0),Y_(a,l,c),32!=(32&c.flags)&&Eh()&&Qh(o,i,l,c),0===function cO(){return Xt.lFrame.elementDepthCount}()&&$i(l,i),function lO(){Xt.lFrame.elementDepthCount++}(),u&&(uy(o,i,c),ly(o,c,i)),null!==r&&dy(i,c),ho}function $o(){let e=nr();Jm()?Km():(e=e.parent,ea(e,!1));const t=e;(function dO(e){return Xt.skipHydrationRootTNode===e})(t)&&function gO(){Xt.skipHydrationRootTNode=null}(),function uO(){Xt.lFrame.elementDepthCount--}();const n=Nn();return n.firstCreatePass&&(xh(n,e),Um(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function SO(e){return 0!=(8&e.flags)}(t)&&My(n,t,Ae(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function NO(e){return 0!=(16&e.flags)}(t)&&My(n,t,Ae(),t.stylesWithoutHost,!1),$o}function Tu(e,t,n,r){return ho(e,t,n,r),$o(),Tu}let vE=(e,t,n,r,i,o)=>(sc(!0),qh(r,i,function kC(){return Xt.lFrame.currentNamespace}()));function df(){return Ae()}function Qy(e,t,n){const r=Ae();if(qr(r,ta(),t)){const o=Nn(),s=yr();Xo(o,s,r,e,t,GA(ev(o.data),s,r),n,!0)}return Qy}const Nu="en-US";let _E=Nu;function nb(e){return!!e&&"function"==typeof e.then}function XE(e){return!!e&&"function"==typeof e.subscribe}function el(e,t,n,r){const i=Ae(),o=Nn(),s=nr();return $E(o,i,i[Qt],s,e,t,r),el}function rb(e,t){const n=nr(),r=Ae(),i=Nn();return $E(i,r,GA(ev(i.data),n,r),n,e,t),rb}function $E(e,t,n,r,i,o,s){const a=Ch(r),l=e.firstCreatePass&&VA(e),u=t[lr],d=zA(t);let p=!0;if(3&r.type||s){const w=lo(r,t),E=s?s(w):w,N=d.length,P=s?K=>s(ur(K[r.index])):r.index;let W=null;if(!s&&a&&(W=function Fj(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[kl],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==W)(W.__ngLastListenerFn__||W).__ngNextListenerFn__=o,W.__ngLastListenerFn__=o,p=!1;else{o=JE(r,t,u,o,!1);const K=n.listen(E,i,o);d.push(o,K),l&&l.push(i,P,N,N+1)}}else o=JE(r,t,u,o,!1);const g=r.outputs;let v;if(p&&null!==g&&(v=g[i])){const w=v.length;if(w)for(let E=0;E<w;E+=2){const de=t[v[E]][v[E+1]].subscribe(o),ye=d.length;d.push(o,de),l&&l.push(i,r.index,ye,-(ye+1))}}}function qE(e,t,n,r){try{return Ks(6,t,n),!1!==n(r)}catch(i){return gp(e,i),!1}finally{Ks(7,t,n)}}function JE(e,t,n,r,i){return function o(s){if(s===Function)return r;Zd(e.componentOffset>-1?Ho(e.index,t):t);let c=qE(t,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=qE(t,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function tl(e=1){return function wO(e){return(Xt.lFrame.contextLView=function vC(e,t){for(;e>0;)t=t[Ol],e--;return t}(e,Xt.lFrame.contextLView))[lr]}(e)}function Bj(e,t){let n=null;const r=function zP(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?eC(e,o,!0):UP(r,o))return i}else n=i}return n}function nl(e){const t=Ae()[xr][Yi];if(!t.projection){const r=t.projection=Ed(e?e.length:1,null),i=r.slice();let o=t.child;for(;null!==o;){const s=e?Bj(o,e):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function ks(e,t=0,n){const r=Ae(),i=Nn(),o=uu(i,en+e,16,null,n||null);null===o.projection&&(o.projection=t),Km(),(!r[Ms]||jl())&&32!=(32&o.flags)&&function a2(e,t,n){Z_(t[Qt],0,t,n,jv(e,n,t),j_(n.parent||t[Yi],n,t))}(i,r,o)}function ob(e){return function Bl(e,t){return e[t]}(function mO(){return Xt.lFrame.contextLView}(),en+e)}function Bp(e,t=""){const n=Ae(),r=Nn(),i=e+en,o=r.firstCreatePass?uu(r,i,1,t,null):r.data[i],s=mx(r,n,o,t,e);n[i]=s,Eh()&&Qh(r,n,s,o),ea(o,!1)}let mx=(e,t,n,r,i)=>(sc(!0),function $h(e,t){return e.createText(t)}(t[Qt],r));function sb(e){return ab("",e,""),sb}function ab(e,t,n){const r=Ae(),i=function fu(e,t,n,r){return qr(e,ta(),n)?t+ue(n)+r:nn}(r,e,t,n);return i!==nn&&function Na(e,t,n){const r=vd(t,e);!function O_(e,t,n){e.setValue(t,n)}(e[Qt],r,n)}(r,Xi(),i),ab}function cb(e,t,n,r,i){if(e=_t(e),Array.isArray(e))for(let o=0;o<e.length;o++)cb(e[o],t,n,r,i);else{const o=Nn(),s=Ae(),a=nr();let c=Uc(e)?e:_t(e.provide);const l=o_(e),u=1048575&a.providerIndexes,d=a.directiveStart,p=a.providerIndexes>>20;if(Uc(e)||!e.multi){const g=new Cd(l,i,Qe),v=ub(c,t,i?u:u+p,d);-1===v?(lv(Nh(a,s),o,c),lb(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[v]=g,s[v]=g)}else{const g=ub(c,t,u+p,d),v=ub(c,t,u,u+p),E=v>=0&&n[v];if(i&&!E||!i&&!(g>=0&&n[g])){lv(Nh(a,s),o,c);const N=function ez(e,t,n,r,i){const o=new Cd(e,n,Qe);return o.multi=[],o.index=t,o.componentProviders=0,Dx(o,i,r&&!n),o}(i?Qj:Kj,n.length,i,r,l);!i&&E&&(n[v].providerFactory=N),lb(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(N),s.push(N)}else lb(o,e,g>-1?g:v,Dx(n[i?v:g],l,!i&&r));!i&&r&&E&&n[v].componentProviders++}}}function lb(e,t,n,r){const i=Uc(t),o=function uR(e){return!!e.useClass}(t);if(i||o){const c=(o?_t(t.useClass):t).prototype.ngOnDestroy;if(c){const l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Dx(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function ub(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Kj(e,t,n,r){return db(this.multi,[])}function Qj(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Gc(n,n[He],this.providerFactory.index,r);o=a.slice(0,s),db(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],db(i,o);return o}function db(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function fb(e,t=[]){return n=>{n.providersResolver=(r,i)=>function Jj(e,t,n){const r=Nn();if(r.firstCreatePass){const i=Ts(e);cb(n,r.data,r.blueprint,i,!0),cb(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class rl{}class Ex extends rl{constructor(t){super(),this.componentFactoryResolver=new nD(this),this.instance=null;const n=new Kl([...t.providers,{provide:rl,useValue:this},{provide:su,useValue:this.componentFactoryResolver}],t.parent||Gh(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}let oz=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=t_(0,n.type),i=r.length>0?function iz(e,t,n=null){return new Ex({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Me({token:e,providedIn:"environment",factory:()=>new e(nt(Ta))})}return e})();function jp(e){Xc("NgStandalone"),e.getStandaloneInjector=t=>t.get(oz).getOrCreateStandaloneInjector(e)}function Pz(){return this._results[Symbol.iterator]()}class Gp{static#e=Symbol.iterator;get changes(){return this._changes??=new No}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=Gp.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Pz)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function Mo(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function ZO(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let ka=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Lz}return e})();const Oz=ka,Rz=class extends Oz{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=sf(this._declarationLView,this._declarationTContainer,t,{injector:n,dehydratedView:r});return new Wd(i)}};function Lz(){return Up(nr(),Ae())}function Up(e,t){return 4&e.type?new Rz(t,e,au(e,t)):null}class mb{constructor(t){this.queryList=t,this.matches=null}clone(){return new mb(this.queryList)}setDirty(){this.queryList.setDirty()}}class vb{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new vb(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Ux(t,n).matches&&this.queries[n].setDirty()}}class jx{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class yb{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new yb(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class bb{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new bb(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,Fz(n,o)),this.matchTNodeWithReadOption(t,n,Ph(n,t,o,!1,!1))}else r===ka?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ph(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===fo||i===la||i===ka&&4&n.type)this.addMatch(n.index,-2);else{const o=Ph(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Fz(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function jz(e,t,n,r){return-1===n?function Bz(e,t){return 11&e.type?au(e,t):4&e.type?Up(e,t):null}(t,e):-2===n?function zz(e,t,n){return n===fo?au(t,e):n===ka?Up(t,e):n===la?UD(t,e):void 0}(e,t,r):Gc(e,e[He],n,t)}function zx(e,t,n,r){const i=t[qs].queries[r];if(null===i.matches){const o=e.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:jz(t,o[l],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function Ib(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=zx(e,t,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],u=t[-c];for(let d=jr;d<u.length;d++){const p=u[d];p[pd]===p[Cr]&&Ib(p[He],p,l,r)}if(null!==u[Ll]){const d=u[Ll];for(let p=0;p<d.length;p++){const g=d[p];Ib(g[He],g,l,r)}}}}}return r}function il(e){const t=Ae(),n=Nn(),r=EC();tv(r+1);const i=Ux(n,r);if(e.dirty&&function oO(e){return 4==(4&e[Nt])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?Ib(n,t,r,[]):zx(n,t,i,r);e.reset(o,Q2),e.notifyOnChanges()}return!0}return!1}function bf(e,t,n){const r=Nn();r.firstCreatePass&&(Gx(r,new jx(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Vx(r,Ae(),t)}function wb(e,t,n,r){const i=Nn();if(i.firstCreatePass){const o=nr();Gx(i,new jx(t,n,r),o.index),function Gz(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}Vx(i,Ae(),n)}function ol(){return function Vz(e,t){return e[qs].queries[t].queryList}(Ae(),EC())}function Vx(e,t,n){const r=new Gp(4==(4&n));(function ML(e,t,n,r){const i=zA(t);i.push(n),e.firstCreatePass&&VA(e).push(r,i.length-1)})(e,t,r,r.destroy),null===t[qs]&&(t[qs]=new vb),t[qs].queries.push(new mb(r))}function Gx(e,t,n){null===e.queries&&(e.queries=new yb),e.queries.track(new bb(t,n))}function Ux(e,t){return e.queries.getByIndex(t)}let fV=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ft(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const lM=new tt(""),jV=new tt("Application Initializer");let Sb=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=an(jV,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(nb(o))n.push(o);else if(XE(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const uM=new tt("appBootstrapListener");let sl=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=an(CA),this.zoneIsStable=an(qA),this.componentTypes=[],this.components=[],this.isStable=an(fV).hasPendingTasks.pipe(vr(n=>n?Yt(!1):this.zoneIsStable),xi()),this._injector=an(Ta)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof lA;if(!this._injector.get(Sb).done)throw!i&&function Fc(e){const t=mn(e)||li(e)||Ti(e);return null!==t&&t.standalone}(n),new ke(405,!1);let s;s=i?n:this._injector.get(su).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function VV(e){return e.isBoundToModule}(s)?void 0:this._injector.get(rl),l=s.create(To.NULL,[],r||s.selector,a),u=l.location.nativeElement,d=l.injector.get(lM,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Yp(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new ke(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Yp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(uM,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Yp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ke(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Yp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let UV=(()=>{class e{constructor(){this.zone=an(vn),this.applicationRef=an(sl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gM(e){return[{provide:vn,useFactory:e},{provide:Md,multi:!0,useFactory:()=>{const t=an(UV,{optional:!0});return()=>t.initialize()}},{provide:CA,useFactory:HV},{provide:qA,useFactory:JA}]}function HV(){const e=an(vn),t=an(ss);return n=>e.runOutsideAngular(()=>t.handleError(n))}function ZV(e){return function e_(e){return{\u0275providers:e}}([[],gM(()=>new vn(function mM(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}(e)))])}const da=new tt("LocaleId",{providedIn:"root",factory:()=>an(da,Vt.Optional|Vt.SkipSelf)||function WV(){return typeof $localize<"u"&&$localize.locale||Nu}()}),Nb=new tt("PlatformDestroyListeners");let hc=null;function g5(e){try{const{rootComponent:t,appProviders:n,platformProviders:r}=e,i=function JV(e=[]){if(hc)return hc;const t=function bM(e=[],t){return To.create({name:t,providers:[{provide:bv,useValue:"platform"},{provide:Nb,useValue:new Set([()=>hc=null])},...e]})}(e);return hc=t,function dM(){!function O(e){Ui=e}(()=>{throw new ke(600,!1)})}(),function IM(e){e.get(f_,null)?.forEach(n=>n())}(t),t}(r),o=[ZV(),...n||[]],a=new Ex({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(vn);return c.run(()=>{a.resolveInjectorInitializers();const l=a.get(ss,null);let u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:g=>{l.handleError(g)}})});const d=()=>a.destroy(),p=i.get(Nb);return p.add(d),a.onDestroy(()=>{u.unsubscribe(),p.delete(d)}),function fM(e,t,n){try{const r=n();return nb(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(l,c,()=>{const g=a.get(Sb);return g.runInitializers(),g.donePromise.then(()=>{!function AE(e){fe(e,"Expected localeId to be defined"),"string"==typeof e&&(_E=e.toLowerCase().replace(/_/g,"-"))}(a.get(da,Nu)||Nu);const w=a.get(sl);return void 0!==t&&w.bootstrap(t),w})})})}catch(t){return Promise.reject(t)}}function Vb(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}const Gb={now:()=>(Gb.delegate||Date).now(),delegate:void 0};class M5 extends Re{constructor(t=1/0,n=1/0,r=Gb){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(t),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=r?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}const ng={schedule(e,t){const n=setTimeout(e,t);return()=>clearTimeout(n)},scheduleBeforeRender(e){if(typeof window>"u")return ng.schedule(e,0);if(typeof window.requestAnimationFrame>"u")return ng.schedule(e,16);const t=window.requestAnimationFrame(e);return()=>window.cancelAnimationFrame(t)}};let Ub;function F5(e,t,n){let r=n;return function S5(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}(e)&&t.some((i,o)=>!("*"===i||!function k5(e,t){if(!Ub){const n=Element.prototype;Ub=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}return e.nodeType===Node.ELEMENT_NODE&&Ub.call(e,t)}(e,i)||(r=o,0))),r}class j5{constructor(t,n){this.componentFactory=n.get(su).resolveComponentFactory(t)}create(t){return new z5(this.componentFactory,t)}}class z5{constructor(t,n){this.componentFactory=t,this.injector=n,this.eventEmitters=new M5(1),this.events=this.eventEmitters.pipe(vr(r=>Be(...r))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:r})=>r)),this.ngZone=this.injector.get(vn),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(t){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(t)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=ng.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(t){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(t):this.componentRef.instance[t])}setInputValue(t,n,r){this.runInZone(()=>{r&&(n=r.call(this.componentRef?.instance,n)),null!==this.componentRef?function P5(e,t){return e===t||e!=e&&t!=t}(n,this.getInputValue(t))&&(void 0!==n||!this.unchangedInputs.has(t))||(this.recordInputChange(t,n),this.unchangedInputs.delete(t),this.hasInputChanges=!0,this.componentRef.instance[t]=n,this.scheduleDetectChanges()):this.initialInputValues.set(t,n)})}initializeComponent(t){const n=To.create({providers:[],parent:this.injector}),r=function L5(e,t){const n=e.childNodes,r=t.map(()=>[]);let i=-1;t.some((o,s)=>"*"===o&&(i=s,!0));for(let o=0,s=n.length;o<s;++o){const a=n[o],c=F5(a,t,i);-1!==c&&r[c].push(a)}return r}(t,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(n,r,t),this.viewChangeDetectorRef=this.componentRef.injector.get(Yd),this.implementsOnChanges=function N5(e){return"function"==typeof e}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(sl).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:t,transform:n})=>{this.initialInputValues.has(t)&&this.setInputValue(t,this.initialInputValues.get(t),n)}),this.initialInputValues.clear()}initializeOutputs(t){const n=this.componentFactory.outputs.map(({propName:r,templateName:i})=>t.instance[r].pipe(pt(s=>({name:i,value:s}))));this.eventEmitters.next(n)}callNgOnChanges(t){if(!this.implementsOnChanges||null===this.inputChanges)return;const n=this.inputChanges;this.inputChanges=null,t.instance.ngOnChanges(n)}markViewForCheck(t){this.hasInputChanges&&(this.hasInputChanges=!1,t.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=ng.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(t,n){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const r=this.inputChanges[t];if(r)return void(r.currentValue=n);const i=this.unchangedInputs.has(t),o=i?void 0:this.getInputValue(t);this.inputChanges[t]=new uC(o,n,i)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(t){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(t):t()}}class V5 extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function Hb(e,t,n){try{const r=function G5(e,t){const n=function R5(e,t){return t.get(su).resolveComponentFactory(e).inputs}(e,t.injector),r=t.strategyFactory||new j5(e,t.injector),i=function O5(e){const t={};return e.forEach(({propName:n,templateName:r,transform:i})=>{t[function T5(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}(r)]=[n,i]}),t}(n);class o extends V5{static#e=this.observedAttributes=Object.keys(i);get ngElementStrategy(){if(!this._ngElementStrategy){const a=this._ngElementStrategy=r.create(this.injector||t.injector);n.forEach(({propName:c,transform:l})=>{if(!this.hasOwnProperty(c))return;const u=this[c];delete this[c],a.setInputValue(c,u,l)})}return this._ngElementStrategy}constructor(a){super(),this.injector=a}attributeChangedCallback(a,c,l,u){const[d,p]=i[a];this.ngElementStrategy.setInputValue(d,l,p)}connectedCallback(){let a=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),a=!0),this.ngElementStrategy.connect(this),a||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(a=>{const c=new CustomEvent(a.name,{detail:a.value});this.dispatchEvent(c)})}}return n.forEach(({propName:s,transform:a})=>{Object.defineProperty(o.prototype,s,{get(){return this.ngElementStrategy.getInputValue(s)},set(c){this.ngElementStrategy.setInputValue(s,c,a)},configurable:!0,enumerable:!0})}),o}(t,{injector:n});customElements.define(e,r)}catch(r){console.error(r)}}var qi=Bt(717),Tn=Bt(276);const{round:Y5,floor:X5,PI:UM}=Math,$5={linear:function(e,t,n){return(n-e[0])/(e[1]-e[0])*(t[1]-t[0])+t[0]||0}},Ps=function(e){return e%360+(e<0?360:0)},cl=function(e,t){return t*Y5(e/t)},rg=function(e){return 180*e/UM%360},Po=function(e,t){return(e=(t=t||!1)?e:e%360)*UM/180},Wb=function(e,t){if(void 0===t)t=void 0===e?1:e,e=0;else if(t<e){const n=e;e=t,t=n}return X5(Math.random()*(t-e+1)+e)},{cos:ig,sin:Yb,atan2:q5}=Math,HM=function(e,t){var n=Po(e.y),r=Po(t.y),s=Po(t.x-e.x),a=Yb(s)*ig(r),c=ig(n)*Yb(r)-Yb(n)*ig(r)*ig(s),d=rg(q5(a,c))-22.5;return d<0&&(d+=360),["NE","E","SE","S","SW","W","NW","N"][d=parseInt(d/45)]},Xb=function(e,t){var n=e.x,r=e.y;return(n-=t.x)*n+(r-=t.y)*r},ZM=function(e,t){return Math.sqrt(Xb(e,t))},cn={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:og,cos:$b,sin:qb,sqrt:WM,min:YM,max:XM,atan2:J5,round:$M,pow:K5,PI:qM}=Math,q=function(e,t){if(!(this instanceof q))return new q(e,t);if("string"==typeof e){var n=e.split(-1===e.indexOf("@")?" ":"@");e=parseFloat(n[0]),t=parseFloat(n[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=void 0===e?0:e,this.y=void 0===t?0:t};q.fromPolar=function(e,t,n){n=new q(n);var r=og(e*$b(t)),i=og(e*qb(t)),o=Ps(rg(t));return o<90?i=-i:o<180?(r=-r,i=-i):o<270&&(r=-r),new q(n.x+r,n.y+i)},q.random=function(e,t,n,r){return new q(Wb(e,t),Wb(n,r))},q.prototype={type:cn.Point,chooseClosest:function(e){var t=e.length;if(1===t)return new q(e[0]);for(var n=null,r=1/0,i=0;i<t;i++){var o=new q(e[i]),s=this.squaredDistance(o);s<r&&(n=o,r=s)}return n},adhereToRect:function(e){return e.containsPoint(this)||(this.x=YM(XM(this.x,e.x),e.x+e.width),this.y=YM(XM(this.y,e.y),e.y+e.height)),this},angleBetween:function(e,t){var n=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return n<0&&(n+=360),n},bearing:function(e){return HM(this,e)},changeInAngle:function(e,t,n){return this.clone().offset(-e,-t).theta(n)-this.theta(n)},clone:function(){return new q(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new q(this.x-(e||0),this.y-(t||0))},distance:function(e){return ZM(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){return new q((1-t)*this.x+t*e.x,(1-t)*this.y+t*e.y)},magnitude:function(){return WM(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return og(e.x-this.x)+og(e.y-this.y)},move:function(e,t){var n=Po(new q(e).theta(this));return this.offset($b(n)*t,-qb(n)*t)},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new q(e).move(this,this.distance(e))},rotate:function(e,t){if(0===t)return this;e=e||new q(0,0),t=Po(Ps(-t));var n=$b(t),r=qb(t),o=r*(this.x-e.x)+n*(this.y-e.y)+e.y;return this.x=n*(this.x-e.x)-r*(this.y-e.y)+e.x,this.y=o,this},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=K5(10,e)}return this.x=$M(this.x*t)/t,this.y=$M(this.y*t)/t,this},scale:function(e,t,n){return n=n&&new q(n)||new q(0,0),this.x=n.x+e*(this.x-n.x),this.y=n.y+t*(this.y-n.y),this},snapToGrid:function(e,t){return this.x=cl(this.x,e),this.y=cl(this.y,t||e),this},squaredDistance:function(e){return Xb(this,e)},theta:function(e){e=new q(e);var r=J5(-(e.y-this.y),e.x-this.x);return r<0&&(r=2*qM+r),180*r/qM},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new q(e)||new q(0,0);var t=this.x,n=this.y;return this.x=WM((t-e.x)*(t-e.x)+(n-e.y)*(n-e.y)),this.y=Po(e.theta(new q(t,n))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){return new q(0,0).angleBetween(this,e)}},q.prototype.translate=q.prototype.offset;const sg=q,{max:Jb,min:Kb}=Math,rt=function(e,t){return this instanceof rt?e instanceof rt?new rt(e.start,e.end):(this.start=new q(e),void(this.end=new q(t))):new rt(e,t)};rt.prototype={type:cn.Line,angle:function(){var e=new q(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=Kb(this.start.x,this.end.x),t=Kb(this.start.y,this.end.y),n=Jb(this.start.x,this.end.x),r=Jb(this.start.y,this.end.y);return new Xe(e,t,n-e,r-t)},bearing:function(){return HM(this.start,this.end)},clone:function(){return new rt(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new rt(this.start,e).vector()),n=Kb(1,Jb(0,t/this.squaredLength()));return n!=n?0:n},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,n=this.end;if(0!==t.cross(e,n))return!1;var r=this.length();return!(new rt(t,e).length()>r||new rt(e,n).length()>r)},divideAt:function(e){var t=this.pointAt(e);return[new rt(this.start,t),new rt(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new rt(this.start,t),new rt(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var n=e.intersectionWithLine(this,t);return n&&e instanceof rt&&(n=n[0]),n}return null},intersectionWithLine:function(e){var t=new q(this.end.x-this.start.x,this.end.y-this.start.y),n=new q(e.end.x-e.start.x,e.end.y-e.start.y),r=t.x*n.y-t.y*n.x,i=new q(e.start.x-this.start.x,e.start.y-this.start.y),o=i.x*n.y-i.y*n.x,s=i.x*t.y-i.y*t.x;if(0===r||o*r<0||s*r<0)return null;if(r>0){if(o>r||s>r)return null}else if(o<r||s<r)return null;return[new q(this.start.x+o*t.x/r,this.start.y+o*t.y/r)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return ZM(this.start,this.end)},midpoint:function(){return new q((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){const t=this.clone();if(!this.isDifferentiable())return t;const{start:n,end:r}=t,i=n.clone().rotate(r,270),o=r.clone().rotate(n,90);return n.move(o,e),r.move(i,e),t},pointAt:function(e){var t=this.start,n=this.end;return e<=0?t.clone():e>=1?n.clone():t.lerp(n,e)},pointAtLength:function(e){var t=this.start,n=this.end,r=!0;e<0&&(r=!1,e=-e);var i=this.length();return e>=i?r?n.clone():t.clone():this.pointAt((r?e:i-e)/i)},pointOffset:function(e){e=new q(e);var t=this.start,n=this.end;return((n.x-t.x)*(e.y-t.y)-(n.y-t.y)*(e.x-t.x))/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.end.scale(e,t,n),this},setLength:function(e){var t=this.length();if(!t)return this;var n=e/t;return this.scale(n,n,this.start)},squaredLength:function(){return Xb(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAt(e),i=new rt(t,n);return i.translate(r.x-t.x,r.y-t.y),i},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAtLength(e),i=new rt(t,n);return i.translate(r.x-t.x,r.y-t.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new q(this.end.x-this.start.x,this.end.y-this.start.y)}},rt.prototype.intersection=rt.prototype.intersect;const ll=rt,{sqrt:JM,round:ag,pow:Q5}=Math,vo=function(e,t,n){return this instanceof vo?e instanceof vo?new vo(new q(e.x,e.y),e.a,e.b):(e=new q(e),this.x=e.x,this.y=e.y,this.a=t,void(this.b=n)):new vo(e,t,n)};vo.fromRect=function(e){return e=new Xe(e),new vo(e.center(),e.width/2,e.height/2)},vo.prototype={type:cn.Ellipse,bbox:function(){return new Xe(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new q(this.x,this.y)},clone:function(){return new vo(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],n=e.start,r=e.end,i=this.a,o=this.b,s=e.vector(),a=n.difference(new q(this)),c=new q(s.x/(i*i),s.y/(o*o)),l=new q(a.x/(i*i),a.y/(o*o)),u=s.dot(c),d=s.dot(l),g=d*d-u*(a.dot(l)-1);if(g<0)return null;if(g>0){var v=JM(g),w=(-d-v)/u,E=(-d+v)/u;if((w<0||1<w)&&(E<0||1<E))return null;0<=w&&w<=1&&t.push(n.lerp(r,w)),0<=E&&E<=1&&t.push(n.lerp(r,E))}else{var N=-d/u;if(!(0<=N&&N<=1))return null;t.push(n.lerp(r,N))}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new q(e),t&&e.rotate(new q(this.x,this.y),t);var i,n=e.x-this.x,r=e.y-this.y;if(0===n)return i=this.bbox().pointNearestToPoint(e),t?i.rotate(new q(this.x,this.y),-t):i;var o=r/n,l=JM(1/(1/(this.a*this.a)+o*o/(this.b*this.b)));return i=new q(this.x+(l=n<0?-l:l),this.y+o*l),t?i.rotate(new q(this.x,this.y),-t):i},normalizedDistance:function(e){var t=e.x,n=e.y,r=this.a,i=this.b,o=this.x,s=this.y;return(t-o)*(t-o)/(r*r)+(n-s)*(n-s)/(i*i)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Q5(10,e)}return this.x=ag(this.x*t)/t,this.y=ag(this.y*t)/t,this.a=ag(this.a*t)/t,this.b=ag(this.b*t)/t,this},tangentTheta:function(e){var d,p,n=e.x,r=e.y,i=this.a,o=this.b,s=this.bbox().center(),a=s.x,c=s.y;return n>s.x+i/2||n<s.x-i/2?p=i*i/(n-a)-i*i*(r-c)*((d=n>s.x?r-30:r+30)-c)/(o*o*(n-a))+a:d=o*o/(r-c)-o*o*(n-a)*((p=r>s.y?n+30:n-30)-a)/(i*i*(r-c))+c,new q(p,d).theta(e)},toString:function(){return new q(this.x,this.y).toString()+" "+this.a+" "+this.b}};const eG=vo,{abs:KM,cos:tG,sin:nG,min:Af,max:QM,round:cg,pow:rG}=Math,Xe=function(e,t,n,r){if(!(this instanceof Xe))return new Xe(e,t,n,r);Object(e)===e&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=void 0===e?0:e,this.y=void 0===t?0:t,this.width=void 0===n?0:n,this.height=void 0===r?0:r};Xe.fromEllipse=function(e){return e=new vo(e),new Xe(e.x-e.a,e.y-e.b,2*e.a,2*e.b)},Xe.fromPointUnion=function(...e){if(0===e.length)return null;const t=new q;let n,r,i,o;n=r=1/0,i=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);const a=t.x,c=t.y;a<n&&(n=a),a>i&&(i=a),c<r&&(r=c),c>o&&(o=c)}return new Xe(n,r,i-n,o-r)},Xe.fromRectUnion=function(...e){if(0===e.length)return null;const t=new Xe;let n,r,i,o;n=r=1/0,i=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);const a=t.x,c=t.y,l=a+t.width,u=c+t.height;a<n&&(n=a),l>i&&(i=l),c<r&&(r=c),u>o&&(o=u)}return new Xe(n,r,i-n,o-r)},Xe.prototype={type:cn.Rect,bbox:function(e){return this.clone().rotateAroundCenter(e)},rotateAroundCenter:function(e){if(!e)return this;const{width:t,height:n}=this,r=Po(e),i=KM(nG(r)),o=KM(tG(r)),s=t*o+n*i,a=t*i+n*o;return this.x+=(t-s)/2,this.y+=(n-a)/2,this.width=s,this.height=a,this},bottomLeft:function(){return new q(this.x,this.y+this.height)},bottomLine:function(){return new rt(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new q(this.x+this.width/2,this.y+this.height)},center:function(){return new q(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new Xe(this)},containsPoint:function(e){return e instanceof q||(e=new q(e)),e.x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},containsRect:function(e){var t=new Xe(this).normalize(),n=new Xe(e).normalize(),r=t.width,i=t.height,o=n.width,s=n.height;if(!(r&&i&&o&&s))return!1;var a=t.x,c=t.y,l=n.x,u=n.y;return o+=l,r+=a,s+=u,i+=c,a<=l&&o<=r&&c<=u&&s<=i},corner:function(){return new q(this.x+this.width,this.y+this.height)},equals:function(e){var t=new Xe(this).normalize(),n=new Xe(e).normalize();return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height},inflate:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),n=this.corner(),r=e.origin(),i=e.corner();if(i.x<=t.x||i.y<=t.y||r.x>=n.x||r.y>=n.y)return null;var o=QM(t.x,r.x),s=QM(t.y,r.y);return new Xe(o,s,Af(n.x,i.x)-o,Af(n.y,i.y)-s)},intersectionWithLine:function(e){var o,s,t=this,n=[t.topLine(),t.rightLine(),t.bottomLine(),t.leftLine()],r=[],i=[],a=n.length;for(s=0;s<a;s++)null!==(o=e.intersect(n[s]))&&i.indexOf(o.toString())<0&&(r.push(o),i.push(o.toString()));return r.length>0?r:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new q(e);var r,n=new q(this.x+this.width/2,this.y+this.height/2);t&&e.rotate(n,t);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new rt(n,e),s=i.length-1;s>=0;--s){var a=i[s].intersection(o);if(null!==a){r=a;break}}return r&&t&&r.rotate(n,-t),r},leftLine:function(){return new rt(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new q(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){e=new Xe(e),t||(t=e.center());var n,r,i,o,s,a,c,l,u=t.x,d=t.y;n=r=i=o=s=a=c=l=1/0;var p=e.topLeft();p.x<u&&(n=(this.x-u)/(p.x-u)),p.y<d&&(s=(this.y-d)/(p.y-d));var g=e.bottomRight();g.x>u&&(r=(this.x+this.width-u)/(g.x-u)),g.y>d&&(a=(this.y+this.height-d)/(g.y-d));var v=e.topRight();v.x>u&&(i=(this.x+this.width-u)/(v.x-u)),v.y<d&&(c=(this.y-d)/(v.y-d));var w=e.bottomLeft();return w.x<u&&(o=(this.x-u)/(w.x-u)),w.y>d&&(l=(this.y+this.height-d)/(w.y-d)),{sx:Af(n,r,i,o),sy:Af(s,a,c,l)}},maxRectUniformScaleToFit:function(e,t){var n=this.maxRectScaleToFit(e,t);return Af(n.sx,n.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return this.width<0&&(e=this.x+this.width,n=-this.width),this.height<0&&(t=this.y+this.height,r=-this.height),this.x=e,this.y=t,this.width=n,this.height=r,this},offset:function(e,t){return q.prototype.offset.call(this,e,t)},origin:function(){return new q(this.x,this.y)},pointNearestToPoint:function(e){if(e=new q(e),this.containsPoint(e))switch(this.sideNearestToPoint(e)){case"right":return new q(this.x+this.width,e.y);case"left":return new q(this.x,e.y);case"bottom":return new q(e.x,this.y+this.height);case"top":return new q(e.x,this.y)}return e.adhereToRect(this)},rightLine:function(){return new rt(this.topRight(),this.bottomRight())},rightMiddle:function(){return new q(this.x+this.width,this.y+this.height/2)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=rG(10,e)}return this.x=cg(this.x*t)/t,this.y=cg(this.y*t)/t,this.width=cg(this.width*t)/t,this.height=cg(this.height*t)/t,this},scale:function(e,t,n){return n=this.origin().scale(e,t,n),this.x=n.x,this.y=n.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){e=new q(e);var n=this.x+this.width-e.x,r=e.y-this.y,o=e.x-this.x,s="left";return n<o&&(o=n,s="right"),r<o&&(o=r,s="top"),this.y+this.height-e.y<o&&(s="bottom"),s},snapToGrid:function(e,t){var n=this.origin().snapToGrid(e,t),r=this.corner().snapToGrid(e,t);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new rt(this.topLeft(),this.topRight())},topMiddle:function(){return new q(this.x+this.width/2,this.y)},topRight:function(){return new q(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return Xe.fromRectUnion(this,e)},update:function(e,t,n,r){return Object(e)===e&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=n||0,this.height=r||0,this}},Xe.prototype.bottomRight=Xe.prototype.corner,Xe.prototype.topLeft=Xe.prototype.origin,Xe.prototype.translate=Xe.prototype.offset;const iG=Xe;function eT(e){const t=e.trim();if(""===t)return[];const n=[],r=t.split(/\b\s*,\s*|,\s*|\s+/),i=r.length;for(let o=0;o<i;o+=2)n.push({x:+r[o],y:+r[o+1]});return n}function tT(e){const t=e.length;if(0===t)return[];const n=[];for(let r=0;r<t;r++){const i=e[r].clone();n.push(i)}return n}function nT(e){const{abs:t}=Math;var n,r,o,i=e.length;if(0===i)return[];for(n=0;n<i;n++)(void 0===o||e[n].y<o.y||e[n].y===o.y&&e[n].x>o.x)&&(o=e[n]);var s=[];for(n=0;n<i;n++){var a=o.theta(e[n]);0===a&&(a=360),s.push([e[n],n,a])}s.sort(function(he,Se){var Ge=he[2]-Se[2];return 0===Ge&&(Ge=Se[1]-he[1]),Ge}),s.length>2&&s.unshift(s[s.length-1]);for(var p,g,v,w,E,N,u={},d=[];0!==s.length;)if(g=(p=s.pop())[0],!u.hasOwnProperty(p[0]+"@@"+p[1]))for(var P=!1;!P;)if(d.length<2)d.push(p),P=!0;else{w=(v=d.pop())[0];var W=(N=(E=d.pop())[0]).cross(w,g);if(W<0)d.push(E),d.push(v),d.push(p),P=!0;else if(0===W){var de=w.angleBetween(N,g);t(de-180)<1e-10||w.equals(g)||N.equals(w)?(u[v[0]+"@@"+v[1]]=w,d.push(E)):t((de+1)%360-1)<1e-10&&(d.push(E),s.push(v))}else u[v[0]+"@@"+v[1]]=w,d.push(E)}d.length>2&&d.pop();var ye,b=-1;for(r=d.length,n=0;n<r;n++){var M=d[n][1];(void 0===ye||M<ye)&&(ye=M,b=n)}var k=[];if(b>0){var R=d.slice(b),X=d.slice(0,b);k=R.concat(X)}else k=d;var ce=[];for(r=k.length,n=0;n<r;n++)ce.push(k[n][0]);return ce}const or=function(e){return this instanceof or?"string"==typeof e?new or.parse(e):void(this.points=Array.isArray(e)?e.map(q):[]):new or(e)};or.parse=function(e){return new or(eT(e))},or.fromRect=function(e){return new or([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft(),e.topLeft()])},or.prototype={type:cn.Polyline,bbox:function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=this.points,o=i.length;if(0===o)return null;for(var s=0;s<o;s++){var a=i[s],c=a.x,l=a.y;c<e&&(e=c),c>t&&(t=c),l<n&&(n=l),l>r&&(r=l)}return new Xe(e,n,t-e,r-n)},clone:function(){return new or(tT(this.points))},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t=this.lengthPoints(),n=t.length;if(0===n||1===n)return 0;for(var r,i=1/0,o=0,s=n-1,a=0;a<s;a++){var c=new rt(t[a],t[a+1]),l=c.length(),u=c.closestPointNormalizedLength(e),p=c.pointAt(u).squaredDistance(e);p<i&&(i=p,r=o+u*l),o+=l}return r},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(0===t)return 0;var n=this.length();return 0===n?0:t/n},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,n=t.length;if(0===n)return!1;for(var r=e.x,i=e.y,o=n-1,s=0,a=0,c=new rt,l=new rt,u=new q;s<n;s++){var d=t[o],p=t[s];if(e.equals(d)||(c.start=d,c.end=p,c.containsPoint(e)))return!0;if(i<=d.y&&i>p.y||i>d.y&&i<=p.y){var g=d.x-r>p.x-r?d.x-r:p.x-r;g>=0&&(u.x=r+g,u.y=i,l.start=e,l.end=u,c.intersect(l)&&a++)}o=s}return a%2==1},close:function(){const{start:e,end:t,points:n}=this;return e&&t&&!e.equals(t)&&n.push(e.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new or(nT(this.points))},equals:function(e){if(!e)return!1;var t=this.points,r=t.length;if(e.points.length!==r)return!1;for(var i=0;i<r;i++)if(!t[i].equals(e.points[i]))return!1;return!0},intersectionWithLine:function(e){for(var t=new rt(e),n=[],r=this.lengthPoints(),i=new rt,o=0,s=r.length-1;o<s;o++){i.start=r[o],i.end=r[o+1];var a=t.intersectionWithLine(i);a&&n.push(a[0])}return n.length>0?n:null},isDifferentiable:function(){var e=this.points,t=e.length;if(0===t)return!1;for(var n=new rt,r=t-1,i=0;i<r;i++)if(n.start=e[i],n.end=e[i+1],n.isDifferentiable())return!0;return!1},length:function(){var e=this.lengthPoints(),t=e.length;if(0===t)return 0;for(var n=0,r=t-1,i=0;i<r;i++)n+=e[i].distance(e[i+1]);return n},pointAt:function(e){var t=this.lengthPoints(),n=t.length;if(0===n)return null;if(1===n||e<=0)return t[0].clone();if(e>=1)return t[n-1].clone();var r=this.length();return this.pointAtLength(r*e)},pointAtLength:function(e){var t=this.lengthPoints(),n=t.length;if(0===n)return null;if(1===n)return t[0].clone();var r=!0;e<0&&(r=!1,e=-e);for(var i=0,o=n-1,s=0;s<o;s++){var a=r?s:o-1-s,c=t[a],l=t[a+1],u=new rt(c,l),d=c.distance(l);if(e<=i+d)return u.pointAtLength((r?1:-1)*(e-i));i+=d}return(r?t[n-1]:t[0]).clone()},round:function(e){for(var t=this.points,n=t.length,r=0;r<n;r++)t[r].round(e);return this},scale:function(e,t,n){for(var r=this.points,i=r.length,o=0;o<i;o++)r[o].scale(e,t,n);return this},simplify:function(e={}){const t=this.points;if(t.length<3)return this;const n=e.threshold||1e-10;let r=0;for(;t[r+2];){const o=r+1,c=t[o];new rt(t[r],t[r+2]).closestPoint(c).distance(c)<=n?t.splice(o,1):r+=1}return this},tangentAt:function(e){var n=this.lengthPoints().length;if(0===n||1===n)return null;e<0&&(e=0),e>1&&(e=1);var r=this.length();return this.tangentAtLength(r*e)},tangentAtLength:function(e){var t=this.lengthPoints(),n=t.length;if(0===n||1===n)return null;var r=!0;e<0&&(r=!1,e=-e);for(var i,o=0,s=n-1,a=0;a<s;a++){var c=r?a:s-1-a,l=t[c],u=t[c+1],d=new rt(l,u),p=l.distance(u);if(d.isDifferentiable()){if(e<=o+p)return d.tangentAtLength((r?1:-1)*(e-o));i=d}o+=p}return i?i.tangentAt(r?1:0):null},toString:function(){return this.points+""},translate:function(e,t){for(var n=this.points,r=n.length,i=0;i<r;i++)n[i].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(0===t)return"";for(var n="",r=0;r<t;r++){var i=e[r];n+=i.x+","+i.y+" "}return n.trim()}},Object.defineProperty(or.prototype,"start",{configurable:!0,enumerable:!0,get:function(){return 0===this.points.length?null:this.points[0]}}),Object.defineProperty(or.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.points.length;return 0===t?null:this.points[t-1]}});const{abs:lg,sqrt:oG,min:rT,max:iT,pow:Qb}=Math,jn=function(e,t,n,r){return this instanceof jn?e instanceof jn?new jn(e.start,e.controlPoint1,e.controlPoint2,e.end):(this.start=new q(e),this.controlPoint1=new q(t),this.controlPoint2=new q(n),void(this.end=new q(r))):new jn(e,t,n,r)};function Df(e){var t,n,r=[];for(n=arguments.length,t=1;t<n;t++)r.push(arguments[t]);if(!e)throw new Error("Missing a parent object.");var i=Object.create(e);for(n=r.length,t=0;t<n;t++){var s,a,o=r[t];for(a in o)o.hasOwnProperty(a)&&(delete i[a],s=Object.getOwnPropertyDescriptor(o,a),Object.defineProperty(i,a,s))}return i}jn.throughPoints=function(){function t(n){var r=n.length,i=[],o=[],s=2;i[0]=n[0]/s;for(var a=1;a<r;a++)o[a]=1/s,i[a]=(n[a]-i[a-1])/(s=(a<r-1?4:3.5)-o[a]);for(a=1;a<r;a++)i[r-a-1]-=o[r-a]*i[r-a];return i}return function(n){if(!n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var r=function e(n){var s,r=[],i=[],o=n.length-1;if(1==o)return r[0]=new q((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),i[0]=new q(2*r[0].x-n[0].x,2*r[0].y-n[0].y),[r,i];var a=[];for(s=1;s<o-1;s++)a[s]=4*n[s].x+2*n[s+1].x;a[0]=n[0].x+2*n[1].x,a[o-1]=(8*n[o-1].x+n[o].x)/2;var c=t(a);for(s=1;s<o-1;++s)a[s]=4*n[s].y+2*n[s+1].y;a[0]=n[0].y+2*n[1].y,a[o-1]=(8*n[o-1].y+n[o].y)/2;var l=t(a);for(s=0;s<o;s++)r.push(new q(c[s],l[s])),i.push(s<o-1?new q(2*n[s+1].x-c[s+1],2*n[s+1].y-l[s+1]):new q((n[o].x+c[o-1])/2,(n[o].y+l[o-1])/2));return[r,i]}(n),i=[],o=r[0].length,s=0;s<o;s++){var a=new q(r[0][s].x,r[0][s].y),c=new q(r[1][s].x,r[1][s].y);i.push(new jn(n[s],a,c,n[s+1]))}return i}}(),jn.prototype={type:cn.Curve,bbox:function(){for(var w,E,N,P,W,K,de,ye,e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end,i=e.x,o=e.y,s=t.x,a=t.y,c=n.x,l=n.y,u=r.x,d=r.y,p=new Array,g=new Array,v=[new Array,new Array],b=0;b<2;++b)if(0===b?(E=6*i-12*s+6*c,w=-3*i+9*s-9*c+3*u,N=3*s-3*i):(E=6*o-12*a+6*l,w=-3*o+9*a-9*l+3*d,N=3*a-3*o),lg(w)<1e-12){if(lg(E)<1e-12)continue;0<(P=-N/E)&&P<1&&g.push(P)}else ye=oG(de=E*E-4*N*w),!(de<0)&&(0<(W=(-E+ye)/(2*w))&&W<1&&g.push(W),0<(K=(-E-ye)/(2*w))&&K<1&&g.push(K));for(var R,X,ce,M=g.length,k=M;M--;)v[0][M]=X=(R=1-(P=g[M]))*R*R*i+3*R*R*P*s+3*R*P*P*c+P*P*P*u,v[1][M]=ce=R*R*R*o+3*R*R*P*a+3*R*P*P*l+P*P*P*d,p[M]={X,Y:ce};g[k]=0,g[k+1]=1,p[k]={X:i,Y:o},p[k+1]={X:u,Y:d},v[0][k]=i,v[1][k]=o,v[0][k+1]=u,v[1][k+1]=d,g.length=k+2,v[0].length=k+2,v[1].length=k+2,p.length=k+2;var he=rT.apply(null,v[0]),Se=rT.apply(null,v[1]),Ge=iT.apply(null,v[0]),U=iT.apply(null,v[1]);return new Xe(he,Se,Ge-he,U-Se)},clone:function(){return new jn(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions};return this.lengthAtT(this.closestPointT(e,i),i)},closestPointNormalizedLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions},o=this.closestPointLength(e,i);if(!o)return 0;var s=this.length(i);return 0===s?0:o/s},closestPointT:function(e,t){for(var i,o,s,a,c,l,u,n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r=void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions,d=r.length,p=d?1/d:0,g=0;g<d;g++){var v=r[g],w=v.start.distance(e),E=v.end.distance(e),N=w+E;(!u||N<u)&&(i=v,o=g*p,s=(g+1)*p,a=w,c=E,l=v.start.distance(v.end),u=N)}for(var P=Qb(10,-n);;){var W=a?lg(a-c)/a:0,K=c?lg(a-c)/c:0;if(W<P||K<P||!a||a<l*P||!c||c<l*P)return a<=c?o:s;var k=i.divide(.5);p/=2;var R=k[0].start.distance(e),X=k[0].end.distance(e),ce=R+X,he=k[1].start.distance(e),Se=k[1].end.distance(e);ce<=he+Se?(i=k[0],s-=p,a=R,c=X):(i=k[1],o+=p,a=he,c=Se)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){return this.toPolyline(t).containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var n=this.tAt(e,t);return this.divideAtT(n)},divideAtLength:function(e,t){var n=this.tAtLength(e,t);return this.divideAtT(n)},divideAtT:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return[new jn(t,t,t,t),new jn(t,n,r,i)];if(e>=1)return[new jn(t,n,r,i),new jn(i,i,i,i)];var o=this.getSkeletonPoints(e),c=o.divider,l=o.dividerControlPoint1,u=o.dividerControlPoint2;return[new jn(t,o.startControlPoint1,o.startControlPoint2,c),new jn(c,l,u,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(e>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var o=new rt(t,n).pointAt(e),s=new rt(n,r).pointAt(e),a=new rt(r,i).pointAt(e),c=new rt(o,s).pointAt(e),l=new rt(s,a).pointAt(e);return{startControlPoint1:o,startControlPoint2:c,divider:new rt(c,l).pointAt(e),dividerControlPoint1:l,dividerControlPoint2:a}},getSubdivisions:function(e){var t=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n=this.start,r=this.controlPoint1,i=this.controlPoint2,o=this.end,s=[new jn(n,r,i,o)];if(0===t)return s;if(!this.isDifferentiable())return s;var c=this.endpointDistance(),l=Qb(10,-t),u=2;0===r.cross(n,o)&&0===i.cross(n,o)&&(u=2*t);for(var p=0;;){p+=1;for(var g=[],v=s.length,w=0;w<v;w++){var N=s[w].divide(.5);g.push(N[0],N[1])}for(var P=0,W=g.length,K=0;K<W;K++)P+=g[K].endpointDistance();if(p>=u&&(0!==P?(P-c)/P:0)<l)return g;s=g,c=P}},isDifferentiable:function(){var t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(this.start.equals(t)&&t.equals(n)&&n.equals(r))},length:function(e){for(var n=void 0===(e=e||{}).subdivisions?this.getSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.subdivisions,r=0,i=n.length,o=0;o<i;o++)r+=n[o].endpointDistance();return r},lengthAtT:function(e,t){if(e<=0)return 0;var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision;return this.divide(e)[0].length({precision:n})},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var n=this.tAt(e,t);return this.pointAtT(n)},pointAtLength:function(e,t){var n=this.tAtLength(e,t);return this.pointAtT(n)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var n=this.tAt(e,t);return this.tangentAtT(n)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var n=this.tAtLength(e,t);return this.tangentAtT(n)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),n=t.startControlPoint2,i=t.divider,o=new rt(n,t.dividerControlPoint1);return o.translate(i.x-n.x,i.y-n.y),o},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions},o=this.length(i);return this.tAtLength(o*e,i)},tAtLength:function(e,t){var n=!0;e<0&&(n=!1,e=-e);for(var s,a,c,l,u,r=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i=void 0===t.subdivisions?this.getSubdivisions({precision:r}):t.subdivisions,o={precision:r,subdivisions:i},d=0,p=i.length,g=1/p,v=0;v<p;v++){var w=n?v:p-1-v,E=i[v],N=E.endpointDistance();if(e<=d+N){s=E,a=w*g,c=(w+1)*g,l=n?e-d:N+d-e,u=n?N+d-e:e-d;break}d+=N}if(!s)return n?1:0;for(var P=this.length(o),W=Qb(10,-r);;){if((0!==P?l/P:0)<W)return a;if((0!==P?u/P:0)<W)return c;var de,ye,b=s.divide(.5);g/=2;var M=b[0].endpointDistance(),k=b[1].endpointDistance();l<=M?(s=b[0],c-=g,ye=M-(de=l)):(s=b[1],a+=g,ye=k-(de=l-M)),l=de,u=ye}},toPoints:function(e){for(var n=void 0===(e=e||{}).subdivisions?this.getSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.subdivisions,r=[n[0].start.clone()],i=n.length,o=0;o<i;o++)r.push(n[o].end.clone());return r},toPolyline:function(e){return new or(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}},jn.prototype.divide=jn.prototype.divideAtT;const mt=function(e){if(!(this instanceof mt))return new mt(e);if("string"==typeof e)return new mt.parse(e);var t,n;if(this.segments=[],e)if(Array.isArray(e)&&0!==e.length)if(n=(e=e.reduce(function(a,c){return a.concat(c)},[])).length,e[0].isSegment)for(t=0;t<n;t++)this.appendSegment(e[t]);else{var i=null;for(t=0;t<n;t++){var o=e[t];if(!(o instanceof rt||o instanceof jn))throw new Error("Cannot construct a path segment from the provided object.");0===t&&this.appendSegment(mt.createSegment("M",o.start)),i&&!i.end.equals(o.start)&&this.appendSegment(mt.createSegment("M",o.start)),o instanceof rt?this.appendSegment(mt.createSegment("L",o.end)):o instanceof jn&&this.appendSegment(mt.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),i=o}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof rt)this.appendSegment(mt.createSegment("M",e.start)),this.appendSegment(mt.createSegment("L",e.end));else if(e instanceof jn)this.appendSegment(mt.createSegment("M",e.start)),this.appendSegment(mt.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else{if(!(e instanceof or))throw new Error("Cannot construct a path from the provided object.");if(!e.points||0===e.points.length)return;for(n=e.points.length,t=0;t<n;t++){this.appendSegment(mt.createSegment(0===t?"M":"L",e.points[t]))}}};function fa(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}mt.parse=function(e){if(!e)return new mt;for(var t=new mt,r=e.match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g),i=r.length,o=0;o<i;o++){var c=r[o].match(/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g),l=mt.createSegment.apply(this,c);t.appendSegment(l)}return t},mt.createSegment=function(e){if(!e)throw new Error("Type must be provided.");var t=mt.segmentTypes[e];if(!t)throw new Error(e+" is not a recognized path segment type.");for(var n=[],r=arguments.length,i=1;i<r;i++)n.push(arguments[i]);return fa(t,n)},mt.prototype={type:cn.Path,appendSegment:function(e){var r,t=this.segments,n=t.length,i=0!==n?t[n-1]:null;if(Array.isArray(e)){if(!(e=e.reduce(function(l,u){return l.concat(u)},[]))[0].isSegment)throw new Error("Segments required.");for(var s=e.length,a=0;a<s;a++)r=this.prepareSegment(e[a],i,null),t.push(r),i=r}else{if(!e||!e.isSegment)throw new Error("Segment required.");r=this.prepareSegment(e,i,null),t.push(r)}},bbox:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n,r=0;r<t;r++){var i=e[r];if(i.isVisible){var o=i.bbox();n=n?n.union(o):o}}if(n)return n;var s=e[t-1];return new Xe(s.end.x,s.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,n=new mt,r=0;r<t;r++){var i=e[r].clone();n.appendSegment(i)}return n},closestPoint:function(e,t){var n=this.closestPointT(e,t);return n?this.pointAtT(n):null},closestPointLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},o=this.closestPointT(e,i);return o?this.lengthAtT(o,i):0},closestPointNormalizedLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,i={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},o=this.closestPointLength(e,i);if(0===o)return 0;var s=this.length(i);return 0===s?0:o/s},closestPointT:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;for(var s,i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a=1/0,c=0;c<r;c++){var l=n[c];if(l.isVisible){var d=l.closestPointT(e,{precision:i,subdivisions:o[c]}),p=l.pointAtT(d),g=new rt(p,e).squaredLength();g<a&&(s={segmentIndex:c,value:d},a=g)}}return s||{segmentIndex:r-1,value:1}},closestPointTangent:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;for(var s,i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a=1/0,c=0;c<r;c++){var l=n[c],u=o[c];if(l.isDifferentiable()){var d=l.closestPointT(e,{precision:i,subdivisions:u}),p=l.pointAtT(d),g=new rt(p,e).squaredLength();g<a&&(s=l.tangentAtT(d),a=g)}}return s||null},containsPoint:function(e,t){var n=this.toPolylines(t);if(!n)return!1;for(var r=n.length,i=0,o=0;o<r;o++)n[o].containsPoint(e)&&i++;return i%2==1},divideAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s={precision:i,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions},a=this.length(s);return this.divideAtLength(a*e,s)},divideAtLength:function(e,t){var n=this.segments.length;if(0===n)return null;var r=!0;e<0&&(r=!1,e=-e);var s,a,l,u,d,p,i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,o=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,c=0;for(s=0;s<n;s++){var v=r?s:n-1-s;a=this.getSegment(v);var w=o[v],E=a.length({precision:i,subdivisions:w});if(a.isDifferentiable()&&(d=a,p=v,e<=c+E)){u=v,l=a.divideAtLength((r?1:-1)*(e-c),{precision:i,subdivisions:w});break}c+=E}if(!d)return null;l||(u=p,l=d.divideAtT(r?1:0));var N=this.clone();N.replaceSegment(u,l);var P=u,W=u+1,K=u+2;l[0].isDifferentiable()||(N.removeSegment(P),W-=1,K-=1);var de=N.getSegment(W).start;N.insertSegment(W,mt.createSegment("M",de)),K+=1,l[1].isDifferentiable()||(N.removeSegment(K-1),K-=1);var ye=K-P-1;for(s=K;s<N.segments.length;s++){var b=this.getSegment(s-ye);if("Z"===(a=N.getSegment(s)).type&&!b.subpathStartSegment.end.equals(a.subpathStartSegment.end)){var M=mt.createSegment("L",b.end);N.replaceSegment(s,M)}}return[new mt(N.segments.slice(0,W)),new mt(N.segments.slice(W))]},equals:function(e){if(!e)return!1;var t=this.segments,n=e.segments,r=t.length;if(n.length!==r)return!1;for(var i=0;i<r;i++){var o=t[i],s=n[i];if(o.type!==s.type||!o.equals(s))return!1}return!0},getSegment:function(e){var t=this.segments,n=t.length;if(0===n)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){for(var t=this.segments,n=t.length,r=void 0===(e=e||{}).precision?this.PRECISION:e.precision,i=[],o=0;o<n;o++){var a=t[o].getSubdivisions({precision:r});i.push(a)}return i},getSubpaths:function(){const t=this.clone().validate().segments,n=t.length,r=[];for(let i=0;i<n;i++){const o=t[i];o.isSubpathStart?r.push(new mt(o)):r[r.length-1].appendSegment(o)}return r},insertSegment:function(e,t){var n=this.segments,r=n.length;if(e<0&&(e=r+e+1),e>r||e<0)throw new Error("Index out of range.");var i,o=null,s=null;if(0!==r&&(s=e>=1?(o=n[e-1]).nextSegment:n[0]),Array.isArray(t)){if(!(t=t.reduce(function(u,d){return u.concat(d)},[]))[0].isSegment)throw new Error("Segments required.");for(var a=t.length,c=0;c<a;c++)i=this.prepareSegment(t[c],o,s),n.splice(e+c,0,i),o=i}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,o,s),n.splice(e,0,i)}},intersectionWithLine:function(e,t){var n=null,r=this.toPolylines(t);if(!r)return null;for(var i=0,o=r.length;i<o;i++){var a=e.intersect(r[i]);a&&(n||(n=[]),Array.isArray(a)?Array.prototype.push.apply(n,a):n.push(a))}return n},isDifferentiable:function(){for(var e=this.segments,t=e.length,n=0;n<t;n++)if(e[n].isDifferentiable())return!0;return!1},isValid:function(){var e=this.segments;return 0===e.length||"M"===e[0].type},length:function(e){var t=this.segments,n=t.length;if(0===n)return 0;for(var i=void 0===(e=e||{}).segmentSubdivisions?this.getSegmentSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.segmentSubdivisions,o=0,s=0;s<n;s++)o+=t[s].length({subdivisions:i[s]});return o},lengthAtT:function(e,t){var n=this.segments,r=n.length;if(0===r)return 0;var i=e.segmentIndex;if(i<0)return 0;var o=e.value;i>=r?(i=r-1,o=1):o<0?o=0:o>1&&(o=1);for(var s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,a=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l=0,u=0;u<i;u++){var d=n[u];l+=d.length({precisison:s,subdivisions:a[u]})}return l+(d=n[i]).lengthAtT(o,{precisison:s,subdivisions:a[i]})},pointAt:function(e,t){if(0===this.segments.length)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s={precision:i,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions},a=this.length(s);return this.pointAtLength(a*e,s)},pointAtLength:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;if(0===e)return this.start.clone();var i=!0;e<0&&(i=!1,e=-e);for(var a,o=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,c=0,l=0;l<r;l++){var u=i?l:r-1-l,d=n[u],p=s[u],g=d.length({precision:o,subdivisions:p});if(d.isVisible){if(e<=c+g)return d.pointAtLength((i?1:-1)*(e-c),{precision:o,subdivisions:p});a=d}c+=g}return a?i?a.end:a.start:n[r-1].end.clone()},pointAtT:function(e){var t=this.segments,n=t.length;if(0===n)return null;var r=e.segmentIndex;if(r<0)return t[0].pointAtT(0);if(r>=n)return t[n-1].pointAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[r].pointAtT(i)},PRECISION:3,prepareSegment:function(e,t,n){e.previousSegment=t,e.nextSegment=n,t&&(t.nextSegment=e),n&&(n.previousSegment=e);var r=e;return e.isSubpathStart&&(e.subpathStartSegment=e,r=n),r&&this.updateSubpathStartSegment(r),e},removeSegment:function(e){var t=this.segments,n=t.length;if(0===n)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var r=t.splice(e,1)[0],i=r.previousSegment,o=r.nextSegment;i&&(i.nextSegment=o),o&&(o.previousSegment=i),r.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(e,t){var n=this.segments,r=n.length;if(0===r)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");var i,o=n[e],s=o.previousSegment,a=o.nextSegment,c=o.isSubpathStart;if(Array.isArray(t)){if(!(t=t.reduce(function(p,g){return p.concat(g)},[]))[0].isSegment)throw new Error("Segments required.");n.splice(e,1);for(var l=t.length,u=0;u<l;u++)i=this.prepareSegment(t[u],s,a),n.splice(e+u,0,i),s=i,c&&i.isSubpathStart&&(c=!1)}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,s,a),n.splice(e,1,i),c&&i.isSubpathStart&&(c=!1)}c&&a&&this.updateSubpathStartSegment(a)},round:function(e){for(var t=this.segments,n=t.length,r=0;r<n;r++)t[r].round(e);return this},scale:function(e,t,n){for(var r=this.segments,i=r.length,o=0;o<i;o++)r[o].scale(e,t,n);return this},segmentAt:function(e,t){var n=this.segmentIndexAt(e,t);return n?this.getSegment(n):null},segmentAtLength:function(e,t){var n=this.segmentIndexAtLength(e,t);return n?this.getSegment(n):null},segmentIndexAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s={precision:i,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions},a=this.length(s);return this.segmentIndexAtLength(a*e,s)},segmentIndexAtLength:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;var i=!0;e<0&&(i=!1,e=-e);for(var o=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a=null,c=0,l=0;l<r;l++){var u=i?l:r-1-l,d=n[u],g=d.length({precision:o,subdivisions:s[u]});if(d.isVisible){if(e<=c+g)return u;a=u}c+=g}return a},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s={precision:i,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions},a=this.length(s);return this.tangentAtLength(a*e,s)},tangentAtLength:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;var i=!0;e<0&&(i=!1,e=-e);for(var a,o=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,c=0,l=0;l<r;l++){var u=i?l:r-1-l,d=n[u],p=s[u],g=d.length({precision:o,subdivisions:p});if(d.isDifferentiable()){if(e<=c+g)return d.tangentAtLength((i?1:-1)*(e-c),{precision:o,subdivisions:p});a=d}c+=g}return a?a.tangentAtT(i?1:0):null},tangentAtT:function(e){var t=this.segments,n=t.length;if(0===n)return null;var r=e.segmentIndex;if(r<0)return t[0].tangentAtT(0);if(r>=n)return t[n-1].tangentAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[r].tangentAtT(i)},toPoints:function(e){var t=this.segments,n=t.length;if(0===n)return null;for(var i=void 0===(e=e||{}).segmentSubdivisions?this.getSegmentSubdivisions({precision:void 0===e.precision?this.PRECISION:e.precision}):e.segmentSubdivisions,o=[],s=[],a=0;a<n;a++){var c=t[a];if(c.isVisible){var l=i[a];if(l.length>0){var u=l.map(function(d){return d.start});Array.prototype.push.apply(s,u)}else s.push(c.start)}else s.length>0&&(s.push(t[a-1].end),o.push(s),s=[])}return s.length>0&&(s.push(this.end),o.push(s)),o},toPolylines:function(e){var t=[],n=this.toPoints(e);if(!n)return null;for(var r=0,i=n.length;r<i;r++)t.push(new or(n[r]));return t},toString:function(){for(var e=this.segments,t=e.length,n="",r=0;r<t;r++)n+=e[r].serialize()+" ";return n.trim()},translate:function(e,t){for(var n=this.segments,r=n.length,i=0;i<r;i++)n[i].translate(e,t);return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)e.subpathStartSegment=t?t.subpathStartSegment:null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,mt.createSegment("M",0,0)),this}},Object.defineProperty(mt.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n=0;n<t;n++){var r=e[n];if(r.isVisible)return r.start}return e[t-1].end}}),Object.defineProperty(mt.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n=t-1;n>=0;n--){var r=e[n];if(r.isVisible)return r.end}return e[t-1].end}});var ul={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(ul,"end",{configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(ul,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}}),Object.defineProperty(ul,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var ki=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof ki))return fa(ki,e);if(0===t)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var r;if(e[0]instanceof rt){if(1===t)return this.end=e[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" lines provided).")}if("string"==typeof e[0]||"number"==typeof e[0]){if(2===t)return this.end=new q(+e[0],+e[1]),this;if(t<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=2)i=e.slice(n,n+2),r.push(fa(ki,i));return r}if(1===t)return this.end=new q(e[0]),this;for(r=[],n=0;n<t;n+=1)r.push(new ki(e[n]));return r},oT={clone:function(){return new ki(this.end)},divideAt:function(e){var n=new rt(this.start,this.end).divideAt(e);return[new ki(n[0]),new ki(n[1])]},divideAtLength:function(e){var n=new rt(this.start,this.end).divideAtLength(e);return[new ki(n[0]),new ki(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!!this.previousSegment&&!this.start.equals(this.end)},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(oT,"type",{configurable:!0,enumerable:!0,value:"L"}),ki.prototype=Df(ul,rt.prototype,oT);var qo=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof qo))return fa(qo,e);if(0===t)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var r,o;if(e[0]instanceof jn){if(1===t)return this.controlPoint1=e[0].controlPoint1.clone(),this.controlPoint2=e[0].controlPoint2.clone(),this.end=e[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" curves provided).")}if("string"==typeof e[0]||"number"==typeof e[0]){if(6===t)return this.controlPoint1=new q(+e[0],+e[1]),this.controlPoint2=new q(+e[2],+e[3]),this.end=new q(+e[4],+e[5]),this;if(t<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=6)i=e.slice(n,n+6),r.push(fa(qo,i));return r}if(3===t)return this.controlPoint1=new q(e[0]),this.controlPoint2=new q(e[1]),this.end=new q(e[2]),this;if(t<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" points provided).");for(r=[],n=0;n<t;n+=3)o=e.slice(n,n+3),r.push(fa(qo,o));return r},sT={clone:function(){return new qo(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var r=new jn(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAt(e,t);return[new qo(r[0]),new qo(r[1])]},divideAtLength:function(e,t){var r=new jn(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtLength(e,t);return[new qo(r[0]),new qo(r[1])]},divideAtT:function(e){var n=new jn(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtT(e);return[new qo(n[0]),new qo(n[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(this.start.equals(t)&&t.equals(n)&&n.equals(r))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,n=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(sT,"type",{configurable:!0,enumerable:!0,value:"C"}),qo.prototype=Df(ul,jn.prototype,sT);var dl=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof dl))return fa(dl,e);if(0===t)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var r,o;if(e[0]instanceof rt){if(1===t)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" lines provided).")}if(e[0]instanceof jn){if(1===t)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" curves provided).")}if("string"==typeof e[0]||"number"==typeof e[0]){if(2===t)return this.end=new q(+e[0],+e[1]),this;if(t<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=2)i=e.slice(n,n+2),r.push(fa(0===n?dl:ki,i));return r}if(1===t)return this.end=new q(e[0]),this;for(r=[],n=0;n<t;n+=1)o=e[n],r.push(0===n?new dl(o):new ki(o));return r},e0={bbox:function(){return null},clone:function(){return new dl(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(e0,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}}),Object.defineProperty(e0,"type",{configurable:!0,enumerable:!0,value:"M"}),dl.prototype=Df(ul,e0);var Ru=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof Ru))return fa(Ru,e);if(t>0)throw new Error("Closepath constructor expects no arguments.");return this},t0={clone:function(){return new Ru},divideAt:function(e){var n=new rt(this.start,this.end).divideAt(e);return[n[1].isDifferentiable()?new ki(n[0]):this.clone(),new ki(n[1])]},divideAtLength:function(e){var n=new rt(this.start,this.end).divideAtLength(e);return[n[1].isDifferentiable()?new ki(n[0]):this.clone(),new ki(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!(!this.previousSegment||!this.subpathStartSegment||this.start.equals(this.end))},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(t0,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}}),Object.defineProperty(t0,"type",{configurable:!0,enumerable:!0,value:"Z"}),Ru.prototype=Df(ul,rt.prototype,t0);var sG=mt.segmentTypes={L:ki,C:qo,M:dl,Z:Ru,z:Ru};mt.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(sG).join("")+",.]*$"),mt.isDataSupported=function(e){return"string"==typeof e&&this.regexSupportedData.test(e)};const aG={curveThroughPoints:function(e){return console.warn("deprecated"),new mt(jn.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var i,t=[],n=[],r=e.length-1;if(1==r)return t[0]=new q((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),n[0]=new q(2*t[0].x-e[0].x,2*t[0].y-e[0].y),[t,n];var o=[];for(i=1;i<r-1;i++)o[i]=4*e[i].x+2*e[i+1].x;o[0]=e[0].x+2*e[1].x,o[r-1]=(8*e[r-1].x+e[r].x)/2;var s=this.getFirstControlPoints(o);for(i=1;i<r-1;++i)o[i]=4*e[i].y+2*e[i+1].y;o[0]=e[0].y+2*e[1].y,o[r-1]=(8*e[r-1].y+e[r].y)/2;var a=this.getFirstControlPoints(o);for(i=0;i<r;i++)t.push(new q(s[i],a[i])),n.push(i<r-1?new q(2*e[i+1].x-s[i+1],2*e[i+1].y-a[i+1]):new q((e[r].x+s[r-1])/2,(e[r].y+a[r-1])/2));return[t,n]},getCurveDivider:function(e,t,n,r){console.warn("deprecated");var i=new jn(e,t,n,r);return function(s){var a=i.divide(s);return[{p0:a[0].start,p1:a[0].controlPoint1,p2:a[0].controlPoint2,p3:a[0].end},{p0:a[1].start,p1:a[1].controlPoint1,p2:a[1].controlPoint2,p3:a[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,n=[],r=[],i=2;n[0]=e[0]/i;for(var o=1;o<t;o++)r[o]=1/i,n[o]=(e[o]-n[o-1])/(i=(o<t-1?4:3.5)-r[o]);for(o=1;o<t;o++)n[t-o-1]-=r[t-o]*n[t-o];return n},getInversionSolver:function(e,t,n,r){console.warn("deprecated");var i=new jn(e,t,n,r);return function(s){return i.closestPointT(s)}}},Oo=function(e){return this instanceof Oo?"string"==typeof e?new Oo.parse(e):void(this.points=Array.isArray(e)?e.map(q):[]):new Oo(e)};function aT(e,t,n,r){switch(e.type){case cn.Line:if(t.type===cn.Line)return fl(e,t);break;case cn.Ellipse:switch(t.type){case cn.Line:return n0(e,t);case cn.Ellipse:return cT(e,t)}break;case cn.Rect:switch(t.type){case cn.Line:return lT(e,t);case cn.Ellipse:return uT(e,t);case cn.Rect:return r0(e,t)}break;case cn.Polyline:switch(t.type){case cn.Line:return ug(e,t);case cn.Ellipse:return o0(e,t);case cn.Rect:return dT(e,t);case cn.Polyline:return fT(e,t)}break;case cn.Polygon:switch(t.type){case cn.Line:return s0(e,t);case cn.Ellipse:return dg(e,t);case cn.Rect:return hT(e,t);case cn.Polyline:return pT(e,t);case cn.Polygon:return gT(e,t)}break;case cn.Path:switch(t.type){case cn.Line:return mT(e,t,n);case cn.Ellipse:return vT(e,t,n);case cn.Rect:return yT(e,t,n);case cn.Polyline:return a0(e,t,n);case cn.Polygon:return fg(e,t,n);case cn.Path:return bT(e,t,n,r)}}switch(t.type){case cn.Ellipse:case cn.Rect:case cn.Polyline:case cn.Polygon:case cn.Path:return aT(t,e,r,n);default:throw Error(`The intersection for ${e} and ${t} could not be found.`)}}function fl(e,t){const n=e.start.x,r=e.start.y,s=t.start.x,a=t.start.y,u=e.end.x-n,d=e.end.y-r,p=t.end.x-s,g=t.end.y-a,v=n-s,w=r-a,E=u*g-p*d,N=(u*w-d*v)/E,P=(p*w-g*v)/E;return N>=0&&N<=1&&P>=0&&P<=1}function n0(e,t){const n=e.a,r=e.b,i=e.x,o=e.y,s=t.start.x-i,c=t.start.y-o,u=n*n,d=r*r,p=t.end.x-i-s,g=t.end.y-o-c,v=p*p/u+g*g/d,w=2*s*p/u+2*c*g/d,N=w*w-4*v*(s*s/u+c*c/d-1);if(0===N){const P=-w/2/v;return P>=0&&P<=1}if(N>0){const P=Math.sqrt(N),W=(-w+P)/2/v,K=(-w-P)/2/v;return W>=0&&W<=1||K>=0&&K<=1}return!1}function cT(e,t){return function cG(e,t,n,r){const{cos:i,sin:o}=Math,s=o(t),a=i(t),c=o(r),l=i(r),u=s*s,d=a*a,g=c*c,v=l*l,E=e.a*e.a,N=e.b*e.b,P=n.a*n.a,W=n.b*n.b,K=E*u+N*d,de=P*g+W*v,ye=E*d+N*u,b=P*v+W*g;let M=2*(N-E)*(s*a),k=2*(W-P)*(c*l),R=-2*K*e.x-M*e.y,X=-2*de*n.x-k*n.y,ce=-M*e.x-2*ye*e.y,he=-k*n.x-2*b*n.y;const Se=K*e.x*e.x+ye*e.y*e.y+M*e.x*e.y-E*N,Ge=de*n.x*n.x+b*n.y*n.y+k*n.x*n.y-P*W;M/=2,k/=2,R/=2,X/=2,ce/=2,he/=2;const U=pc([[K,M,R],[M,ye,ce],[R,ce,Se]]),ne=pc([[de,k,X],[k,b,he],[X,he,Ge]]),re=.33333333*(pc([[de,M,R],[k,ye,ce],[X,ce,Se]])+pc([[K,k,R],[M,b,ce],[R,he,Se]])+pc([[K,M,X],[M,ye,he],[R,ce,Ge]])),le=.33333333*(pc([[K,k,X],[M,b,he],[R,he,Ge]])+pc([[de,M,X],[k,ye,he],[X,ce,Ge]])+pc([[de,k,R],[k,b,ce],[X,he,Se]])),ft=pg([[U,re],[re,le]]),vt=pg([[U,le],[re,ne]]),_n=pg([[re,le],[le,ne]]);return!(pg([[2*ft,vt],[vt,2*_n]])>0&&(le>0||re>0))}(e,0,t,0)}function lT(e,t){const{start:n,end:r}=t,{x:i,y:o,width:s,height:a}=e;return!(n.x>i+s&&r.x>i+s||n.x<i&&r.x<i||n.y>o+a&&r.y>o+a||n.y<o&&r.y<o)&&(!(!e.containsPoint(t.start)&&!e.containsPoint(t.end))||fl(e.topLine(),t)||fl(e.rightLine(),t)||fl(e.bottomLine(),t)||fl(e.leftLine(),t))}function uT(e,t){return!!r0(e,Xe.fromEllipse(t))&&dg(Oo.fromRect(e),t)}function r0(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function ug(e,t){return IT(e,t,{interior:!1})}function o0(e,t){return wT(e,t,{interior:!1})}function dT(e,t){return CT(e,t,{interior:!1})}function fT(e,t){return hg(e,t,{interior:!1})}function s0(e,t){return IT(e,t,{interior:!0})}function dg(e,t){return wT(e,t,{interior:!0})}function hT(e,t){return CT(e,t,{interior:!0})}function pT(e,t){return hg(e,t,{interior:!0})}function gT(e,t){return c0(e,t,{interior:!0})}function mT(e,t,n){return e.getSubpaths().some(r=>{const[i]=r.toPolylines(n),{type:o}=r.getSegment(-1);return"Z"===o?s0(i,t):ug(i,t)})}function vT(e,t,n){return e.getSubpaths().some(r=>{const[i]=r.toPolylines(n),{type:o}=r.getSegment(-1);return"Z"===o?dg(i,t):o0(i,t)})}function yT(e,t,n){return fg(e,Oo.fromRect(t),n)}function a0(e,t,n){return _T(e,t,n,{interior:!1})}function fg(e,t,n){return _T(e,t,n,{interior:!0})}function bT(e,t,n,r){return e.getSubpaths().some(i=>{const[o]=i.toPolylines(n),{type:s}=i.getSegment(-1);return"Z"===s?fg(t,o,r):a0(t,o,r)})}function IT(e,t,n={}){const{interior:r=!1}=n;let i;if(r){if(e.containsPoint(t.start))return!0;const{start:a,end:c,points:l}=e;i=c.equals(a)?l:[...l,a]}else i=e.points;const{length:o}=i,s=new rt;for(let a=0;a<o-1;a++)if(s.start=i[a],s.end=i[a+1],fl(t,s))return!0;return!1}function wT(e,t,n={}){const{start:r,end:i,points:o}=e;if(t.containsPoint(r))return!0;let s;const{interior:a=!1}=n;if(a){if(e.containsPoint(t.center()))return!0;s=i.equals(r)?o:[...o,r]}else s=o;const{length:c}=s,l=new rt;for(let u=0;u<c-1;u++)if(l.start=s[u],l.end=s[u+1],n0(t,l))return!0;return!1}function CT(e,t,n){return c0(e,Oo.fromRect(t),n)}function _T(e,t,n,r){return e.getSubpaths().some(i=>{const[o]=i.toPolylines(n),{type:s}=i.getSegment(-1);return"Z"===s?c0(t,o,r):hg(t,o,r)})}function hg(e,t,n={}){const{interior:r=!1}=n;let i;if(r){const{start:c}=t;if(e.containsPoint(c))return!0;i=e.clone().close()}else i=e;const o=t.points,{length:s}=o,a=new rt;for(let c=0;c<s-1;c++)if(a.start=o[c],a.end=o[c+1],ug(i,a))return!0;return!1}function c0(e,t,n){return t.containsPoint(e.start)||hg(e,t.clone().close(),n)}function pg(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}function pc(e){return e[0][0]*e[1][1]*e[2][2]-e[0][0]*e[1][2]*e[2][1]-e[0][1]*e[1][0]*e[2][2]+e[0][1]*e[1][2]*e[2][0]+e[0][2]*e[1][0]*e[2][1]-e[0][2]*e[1][1]*e[2][0]}Oo.parse=function(e){return new Oo(eT(e))},Oo.fromRect=function(e){return new Oo([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft()])},Oo.prototype=Df(or.prototype,{type:cn.Polygon,clone:function(){return new Oo(tT(this.points))},convexHull:function(){return new Oo(nT(this.points))},lengthPoints:function(){const{start:e,end:t,points:n}=this;return n.length<=1||e.equals(t)?n:[...n,e.clone()]}});const lG=Jn,Ce=function(){if("object"!=typeof window||!window.SVGAngle)return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},r=Math,i=r.PI,o=r.atan2,s=r.sqrt,a=r.min,c=r.max,l=r.cos,u=r.sin,d=function(b,M,k){if(!(this instanceof d))return d.apply(Object.create(d.prototype),arguments);if(b){if(d.isV(b)&&(b=b.node),M=M||{},d.isString(b)){if("svg"===(b=b.trim()).toLowerCase())b=d.createSvgDocument();else if("<"===b[0]){var R=d.createSvgDocument(b);if(R.childNodes.length>1){var ce,he,X=[];for(ce=0,he=R.childNodes.length;ce<he;ce++)X.push(new d(document.importNode(R.childNodes[ce],!0)));return X}b=document.importNode(R.firstChild,!0)}else b=document.createElementNS(t.svg,b);d.ensureId(b)}return this.node=b,this.setAttributes(M),k&&this.append(k),this}},p=d.prototype;function v(b,M,k){k||(k={});for(var R=k.includeAnnotationIndices,X=k.eol,ce=k.lineHeight,he=k.baseSize,Se=0,Ge={},U=M.length-1,ne=0;ne<=U;ne++){var re=M[ne],le=null;if(d.isObject(re)){var ft=re.attrs,vt=d("tspan",ft),_n=vt.node,zn=re.t;X&&ne===U&&(zn+=X),_n.textContent=zn;var Ze=ft.class;Ze&&vt.addClass(Ze),R&&vt.attr("annotations",re.annotations),le=parseFloat(ft["font-size"]),isFinite(le)||(le=he),le&&le>Se&&(Se=le)}else X&&ne===U&&(re+=X),_n=document.createTextNode(re||" "),he&&he>Se&&(Se=he);b.appendChild(_n)}return Se&&(Ge.maxFontSize=Se),ce?Ge.lineHeight=ce:Se&&(Ge.lineHeight=1.2*Se),Ge}Object.defineProperty(p,"id",{enumerable:!0,get:function(){return this.node.id},set:function(b){this.node.id=b}}),p.getTransformToElement=function(b){var M=this.node;if(d.isSVGGraphicsElement(b)&&d.isSVGGraphicsElement(M)){var k=d.toNode(b).getScreenCTM(),R=M.getScreenCTM();if(k&&R)return k.inverse().multiply(R)}return d.createSVGMatrix()},p.transform=function(b,M){var k=this.node;if(d.isUndefined(b))return d.transformStringToMatrix(this.attr("transform"));if(M&&M.absolute)return this.attr("transform",d.matrixToTransformString(b));var R=d.createSVGTransform(b);return k.transform.baseVal.appendItem(R),this},p.translate=function(b,M,k){k=k||{},M=M||0;var R=this.attr("transform")||"",X=d.parseTransformString(R);return R=X.value,d.isUndefined(b)?X.translate:(R=R.replace(/translate\([^)]*\)/g,"").trim(),this.attr("transform",("translate("+(k.absolute?b:X.translate.tx+b)+","+(k.absolute?M:X.translate.ty+M)+") "+R).trim()),this)},p.rotate=function(b,M,k,R){R=R||{};var X=this.attr("transform")||"",ce=d.parseTransformString(X);return X=ce.value,d.isUndefined(b)?ce.rotate:(X=X.replace(/rotate\([^)]*\)/g,"").trim(),b%=360,this.attr("transform",(X+" rotate("+(R.absolute?b:ce.rotate.angle+b)+(void 0!==M&&void 0!==k?","+M+","+k:"")+")").trim()),this)},p.scale=function(b,M){M=d.isUndefined(M)?b:M;var k=this.attr("transform")||"",R=d.parseTransformString(k);return k=R.value,d.isUndefined(b)?R.scale:(k=k.replace(/scale\([^)]*\)/g,"").trim(),this.attr("transform",(k+" scale("+b+","+M+")").trim()),this)},p.bbox=function(b,M){var k,R=this.node,X=R.ownerSVGElement;if(!X)return new Xe(0,0,0,0);try{k=R.getBBox()}catch{k={x:R.clientLeft,y:R.clientTop,width:R.clientWidth,height:R.clientHeight}}if(b)return new Xe(k);var ce=this.getTransformToElement(M||X);return d.transformRect(k,ce)},p.getBBox=function(b){var k,M={},R=this.node;if(!R.ownerSVGElement||!d.isSVGGraphicsElement(R))return new Xe(0,0,0,0);if(b&&(b.target&&(M.target=d.toNode(b.target)),b.recursive&&(M.recursive=b.recursive)),M.recursive){var he=this.children(),Se=he.length;if(0===Se)return this.getBBox({target:M.target,recursive:!1});M.target||(M.target=this);for(var Ge=0;Ge<Se;Ge++){var ne,U=he[Ge];ne=0===U.children().length?U.getBBox({target:M.target,recursive:!1}):U.getBBox({target:M.target,recursive:!0}),k=k?k.union(ne):ne}return k}try{k=R.getBBox()}catch{k={x:R.clientLeft,y:R.clientTop,width:R.clientWidth,height:R.clientHeight}}if(M.target){var ce=this.getTransformToElement(M.target);return d.transformRect(k,ce)}return new Xe(k)};var w=/em$/;function E(b,M){var k=parseFloat(b);return w.test(b)?k*M:k}p.text=function(b,M){if(b&&"string"!=typeof b)throw new Error("Vectorizer: text() expects the first argument to be a string.");b=d.sanitizeText(b),M||(M={});var k=M.displayEmpty,R=M.eol,X=M.textPath,ce=M.textVerticalAnchor,he="middle"===ce||"bottom"===ce||"top"===ce,Se=M.x;void 0===Se&&(Se=this.attr("x")||0);var Ge=M.includeAnnotationIndices,U=M.annotations;U&&!d.isArray(U)&&(U=[U]);var ne=M.lineHeight,re="auto"===ne,le=re?"1.5em":ne||"1em";this.empty(),this.attr({"xml:space":"preserve",display:b||k?null:"none"});var ft=parseFloat(this.attr("font-size"));ft||(ft=16,(he||U)&&this.attr("font-size",ft));var _n,vt=document;X?("string"==typeof X&&(X={d:X}),_n=function g(b,M){b||(b={});var k=d("textPath"),R=b.d;if(R&&void 0===b["xlink:href"]){var X=d("path").attr("d",R).appendTo(M.defs());k.attr("xlink:href","#"+X.id)}return d.isObject(b)&&k.attr(b),k.node}(X,this)):_n=vt.createDocumentFragment();for(var xe,zn=0,Ze=b.split("\n"),Mt=[],be=0,ze=Ze.length-1;be<=ze;be++){var En,tn=le,Dn="v-line",Ht=vt.createElementNS(t.svg,"tspan"),_r=Ze[be];if(_r)if(U){var on=d.annotateString(_r,U,{offset:-zn,includeAnnotationIndices:Ge}),Zn=(En=v(Ht,on,{includeAnnotationIndices:Ge,eol:be!==ze&&R,lineHeight:re?null:le,baseSize:ft})).lineHeight;Zn&&re&&0!==be&&(tn=Zn),0===be&&(xe=.8*En.maxFontSize)}else R&&be!==ze&&(_r+=R),Ht.textContent=_r;else{Ht.textContent="-",Dn+=" v-empty-line";var Rt=Ht.style;if(Rt.fillOpacity=0,Rt.strokeOpacity=0,U){En={};let Tr=ft;for(let ti=(on=d.findAnnotationsAtIndex(U,zn)).length;ti>0;ti--){const ts=on[ti-1].attrs;if(!ts||!("font-size"in ts))continue;const id=parseFloat(ts["font-size"]);if(isFinite(id)){Tr=id;break}}re&&(be>0?tn=1.2*Tr:xe=.8*Tr),Ht.setAttribute("font-size",Tr),En.maxFontSize=Tr}}En&&Mt.push(En),be>0&&Ht.setAttribute("dy",tn),(be>0||X)&&Ht.setAttribute("x",Se),Ht.className.baseVal=Dn,_n.appendChild(Ht),zn+=_r.length+1}if(he)if(U)tn=function N(b,M,k,R){if(!Array.isArray(M))return 0;var X=M.length;if(!X)return 0;for(var ce=M[0],he=E(ce.maxFontSize,k)||k,Se=0,Ge=E(R,k),U=1;U<X;U++)Se+=E((ce=M[U]).lineHeight,k)||Ge;var le,re=E(ce.maxFontSize,k)||k;switch(b){case"middle":le=he/2-.15*re-Se/2;break;case"bottom":le=-.25*re-Se;break;default:le=.8*he}return le}(ce,Mt,ft,le);else if("top"===ce)tn="0.8em";else{var ot;switch(ze>0?(ot=parseFloat(le)||1,ot*=ze,w.test(le)||(ot/=ft)):ot=0,ce){case"middle":tn=.3-ot/2+"em";break;case"bottom":tn=-ot-.3+"em"}}else 0===ce?tn="0em":ce?tn=ce:(tn=0,null===this.attr("y")&&this.attr("y",xe||"0.8em"));return _n.firstChild.setAttribute("dy",tn),this.append(_n),this},p.removeAttr=function(b){const M=de[b],{ns:k,local:R}=d.qualifyAttr(M),X=this.node;return k?X.hasAttributeNS(k,R)&&X.removeAttributeNS(k,R):X.hasAttribute(M)&&X.removeAttribute(M),this},p.attr=function(b,M){if(d.isUndefined(b)){for(var k=this.node.attributes,R={},X=0;X<k.length;X++)R[k[X].name]=k[X].value;return R}if(d.isString(b)&&d.isUndefined(M))return this.node.getAttribute(de[b]);if("object"==typeof b)for(var ce in b)b.hasOwnProperty(ce)&&this.setAttribute(ce,b[ce]);else this.setAttribute(b,M);return this},p.normalizePath=function(){return"PATH"===this.tagName()&&this.attr("d",d.normalizePathData(this.attr("d"))),this},p.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},p.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},p.setAttributes=function(b){for(var M in b)b.hasOwnProperty(M)&&this.setAttribute(M,b[M]);return this},p.append=function(b){d.isArray(b)||(b=[b]);for(var M=0,k=b.length;M<k;M++)this.node.appendChild(d.toNode(b[M]));return this},p.prepend=function(b){var M=this.node.firstChild;return M?d(M).before(b):this.append(b)},p.before=function(b){var M=this.node,k=M.parentNode;if(k){d.isArray(b)||(b=[b]);for(var R=0,X=b.length;R<X;R++)k.insertBefore(d.toNode(b[R]),M)}return this},p.appendTo=function(b){return d.toNode(b).appendChild(this.node),this},p.svg=function(){return this.node instanceof window.SVGSVGElement?this:d(this.node.ownerSVGElement)},p.tagName=function(){return this.node.tagName.toUpperCase()},p.defs=function(){var b=this.svg()||this,M=b.node.getElementsByTagName("defs")[0];return M?d(M):d("defs").appendTo(b)},p.clone=function(){var b=d(this.node.cloneNode(!0));return b.node.id=d.uniqueId(),b},p.findOne=function(b){var M=this.node.querySelector(b);return M?d(M):void 0},p.find=function(b){var M=[],k=this.node.querySelectorAll(b);if(k)for(var R=0;R<k.length;R++)M.push(d(k[R]));return M},p.children=function(){for(var b=this.node.childNodes,M=[],k=0;k<b.length;k++)1===b[k].nodeType&&M.push(d(b[k]));return M},p.parent=function(){return d(this.node.parentNode)||null},p.index=function(){for(var b=0,M=this.node.previousSibling;M;)1===M.nodeType&&b++,M=M.previousSibling;return b},p.findParentByClass=function(b,M){for(var k=this.node.ownerSVGElement,R=this.node.parentNode;R&&R!==M&&R!==k;){var X=d(R);if(X.hasClass(b))return X;R=R.parentNode}return null},p.contains=function(b){var M=this.node,k=d.toNode(b),R=k&&k.parentNode;return M===R||!!(R&&1===R.nodeType&&16&M.compareDocumentPosition(R))},p.toLocalPoint=function(b,M){var k=this.svg().node,R=k.createSVGPoint();R.x=b,R.y=M;try{var X=R.matrixTransform(k.getScreenCTM().inverse()),ce=this.getTransformToElement(k).inverse()}catch{return R}return X.matrixTransform(ce)},p.translateCenterToPoint=function(b){var k=this.getBBox({target:this.svg()}).center();return this.translate(b.x-k.x,b.y-k.y),this},p.translateAndAutoOrient=function(b,M,k){b=new q(b),M=new q(M),k||(k=this.svg());var R=this.scale();this.attr("transform","");var X=this.getBBox({target:k}).scale(R.sx,R.sy),ce=d.createSVGTransform();ce.setTranslate(-X.x-X.width/2,-X.y-X.height/2);var he=d.createSVGTransform(),Se=b.angleBetween(M,b.clone().offset(1,0));Se&&he.setRotate(Se,0,0);var Ge=d.createSVGTransform(),U=b.clone().move(M,X.width/2);Ge.setTranslate(2*b.x-U.x,2*b.y-U.y);var ne=this.getTransformToElement(k),re=d.createSVGTransform();return re.setMatrix(Ge.matrix.multiply(he.matrix.multiply(ce.matrix.multiply(ne.scale(R.sx,R.sy))))),this.attr("transform",d.matrixToTransformString(re.matrix)),this},p.animateAlongPath=function(b,M){M=d.toNode(M);var k=d.ensureId(M),R=d("animateMotion",b),X=d("mpath",{"xlink:href":"#"+k});R.append(X),this.append(R);try{R.node.beginElement()}catch{if("fake"===document.documentElement.getAttribute("smiling")){var ce=R.node;ce.animators=[];var he=ce.getAttribute("id");he&&(id2anim[he]=ce);for(var Se=getTargets(ce),Ge=0,U=Se.length;Ge<U;Ge++){var re=new Animator(ce,Se[Ge],Ge);animators.push(re),ce.animators[Ge]=re,re.register()}}}return this};const P=/[^\x20\t\r\n\f]+/g;function W(b){return d.isString(b)&&b.trim().match(P)||[]}p.hasClass=function(b){return!!d.isString(b)&&this.node.classList.contains(b.trim())},p.addClass=function(b){return this.node.classList.add(...W(b)),this},p.removeClass=function(b){return this.node.classList.remove(...W(b)),this},p.toggleClass=function(b,M){const k=W(b);for(let R=0;R<k.length;R++)this.node.classList.toggle(k[R],M);return this},p.sample=function(b){b=b||1;for(var ce,M=this.node,k=M.getTotalLength(),R=[],X=0;X<k;)ce=M.getPointAtLength(X),R.push({x:ce.x,y:ce.y,distance:X}),X+=b;return R},p.convertToPath=function(){var b=d("path");b.attr(this.attr());var M=this.convertToPathData();return M&&b.attr("d",M),b},p.convertToPathData=function(){var b=this.tagName();switch(b){case"PATH":return this.attr("d");case"LINE":return d.convertLineToPathData(this.node);case"POLYGON":return d.convertPolygonToPathData(this.node);case"POLYLINE":return d.convertPolylineToPathData(this.node);case"ELLIPSE":return d.convertEllipseToPathData(this.node);case"CIRCLE":return d.convertCircleToPathData(this.node);case"RECT":return d.convertRectToPathData(this.node)}throw new Error(b+" cannot be converted to PATH.")},d.prototype.toGeometryShape=function(){var b,M,k,R,X,ce,he,Se,Ge,U,ne,re,le,ft,vt;switch(this.tagName()){case"RECT":return b=parseFloat(this.attr("x"))||0,M=parseFloat(this.attr("y"))||0,k=parseFloat(this.attr("width"))||0,R=parseFloat(this.attr("height"))||0,new Xe(b,M,k,R);case"CIRCLE":return X=parseFloat(this.attr("cx"))||0,ce=parseFloat(this.attr("cy"))||0,he=parseFloat(this.attr("r"))||0,new vo({x:X,y:ce},he,he);case"ELLIPSE":return X=parseFloat(this.attr("cx"))||0,ce=parseFloat(this.attr("cy"))||0,Se=parseFloat(this.attr("rx"))||0,Ge=parseFloat(this.attr("ry"))||0,new vo({x:X,y:ce},Se,Ge);case"POLYLINE":return U=d.getPointsFromSvgNode(this),new or(U);case"POLYGON":return(U=d.getPointsFromSvgNode(this)).length>1&&U.push(U[0]),new or(U);case"PATH":return ne=this.attr("d"),mt.isDataSupported(ne)||(ne=d.normalizePathData(ne)),new mt(ne);case"LINE":return re=parseFloat(this.attr("x1"))||0,ft=parseFloat(this.attr("y1"))||0,le=parseFloat(this.attr("x2"))||0,vt=parseFloat(this.attr("y2"))||0,new rt({x:re,y:ft},{x:le,y:vt})}return this.getBBox()},p.findIntersection=function(b,M){var k=this.svg().node,R=this.getBBox({target:M=M||k}),X=R.center();if(R.intersectionWithLineFromCenterToPoint(b)){var ce,he=this.tagName();if("RECT"===he){var Se=new Xe(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),Ge=this.getTransformToElement(M),U=d.decomposeMatrix(Ge),ne=k.createSVGTransform();ne.setRotate(-U.rotation,X.x,X.y);var re=d.transformRect(Se,ne.matrix.multiply(Ge));ce=new Xe(re).intersectionWithLineFromCenterToPoint(b,U.rotation)}else if("PATH"===he||"POLYGON"===he||"POLYLINE"===he||"CIRCLE"===he||"ELLIPSE"===he){var zn,Ze,Mt,be,ze,ft=("PATH"===he?this:this.convertToPath()).sample(),vt=1/0,_n=[];for(zn=0;zn<ft.length;zn++)Mt=(Mt=d.createSVGPoint((Ze=ft[zn]).x,Ze.y)).matrixTransform(this.getTransformToElement(M)),(ze=(Ze=new q(Mt)).distance(X)+(be=1.1*Ze.distance(b)))<vt?(vt=ze,_n=[{sample:Ze,refDistance:be}]):ze<vt+1&&_n.push({sample:Ze,refDistance:be});_n.sort(function(tn,Dn){return tn.refDistance-Dn.refDistance}),_n[0]&&(ce=_n[0].sample)}return ce}},p.setAttribute=function(b,M){const k=this.node;if(null===M)return this.removeAttr(b),this;const R=de[b],{ns:X}=d.qualifyAttr(R);return X?k.setAttributeNS(X,R,M):"id"===R?k.id=M:k.setAttribute(R,M),this},d.createSvgDocument=function(b){if(b){const k=`<svg xmlns="${t.svg}" xmlns:xlink="${t.xlink}" version="1.1">${b}</svg>`,{documentElement:R}=d.parseXML(k,{async:!1});return R}const M=document.createElementNS(t.svg,"svg");return M.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),M.setAttribute("version","1.1"),M},d.createSVGStyle=function(b){const{node:M}=d("style",{type:"text/css"},[d.createCDATASection(b)]);return M},d.createCDATASection=function(b=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(b)},d.idCounter=0,d.uniqueId=function(){return"v-"+ ++d.idCounter},d.toNode=function(b){return d.isV(b)?b.node:b.nodeName&&b||b[0]},d.ensureId=function(b){return(b=d.toNode(b)).id||(b.id=d.uniqueId())},d.sanitizeText=function(b){return(b||"").replace(/ /g,"\xa0")},d.isUndefined=function(b){return typeof b>"u"},d.isString=function(b){return"string"==typeof b},d.isObject=function(b){return b&&"object"==typeof b},d.isArray=Array.isArray,d.parseXML=function(b,M){var k;M=M||{};try{var R=new DOMParser;d.isUndefined(M.async)||(R.async=M.async),k=R.parseFromString(b,"text/xml")}catch{k=void 0}if(!k||k.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+b);return k};const K=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach(b=>K[b]=b);const de=new Proxy(K,{get:(b,M)=>d.supportCamelCaseAttributes?M in b?b[M]:b[M]=M.replace(/[A-Z]/g,"-$&").toLowerCase():M});Object.defineProperty(d,"attributeNames",{value:de,writable:!1}),Object.defineProperty(d,"supportCamelCaseAttributes",{value:!1,writable:!0}),d.qualifyAttr=function(b){if(-1!==b.indexOf(":")){var M=b.split(":");return{ns:t[M[0]],local:M[1]}}return{ns:null,local:b}},d.transformSeparatorRegex=/[ ,]+/,d.transformRegex=/\b\w+\([^()]+\)/g,d.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,d.transformTranslateRegex=/\btranslate\(([^()]+)\)/,d.transformRotateRegex=/\brotate\(([^()]+)\)/,d.transformScaleRegex=/\bscale\(([^()]+)\)/,d.transformStringToMatrix=function(b){let M=d.createSVGMatrix();const k=b&&b.match(d.transformRegex);if(!k)return M;const R=k.length;for(let X=0;X<R;X++){const he=k[X].match(d.transformFunctionRegex);if(he){let Se,Ge,U,ne,re,le=d.createSVGMatrix();const ft=he[1].toLowerCase(),vt=he[2].split(d.transformSeparatorRegex);switch(ft){case"scale":Se=parseFloat(vt[0]),Ge=void 0===vt[1]?Se:parseFloat(vt[1]),le=le.scaleNonUniform(Se,Ge);break;case"translate":U=parseFloat(vt[0]),ne=parseFloat(vt[1]),le=le.translate(U,ne);break;case"rotate":re=parseFloat(vt[0]),U=parseFloat(vt[1])||0,ne=parseFloat(vt[2])||0,le=0!==U||0!==ne?le.translate(U,ne).rotate(re).translate(-U,-ne):le.rotate(re);break;case"skewx":re=parseFloat(vt[0]),le=le.skewX(re);break;case"skewy":re=parseFloat(vt[0]),le=le.skewY(re);break;case"matrix":le.a=parseFloat(vt[0]),le.b=parseFloat(vt[1]),le.c=parseFloat(vt[2]),le.d=parseFloat(vt[3]),le.e=parseFloat(vt[4]),le.f=parseFloat(vt[5]);break;default:continue}M=M.multiply(le)}}return M},d.matrixToTransformString=function(b){return b||(b=!0),"matrix("+(void 0!==b.a?b.a:1)+","+(void 0!==b.b?b.b:0)+","+(void 0!==b.c?b.c:0)+","+(void 0!==b.d?b.d:1)+","+(void 0!==b.e?b.e:0)+","+(void 0!==b.f?b.f:0)+")"},d.parseTransformString=function(b){var M,k,R;if(b){var X=d.transformSeparatorRegex;if(b.trim().indexOf("matrix")>=0){var ce=d.transformStringToMatrix(b),he=d.decomposeMatrix(ce);R=[he.scaleX,he.scaleY],k=[he.rotation];var Se=[];(0!==(M=[he.translateX,he.translateY])[0]||0!==M[1])&&Se.push("translate("+M+")"),(1!==R[0]||1!==R[1])&&Se.push("scale("+R+")"),0!==k[0]&&Se.push("rotate("+k+")"),b=Se.join(" ")}else{const U=b.match(d.transformTranslateRegex);U&&(M=U[1].split(X));const ne=b.match(d.transformRotateRegex);ne&&(k=ne[1].split(X));const re=b.match(d.transformScaleRegex);re&&(R=re[1].split(X))}}var Ge=R&&R[0]?parseFloat(R[0]):1;return{value:b,translate:{tx:M&&M[0]?parseInt(M[0],10):0,ty:M&&M[1]?parseInt(M[1],10):0},rotate:{angle:k&&k[0]?parseInt(k[0],10):0,cx:k&&k[1]?parseInt(k[1],10):void 0,cy:k&&k[2]?parseInt(k[2],10):void 0},scale:{sx:Ge,sy:R&&R[1]?parseFloat(R[1]):Ge}}},d.deltaTransformPoint=function(b,M){return{x:M.x*b.a+M.y*b.c+0,y:M.x*b.b+M.y*b.d+0}},d.decomposeMatrix=function(b){var M=d.deltaTransformPoint(b,{x:0,y:1}),k=d.deltaTransformPoint(b,{x:1,y:0}),R=180/i*o(M.y,M.x)-90,X=180/i*o(k.y,k.x);return{translateX:b.e,translateY:b.f,scaleX:s(b.a*b.a+b.b*b.b),scaleY:s(b.c*b.c+b.d*b.d),skewX:R,skewY:X,rotation:R}},d.matrixToScale=function(b){var M,k,R,X;return b?(M=d.isUndefined(b.a)?1:b.a,X=d.isUndefined(b.d)?1:b.d,k=b.b,R=b.c):M=X=1,{sx:k?s(M*M+k*k):M,sy:R?s(R*R+X*X):X}},d.matrixToRotate=function(b){var M={x:0,y:1};return b&&(M=d.deltaTransformPoint(b,M)),{angle:Ps(rg(o(M.y,M.x))-90)}},d.matrixToTranslate=function(b){return{tx:b&&b.e||0,ty:b&&b.f||0}},d.isV=function(b){return b instanceof d},d.isVElement=d.isV,d.isSVGGraphicsElement=function(b){return!!b&&(b=d.toNode(b))instanceof SVGElement&&"function"==typeof b.getScreenCTM};var ye=d("svg").node;return d.createSVGMatrix=function(b){var M=ye.createSVGMatrix();for(var k in b)M[k]=b[k];return M},d.createSVGTransform=function(b){return d.isUndefined(b)?ye.createSVGTransform():(b instanceof SVGMatrix||(b=d.createSVGMatrix(b)),ye.createSVGTransformFromMatrix(b))},d.createSVGPoint=function(b,M){var k=ye.createSVGPoint();return k.x=b,k.y=M,k},d.transformRect=function(b,M){var k=ye.createSVGPoint();k.x=b.x,k.y=b.y;var R=k.matrixTransform(M);k.x=b.x+b.width,k.y=b.y;var X=k.matrixTransform(M);k.x=b.x+b.width,k.y=b.y+b.height;var ce=k.matrixTransform(M);k.x=b.x,k.y=b.y+b.height;var he=k.matrixTransform(M),Se=a(R.x,X.x,ce.x,he.x),Ge=c(R.x,X.x,ce.x,he.x),U=a(R.y,X.y,ce.y,he.y),ne=c(R.y,X.y,ce.y,he.y);return new Xe(Se,U,Ge-Se,ne-U)},d.transformPoint=function(b,M){return new q(d.createSVGPoint(b.x,b.y).matrixTransform(M))},d.transformLine=function(b,M){return new rt(d.transformPoint(b.start,M),d.transformPoint(b.end,M))},d.transformPolyline=function(b,M){var k=b instanceof or?b.points:b;d.isArray(k)||(k=[]);for(var R=[],X=0,ce=k.length;X<ce;X++)R[X]=d.transformPoint(k[X],M);return new or(R)},d.styleToObject=function(b){for(var M={},k=b.split(";"),R=0;R<k.length;R++){var ce=k[R].split("=");M[ce[0].trim()]=ce[1].trim()}return M},d.createSlicePathData=function(b,M,k,R){var X=2*i-1e-6,ce=b,he=M,Se=k,Ge=R,U=(Ge<Se&&(U=Se,Se=Ge,Ge=U),Ge-Se),ne=U<i?"0":"1",re=l(Se),le=u(Se),ft=l(Ge),vt=u(Ge);return U>=X?ce?"M0,"+he+"A"+he+","+he+" 0 1,1 0,"+-he+"A"+he+","+he+" 0 1,1 0,"+he+"M0,"+ce+"A"+ce+","+ce+" 0 1,0 0,"+-ce+"A"+ce+","+ce+" 0 1,0 0,"+ce+"Z":"M0,"+he+"A"+he+","+he+" 0 1,1 0,"+-he+"A"+he+","+he+" 0 1,1 0,"+he+"Z":ce?"M"+he*re+","+he*le+"A"+he+","+he+" 0 "+ne+",1 "+he*ft+","+he*vt+"L"+ce*ft+","+ce*vt+"A"+ce+","+ce+" 0 "+ne+",0 "+ce*re+","+ce*le+"Z":"M"+he*re+","+he*le+"A"+he+","+he+" 0 "+ne+",1 "+he*ft+","+he*vt+"L0,0Z"},d.mergeAttrs=function(b,M){for(var k in M)b[k]="class"===k?b[k]?b[k]+" "+M[k]:M[k]:"style"===k?d.isObject(b[k])&&d.isObject(M[k])?d.mergeAttrs(b[k],M[k]):d.isObject(b[k])?d.mergeAttrs(b[k],d.styleToObject(M[k])):d.isObject(M[k])?d.mergeAttrs(d.styleToObject(b[k]),M[k]):d.mergeAttrs(d.styleToObject(b[k]),d.styleToObject(M[k])):M[k];return b},d.annotateString=function(b,M,k){M=M||[];for(var ce,Se,Ge,R=(k=k||{}).offset||0,X=[],he=[],U=0;U<b.length;U++){Se=he[U]=b[U];for(var ne=0;ne<M.length;ne++){var re=M[ne];U>=re.start+R&&U<re.end+R&&(d.isObject(Se)?Se.attrs=d.mergeAttrs(d.mergeAttrs({},Se.attrs),re.attrs):Se=he[U]={t:b[U],attrs:re.attrs},k.includeAnnotationIndices&&(Se.annotations||(Se.annotations=[])).push(ne))}(Ge=he[U-1])?d.isObject(Se)&&d.isObject(Ge)?JSON.stringify(Se.attrs)===JSON.stringify(Ge.attrs)?ce.t+=Se.t:(X.push(ce),ce=Se):d.isObject(Se)||d.isObject(Ge)?(X.push(ce),ce=Se):ce=(ce||"")+Se:ce=Se}return ce&&X.push(ce),X},d.findAnnotationsAtIndex=function(b,M){var k=[];return b&&b.forEach(function(R){R.start<M&&M<=R.end&&k.push(R)}),k},d.findAnnotationsBetweenIndexes=function(b,M,k){var R=[];return b&&b.forEach(function(X){(M>=X.start&&M<X.end||k>X.start&&k<=X.end||X.start>=M&&X.end<k)&&R.push(X)}),R},d.shiftAnnotations=function(b,M,k){return b&&b.forEach(function(R){R.start<M&&R.end>=M?R.end+=k:R.start>=M&&(R.start+=k,R.end+=k)}),b},d.convertLineToPathData=function(b){return["M",(b=d(b)).attr("x1"),b.attr("y1"),"L",b.attr("x2"),b.attr("y2")].join(" ")},d.convertPolygonToPathData=function(b){var M=d.getPointsFromSvgNode(b);return 0===M.length?null:d.svgPointsToPath(M)+" Z"},d.convertPolylineToPathData=function(b){var M=d.getPointsFromSvgNode(b);return 0===M.length?null:d.svgPointsToPath(M)},d.svgPointsToPath=function(b){for(var M=0,k=b.length;M<k;M++)b[M]=b[M].x+" "+b[M].y;return"M "+b.join(" L")},d.getPointsFromSvgNode=function(b){var M=[],k=(b=d.toNode(b)).points;if(k)for(var R=0,X=k.numberOfItems;R<X;R++)M.push(k.getItem(R));return M},d.KAPPA=.551784,d.convertCircleToPathData=function(b){b=d(b);var M=parseFloat(b.attr("cx"))||0,k=parseFloat(b.attr("cy"))||0,R=parseFloat(b.attr("r")),X=R*d.KAPPA;return["M",M,k-R,"C",M+X,k-R,M+R,k-X,M+R,k,"C",M+R,k+X,M+X,k+R,M,k+R,"C",M-X,k+R,M-R,k+X,M-R,k,"C",M-R,k-X,M-X,k-R,M,k-R,"Z"].join(" ")},d.convertEllipseToPathData=function(b){b=d(b);var M=parseFloat(b.attr("cx"))||0,k=parseFloat(b.attr("cy"))||0,R=parseFloat(b.attr("rx")),X=parseFloat(b.attr("ry"))||R,ce=R*d.KAPPA,he=X*d.KAPPA;return["M",M,k-X,"C",M+ce,k-X,M+R,k-he,M+R,k,"C",M+R,k+he,M+ce,k+X,M,k+X,"C",M-ce,k+X,M-R,k+he,M-R,k,"C",M-R,k-he,M-ce,k-X,M,k-X,"Z"].join(" ")},d.convertRectToPathData=function(b){return b=d(b),d.rectToPath({x:parseFloat(b.attr("x"))||0,y:parseFloat(b.attr("y"))||0,width:parseFloat(b.attr("width"))||0,height:parseFloat(b.attr("height"))||0,rx:parseFloat(b.attr("rx"))||0,ry:parseFloat(b.attr("ry"))||0})},d.rectToPath=function(b){var k=b.x,R=b.y,X=b.width,ce=b.height,he=a(b.rx||b["top-rx"]||0,X/2),Se=a(b.rx||b["bottom-rx"]||0,X/2),Ge=a(b.ry||b["top-ry"]||0,ce/2),U=a(b.ry||b["bottom-ry"]||0,ce/2);return(he||Se||Ge||U?["M",k,R+Ge,"v",ce-Ge-U,"a",Se,U,0,0,0,Se,U,"h",X-2*Se,"a",Se,U,0,0,0,Se,-U,"v",-(ce-U-Ge),"a",he,Ge,0,0,0,-he,-Ge,"h",-(X-2*he),"a",he,Ge,0,0,0,-he,Ge,"Z"]:["M",k,R,"H",k+X,"V",R+ce,"H",k,"V",R,"Z"]).join(" ")},d.normalizePathData=function(){var b="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",M=new RegExp("([a-z])["+b+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+b+"]*,?["+b+"]*)+)","ig"),k=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+b+"]*,?["+b+"]*","ig"),R=Math,X=R.PI,ce=R.sin,he=R.cos,Se=R.tan,Ge=R.asin,U=R.sqrt,ne=R.abs;function re(Ze,Mt,xe,be,ze,tn){var Dn=.3333333333333333,Ht=2/3;return[Dn*Ze+Ht*xe,Dn*Mt+Ht*be,Dn*ze+Ht*xe,Dn*tn+Ht*be,ze,tn]}function le(Ze,Mt,xe){return{x:Ze*he(xe)-Mt*ce(xe),y:Ze*ce(xe)+Mt*he(xe)}}function ft(Ze,Mt,xe,be,ze,tn,Dn,Ht,_r,En){var ot,on=120*X/180,Zn=X/180*(+ze||0),Rt=[];if(En)Ri=En[0],Hr=En[1],dh=En[2],fh=En[3];else{Mt=(ot=le(Ze,Mt,-Zn)).y;var Tr=((Ze=ot.x)-(Ht=(ot=le(Ht,_r,-Zn)).x))/2,ti=(Mt-(_r=ot.y))/2,ts=Tr*Tr/(xe*xe)+ti*ti/(be*be);ts>1&&(xe*=ts=U(ts),be*=ts);var id=xe*xe,jw=be*be,yP=(tn==Dn?-1:1)*U(ne((id*jw-id*ti*ti-jw*Tr*Tr)/(id*ti*ti+jw*Tr*Tr))),dh=yP*xe*ti/be+(Ze+Ht)/2,fh=yP*-be*Tr/xe+(Mt+_r)/2,Ri=Ge(((Mt-fh)/be).toFixed(9)),Hr=Ge(((_r-fh)/be).toFixed(9));(Ri=Ze<dh?X-Ri:Ri)<0&&(Ri=2*X+Ri),(Hr=Ht<dh?X-Hr:Hr)<0&&(Hr=2*X+Hr),Dn&&Ri>Hr&&(Ri-=2*X),!Dn&&Hr>Ri&&(Hr-=2*X)}var zw=Hr-Ri;if(ne(zw)>on){var PJ=Hr,OJ=Ht,RJ=_r;Rt=ft(Ht=dh+xe*he(Hr=Ri+on*(Dn&&Hr>Ri?1:-1)),_r=fh+be*ce(Hr),xe,be,ze,0,Dn,OJ,RJ,[Hr,PJ,dh,fh])}zw=Hr-Ri;var LJ=he(Ri),FJ=ce(Ri),BJ=he(Hr),jJ=ce(Hr),bP=Se(zw/4),IP=4/3*(xe*bP),wP=4/3*(be*bP),CP=[Ze,Mt],od=[Ze+IP*FJ,Mt-wP*LJ],_P=[Ht+IP*jJ,_r-wP*BJ],AP=[Ht,_r];if(od[0]=2*CP[0]-od[0],od[1]=2*CP[1]-od[1],En)return[od,_P,AP].concat(Rt);for(var DP=[],zJ=(Rt=[od,_P,AP].concat(Rt).join().split(",")).length,Mc=0;Mc<zJ;Mc++)DP[Mc]=Mc%2?le(Rt[Mc-1],Rt[Mc],Zn).y:le(Rt[Mc],Rt[Mc+1],Zn).x;return DP}function zn(Ze){var Mt=function _n(Ze){if((!Array.isArray(Ze)||!Array.isArray(Ze&&Ze[0]))&&(Ze=function vt(Ze){if(!Ze)return null;var Mt={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},xe=[];return String(Ze).replace(M,function(be,ze,tn){var Dn=[],Ht=ze.toLowerCase();for(tn.replace(k,function(_r,En){En&&Dn.push(+En)}),"m"===Ht&&Dn.length>2&&(xe.push([ze].concat(Dn.splice(0,2))),Ht="l",ze="m"===ze?"l":"L");Dn.length>=Mt[Ht]&&(xe.push([ze].concat(Dn.splice(0,Mt[Ht]))),Mt[Ht]););}),xe}(Ze)),!Ze||!Ze.length)return[["M",0,0]];for(var Ht,Mt=[],xe=0,be=0,ze=0,tn=0,_r=Ze.length,En=0;En<_r;En++){var on=[];Mt.push(on);var Rt,ot,Zn=Ze[En];if((Ht=Zn[0])!=Ht.toUpperCase())switch(on[0]=Ht.toUpperCase(),on[0]){case"A":on[1]=Zn[1],on[2]=Zn[2],on[3]=Zn[3],on[4]=Zn[4],on[5]=Zn[5],on[6]=+Zn[6]+xe,on[7]=+Zn[7]+be;break;case"V":on[1]=+Zn[1]+be;break;case"H":on[1]=+Zn[1]+xe;break;case"M":for(ze=+Zn[1]+xe,tn=+Zn[2]+be,Rt=Zn.length,ot=1;ot<Rt;ot++)on[ot]=+Zn[ot]+(ot%2?xe:be);break;default:for(Rt=Zn.length,ot=1;ot<Rt;ot++)on[ot]=+Zn[ot]+(ot%2?xe:be)}else for(var Tr=Zn.length,ti=0;ti<Tr;ti++)on[ti]=Zn[ti];switch(on[0]){case"Z":xe=+ze,be=+tn;break;case"H":xe=on[1];break;case"V":be=on[1];break;case"M":ze=on[on.length-2],tn=on[on.length-1],xe=on[on.length-2],be=on[on.length-1];break;default:xe=on[on.length-2],be=on[on.length-1]}}return Mt}(Ze),xe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function be(Rt,ot,Tr){var ti,ts;if(!Rt)return["C",ot.x,ot.y,ot.x,ot.y,ot.x,ot.y];switch(Rt[0]in{T:1,Q:1}||(ot.qx=null,ot.qy=null),Rt[0]){case"M":ot.X=Rt[1],ot.Y=Rt[2];break;case"A":Rt=0===parseFloat(Rt[1])||0===parseFloat(Rt[2])?["L",Rt[6],Rt[7]]:["C"].concat(ft.apply(0,[ot.x,ot.y].concat(Rt.slice(1))));break;case"S":"C"===Tr||"S"===Tr?(ti=2*ot.x-ot.bx,ts=2*ot.y-ot.by):(ti=ot.x,ts=ot.y),Rt=["C",ti,ts].concat(Rt.slice(1));break;case"T":"Q"===Tr||"T"===Tr?(ot.qx=2*ot.x-ot.qx,ot.qy=2*ot.y-ot.qy):(ot.qx=ot.x,ot.qy=ot.y),Rt=["C"].concat(re(ot.x,ot.y,ot.qx,ot.qy,Rt[1],Rt[2]));break;case"Q":ot.qx=Rt[1],ot.qy=Rt[2],Rt=["C"].concat(re(ot.x,ot.y,Rt[1],Rt[2],Rt[3],Rt[4]));break;case"H":Rt=["L"].concat(Rt[1],ot.y);break;case"V":Rt=["L"].concat(ot.x,Rt[1])}return Rt}function ze(Rt,ot){if(Rt[ot].length>7){Rt[ot].shift();for(var Tr=Rt[ot];Tr.length;)tn[ot]="A",Rt.splice(ot++,0,["C"].concat(Tr.splice(0,6)));Rt.splice(ot,1),_r=Mt.length}}for(var tn=[],Dn="",Ht="",_r=Mt.length,En=0;En<_r;En++){Mt[En]&&(Dn=Mt[En][0]),"C"!==Dn&&(tn[En]=Dn,En>0&&(Ht=tn[En-1])),Mt[En]=be(Mt[En],xe,Ht),"A"!==tn[En]&&"C"===Dn&&(tn[En]="C"),ze(Mt,En);var on=Mt[En],Zn=on.length;xe.x=on[Zn-2],xe.y=on[Zn-1],xe.bx=parseFloat(on[Zn-4])||xe.x,xe.by=parseFloat(on[Zn-3])||xe.y}return(!Mt[0][0]||"M"!==Mt[0][0])&&Mt.unshift(["M",0,0]),Mt}return function(Ze){return zn(Ze).join(",").split(",").join(" ")}}(),d.namespace=t,d.g=Ir,d}(),ls={useCSSSelectors:!0,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},Ef="[object Arguments]",l0="[object Array]",gg="[object Boolean]",u0="[object Date]",AT="[object Error]",xf="[object Map]",mg="[object Number]",Lu="[object Object]",d0="[object RegExp]",Mf="[object Set]",vg="[object String]",yg="[object Symbol]",f0="[object ArrayBuffer]",h0="[object DataView]",DT="[object Float32Array]",ET="[object Float64Array]",xT="[object Int8Array]",MT="[object Int16Array]",TT="[object Int32Array]",ST="[object Uint8Array]",NT="[object Uint8ClampedArray]",kT="[object Uint16Array]",PT="[object Uint32Array]",pG={[Ef]:!0,[l0]:!0,[f0]:!0,[h0]:!0,[gg]:!0,[u0]:!0,[DT]:!0,[ET]:!0,[xT]:!0,[MT]:!0,[TT]:!0,[xf]:!0,[mg]:!0,[Lu]:!0,[d0]:!0,[Mf]:!0,[vg]:!0,[yg]:!0,[ST]:!0,[NT]:!0,[kT]:!0,[PT]:!0,[AT]:!1,"[object Function]":!1,"[object WeakMap]":!1},p0="\\ud800-\\udfff",OT="\\u2700-\\u27bf",RT="a-z\\xdf-\\xf6\\xf8-\\xff",LT="A-Z\\xc0-\\xd6\\xd8-\\xde",FT="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",jT=`[${FT}]`,g0="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]",EG=`[${OT}]`,VT=`[${RT}]`,GT=`[^${p0}${FT+"\\d"+OT+RT+LT}]`,m0="\\ud83c[\\udffb-\\udfff]",UT=`[^${p0}]`,v0="(?:\\ud83c[\\udde6-\\uddff]){2}",y0="[\\ud800-\\udbff][\\udc00-\\udfff]",Fu=`[${LT}]`,HT=`(?:${VT}|${GT})`,TG=`(?:${Fu}|${GT})`,ZT="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",WT="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",YT=`(?:${g0}|${m0})?`,XT="[\\ufe0e\\ufe0f]?",$T=XT+YT+`(?:\\u200d(?:${[UT,v0,y0].join("|")})${XT+YT})*`,PG=`(?:${[EG,v0,y0].join("|")})${$T}`,OG=RegExp([`${Fu}?${VT}+${ZT}(?=${[jT,Fu,"$"].join("|")})`,`${TG}+${WT}(?=${[jT,Fu+HT,"$"].join("|")})`,`${Fu}?${HT}+${ZT}`,`${Fu}+${WT}`,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",PG].join("|"),"g"),I0="__hash_undefined__",RG=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,FG=`(?:${[`${UT}${g0}?`,g0,v0,y0,`[${p0}]`].join("|")})`,qT=RegExp(`${m0}(?=${m0})|${FG+$T}`,"g"),BG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jG=/^\w*$/,zG=".".charCodeAt(0),VG=/\\(\\)?/g,GG=RegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g"),UG=/^(?:0|[1-9]\d*)$/,HG=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),WG=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,JT=e=>qT.test(e),KT=e=>JT(e)?(e=>e.match(qT)||[])(e):(e=>e.split(""))(e),$G=e=>null==e?[]:Tf(e).map(t=>e[t]),Tf=e=>Jo(e)?QT(e):Object.keys(Object(e)),QT=(e,t)=>{const n=Array.isArray(e),r=!n&&us(e)&&ds(e)===Ef,i=!n&&!r&&Nf(e),o=n||r||i,s=e.length,a=new Array(o?s:0);let c=o?-1:s;for(;++c<s;)a[c]=`${c}`;for(const l in e)(t||hasOwnProperty.call(e,l))&&(!o||"length"!==l&&!E0(l,s))&&a.push(l);return a},bg=(e,t)=>{let{length:n}=e;for(;n--;)if(Bu(e[n][0],t))return n;return-1},Bu=(e,t)=>e===t||e!=e&&t!=t,us=e=>null!=e&&"object"==typeof e,Ig=(e,t,n)=>{if(!Pn(n))return!1;const r=typeof t;return!!("number"==r?Jo(n)&&t>-1&&t<n.length:"string"==r&&t in n)&&Bu(n[t],e)},wg=e=>{const t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Object.prototype)},hl=(e,t,n)=>{const r=e[t];(!hasOwnProperty.call(e,t)||!Bu(r,n)||void 0===n&&!(t in e))&&(e[t]=n)},Sf=(e,t,n)=>{let r=-1;const i=t.length;for(;++r<i;){const o=t[r];hl(n,o,e[o])}return n},Jo=e=>null!=e&&"function"!=typeof e&&"number"==typeof e.length&&e.length>-1&&e.length%1==0,ju=e=>"symbol"==typeof e||us(e)&&ds(e)===yg,w0=(e,t)=>{let n=-1;const r=e.length;for(t||(t=new Array(r));++n<r;)t[n]=e[n];return t},ds=e=>null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e),C0=e=>{const t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t},eS=(e,t)=>{const n=t?C0(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},tS=e=>"function"!=typeof e.constructor||wg(e)?{}:Object.create(Object.getPrototypeOf(e)),_0=e=>null==e?[]:(e=Object(e),Object.getOwnPropertySymbols(e).filter(n=>propertyIsEnumerable.call(e,n))),Nf=e=>us(e)&&RG.test(ds(e)),A0=e=>{const t=Object.keys(e);return!Array.isArray(e)&&null!=e&&t.push(..._0(Object(e))),t},nS=e=>{const t=[];for(;e;)t.push(..._0(e)),e=Object.getPrototypeOf(Object(e));return t},rS=e=>{const t=[];for(const n in e)t.push(n);return Array.isArray(e)||t.push(...nS(e)),t},Cg=({__data__:e},t)=>{const n=e;return mU(t)?n["string"==typeof t?"string":"hash"]:n.map},_g=(e,t,n)=>e===t||(null==e||null==t||!us(e)&&!us(t)?e!=e&&t!=t:oU(e,t,_g,n)),oU=(e,t,n,r)=>{let i=Array.isArray(e);const o=Array.isArray(t);let s=i?l0:ds(e),a=o?l0:ds(t);s=s==Ef?Lu:s,a=a==Ef?Lu:a;let c=s==Lu;const l=a==Lu,u=s==a;if(u&&!c)return r||(r=new Vu),i||Nf(e)?iS(e,t,!1,n,r):cU(e,t,s,n,r);const d=c&&hasOwnProperty.call(e,"__wrapped__"),p=l&&hasOwnProperty.call(t,"__wrapped__");if(d||p){const g=d?e.value():e,v=p?t.value():t;return r||(r=new Vu),n(g,v,r)}return!!u&&(r||(r=new Vu),((e,t,n,r)=>{const i=A0(e),o=i.length;if(o!=A0(t).length)return!1;let c,l=o;for(;l--;)if(c=i[l],!hasOwnProperty.call(t,c))return!1;const u=r.get(e),d=r.get(t);if(u&&d)return u==t&&d==e;let v,p=!0;for(r.set(e,t),r.set(t,e);++l<o;){c=i[l];const w=e[c],E=t[c];if(w!==E&&!n(w,E,r)){p=!1;break}v||(v="constructor"==c)}if(p&&!v){const w=e.constructor,E=t.constructor;w!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E)&&(p=!1)}return r.delete(e),r.delete(t),p})(e,t,n,r))},iS=(e,t,n,r,i)=>{const s=e.length;if(s!=t.length)return!1;const c=i.get(e),l=i.get(t);if(c&&l)return c==t&&l==e;let u=-1,d=!0;const p=n?new Gu:void 0;for(i.set(e,t),i.set(t,e);++u<s;){let g;const v=e[u],w=t[u];if(void 0!==g){if(g)continue;d=!1;break}if(p){if(!sU(t,(E,N)=>{if(!aU(p,N)&&(v===E||r(v,E,i)))return p.push(N)})){d=!1;break}}else if(v!==w&&!r(v,w,i)){d=!1;break}}return i.delete(e),i.delete(t),d},sU=(e,t)=>{let n=-1;const r=null==e?0:e.length;for(;++n<r;)if(t(e[n],n,e))return!0;return!1},aU=(e,t)=>e.has(t),oS=(e,t,n,r)=>!(e.byteLength!=t.byteLength||!n(new Uint8Array(e),new Uint8Array(t),r)),cU=(e,t,n,r,i)=>{switch(n){case h0:return e.byteLength==t.byteLength&&e.byteOffset==t.byteOffset&&oS(e=e.buffer,t=t.buffer,r,i);case f0:return oS(e,t,r,i);case gg:case u0:case mg:return Bu(+e,+t);case AT:return e.name==t.name&&e.message==t.message;case d0:case vg:return e==`${t}`;case xf:let o=sS;case Mf:if(o||(o=Ag),e.size!=t.size)return!1;const s=i.get(e);if(s)return s==t;i.set(e,t);const a=iS(o(e),o(t),!0,r,i);return i.delete(e),a;case yg:return Symbol.prototype.valueOf.call(e)==Symbol.prototype.valueOf.call(t)}return!1},sS=e=>{let t=-1,n=Array(e.size);return e.forEach((r,i)=>{n[++t]=[i,r]}),n},Ag=e=>{let t=-1;const n=new Array(e.size);return e.forEach(r=>{n[++t]=r}),n},D0=(e,t)=>{if(Array.isArray(e))return!1;const n=typeof e;return!("number"!==n&&"boolean"!==n&&null!=e&&!ju(e))||jG.test(e)||!BG.test(e)||null!=t&&e in Object(t)},gc=(e,t)=>Array.isArray(e)?e:D0(e,t)?[e]:(e=>{const t=[];return e.charCodeAt(0)===zG&&t.push(""),e.replace(GG,(n,r,i,o)=>{let s=n;i?s=o.replace(VG,"$1"):r&&(s=r.trim()),t.push(s)}),t})(`${e}`),kf=(e,t)=>{let n=0;const r=(t=gc(t,e)).length;for(;null!=e&&n<r;)e=e[Pa(t[n])],n++;return n&&n==r?e:void 0};function uU(e,t){if(e!==t){const n=void 0!==e,r=null===e,i=e==e,o=ju(e),s=void 0!==t,a=null===t,c=t==t,l=ju(t);if(!a&&!l&&!o&&e>t||o&&s&&c&&!a&&!l||r&&s&&c||!n&&c||!i)return 1;if(!r&&!o&&!l&&e<t||l&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!c)return-1}return 0}const aS=(e,t)=>{let n=(s,a)=>!(null==s||!s.length)&&s.indexOf(a)>-1,r=!0;const i=[],o=t.length;if(!e.length)return i;t.length>=200&&(n=(s,a)=>s.has(a),r=!1,t=new Gu(t));e:for(let s in e){let a=e[s];const c=a;if(a=0!==a?a:0,r&&c==c){let l=o;for(;l--;)if(t[l]===c)continue e;i.push(a)}else n(t,c)||i.push(a)}return i},Pa=e=>{if("string"==typeof e||ju(e))return e;const t=`${e}`;return"0"==t&&1/e==-1/0?"-0":t},zu=(e,t=!1,n=!1,r=!0,i,o,s,a)=>{let c;if(i&&(c=s?i(e,o,s,a):i(e)),void 0!==c)return c;if(!Pn(e))return e;const l=Array.isArray(e),u=ds(e);if(l){if(c=(e=>{const t=e.length;let n=new e.constructor(t);return t&&"string"==typeof e[0]&&hasOwnProperty.call(e,"index")&&(n.index=e.index,n.input=e.input),n})(e),!t)return w0(e,c)}else{const v="function"==typeof e;if(u===Lu||u===Ef||v&&!s){if(c=n||v?{}:tS(e),!t)return n?hU(e,Sf(e,Object.keys(e),c)):((e,t)=>Sf(e,_0(e),t))(e,Object.assign(c,e))}else{if(v||!pG[u])return s?e:{};c=((e,t,n)=>{const r=e.constructor;switch(t){case f0:return C0(e);case gg:case u0:return new r(+e);case h0:return function nU(e,t){const n=t?C0(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case DT:case ET:case xT:case MT:case TT:case ST:case NT:case kT:case PT:return eS(e,n);case xf:case mg:case vg:return new r(e);case d0:return(e=>{const t=new e.constructor(e.source,/\w*$/.exec(e));return t.lastIndex=e.lastIndex,t})(e);case Mf:return new r;case yg:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(e)):{}}})(e,u,t)}}a||(a=new Vu);const d=a.get(e);if(d)return d;if(a.set(e,c),(e=>us(e)&&ds(e)==xf)(e))return e.forEach((v,w)=>{c.set(w,zu(v,t,n,r,i,w,e,a))}),c;if((e=>us(e)&&ds(e)==Mf)(e))return e.forEach(v=>{c.add(zu(v,t,n,r,i,v,e,a))}),c;if(Nf(e))return c;const g=l?void 0:(r?n?rS:A0:n?x0:Tf)(e);return(g||e).forEach((v,w)=>{g&&(v=e[w=v]),hl(c,w,zu(v,t,n,r,i,w,e,a))}),c},hU=(e,t)=>Sf(e,nS(e),t),cS=(e,t)=>t.length<2?e:kf(e,t.slice(0,-1)),E0=(e,t)=>{const n=typeof e;return!!(t=t??Number.MAX_SAFE_INTEGER)&&("number"===n||"symbol"!==n&&UG.test(e))&&e>-1&&e%1==0&&e<t},gU=(e,t)=>(t=gc(t,e),null==(e=cS(e,t))||delete e[Pa(t[t.length-1])]),mU=e=>{const t=typeof e;return"string"===t||"number"===t||"symbol"===t||"boolean"===t?"__proto__"!==e:null===e},x0=e=>{const t=[];for(const n in e)t.push(n);return t},lS=(e,t)=>{if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};function uS(e,t=!1){return(n,...r)=>{let i=-1,o=r.length,s=o>1?r[o-1]:void 0;const a=o>2?r[2]:void 0;for(s=e.length>3&&"function"==typeof s?(o--,s):t?(c,l)=>{if(Array.isArray(c)&&!Array.isArray(l))return l}:void 0,a&&Ig(r[0],r[1],a)&&(s=o<3?void 0:s,o=1),n=Object(n);++i<o;){const c=r[i];c&&e(n,c,i,s)}return n}}const M0=(e,t,n,r,i)=>{e!==t&&ps(t,(o,s)=>{if(Pn(o))i||(i=new Vu),yU(e,t,s,n,M0,r,i);else{let a=r?r(e[s],o,`${s}`,e,t,i):void 0;void 0===a&&(a=o),T0(e,s,a)}},x0)},yU=(e,t,n,r,i,o,s)=>{const a=lS(e,n),c=lS(t,n),l=s.get(c);if(l)return void T0(e,n,l);let u=o?o(a,c,`${n}`,e,t,s):void 0,d=void 0===u;if(d){const p=Array.isArray(c),g=!p&&Nf(c);u=c,p||g?Array.isArray(a)?u=a:us(a)&&Jo(a)?u=w0(a):g?(d=!1,u=eS(c,!0)):u=[]:Vr(c)||Pf(c)?(u=a,Pf(a)?u=(e=>{e=Object(e);const t={};for(const n in e)t[n]=e[n];return t})(a):("function"==typeof a||!Pn(a))&&(u=tS(c))):d=!1}d&&(s.set(c,u),i(u,c,r,o,s),s.delete(c)),T0(e,n,u)},T0=(e,t,n)=>{(void 0!==n&&!Bu(e[t],n)||void 0===n&&!(t in e))&&hl(e,t,n)},S0=(e,t)=>{if(null==e)return e;if(!Jo(e))return((e,t)=>e&&function bU(e,t,n){const r=Object(e),i=n(e);let{length:o}=i,s=-1;for(;o--;){const a=i[++s];if(!1===t(r[a],a,r))break}return e}(e,t,Tf))(e,t);const n=e.length,r=Object(e);let i=-1;for(;++i<n&&!1!==t(r[i],i,r););return e},CU=Set&&1/Ag(new Set([void 0,-0]))[1]==1/0?e=>new Set(e):()=>{};function dS(e,t,n,r,i,o){return Pn(e)&&Pn(t)&&(o.set(t,e),M0(e,t,void 0,dS,o),o.delete(t)),e}function fS(e){return e==e&&!Pn(e)}function hS(e,t){return n=>null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}function kU(e){return"function"==typeof e?e:null==e?t=>t:"object"==typeof e?Array.isArray(e)?function DU(e,t){return D0(e)&&fS(t)?hS(Pa(e),t):n=>{const r=kf(n,e);return void 0===r&&r===t?function pS(e,t){return null!=e&&VU(e,t,zU)}(n,e):_g(t,r)}}(e[0],e[1]):function EU(e){const t=function xU(e){const t=Tf(e);let n=t.length;for(;n--;){const r=t[n],i=e[r];t[n]=[r,i,fS(i)]}return t}(e);return 1===t.length&&t[0][2]?hS(t[0][0],t[0][1]):n=>n===e||function MU(e,t,n,r){let i=n.length;const o=i,s=!r;if(null==e)return!o;let a,c;for(e=Object(e);i--;)if(a=n[i],s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1;for(;++i<o;){a=n[i];const l=a[0],u=e[l],d=a[1];if(s&&a[2]){if(void 0===u&&!(l in e))return!1}else{const p=new Vu;if(r&&(c=r(u,d,l,e,t,p)),!(void 0===c?_g(d,u,p):c))return!1}}return!0}(n,e,t)}(e):function TU(e){return D0(e)?function SU(e){return t=>t?.[e]}(Pa(e)):function NU(e){return t=>kf(t,e)}(e)}(e)}function Dg(){const e=kU;return arguments.length?e(arguments[0],arguments[1]):e}const PU=(e,t,n,r)=>{let i=-1;const o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n},OU=(e,t,n,r,i)=>(i(e,(o,s,a)=>{n=r?(r=!1,o):t(n,o,s,a)}),n),LU=e=>Array.isArray(e)||Pf(e)||!(!e||!e[Symbol.isConcatSpreadable]);function gS(e,t,n,r,i){let o=-1;const s=e.length;for(n||(n=LU),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?gS(a,t-1,n,r,i):i.push(...a):r||(i[i.length]=a)}return i}const Pf=e=>us(e)&&"[object Arguments]"==ds(e),zU=(e,t)=>null!=e&&t in Object(e),VU=(e,t,n)=>{for(var r=-1,i=(t=gc(t,e)).length,o=!1;++r<i;){var s=Pa(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&(e=>"number"==typeof e&&e>-1&&e%1==0&&e<=Number.MAX_SAFE_INTEGER)(i)&&E0(s,i)&&(Array.isArray(e)||Pf(e))},WU=function YU(e){return t=>{if(!t)return"";const n=JT(t)?KT(t):void 0,r=n?n[0]:t[0],i=n?((e,t,n)=>{const{length:r}=e;return e.slice(1,n=void 0===n?r:n)})(n).join(""):t.slice(1);return r[e]()+i}}("toUpperCase");class Vu{constructor(t){const n=this.__data__=new N0(t);this.size=n.size}clear(){this.__data__=new N0,this.size=0}delete(t){const n=this.__data__,r=n.delete(t);return this.size=n.size,r}get(t){return this.__data__.get(t)}has(t){return this.__data__.has(t)}set(t,n){let r=this.__data__;if(r instanceof N0){const i=r.__data__;if(i.length<199)return i.push([t,n]),this.size=++r.size,this;r=this.__data__=new mS(i)}return r.set(t,n),this.size=r.size,this}}class N0{constructor(t){let n=-1;const r=null==t?0:t.length;for(this.clear();++n<r;){const i=t[n];this.set(i[0],i[1])}}clear(){this.__data__=[],this.size=0}delete(t){const n=this.__data__,r=bg(n,t);return!(r<0)&&(r==n.length-1?n.pop():n.splice(r,1),--this.size,!0)}get(t){const n=this.__data__,r=bg(n,t);return r<0?void 0:n[r][1]}has(t){return bg(this.__data__,t)>-1}set(t,n){const r=this.__data__,i=bg(r,t);return i<0?(++this.size,r.push([t,n])):r[i][1]=n,this}}class mS{constructor(t){let n=-1;const r=null==t?0:t.length;for(this.clear();++n<r;){const i=t[n];this.set(i[0],i[1])}}clear(){this.size=0,this.__data__={hash:new vS,map:new Map,string:new vS}}delete(t){const n=Cg(this,t).delete(t);return this.size-=n?1:0,n}get(t){return Cg(this,t).get(t)}has(t){return Cg(this,t).has(t)}set(t,n){const r=Cg(this,t),i=r.size;return r.set(t,n),this.size+=r.size==i?0:1,this}}class vS{constructor(t){let n=-1;const r=null==t?0:t.length;for(this.clear();++n<r;){const i=t[n];this.set(i[0],i[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(t){const n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}get(t){const r=this.__data__[t];return r===I0?void 0:r}has(t){return void 0!==this.__data__[t]}set(t,n){const r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=void 0===n?I0:n,this}}class Gu{constructor(t){let n=-1;const r=null==t?0:t.length;for(this.__data__=new mS;++n<r;)this.add(t[n])}add(t){return this.__data__.set(t,I0),this}has(t){return this.__data__.has(t)}}Gu.prototype.push=Gu.prototype.add;const Pn=function(e){return!!e&&("object"==typeof e||"function"==typeof e)},Ro=function(e){return"number"==typeof e||!!e&&"object"==typeof e&&Object.prototype.toString.call(e)===mg},Ji=function(e){return"string"==typeof e||!!e&&"object"==typeof e&&Object.prototype.toString.call(e)===vg},xt=uS((e,t)=>{if(wg(t)||Jo(t))Sf(t,Tf(t),e);else for(var n in t)hasOwnProperty.call(t,n)&&hl(e,n,t[n])}),fs=(e,...t)=>{let n=-1,r=t.length;const i=r>2?t[2]:void 0;for(i&&Ig(t[0],t[1],i)&&(r=1);++n<r;){const o=t[n];if(null==o)continue;const s=Object.keys(o),a=s.length;let c=-1;for(;++c<a;){const l=s[c],u=e[l];(void 0===u||Bu(u,Object.prototype[l])&&!hasOwnProperty.call(e,l))&&(e[l]=o[l])}}return e},Uu=function(...t){return t.push(void 0,dS),Kr.apply(void 0,t)},ha=(e,t,...n)=>{let r=-1;const i="function"==typeof t,o=Jo(e)?new Array(e.length):[];return S0(e,s=>{o[++r]=i?t.apply(s,n):$U(s,t,...n)}),o},$U=(e,t,...n)=>{t=gc(t,e);const r=null==(e=cS(e,t))?e:e[Pa(function wU(e){const t=null==e?0:e.length;return t?e[t-1]:void 0}(t))];return r?.apply(e,n)},yS=(e,t,n)=>{let r=0,i=null==e?0:e.length;if(0==i)return 0;const o=(t=(n=Dg(n,2))(t))!=t,s=null===t,a=ju(t),c=void 0===t;for(;r<i;){let l;const u=Math.floor((r+i)/2),d=n(e[u]),p=void 0!==d,g=null===d,v=d==d,w=ju(d);l=o?v:c?v&&p:s?v&&p&&!g:a?v&&p&&!g&&!w:!g&&!w&&d<t,l?r=u+1:i=u}return Math.min(i,4294967294)},pl=(e,t)=>{let n=-1,r=(c,l)=>!(null==c||!c.length)&&c.indexOf(l)>-1;t=Dg(t,2);let i=!0;const{length:o}=e,s=[];let a=s;if(o>=200){const c=t?null:CU(e);if(c)return Ag(c);i=!1,r=(l,u)=>l.has(u),a=new Gu}else a=t?[]:s;e:for(;++n<o;){let c=e[n];const l=t?t(c):c;if(c=0!==c?c:0,i&&l==l){let u=a.length;for(;u--;)if(a[u]===l)continue e;t&&a.push(l),s.push(c)}else r(a,l)||(a!==s&&a.push(l),s.push(c))}return s},pa=e=>zu(e),hs=e=>zu(e,!0),Oa=e=>{if(null==e)return!0;if(Jo(e)&&(Array.isArray(e)||"string"==typeof e||"function"==typeof e.splice||Nf(e)||Pf(e)))return!e.length;const t=ds(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(wg(e))return!(e=>{if(!wg(e))return Object.keys(e);var t=[];for(var n in Object(e))hasOwnProperty.call(e,n)&&"constructor"!=n&&t.push(n);return t})(e).length;for(const n in e)if(hasOwnProperty.call(e,n))return!1;return!0},Hu=(e,t)=>_g(e,t),fr=e=>"function"==typeof e,Vr=e=>{if(!us(e)||"[object Object]"!=ds(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},An=e=>{if(!e)return[];if(Jo(e))return Ji(e)?KT(e):w0(e);if(Symbol.iterator&&Symbol.iterator in Object(e)){const r=e[Symbol.iterator]();let i;const o=[];for(;!(i=r.next()).done;)o.push(i.value);return o}const t=ds(e);return(t==xf?sS:t==Mf?Ag:$G)(e)},k0=(e,t=[])=>{if(null==e)return[];const n=t.length;return n>1&&Ig(e,t[0],t[1])?t=[]:n>2&&Ig(t[0],t[1],t[2])&&(t=[t[0]]),Array.isArray(t)||(t=[Dg(t,2)]),function _U(e,t,n){t=t.length?t.map(s=>Array.isArray(s)?a=>kf(a,1===s.length?s[0]:s):s):[s=>s];let r=-1,i=-1;const o=Jo(e)?new Array(e.length):[];return S0(e,s=>{const a=t.map(c=>c(s));o[++i]={criteria:a,index:++r,value:s}}),function AU(e,t){let{length:n}=e;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(s,a)=>function dU(e,t,n){let r=-1;const i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){const c=r<a?n[r]:null,u=(c&&"function"==typeof c?c:uU)(i[r],o[r]);if(u)return c&&"function"!=typeof c?u*("desc"==c?-1:1):u}return e.index-t.index}(s,a,n))}(e,t.flat(1),[])},KU=e=>null!=e&&e.length?gS(e,1/0):[],P0=(e,...t)=>Jo(e)?aS(e,t):[],bS=(e,...t)=>us(e)&&Jo(e)?aS(e,t.flat(1)):[],O0=(...e)=>{const t=e.flat(1);return pl(t)},Ra=(e,t)=>{if(null==e)return!1;"string"==typeof t&&(t=t.split("."));let n=-1,r=e;for(;++n<t.length;){if(!r||!hasOwnProperty.call(r,t[n]))return!1;r=r[t[n]]}return!0},Gr=(e,t,n)=>{let r=-1,i=(t=gc(t,e)).length;for(i||(i=1,e=void 0);++r<i;){let o=e?.[Pa(t[r])];void 0===o&&(r=i,o=n),e="function"==typeof o?o.call(e):o}return e},gl=(e,...t)=>{let n={};if(null==e)return n;let r=!1;t=t.flat(1).map(o=>(o=gc(o,e),r||(r=o.length>1),o)),Sf(e,rS(e),n),r&&(n=zu(n,!0,!0,!0,o=>Vr(o)?void 0:o));let i=t.length;for(;i--;)gU(n,t[i]);return n},ps=(e,t=(n=>n))=>{let n=-1;const r=Object(e),i=Jo(e)?QT(e,!0):x0(e);let o=i.length;for(;o--;){const s=i[++n];if(!1===t(r[s],s,r))break}};let eH=0;const Kr=uS((e,t,n,r)=>{M0(e,t,n,r)},!0),Os=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,ls.classNamePrefix.length)!==ls.classNamePrefix&&(t=ls.classNamePrefix+t),t}).join(" ")},nH=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,ls.classNamePrefix.length)===ls.classNamePrefix&&(t=t.substr(ls.classNamePrefix.length)),t}).join(" ")},Eg=function(e,t){const n={},r={},i=Ce.namespace.svg,o=t||i,s=document.createDocumentFragment(),a=function(c,l,u){for(let d=0;d<c.length;d++){const p=c[d];if("string"==typeof p){const K=document.createTextNode(p);l.appendChild(K);continue}if(!p.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const g=p.tagName;let v;p.hasOwnProperty("namespaceURI")&&(u=p.namespaceURI),v=document.createElementNS(u,g);const w=u===i,E=w?Ce:Tn,N=p.attributes;N&&E(v).attr(N);const P=p.style;if(P&&Tn(v).css(P),p.hasOwnProperty("className")){const K=p.className;w?v.className.baseVal=K:v.className=K}if(p.hasOwnProperty("textContent")&&(v.textContent=p.textContent),p.hasOwnProperty("selector")){const K=p.selector;if(n[K])throw new Error("json-dom-parser: selector must be unique");n[K]=v,E(v).attr("joint-selector",K)}if(p.hasOwnProperty("groupSelector")){let K=p.groupSelector;Array.isArray(K)||(K=[K]);for(let de=0;de<K.length;de++){const ye=K[de];let b=r[ye];b||(b=r[ye]=[]),b.push(v)}}l.appendChild(v);const W=p.children;Array.isArray(W)&&a(W,v,u)}};return a(e,s,o),{fragment:s,selectors:n,groupSelectors:r}},xg=function(e){let t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t},Of=function(e,t,n){for(var i,r=Array.isArray(t)?t:t.split(n||"/"),o=0,s=r.length;o<s;){if(i=r[o++],Object(e)!==e||!(i in e))return;e=e[i]}return e},IS=function(e,t){return"string"!=typeof t&&"number"!=typeof t&&(t=String(t)),!("constructor"===t&&"function"==typeof e[t]||"__proto__"===t)},R0=function(e,t,n,r){const i=Array.isArray(t)?t:t.split(r||"/"),o=i.length-1;let s=e,a=0;for(;a<o;a++){const c=i[a];if(!IS(s,c))return e;s=s[c]||(s[c]={})}return s[i[o]]=n,e},wS=function(e,t,n){const r=Array.isArray(t)?t:t.split(n||"/"),i=r.length-1;let o=e,s=0;for(;s<i;s++){const a=r[s];if(!IS(o,a))return e;const c=o[a];if(!c)return e;o=c}return delete o[r[i]],e},Zu=function(e){return Zu.id=Zu.id||1,void 0===e?"j_"+Zu.id++:(e.id=void 0===e.id?"j_"+Zu.id++:e.id,e.id)},oH=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},Pi=function(e){if(e.normalized)return e;const{originalEvent:t,target:n}=e,r=t&&t.changedTouches&&t.changedTouches[0];if(r)for(let i in r)void 0===e[i]&&(e[i]=r[i]);if(n){const i=n.correspondingUseElement;i&&(e.target=i)}return e.normalized=!0,e},L0=function(){var e;if(typeof window<"u"&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),o=setTimeout(function(){n(r+i)},i);return t=r+i,o}}return function(n,r,...i){return e(void 0!==r?n.bind(r,...i):n)}}(),F0=((t=typeof window<"u")&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e),Oi=function(e){return Ji(e)&&"%"===e.slice(-1)},cH=function(e,t){var r=parseFloat(e);if(Number.isNaN(r))return null;var o,i={};if(i.value=r,null==t)o="[A-Za-z]*";else if(Array.isArray(t)){if(0===t.length)return null;o=t.join("|")}else Ji(t)&&(o=t);var s=function n(a){var c=new RegExp("(?:\\d+(?:\\.\\d+)*)("+a+")$").exec(e);return c?c[1]:null}(o);return null===s?null:(i.unit=s,i)};var e,t;function lH(e,t){const n=e.split(t);let r=1;for(let i=0,o=n.length-1;i<o;i++){const s=[];(i>0||""!==n[0])&&s.push(0),s.push(t),(i<o-1||""!==n[o])&&s.push(0),n.splice(r,0,...s),r+=s.length+1}return n.filter(i=>""!==i)}function CS(e,t){if(null===e)return t.getBBox().height;switch(e.unit){case"em":return t.getBBox().height*e.value;case"px":case"":return e.value}}const _S=function(e,t,n={},r={}){var i=t.width,o=t.height,s=r.svgDocument||Ce("svg").node,a=Ce("tspan").node,c=Ce("text").attr(n).append(a).node,l=document.createTextNode("");c.style.opacity=0,c.style.display="block",a.style.display="block",a.appendChild(l),s.appendChild(c),r.svgDocument||document.body.appendChild(s);const u=r.preserveSpaces,p=r.separator||""===r.separator?r.separator:" ",g="string"==typeof p?p:" ";var v=r.eol||"\n",w=r.hyphen?new RegExp(r.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,E=r.maxLineCount;Ro(E)||(E=1/0);var K,de,ye,N=e.split(p),P=[],W=[];u&&Ce(a).attr("xml:space","preserve");for(var b=0,M=0,k=N.length;b<k;b++){var R=N[b];if((R||u)&&"string"==typeof R){var X=!1;if(v&&R.indexOf(v)>=0){if(R.length>1){const ft=lH(N[b],v);N.splice(b,1,...ft),b--,k=N.length;continue}if(u&&"string"==typeof N[b-1]){N.splice(b,0,"",0),k+=2,b--;continue}W[++M]=u&&"string"!=typeof N[b+1]?void 0:"",X=!0}if(!X){let ft;if(ft=u?void 0!==W[M]?W[M]+g+R:R:W[M]?W[M]+g+R:R,l.data=ft,a.getComputedTextLength()<=i)W[M]=ft,(K||de)&&(P[M++]=!0,K=0,de=0);else{if(!W[M]||K){var ce=!!K;if(K=R.length-1,ce||!K){if(!K){if(!W[M]){W=[];break}N.splice(b,2,R+N[b+1]),k--,P[M++]=!0,b--;continue}N[b]=R.substring(0,K);const vt=N[b+1];N[b+1]=R.substring(K)+(void 0===vt||0===vt?"":vt)}else{if(de)N.splice(b,2,N[b]+N[b+1]),de=0;else{var he=R.search(w);he>-1&&he!==R.length-1&&0!==he&&(de=he+1,K=0),N.splice(b,1,R.substring(0,de||K),R.substring(de||K)),k++}M&&!P[M-1]&&M--}(!u||""!==W[M])&&b--;continue}M++,b--}}var Se=null;if(W.length>E?Se=E-1:void 0!==o&&(void 0===ye&&""!==l.data&&(ye=CS("auto"===n.lineHeight?{value:1.5,unit:"em"}:cH(n.lineHeight,["em","px",""]),c)),ye*W.length>o&&(Se=Math.floor(o/ye)-1)),null!==Se){W.splice(Se+1);var Ge=r.ellipsis;if(!Ge||Se<0)break;"string"!=typeof Ge&&(Ge="\u2026");var U=W[Se];if(!U&&!X)break;var re,le,ne=U.length;do{if(le=U[ne],re=U.substring(0,ne),le?le.match(p)&&(re+=le):re+=g,l.data=re+=Ge,a.getComputedTextLength()<=i){W[Se]=re;break}ne--}while(ne>=0);break}}}return r.svgDocument?s.removeChild(c):document.body.removeChild(s),W.join(v)},uH=function(e){var t=Tn(Tn.parseHTML("<div>"+e+"</div>",null,!1));return t.find("*").each(function(){var n=this;Tn.each(n.attributes,function(){var i=this.name,o=this.value;(i.startsWith("on")||o.startsWith("javascript:")||o.startsWith("data:")||o.startsWith("vbscript:"))&&Tn(n).removeAttr(i)})}),t.html()},mc=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var n,r,i,o;return n=r=i=o=0,isFinite(e.vertical)&&(n=i=+e.vertical),isFinite(e.horizontal)&&(r=o=+e.horizontal),isFinite(e.top)&&(n=+e.top),isFinite(e.right)&&(r=+e.right),isFinite(e.bottom)&&(i=+e.bottom),isFinite(e.left)&&(o=+e.left),{top:n,right:r,bottom:i,left:o}},pH={linear:function(e){return e},quad:function(e){return e*e},cubic:function(e){return e*e*e},inout:function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)},exponential:function(e){return Math.pow(2,10*(e-1))},bounce:function(e){for(var t=0,n=1;;t+=n,n/=2)if(e>=(7-4*t)/11){var r=(11-6*t-11*e)/4;return-r*r+n*n}},reverse:function(e){return function(t){return 1-e(1-t)}},reflect:function(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}},clamp:function(e,t,n){return t=t||0,n=n||1,function(r){var i=e(r);return i<t?t:i>n?n:i}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},elastic:function(e){return e||(e=1.5),function(t){return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}}},AS={number:function(e,t){var n=t-e;return function(r){return e+n*r}},object:function(e,t){var n=Object.keys(e);return function(r){var i,o,s={};for(i=n.length-1;-1!=i;i--)s[o=n[i]]=e[o]+(t[o]-e[o])*r;return s}},hexColor:function(e,t){var n=parseInt(e.slice(1),16),r=parseInt(t.slice(1),16),i=255&n,o=(255&r)-i,s=65280&n,a=(65280&r)-s,c=16711680&n,l=(16711680&r)-c;return function(u){return"#"+(1<<24|i+o*u&255|s+a*u&65280|c+l*u&16711680).toString(16).slice(1)}},unit:function(e,t){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(e),i=n.exec(t),o=i[1].indexOf("."),s=o>0?i[1].length-o-1:0,a=+i[1]-(e=+r[1]),c=r[2];return function(l){return(e+a*l).toFixed(s)+c}}},gH={outline:function(e){var n=Number.isFinite(e.margin)?e.margin:2,r=Number.isFinite(e.width)?e.width:1;return yo('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>')({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:n+r,innerRadius:n})},highlight:function(e){return yo('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>')({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return yo('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return yo(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return yo('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return yo('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return yo('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return yo('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return yo('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return yo('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return yo('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},yo=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},e.replace(t,function(r){for(var s=Array.from(arguments).slice(1,4).find(function(c){return!!c}).split("."),a=n[s.shift()];void 0!==a&&s.length;)a=a[s.shift()];return void 0!==a?a:""})}},ml={},vc=qi.View.extend({options:{},theme:null,themeClassNamePrefix:Os("theme-"),requireSetThemeOverride:!1,defaultTheme:ls.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=xt({},this.options,e),qi.View.call(this,e)},initialize:function(){ml[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return null!==this.el.parentNode},renderChildren:function(e){if(e||(e=Gr(this,"children")),e){var t=this.svgElement,r=Eg(e,Ce.namespace[t?"svg":"xhtml"]);(t?this.vel:this.$el).empty().append(r.fragment),this.childNodes=r.selectors}return this},findAttribute:function(e,t){for(var n=t;n&&1===n.nodeType;){var r=n.getAttribute(e);if(r)return r;if(n===this.el)return null;n=n.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(Gr(this,"el"));else{var e=Gr(this,"tagName"),t=xt({},Gr(this,"attributes")),n=xt({},Gr(this,"style"));this.id&&(t.id=Gr(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(Ce.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof qi.$?e:qi.$(e),this.el=this.$el[0],this.svgElement&&(this.vel=Ce(this.el))},_ensureElClassName:function(){var e=Gr(this,"className");if(e){var t=Os(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override||(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e),this},addThemeClassName:function(e){if(!(e=e||this.theme))return this;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){var t=this.themeClassNamePrefix+(e=e||this.theme);return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),ml[this.cid]=null,qi.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,n){if(!t)return this;n||(n={});var r=this.getEventNamespace();for(var i in t){var o=t[i];"function"!=typeof o&&(o=this[o]),o&&Tn(e).on(i+r,n,o.bind(this))}return this},undelegateElementEvents:function(e){return Tn(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=Gr(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var n=e.data,r="__"+this.cid+"__";return void 0===t?n&&n[r]||{}:(n||(n=e.data={}),n[r]||(n[r]={}),xt(n[r],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&xt({},e[0])||{},n=e[1]&&xt({},e[1])||{},r=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return"function"==typeof r&&r.apply(this,arguments),this.render.__render__===r&&this.onRender(),this},t.render.__render__=r,qi.View.extend.call(this,t,n)}});if(Tn.event&&!("dbltap"in Tn.event.special)){const e=ls.doubleTapInterval,t=30;Tn.event.special.dbltap={bindType:"touchend",delegateType:"touchend",handle:function(n,...r){const{handleObj:i,target:o}=n,s=Tn.data(o),a=(new Date).getTime(),c="lastTouch"in s?a-s.lastTouch:0;c<e&&c>t?(s.lastTouch=null,n.type=i.origType,i.handler.call(this,n,...r)):s.lastTouch=a}}}function Lf(e){return e?Array.isArray(e)?e:[e]:[]}const Rs=vc.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(e,t){const{paper:n}=e;this.cellView=e,this.nodeSelector=t,n&&(this.updateRequested=!0,n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:e,nodeSelector:t}=this;return e.isMounted()?(this.update(e,t),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(e,t=null){let n;if("string"==typeof t)[n]=e.findBySelector(t);else if(Vr(t)){const r=e.model.isLink(),{label:i=null,port:o,selector:s}=t;r&&null!==i?n=e.findLabelNode(i,s):!r&&o?n=e.findPortNode(o,s):[n]=e.findBySelector(s)}else t&&(n=Ce.toNode(t),n instanceof SVGElement||(n=null));return n||null},getNodeMatrix(e,t){const{options:n}=this,{layer:r}=n,{rotatableNode:i}=e,o=e.getNodeMatrix(t);return i?r?i.contains(t)?o:e.getRootRotateMatrix().inverse().multiply(o):e.getNodeRotateMatrix(t).multiply(o):o},mount(){const{MOUNTABLE:e,cellView:t,el:n,options:r,transformGroup:i,detachedTransformGroup:o,postponedUpdate:s,nodeSelector:a}=this;if(!e||i)return;if(s)return this.update(t,a),void this.transform();const{vel:c,paper:l}=t,{layer:u}=r;if(u){let d;o?(d=o,this.detachedTransformGroup=null):d=Ce("g").addClass("highlight-transform").append(n),this.transformGroup=d,l.getLayerView(u).insertSortedNode(d.node,r.z)}else(!n.parentNode||n.nextSibling)&&c.append(n)},unmount(){const{MOUNTABLE:e,transformGroup:t,vel:n}=this;e&&(t?(this.transformGroup=null,this.detachedTransformGroup=t,t.remove()):n.remove())},transform(){const{transformGroup:e,cellView:t,updateRequested:n}=this;if(!e||t.model.isLink()||n)return;const r=t.getRootTranslateMatrix(),i=t.getRootRotateMatrix(),o=r.multiply(i);e.attr("transform",Ce.matrixToTransformString(o))},update(){const{node:e,cellView:t,nodeSelector:n,updateRequested:r,id:i}=this;if(r)return;this.postponedUpdate=!1;const o=this.node=this.findNode(t,n);e&&this.unhighlight(t,e),o?(this.highlight(t,o),this.mount()):(this.unmount(),t.notify("cell:highlight:invalid",i,this))},onRemove(){const{node:e,cellView:t,id:n,constructor:r}=this;e&&this.unhighlight(t,e),this.unmount(),r._removeRef(t,n)},highlight(e,t){},unhighlight(e,t){},listenToUpdateAttributes(e){const t=Gr(this,"UPDATE_ATTRIBUTES");!Array.isArray(t)||0===t.length||this.listenTo(e.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:e}=this;if(!e)return;const{model:t,paper:n}=e;Gr(this,"UPDATE_ATTRIBUTES").some(i=>t.hasChanged(i))&&n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(e,t,n){const r=this.uniqueId(t,n);this.add(e,t,r,n)},unhighlight:function(e,t,n){const r=this.uniqueId(t,n);this.remove(e,r)},get(e,t=null){const{cid:n}=e,{_views:r}=this,i=r[n];if(null===t){const o=[];if(!i)return o;for(let s in i){const a=i[s];a instanceof this&&o.push(a)}return o}if(!i)return null;if(t in i){const o=i[t];if(o instanceof this)return o}return null},add(e,t,n,r={}){if(!n)throw new Error("dia.HighlighterView: An ID required.");const i=Rs.get(e,n);i&&i.remove();const o=new this(r);return o.id=n,this._addRef(e,n,o),o.requestUpdate(e,t),o.listenToUpdateAttributes(e),o},_addRef(e,t,n){const{cid:r}=e,{_views:i}=this;let o=i[r];o||(o=i[r]={}),o[t]=n},_removeRef(e,t){const{cid:n}=e,{_views:r}=this,i=r[n];if(i){t&&delete i[t];for(let o in i)return;delete r[n]}},remove(e,t=null){Lf(this.get(e,t)).forEach(n=>{n.remove()})},removeAll(e,t=null){const{_views:n}=this;for(let r in n)for(let i in n[r]){const o=n[r][i];o.cellView.paper===e&&o instanceof this&&(null===t||i===t)&&o.remove()}},update(e,t=null,n=!1){Lf(this.get(e,t)).forEach(r=>{(n||r.UPDATABLE)&&r.update()})},transform(e,t=null){Lf(this.get(e,t)).forEach(n=>{n.UPDATABLE&&n.transform()})},unmount(e,t=null){Lf(this.get(e,t)).forEach(n=>n.unmount())},mount(e,t=null){Lf(this.get(e,t)).forEach(n=>n.mount())},uniqueId:(e,t="")=>Ce.ensureId(e)+JSON.stringify(t)}),Wu={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},yn=vc.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(n,r,i){e.push("type-"+i.slice(0,r+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var r,i,o,e={},t={},n=0,s=Gr(this,"presentationAttributes");for(var a in s)if(s.hasOwnProperty(a)){var c=s[a];for(Array.isArray(c)||(c=[c]),r=0,i=c.length;r<i;r++){var l=e[o=c[r]];l||(l=e[o]=1<<n++),t[a]|=l}}var u=Gr(this,"initFlag");for(Array.isArray(u)||(u=[u]),r=0,i=u.length;r<i;r++)e[o=u[r]]||(e[o]=1<<n++);if(n>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=t},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var n=0;if(Array.isArray(e))for(var r=0,i=e.length;r<i;r++)n|=t[e[r]];else n|=t[e];return n},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||Zu(this),vc.call(this,e)},initialize:function(){this.setFlags(),vc.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var n=e.getChangeFlag(this._presentationAttributes);t.updateHandled||!n||(t.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(n,t))},requestUpdate:function(e,t){const{paper:n}=this;n&&e>0&&n.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var n=Eg(e),r=n.selectors,i=n.groupSelectors;for(var o in i){if(r[o])throw new Error("dia.CellView: ambiguous group selector");r[o]=i[o]}if(t){var s=this.selector;if(r[s])throw new Error("dia.CellView: ambiguous root selector.");r[s]=t}return{fragment:n.fragment,selectors:r}},can:function(e){var t=fr(this.options.interactive)?this.options.interactive(this):this.options.interactive;return Pn(t)&&!1!==t[e]||function(e){return!0===e||!1===e||!!e&&"object"==typeof e&&Object.prototype.toString.call(e)===gg}(t)&&!1!==t},findBySelector:function(e,t,n){if(t||(t=this.el),n||(n=this.selectors),!e||"."===e)return[t];if(n){var r=n[e];if(r)return Array.isArray(r)?r:[r]}return ls.useCSSSelectors?Tn(t).find(e).toArray():[]},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var n=this.model;t=n.getBBox().bbox(n.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){const t=this.getNodeBoundingRect(e),n=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(e)),r=this.getNodeMatrix(e);return Ce.transformRect(t,n.multiply(r))},getNodeRotateMatrix(e){return!this.rotatableNode||this.rotatableNode.contains(e)?this.getRootRotateMatrix():Ce.createSVGMatrix()},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),n=this.getNodeMatrix(e),r=this.getRootTranslateMatrix();return Ce.transformRect(t,r.multiply(n))},getRootTranslateMatrix:function(){var t=this.model.position();return Ce.createSVGMatrix().translate(t.x,t.y)},getRootRotateMatrix:function(){var e=Ce.createSVGMatrix(),t=this.model,n=t.angle();if(n){var r=t.getBBox(),i=r.width/2,o=r.height/2;e=e.translate(i,o).rotate(n).translate(-i,-o)}return e},_notifyHighlight:function(e,t,n={}){const{el:r}=this;let i;if([i=r]="string"==typeof t?this.findBySelector(t):this.$(t),n.partial=i!==r,void 0===n.type){let o;switch(!0){case n.embedding:o=Wu.EMBEDDING;break;case n.connecting:o=Wu.CONNECTING;break;case n.magnetAvailability:o=Wu.MAGNET_AVAILABILITY;break;case n.elementAvailability:o=Wu.ELEMENT_AVAILABILITY;break;default:o=Wu.DEFAULT}n.type=o}return this.notify(e,i,n),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e,t={}){return this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){const t=this.el;let n=this.$(e)[0];n||(n=t);do{const r=n.getAttribute("magnet"),i=n===t;if((r||i)&&"false"!==r)return n;if(i)return;n=n.parentNode}while(n)},findProxyNode:function(e,t){e||(e=this.el);const n=e.getAttribute(`${t}-selector`);if(n){const[r]=this.findBySelector(n);if(r)return r}return e},getSelector:function(e,t){var n;if(e===this.el)return"string"==typeof t&&(n="> "+t),n;if(e){var r=Ce(e).index()+1;n=e.tagName+":nth-child("+r+")",t&&(n+=" > "+t),n=this.getSelector(e.parentNode,n)}return n},addLinkFromMagnet:function(e,t,n){var r=this.paper,i=r.model,o=r.getDefaultLink(this,e);return o.set({source:this.getLinkEnd(e,t,n,o,"source"),target:{x:t,y:n}}).addTo(i,{async:!1,ui:!0}),o.findView(r)},getLinkEnd:function(e,...t){var n=this.model,r=n.id,i=this.findAttribute("port",e),o=e.getAttribute("joint-selector"),s={id:r};return null!=o&&(s.magnet=o),null!=i?(s.port=i,!n.hasPort(i)&&!o&&(s.selector=this.getSelector(e))):null==o&&this.el!==e&&(s.selector=this.getSelector(e)),this.customizeLinkEnd(s,e,...t)},customizeLinkEnd:function(e,t,n,r,i,o){const{paper:s}=this,{connectionStrategy:a}=s.options;if("function"==typeof a){var c=a.call(s,e,this,t,new q(n,r),i,o,s);if(c)return c}return e},getMagnetFromLinkEnd:function(e){var o,t=this.el,n=e.port,r=e.magnet,i=this.model;return null!=n&&i.isElement()&&i.hasPort(n)?o=this.findPortNode(n,r)||t:(r||(r=e.selector),!r&&null!=n&&(r='[port="'+n+'"]'),o=this.findBySelector(r,t,this.selectors)[0]),this.findProxyNode(o,"magnet")},dragLinkStart:function(e,t,n,r){this.model.startBatch("add-link");const i=this.addLinkFromMagnet(t,n,r);i.notifyPointerdown(e,n,r),i.eventData(e,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:i})},dragLink:function(e,t,n){var r=this.eventData(e),i=r.linkView;if(i)i.pointermove(e,t,n);else{var o=this.paper,s=o.options.magnetThreshold,a=this.getEventTarget(e),c=r.targetMagnet;if("onleave"===s){if(c===a||Ce(c).contains(a))return}else if(o.eventData(e).mousemoved<=s)return;this.dragLinkStart(e,c,t,n)}},dragLinkEnd:function(e,t,n){var i=this.eventData(e).linkView;i&&(i.pointerup(e,t,n),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){Oa(t)||(e instanceof SVGElement?Ce(e).attr(t):Tn(e).attr(t))},processNodeAttributes:function(e,t){var n,r,i,o,s,a,c,l,u,d=[];for(n in t)t.hasOwnProperty(n)&&(r=t[n],!(i=this.getAttributeDefinition(n))||fr(i.qualify)&&!i.qualify.call(this,r,e,t,this)?(a||(a={}),a[oH(n)]=r):(Ji(i.set)&&(a||(a={}),a[i.set]=r),null!==r&&d.push(n,i)));for(o=0,s=d.length;o<s;o+=2)r=t[n=d[o]],fr((i=d[o+1]).set)&&(c||(c={}),c[n]=r),fr(i.position)&&(l||(l={}),l[n]=r),fr(i.offset)&&(u||(u={}),u[n]=r);return{raw:t,normal:a,set:c,position:l,offset:u}},updateRelativeAttributes:function(e,t,n,r){r||(r={});var i,o,a=t.raw||{},c=t.normal||{},l=t.set,u=t.position,d=t.offset;for(i in l){o=l[i];var p=this.getAttributeDefinition(i).set.call(this,o,n.clone(),e,a,this);Pn(p)?xt(c,p):void 0!==p&&(c[i]=p)}if(e instanceof HTMLElement)this.setNodeAttributes(e,c);else{var E,N,P,g=c.transform,v=Ce.transformStringToMatrix(g),w=q(v.e,v.f);if(g&&(c=gl(c,"transform"),v.e=v.f=0),u||d){var W=this.getNodeScale(e,r.scalableNode);E=W.sx,N=W.sy}var K=!1;for(i in u)o=u[i],(P=this.getAttributeDefinition(i).position.call(this,o,n.clone(),e,a,this))&&(w.offset(q(P).scale(E,N)),K||(K=!0));this.setNodeAttributes(e,c);var de=!1;if(d){var ye=this.getNodeBoundingRect(e);if(ye.width>0&&ye.height>0){var b=Ce.transformRect(ye,v).scale(1/E,1/N);for(i in d)o=d[i],(P=this.getAttributeDefinition(i).offset.call(this,o,b,e,a,this))&&(w.offset(q(P).scale(E,N)),de||(de=!0))}}(void 0!==g||K||de)&&(w.round(1),v.e=w.x,v.f=w.y,e.setAttribute("transform",Ce.matrixToTransformString(v)))}},getNodeScale:function(e,t){var n,r;if(t&&t.contains(e)){var i=t.scale();n=1/i.sx,r=1/i.sy}else n=1,r=1;return{sx:n,sy:r}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(e){var t=this.metrics;if(!t)return{};var n=Ce.ensureId(e),r=t[n];return r||(r=t[n]={}),r},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return void 0===t.boundingRect&&(t.boundingRect=Ce(e).getBBox()),new Xe(t.boundingRect)},getNodeMatrix:function(e){const t=this.nodeCache(e);if(void 0===t.magnetMatrix){const{rotatableNode:n,el:r}=this;let i;i=n&&n.contains(e)?n:r,t.magnetMatrix=Ce(e).getTransformToElement(i)}return Ce.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return void 0===t.geometryShape&&(t.geometryShape=Ce(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,n,r){var i,o,s,a,c={},l=[];for(var u in e)if(e.hasOwnProperty(u)&&Vr(s=e[u])){var d=n[u]=this.findBySelector(u,t,r);for(i=0,o=d.length;i<o;i++){var p=d[i];a=Ce.ensureId(p);var g=r&&r[u]===p,v=c[a];if(v){v.array||(l.push(a),v.array=!0,v.attributes=[v.attributes],v.selectedLength=[v.selectedLength]);var w=v.attributes,E=v.selectedLength;if(g)w.unshift(s),E.unshift(-1);else{var N=yS(E,o);w.splice(N,0,s),E.splice(N,0,o)}}else c[a]={attributes:s,selectedLength:g?-1:o,node:p,array:!1}}}for(i=0,o=l.length;i<o;i++)(s=c[a=l[i]]).attributes=Kr({},...s.attributes.reverse());return c},getEventTarget:function(e,t={}){const{target:n,type:r,clientX:i=0,clientY:o=0}=e;return t.fromPoint||"touchmove"===r||"touchend"===r||"pointerId"in e&&n.hasPointerCapture(e.pointerId)?document.elementFromPoint(i,o):n},updateDOMSubtreeAttributes:function(e,t,n){n||(n={}),n.rootBBox||(n.rootBBox=Xe()),n.selectors||(n.selectors=this.selectors);var a,c,l,u,d,r={},i={},o=[],s=[],p=n.roAttributes,g=this.findNodesAttributes(p||t,e,r,n.selectors),v=p?this.findNodesAttributes(t,e,r,n.selectors):g;for(var w in g)if((d=this.processNodeAttributes(c=(u=g[w]).node,l=u.attributes)).set||d.position||d.offset){var P,E=v[w]&&v[w].attributes,N=E&&void 0===l.ref?E.ref:l.ref;if(N){if(!(P=(r[N]||this.findBySelector(N,e,n.selectors))[0]))throw new Error('dia.CellView: "'+N+'" reference does not exist.')}else P=null;if(a={node:c,refNode:P,processedAttributes:d,allAttributes:E},P){var W=s.findIndex(function(K){return K.refNode===c});W>-1?s.splice(W,0,a):s.push(a)}else o.push(a)}else this.setNodeAttributes(c,d.normal);o.push(...s);for(let K=0,de=o.length;K<de;K++){c=(a=o[K]).node;const ye=(P=a.refNode)?Ce.ensureId(P):"";let b=i[ye];b||(b=i[ye]=P?Ce(P).getBBox({target:vH(c,P)}):n.rootBBox),p?(d=this.processNodeAttributes(c,a.allAttributes),this.mergeProcessedAttributes(d,a.processedAttributes)):d=a.processedAttributes,this.updateRelativeAttributes(c,d,b,n)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),xt(e.set,t.set),xt(e.position,t.position),xt(e.offset,t.offset);var n=e.normal&&e.normal.transform;void 0!==n&&t.normal&&(t.normal.transform=n),e.normal=t.normal},onMount(e){e||(this.mountTools(),Rs.mount(this))},onDetach(){this.unmountTools(),Rs.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return!(!t||e&&t.getName()!==e)},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const e=this._toolsView;return e&&e.unmount(),this},mountTools(){const e=this._toolsView;return e&&!e.isMounted()&&e.mount(),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools()}},removeHighlighters:function(){Rs.remove(this)},updateHighlighters:function(e=!1){Rs.update(this,null,e)},transformHighlighters:function(){Rs.transform(this)},preventDefaultInteraction(e){this.eventData(e,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(e){const{defaultInteractionPrevented:t=!1}=this.eventData(e);return t},pointerdblclick:function(e,t,n){this.notify("cell:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){this.notify("cell:pointerclick",e,t,n)},contextmenu:function(e,t,n){this.notify("cell:contextmenu",e,t,n)},pointerdown:function(e,t,n){const{model:r}=this,{graph:i}=r;i&&(r.startBatch("pointer"),this.eventData(e,{graph:i})),this.notify("cell:pointerdown",e,t,n)},pointermove:function(e,t,n){this.notify("cell:pointermove",e,t,n)},pointerup:function(e,t,n){const{graph:r}=this.eventData(e);this.notify("cell:pointerup",e,t,n),r&&r.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,n,r){this.notify("cell:mousewheel",e,t,n,r)},onevent:function(e,t,n,r){this.notify(t,e,n,r)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(e){const{paper:t,model:n}=this;if(t.isAsync()){if(n.isLink()){const o=n.getSourceElement();if(o){const a=t.findViewByModel(o);a&&(t.dumpView(a),t.checkViewVisibility(a))}const s=n.getTargetElement();if(s){const a=t.findViewByModel(s);a&&(t.dumpView(a),t.checkViewVisibility(a))}}t.dumpView(this),t.checkViewVisibility(this)}const r=this.getEventTarget(e,{fromPoint:!0}),i=t.findView(r);i!==this&&(this.mouseleave(e),i&&i.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e}},{Flags:{TOOLS:"TOOLS"},Highlighting:Wu,addPresentationAttributes:function(e){return Kr({},Gr(this.prototype,"presentationAttributes"),e,function(t,n){if(t&&n&&("string"==typeof t&&(t=[t]),"string"==typeof n&&(n=[n]),Array.isArray(t)&&Array.isArray(n)))return pl(t.concat(n))})}});function vH(e,t){let n=e;do{if(n.contains(t))return n;n=n.parentNode}while(n);return null}const gs={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},yH=vc.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return Os(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(e,t){this.el.insertBefore(e,this.insertPivot(t))},insertNode:function(e){const{el:t}=this;e.parentNode!==t&&t.appendChild(e)},insertPivot:function(e){const{el:t,pivotNodes:n}=this;(e=+e)||(e=0);let r=n[e];if(r)return r;r=n[e]=document.createComment("z-index:"+(e+1));let i=-1/0;for(let o in n)o=+o,o<e&&o>i&&(i=o);return t.insertBefore(r,i!==-1/0?n[i].nextSibling:t.firstChild),r},removePivots:function(){const{el:e,pivotNodes:t}=this;for(let n in t)e.removeChild(t[n]);this.pivotNodes={}}}),B0=vc.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){const{paper:t,relatedView:n}=this;return!t||!n||t.guard(e,n)}}),bH=vc.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(e){var t=(e=xt(this.options,e)).tools;if(!Array.isArray(t))return this;var n=e.relatedView;if(!(n instanceof yn))return this;for(var r=this.tools=[],i=0,o=t.length;i<o;i++){var s=t[i];s instanceof B0&&(s.configure(n,this),this.vel.append(s.el),r.push(s))}return this.isRendered=!1,n.requestUpdate(n.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(e){e||(e={});var t=this.tools;if(!t)return this;for(var n=this.isRendered,r=0,i=t.length;r<i;r++){var o=t[r];n?e.tool!==o.cid&&o.isVisible()&&o.update():o.render()}return this.isMounted()||this.mount(),n||(this.blurTool(),this.isRendered=!0),this},focusTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,r=t.length;n<r;n++){var i=t[n];e===i?i.show():i.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,r=t.length;n<r;n++){var i=t[n];i!==e&&!i.isVisible()&&(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,n=e.length;t<n;t++)e[t].remove();this.tools=null},mount:function(){const{options:e,el:t}=this,{relatedView:n,layer:r=gs.TOOLS,z:i}=e;return n&&(r?n.paper.getLayerView(r).insertSortedNode(t,i):n.el.appendChild(t)),this}});function ES(e,t){const{model:n}=e;return t?n.getBBox():n.isLink()?e.getConnection().bbox():e.getNodeUnrotatedBBox(e.el)}const IH=B0.extend({name:"boundary",tagName:"rect",options:{padding:10,useModelGeometry:!1},attributes:{fill:"none",stroke:"#33334F","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"},onRender:function(){this.update()},update:function(){const{relatedView:e,options:t,vel:n}=this,{useModelGeometry:r,rotate:i}=t,o=mc(t.padding);let s=ES(e,r).moveAndExpand({x:-o.left,y:-o.top,width:o.left+o.right,height:o.top+o.bottom});var a=e.model;if(a.isElement()){var c=a.angle();if(c)if(i){var l=a.getBBox().center();n.rotate(c,l.x,l.y,{absolute:!0})}else s=s.bbox(c)}return n.attr(s.toJSON()),this}}),La={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},wH=Object.keys(La).map(e=>La[e]).join(""),j0="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",CH=/\s/g,xS=new RegExp(`^(${j0}\\*)?([${wH}])(/${j0})?([-+]{1,2}${j0})?$`,"g");function MS(e){throw new Error(`Invalid calc() expression: ${e}`)}function _H(e,t){const n=xS.exec(e.replace(CH,""));n||MS(e),xS.lastIndex=0;const[,r,i,o,s]=n,{x:a,y:c,width:l,height:u}=t;let d=0;switch(i){case La.width:d=l;break;case La.height:d=u;break;case La.x:d=a;break;case La.y:d=c;break;case La.minimum:d=Math.min(u,l);break;case La.maximum:d=Math.max(u,l);break;case La.diagonal:d=Math.sqrt(u*u+l*l)}return r&&(d*=parseFloat(r)),o&&(d/=parseFloat(o.slice(1))),s&&(d+=function AH(e){if(!e)return 0;const[t]=e;switch(t){case"+":return parseFloat(e.substr(1));case"-":return-parseFloat(e.substr(1))}return parseFloat(e)}(s)),d}function ms(e){return"string"==typeof e&&e.includes("calc")}const TS="calc(",SS=TS.length;function vs(e,t){let n=e,r=0;for(;;){let i=n.indexOf(TS,r);if(-1===i)return n;let o=i+SS,s=1;e:for(;;){switch(n[o]){case"(":s++;break;case")":if(s--,0===s)break e;break;case void 0:MS(n)}o++}let a=n.slice(i+SS,o);ms(a)&&(a=vs(a,t));const c=String(_H(a,t));n=n.slice(0,i)+c+n.slice(o+1),r=i+c.length}}const DH=B0.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,scale:null,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){const{vel:e}=this;e.transform(this.getCellMatrix(),{absolute:!0})},getCellMatrix(){return this.relatedView.model.isLink()?this.getLinkMatrix():this.getElementMatrix()},getElementMatrix(){const{relatedView:e,options:t}=this;let{x:n=0,y:r=0,offset:i={},useModelGeometry:o,rotate:s,scale:a}=t,c=ES(e,o);const l=e.model.angle();s||(c=c.bbox(l));const{x:u=0,y:d=0}=i;Oi(n)?n=parseFloat(n)/100*c.width:ms(n)&&(n=Number(vs(n,c))),Oi(r)?r=parseFloat(r)/100*c.height:ms(r)&&(r=Number(vs(r,c)));let p=Ce.createSVGMatrix().translate(c.x+c.width/2,c.y+c.height/2);return s&&(p=p.rotate(l)),p=p.translate(n+u-c.width/2,r+d-c.height/2),a&&(p=p.scale(a)),p},getLinkMatrix(){const{relatedView:e,options:t}=this,{offset:n=0,distance:r=0,rotate:i,scale:o}=t;let s,a,c;s=Oi(r)?e.getTangentAtRatio(parseFloat(r)/100):e.getTangentAtLength(r),s?(a=s.start,c=s.vector().vectorAngle(new q(1,0))||0):(a=e.getConnection().start,c=0);let l=Ce.createSVGMatrix().translate(a.x,a.y).rotate(c).translate(0,n);return i||(l=l.rotate(-c)),o&&(l=l.scale(o)),l},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.action;"function"==typeof t&&t.call(this.relatedView,e,this.relatedView,this)}}}).extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(e,t,n){t.model.remove({ui:!0,tool:n.cid})}}});function NS(e){e=pl(e);const t=An(e).reduce(function(n,r){return n[r.id]=r.clone(),n},{});return An(e).forEach(function(n){const r=t[n.id];if(r.isLink()){const s=r.source(),a=r.target();s.id&&t[s.id]&&r.prop("source/id",t[s.id].id),a.id&&t[a.id]&&r.prop("target/id",t[a.id].id)}const i=n.get("parent");i&&t[i]&&r.set("parent",t[i].id);const o=An(n.get("embeds")).reduce(function(s,a){return t[a]&&s.push(t[a].id),s},[]);Oa(o)||r.set("embeds",o)}),t}const EH=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"].reduce((e,t)=>(e[t]=!0,e),{}),xH={qualify:function(e){return Vr(e)},set:function(e,t,n){Object.keys(e).forEach(function(r){if(EH[r]&&r in n){const i=e[r];"SELECT"===n.tagName&&Array.isArray(i)?Array.from(n.options).forEach(function(o,s){o.selected=i.includes(o.value)}):n[r]=i}})}};function yc(e,t){return function(n,r){var i=Oi(n);n=parseFloat(n),i&&(n/=100);var o={};if(isFinite(n)){var s=i||n>=0&&n<=1?n*r[t]:Math.max(n+r[t],0);o[e]=s}return o}}function Mg(e,t,n){return function(r,i){var s,o=Oi(r);if(r=parseFloat(r),o&&(r/=100),isFinite(r)){var a=i[n]();s=o||r>0&&r<1?a[e]+i[t]*r:a[e]+r}var c=q();return c[e]=s||0,c}}function kS(e,t,n){return function(r,i){var o;o="middle"===r?i[t]/2:r===n?i[t]:isFinite(r)?r>-1&&r<1?-i[t]*r:-r:Oi(r)?i[t]*parseFloat(r)/100:0;var s=q();return s[e]=-(i[e]+o),s}}function PS(e,t){var n="joint-shape",r=t&&t.resetOffset;return function(i,o,s){var a=Tn(s),c=a.data(n);if(!c||c.value!==i){var l=e(i);c={value:i,shape:l,shapeBBox:l.bbox()},a.data(n,c)}var u=c.shape.clone(),d=c.shapeBBox.clone(),p=d.origin(),g=o.origin();d.x=g.x,d.y=g.y;var v=o.maxRectScaleToFit(d,g);return u.scale(0===d.width||0===o.width?1:v.sx,0===d.height||0===o.height?1:v.sy,p),r&&u.translate(-p.x,-p.y),u}}function OS(e){var n=PS(function t(r){return new mt(Ce.normalizePathData(r))},e);return function(r,i,o){return{d:n(r,i,o).serialize()}}}function RS(e){var t=PS(or,e);return function(n,r,i){return{points:t(n,r,i).serialize()}}}function Tg(e,t){var n=new q(1,0);return function(r){var i,o,s=this[e](r);return s?(o=t.rotate?s.vector().vectorAngle(n):0,i=s.start):(i=this.path.start,o=0),0===o?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+o+")"}}}function LS(e){return function(n,r,i){const o=Ce(i);o.attr(e)!==n&&o.attr(e,n)}}function Yu(e,t,n){return void 0!==n.text}function Ff(){return this.model.isLink()}function z0(e){var t={},n=e.stroke;"string"==typeof n&&(t.stroke=n,t.fill=n);var r=e.strokeOpacity;return void 0===r&&(r=e["stroke-opacity"]),void 0===r&&(r=e.opacity),void 0!==r&&(t["stroke-opacity"]=r,t["fill-opacity"]=r),t}function FS(e){const{paper:t}=this;return`url(#${"pattern"===e.type?t.definePattern(e):t.defineGradient(e)})`}const rn={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:LS("href")},xlinkHref:{set:LS("xlink:href")},filter:{qualify:Vr,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}},fill:{qualify:Vr,set:FS},stroke:{qualify:Vr,set:FS},sourceMarker:{qualify:Vr,set:function(e,t,n,r){return e=xt(z0(r),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},targetMarker:{qualify:Vr,set:function(e,t,n,r){return e=xt(z0(r),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},vertexMarker:{qualify:Vr,set:function(e,t,n,r){return e=xt(z0(r),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},text:{qualify:function(e,t,n){return!n.textWrap||!Vr(n.textWrap)},set:function(e,t,n,r){const i=Tn(n),o="joint-text",s=i.data(o),{lineHeight:a,annotations:c,textVerticalAnchor:l,eol:u,displayEmpty:d}=r;let p=r.textPath,g=r.x;ms(g)&&(g=vs(g,t));let v=r["font-size"]||r.fontSize;ms(v)&&(v=vs(v,t));const w=JSON.stringify([e,a,c,l,u,d,p,g,v]);if(void 0===s||s!==w){if(v&&n.setAttribute("font-size",v),Pn(p)){const E=p.selector;if("string"==typeof E){const[N]=this.findBySelector(E);N instanceof SVGPathElement&&(p=xt({"xlink:href":"#"+N.id},p))}}Ce(n).text(""+e,{lineHeight:a,annotations:c,textPath:p,x:g,textVerticalAnchor:l,eol:u,displayEmpty:d}),i.data(o,w)}}},textWrap:{qualify:Vr,set:function(e,t,n,r){var i={},o=e.width||0;i.width=Oi(o)?t.width*parseFloat(o)/100:ms(o)?Number(vs(o,t)):null===e.width?1/0:o<=0?t.width+o:o;var s=e.height||0;Oi(s)?i.height=t.height*parseFloat(s)/100:ms(s)?i.height=Number(vs(s,t)):null===e.height||(i.height=s<=0?t.height+s:s);var a,c=e.text;if(void 0===c&&(c=r.text),void 0!==c){const u=r["font-size"]||r.fontSize;a=(e.breakText||_S)(""+c,i,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":ms(u)?vs(u,t):u,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight,"letter-spacing":"letter-spacing"in r?r["letter-spacing"]:r.letterSpacing},{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,separator:e.separator,maxLineCount:e.maxLineCount,preserveSpaces:e.preserveSpaces})}else a="";rn.text.set.call(this,a,t,n,r)}},title:{qualify:function(e,t){return t instanceof SVGElement},set:function(e,t,n){var r=Tn(n),i="joint-title",o=r.data(i);if(void 0===o||o!==e){if(r.data(i,e),"title"===n.tagName)return void(n.textContent=e);var s=n.firstElementChild;if(s&&"title"===s.tagName)s.textContent=e;else{var a=document.createElementNS(n.namespaceURI,"title");a.textContent=e,n.insertBefore(a,s)}}}},lineHeight:{qualify:Yu},textVerticalAnchor:{qualify:Yu},textPath:{qualify:Yu},annotations:{qualify:Yu},eol:{qualify:Yu},displayEmpty:{qualify:Yu},port:{set:function(e){return null===e||void 0===e.id?e:e.id}},style:{qualify:Vr,set:function(e,t,n){Tn(n).css(e)}},html:{set:function(e,t,n){Tn(n).html(e+"")}},props:xH,ref:{},refX:{position:Mg("x","width","origin")},refY:{position:Mg("y","height","origin")},refDx:{position:Mg("x","width","corner")},refDy:{position:Mg("y","height","corner")},refWidth:{set:yc("width","width")},refHeight:{set:yc("height","height")},refRx:{set:yc("rx","width")},refRy:{set:yc("ry","height")},refRInscribed:{set:function(e){var t=yc("r","width"),n=yc("r","height");return function(r,i){return(i.height>i.width?t:n)(r,i)}}()},refRCircumscribed:{set:function(e,t){var n=Oi(e);e=parseFloat(e),n&&(e/=100);var i,r=Math.sqrt(t.height*t.height+t.width*t.width);return isFinite(e)&&(i=n||e>=0&&e<=1?e*r:Math.max(e+r,0)),{r:i}}},refCx:{set:yc("cx","width")},refCy:{set:yc("cy","height")},xAlignment:{offset:kS("x","width","right")},yAlignment:{offset:kS("y","height","bottom")},resetOffset:{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}},refDResetOffset:{set:OS({resetOffset:!0})},refDKeepOffset:{set:OS({resetOffset:!1})},refPointsResetOffset:{set:RS({resetOffset:!0})},refPointsKeepOffset:{set:RS({resetOffset:!1})},connection:{qualify:Ff,set:function({stubs:e=0}){let t;if(isFinite(e)&&0!==e){let n;n=e<0?(this.getConnectionLength()+e)/2:e;const r=this.getConnection(),i=this.getConnectionSubdivisions(),o=r.divideAtLength(n,{segmentSubdivisions:i}),s=r.divideAtLength(-n,{segmentSubdivisions:i});o&&s&&(t=`${o[0].serialize()} ${s[1].serialize()}`)}return{d:t||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:Ff,set:Tg("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:Ff,set:Tg("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:Ff,set:Tg("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:Ff,set:Tg("getTangentAtRatio",{rotate:!1})}};rn["xlink:href"]=rn.xlinkHref,["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach(e=>{rn[e]={qualify:ms,set:function(n,r){return{[e]:vs(n,r)}}}}),["width","height","r","rx","ry","font-size","stroke-width"].forEach(e=>{rn[e]={qualify:ms,set:function(n,r){return{[e]:Math.max(0,vs(n,r))}}}}),rn.refR=rn.refRInscribed,rn.refD=rn.refDResetOffset,rn.refPoints=rn.refPointsResetOffset,rn.atConnectionLength=rn.atConnectionLengthKeepGradient,rn.atConnectionRatio=rn.atConnectionRatioKeepGradient,rn.fontSize=rn["font-size"],rn.strokeWidth=rn["stroke-width"],rn.refX2=rn.refX,rn.refY2=rn.refY,rn.refWidth2=rn.refWidth,rn.refHeight2=rn.refHeight,rn["ref-x"]=rn.refX,rn["ref-y"]=rn.refY,rn["ref-dy"]=rn.refDy,rn["ref-dx"]=rn.refDx,rn["ref-width"]=rn.refWidth,rn["ref-height"]=rn.refHeight,rn["x-alignment"]=rn.xAlignment,rn["y-alignment"]=rn.yAlignment;const BS=rn,ga=qi.Model.extend({constructor:function(e,t){var n,r=e||{};"function"==typeof this.preinitialize&&this.preinitialize.apply(this,arguments),this.cid=((e="")=>`${e}`+ ++eH)("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(r=this.parse(r,t)||{}),(n=Gr(this,"defaults"))&&(r=Kr({},n,r)),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,n){throw new Error("Must define a translate() method.")},toJSON:function(){const t=Gr(this.constructor.prototype,"defaults").attrs||{},r={};ps(this.attributes.attrs,function(o,s){const a=t[s];ps(o,function(c,l){Pn(c)&&!Array.isArray(c)?ps(c,function(u,d){(!a||!a[l]||!Hu(a[l][d],u))&&(r[s]=r[s]||{},(r[s][l]||(r[s][l]={}))[d]=u)}):(!a||!Hu(a[l],c))&&(r[s]=r[s]||{},r[s][l]=c)})});const i=hs(gl(this.attributes,"attrs"));return i.attrs=r,i},initialize:function(e){const t=this.getIdAttribute();(!e||void 0===e[t])&&this.set(t,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},processPorts:function(){var e=this.ports,t={};ps(this.get("attrs"),function(o,s){o&&o.port&&(void 0!==o.port.id?t[o.port.id]=o.port:t[o.port]={id:o.port})});var n={};ps(e,function(o,s){t[s]||(n[s]=!0)}),this.graph&&!Oa(n)&&(this.graph.getConnectedLinks(this,{inbound:!0}).forEach(function(o){n[o.get("target").port]&&o.remove()}),this.graph.getConnectedLinks(this,{outbound:!0}).forEach(function(o){n[o.get("source").port]&&o.remove()})),this.ports=t},remove:function(e={}){const{graph:t,collection:n}=this;if(!t)return n&&n.remove(this,e),this;t.startBatch("remove");const r=this.getParentCell();r&&r.unembed(this,e);const i=this.getEmbeddedCells();for(let o=0,s=i.length;o<s;o++){const a=i[o];a&&a.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){let n;(e=fs(e||{},{foregroundEmbeds:!0})).deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:!1!==e.breadthFirst,sortSiblings:e.foregroundEmbeds}),n.unshift(this)):n=[this];const r=e.foregroundEmbeds?n:k0(n,c=>c.z());let o=t.maxZIndex()-n.length+1;const s=t.get("cells");let a=s.indexOf(r[0])!==s.length-n.length;a||(a=r.some(function(c,l){return c.z()!==o+l})),a&&(this.startBatch("to-front"),o+=n.length,r.forEach(function(c,l){c.set("z",o+l,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){let r;(e=fs(e||{},{foregroundEmbeds:!0})).deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:!1!==e.breadthFirst,sortSiblings:e.foregroundEmbeds}),r.unshift(this)):r=[this];const i=e.foregroundEmbeds?r:k0(r,a=>a.z());let o=t.minZIndex(),s=0!==t.get("cells").indexOf(i[0]);s||(s=i.some(function(a,c){return a.z()!==o+c})),s&&(this.startBatch("to-back"),o-=r.length,i.forEach(function(a,c){a.set("z",o+c,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return void 0===e?this.get("parent"):this.set("parent",e,t)},embed:function(e,t){const n=Array.isArray(e)?e:[e];if(!this.canEmbed(n))throw new Error("Recursive embedding not allowed.");if(n.some(r=>r.isEmbedded()&&this.id!==r.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(n,t),this},unembed:function(e,t){const n=Array.isArray(e)?e:[e];return this._unembedCells(n,t),this},canEmbed:function(e){return(Array.isArray(e)?e:[e]).every(n=>this!==n&&!this.isEmbeddedIn(n))},_embedCells:function(e,t){const n="embed";this.startBatch(n);const r=xt([],this.get("embeds"));e.forEach(i=>{r[i.isLink()?"unshift":"push"](i.id),i.parent(this.id,t)}),this.set("embeds",pl(r),t),this.stopBatch(n)},_unembedCells:function(e,t){const n="unembed";this.startBatch(n),e.forEach(r=>r.unset("parent",t)),this.set("embeds",P0(this.get("embeds"),...e.map(r=>r.id)),t),this.stopBatch(n)},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(!this.graph)return[];if((e=e||{}).deep)return e.breadthFirst?this._getEmbeddedCellsBfs(e.sortSiblings):this._getEmbeddedCellsDfs(e.sortSiblings);const t=this.get("embeds");if(Oa(t))return[];let n=t.map(this.graph.getCell,this.graph);return e.sortSiblings&&(n=k0(n,r=>r.z())),n},_getEmbeddedCellsBfs:function(e){const t=[],n=[];for(n.push(this);n.length>0;){const r=n.shift();t.push(r);const i=r.getEmbeddedCells({sortSiblings:e});n.push(...i)}return t.shift(),t},_getEmbeddedCellsDfs:function(e){const t=[],n=[];for(n.push(this);n.length>0;){const r=n.pop();t.push(r);const i=r.getEmbeddedCells({sortSiblings:e});for(let o=i.length-1;o>=0;--o)n.push(i[o])}return t.shift(),t},isEmbeddedIn:function(e,t){var n=Ji(e)?e:e.id,r=this.parent();if(t=xt({deep:!0},t),this.graph&&t.deep){for(;r;){if(r===n)return!0;r=this.graph.getCell(r).parent()}return!1}return r===n},isEmbedded:function(){return!!this.parent()},clone:function(e){if((e=e||{}).deep)return An(NS([this].concat(this.getEmbeddedCells({deep:!0}))));var t=qi.Model.prototype.clone.apply(this,arguments);return t.set(this.getIdAttribute(),this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,n){var i=Ji(e);if(i||Array.isArray(e)){if(arguments.length>1){var o,s;i?s=(o=e).split("/"):(o=e.join("/"),s=e.slice());var a=s[0],c=s.length;const W=n||{};W.propertyPath=o,W.propertyValue=t,W.propertyPathArray=s,"rewrite"in W||(W.rewrite=!1);for(var l={},u=l,d=a,p=1;p<c;p++){var g=s[p],v=Number.isFinite(i?Number(g):g);u=u[d]=v?[]:{},d=g}l=R0(l,s,t,"/");var w=Kr({},this.attributes);W.rewrite&&wS(w,o,"/");var E=Kr(w,l);return this.set(a,E[a],W)}return Of(this.attributes,e,"/")}const N=t||{};N.propertyPath=null,N.propertyValue=e,N.propertyPathArray=[],"rewrite"in N||(N.rewrite=!1);const P={};for(const W in e){const{changedValue:K}=Kr({},{changedValue:this.attributes[W]},{changedValue:e[W]});P[W]=K}return this.set(P,N)},removeProp:function(e,t){t=t||{};var n=Array.isArray(e)?e:e.split("/"),r=n[0];if("attrs"===r&&(t.dirty=!0),1===n.length)return this.unset(e,t);var i=n.slice(1),o=this.get(r);return null==o?this:(o=hs(o),wS(o,i,"/"),this.set(r,o,t))},attr:function(e,t,n){var r=Array.from(arguments);return 0===r.length?this.get("attrs"):(r[0]=Array.isArray(e)?["attrs"].concat(e):Ji(e)?"attrs/"+e:{attrs:e},this.prop.apply(this,r))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,n,r){r=r||"/",n=xt({duration:100,delay:10,timingFunction:pH.linear,valueFunction:AS.number},n);var s,o=0,a=function(d){var p,g,v;(g=(d-=o=o||d)/n.duration)<1?this._transitionIds[e]=p=L0(a):(g=1,delete this._transitionIds[e]),v=s(n.timingFunction(g)),n.transitionId=p,this.prop(e,v,n),p||this.trigger("transition:end",this,e)}.bind(this);const{_scheduledTransitionIds:c}=this;let l;return l=setTimeout(d=>{c[e]&&(c[e]=P0(c[e],l),0===c[e].length&&delete c[e]),this.stopPendingTransitions(e,r),s=n.valueFunction(Of(this.attributes,e,r),t),this._transitionIds[e]=L0(d),this.trigger("transition:start",this,e)},n.delay,a),c[e]||(c[e]=[]),c[e].push(l),l},getTransitions:function(){return O0(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(e,t="/"){const{_scheduledTransitionIds:n={}}=this;let r=Object.keys(n);if(e){const i=e.split(t);r=r.filter(o=>Hu(i,o.split(t).slice(0,i.length)))}return r.forEach(i=>{n[i].forEach(s=>clearTimeout(s)),delete n[i]}),this},stopPendingTransitions(e,t="/"){const{_transitionIds:n={}}=this;let r=Object.keys(n);if(e){const i=e.split(t);r=r.filter(o=>Hu(i,o.split(t).slice(0,i.length)))}r.forEach(i=>{F0(n[i]),delete n[i],this.trigger("transition:end",this,i)})},stopTransitions:function(e,t="/"){return this.stopScheduledTransitions(e,t),this.stopPendingTransitions(e,t),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,xt({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,xt({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var n in e)!e.hasOwnProperty(n)||!this.hasChanged(n)||(t|=e[n]);return t},angle:function(){return 0},position:function(){return new q(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new q},getBBox:function(){return new Xe(0,0,0,0)},getPointRotatedAroundCenter(e,t,n){const r=new q(t,n);return e&&r.rotate(this.getBBox().center(),e),r},getAbsolutePointFromRelative(e,t){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(e,t))},getRelativePointFromAbsolute(e,t){return this.getPointRotatedAroundCenter(this.angle(),e,t).difference(this.position())}},{getAttributeDefinition:function(e){var t=this.attributes;return t&&t[e]||BS[e]},define:function(e,t,n,r){n=xt({defaults:Uu({type:e},t,this.prototype.defaults)},n);var i=this.extend(n,r);return typeof joint<"u"&&Ra(joint,"shapes")&&R0(joint.shapes,e,i,"."),i}});function jS(e,t,n){var r=e.toJSON();return r.angle=t||0,fs({},n,r)}function Bf(e,t,n,r){return e.map(function(i,o,s){var a=this.pointAt((o+.5)/s.length);return(i.dx||i.dy)&&a.offset(i.dx||0,i.dy||0),jS(a.round(),0,V0(r,i))},ll(t,n))}function zS(e,t,n,r){var i=t.center(),o=t.width/t.height,s=t.topMiddle(),a=vo.fromRect(t);return e.map(function(c,l,u){var d=n+r(l,u.length),p=s.clone().rotate(i,-d).scale(o,1,i),g=c.compensateRotation?-a.tangentTheta(p):0;return(c.dx||c.dy)&&p.offset(c.dx||0,c.dy||0),c.dr&&p.move(i,c.dr),jS(p.round(),g,V0(t,c))})}function V0(e,t){let{x:n,y:r,angle:i}=t;return Oi(n)?n=parseFloat(n)/100*e.width:ms(n)&&(n=Number(vs(n,e))),Oi(r)?r=parseFloat(r)/100*e.height:ms(r)&&(r=Number(vs(r,e))),{x:n,y:r,angle:i}}function G0(e,t){const{x:n,y:r}=V0(e,t);return new q(n||0,r||0)}const MH=function(e,t){return e.map(n=>{const r=G0(t,n).round().toJSON();return r.angle=n.angle||0,r})},TH=function(e,t,n){return n.fn(e,t,n)},SH=function(e,t,n){return Bf(e,G0(t,n.start||t.origin()),G0(t,n.end||t.corner()),t)},NH=function(e,t,n){return Bf(e,t.origin(),t.bottomLeft(),t)},kH=function(e,t,n){return Bf(e,t.topRight(),t.corner(),t)},PH=function(e,t,n){return Bf(e,t.origin(),t.topRight(),t)},OH=function(e,t,n){return Bf(e,t.bottomLeft(),t.corner(),t)},RH=function(e,t,n){var i=n.step||360/e.length;return zS(e,t,n.startAngle||0,function(o){return o*i})},LH=function(e,t,n){var i=n.step||20;return zS(e,t,n.startAngle||0,function(o,s){return(o+.5-s/2)*i})};function bc(e,t){return Uu({},e,t,{x:0,y:0,angle:0,attrs:{}})}function VS(e){var t=e.center(),n=t.theta(e.origin()),r=t.theta(e.bottomLeft()),i=t.theta(e.corner());return[n,t.theta(e.topRight()),i,r]}function GS(e,t,n,r){r=fs({},r,{offset:15});var o,s,a,c,i=t.center().theta(e),l=r.offset,u=0;const[d,p,g,v]=VS(t);i<p||i>g?(a=".3em",o=l,s=0,c="start"):i<d?(o=0,s=-l,n?(u=-90,c="start",a=".3em"):(c="middle",a="0")):i<v?(a=".3em",o=-l,s=0,c="end"):(o=0,s=l,n?(u=90,c="start",a=".3em"):(c="middle",a=".6em"));var w=Math.round;return bc(r,{x:w(o),y:w(s),angle:u,attrs:{labelText:{y:a,textAnchor:c}}})}function US(e,t,n,r){r=fs({},r,{offset:15});var o,s,a,c,i=t.center().theta(e),l=r.offset,u=0;const[d,p,g,v]=VS(t);i<p||i>g?(a=".3em",o=-l,s=0,c="end"):i<d?(o=0,s=l,n?(u=90,c="start",a=".3em"):(c="middle",a=".6em")):i<v?(a=".3em",o=l,s=0,c="start"):(o=0,s=-l,n?(u=-90,c="start",a=".3em"):(c="middle",a="0"));var w=Math.round;return bc(r,{x:w(o),y:w(s),angle:u,attrs:{labelText:{y:a,textAnchor:c}}})}function HS(e,t,n){n=fs({},n,{offset:20});var c,r=sg(0,0),i=-e.theta(r),o=i,s=e.clone().move(r,n.offset).difference(e).round(),a=".3em";(i+90)%180==0?(c=t?"end":"middle",!t&&-270===i&&(a="0em")):i>-270&&i<-90?(c="start",o=i-180):c="end";var l=Math.round;return bc(n,{x:l(s.x),y:l(s.y),angle:t?o:0,attrs:{labelText:{y:a,textAnchor:c}}})}const FH=function(e,t,n){return bc(n)},BH=function(e,t,n){return bc(n,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},jH=function(e,t,n){return bc(n,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},zH=function(e,t,n){return bc(n,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},VH=function(e,t,n){return bc(n,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},GH=function(e,t,n){return GS(e,t,!0,n)},UH=function(e,t,n){return GS(e,t,!1,n)},HH=function(e,t,n){return US(e,t,!0,n)},ZH=function(e,t,n){return US(e,t,!1,n)},WH=function(e,t,n){return HS(e.difference(t.center()),!1,n)},YH=function(e,t,n){return HS(e.difference(t.center()),!0,n)};var ZS=function(e){var t=hs(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=Kn,this.portLabelLayoutNamespace=Li,this._init(t)};ZS.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var n=this.getGroup(e),r=this.getPortsByGroup(e),i=n.position||{},o=i.name,s=this.portLayoutNamespace;s[o]||(o="left");var a=i.args||{},c=r.map(function(d){return d&&d.position&&d.position.args}),l=s[o](c,t,a),u={ports:r,result:[]};return An(l).reduce(function(d,p,g){var v=d.ports[g];return d.result.push({portId:v.id,portTransformation:p,labelTransformation:this._getPortLabelLayout(v,q(p),t),portAttrs:v.attrs,portSize:v.size,labelSize:v.label.size}),d}.bind(this),u),u.result},_getPortLabelLayout:function(e,t,n){var r=this.portLabelLayoutNamespace,i=e.label.position.name||"left";return r[i]?r[i](t,n,e.label.position.args):null},_init:function(e){if(Pn(e.groups))for(var t=Object.keys(e.groups),n=0,r=t.length;n<r;n++){var i=t[n];this.groups[i]=this._evaluateGroup(e.groups[i])}for(var o=An(e.items),s=0,a=o.length;s<a;s++)this.ports.push(this._evaluatePort(o[s]))},_evaluateGroup:function(e){return Kr(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=xt({},e),n=this.getGroup(e.group);return t.markup=t.markup||n.markup,t.attrs=Kr({},n.attrs,t.attrs),t.position=this._createPositionNode(n,t),t.label=Kr({},n.label,this._getLabel(t)),t.z=this._getZIndex(n,t),t.size=xt({},n.size,t.size),t},_getZIndex:function(e,t){return Ro(t.z)?t.z:Ro(e.z)||"auto"===e.z?e.z:"auto"},_createPositionNode:function(e,t){return Kr({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var r,n={};fr(e)?(r="fn",n.fn=e):Ji(e)?r=e:void 0===e?r=t?"left":null:Array.isArray(e)?(r="absolute",n.x=e[0],n.y=e[1]):Pn(e)&&(r=e.name,xt(n,e.args));var i={args:n};return r&&(i.name=r),i},_getLabel:function(e,t){var n=e.label||{},r=n;return r.position=this._getPosition(n.position,t),r}};const XH={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};An(e.items).forEach(function(a){t[a.id]=!0});var n=this.previous("ports")||{},r={};An(n.items).forEach(function(a){t[a.id]||(r[a.id]=!0)});var i=this.graph;i&&!Oa(r)&&(i.getConnectedLinks(this,{inbound:!0}).forEach(function(a){r[a.get("target").port]&&a.remove()}),i.getConnectedLinks(this,{outbound:!0}).forEach(function(a){r[a.get("source").port]&&a.remove()}))},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return-1!==this.getPortIndex(e)},getPorts:function(){return hs(this.prop("ports/items"))||[]},getGroupPorts:function(e){const t=An(this.prop(["ports","items"])).filter(n=>n.group===e);return hs(t)},getPort:function(e){return hs(An(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortsPositions:function(e){return this._portSettingsData.getGroupPortsMetrics(e,Xe(this.size())).reduce(function(n,r){var i=r.portTransformation;return n[r.portId]={x:i.x,y:i.y,angle:i.angle},n},{})},getPortIndex:function(e){var t=Pn(e)?e.id:e;return this._isValidPortId(t)?An(this.prop("ports/items")).findIndex(function(n){return n.id===t}):-1},addPort:function(e,t){if(!Pn(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var n=xt([],this.prop("ports/items"));return n.push(e),this.prop("ports/items",n,t),this},insertPort:function(e,t,n){const r="number"==typeof e?e:this.getPortIndex(e);if(!Pn(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");const i=xt([],this.prop("ports/items"));return i.splice(r,0,t),this.prop("ports/items",i,n),this},portProp:function(e,t,n,r){var i=this.getPortIndex(e);if(-1===i)throw new Error("Element: unable to find port with id "+e);var o=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?o[0]=["ports","items",i].concat(t):Ji(t)?o[0]=["ports/items/",i,"/",t].join(""):(o=["ports/items/"+i],Vr(t)&&(o.push(t),o.push(n))),this.prop.apply(this,o)},_validatePorts:function(){var e=this.get("ports")||{},t=[],n=An((e=e||{}).items);return n.forEach(function(r){"object"!=typeof r&&t.push("Element: invalid port ",r),this._isValidPortId(r.id)||(r.id=this.generatePortId())},this),pl(n,"id").length!==n.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return null!=e&&!Pn(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",xt([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){const n=t||{},r=this.getPortIndex(e);if(-1!==r){const i=xt([],this.prop(["ports","items"]));i.splice(r,1),n.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],i,n),this.stopBatch("port-remove")}return this},removePorts:function(e,t){let n,r;if(Array.isArray(e)){if(n=t||{},0===e.length)return this.this;r=xt([],this.prop(["ports","items"])).filter(function(o){return!e.some(function(s){const a=Pn(s)?s.id:s;return o.id===a})})}else n=e||{},r=[];return this.startBatch("port-remove"),n.rewrite=!0,this.prop(["ports","items"],r,n),this.stopBatch("port-remove"),this},_createPortData:function(){var t,e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new ZS(this.get("ports"));var n=this._portSettingsData.getPorts();if(t){var r=n.filter(function(o){if(!t.find(function(s){return s.id===o.id}))return o}),i=t.filter(function(o){if(!n.find(function(s){return s.id===o.id}))return o});i.length>0&&this.trigger("ports:remove",this,i),r.length>0&&this.trigger("ports:add",this,r)}}},$H={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),n=0,r=t.node.childNodes.length;n<r;n++)e.push(t.node.childNodes[n]);var i=((e,t)=>(t=Dg(t,2),function RU(e,t,n){return(Array.isArray(e)?PU:OU)(e,t,n,arguments.length<3,S0)}(e,(n,r,i)=>(i=t(r),hasOwnProperty.call(n,i)?n[i].push(r):hl(n,i,[r]),n),{})))(this.model._portSettingsData.getPorts(),"z"),o="auto";An(i[o]).forEach(function(u){var d=this._getPortElement(u);t.append(d),e.push(d)},this);for(var s=Object.keys(i),a=0;a<s.length;a++){var c=s[a];if(c!==o){var l=parseInt(c,10);this._appendPorts(i[c],l,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,n){var r=this._getContainerElement(),i=An(e).map(this._getPortElement,this);n[t]||t<0?Ce(n[Math.max(t,0)]).before(i):r.append(i)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNode:function(e,t){const n=this._portElementsCache[e];if(!n)return null;if(!t)return n.portContentElement.node;const r=n.portElement.node,i=n.portSelectors,[o=null]=this.findBySelector(t,r,i);return o},_updatePorts:function(){this._updatePortGroup(void 0),Object.keys(this.model._portSettingsData.groups).forEach(this._updatePortGroup,this)},_removePorts:function(){ha(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){let t,n,r,i;var o=Ce(this.portContainerMarkup).addClass("joint-port"),s=this._getPortMarkup(e);if(Array.isArray(s)){var a=this.parseDOMJSON(s,o.node),c=a.fragment;t=c.childNodes.length>1?Ce("g").append(c):Ce(c.firstChild),i=a.selectors}else t=Ce(s),Array.isArray(t)&&(t=Ce("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group});const l=this._getPortLabelMarkup(e.label);if(Array.isArray(l)){const{fragment:w,selectors:E}=this.parseDOMJSON(l,o.node),N=w.childNodes.length;N>0&&(r=E,n=1===N?Ce(w.firstChild):Ce("g").append(w))}else n=Ce(l),Array.isArray(n)&&(n=Ce("g").append(n));var u;if(i&&r){for(var d in r)if(i[d]&&d!==this.selector)throw new Error("ElementView: selectors within port must be unique.");u=xt({},i,r)}else u=i||r||{};const p="portRoot",g="labelRoot",v="labelText";if(p in u||(u[p]=t.node),n){const w=n.node;if(g in u||(u[g]=w),!(v in u)){const E="TEXT"===n.tagName()?w:Array.from(w.querySelectorAll("text"));u[v]=E,r||(r={}),r[v]=E}}return o.append(t.addClass("joint-port-body")),n&&o.append(n.addClass("joint-port-label")),this._portElementsCache[e.id]={portElement:o,portLabelElement:n,portSelectors:u,portLabelSelectors:r,portContentElement:t,portContentSelectors:i},o},_updatePortGroup:function(e){for(var t=Xe(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(e,t),r=0,i=n.length;r<i;r++){var o=n[r],a=this._portElementsCache[o.portId]||{},c=o.portTransformation,l=o.labelTransformation;l&&a.portLabelElement&&(this.updateDOMSubtreeAttributes(a.portLabelElement.node,l.attrs,{rootBBox:new Xe(o.labelSize),selectors:a.portLabelSelectors}),this.applyPortTransform(a.portLabelElement,l,-c.angle||0)),this.updateDOMSubtreeAttributes(a.portElement.node,o.portAttrs,{rootBBox:new Xe(o.portSize),selectors:a.portSelectors}),this.applyPortTransform(a.portElement,c)}},applyPortTransform:function(e,t,n){var r=Ce.createSVGMatrix().rotate(n||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(r,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},br=ga.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),ga.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,n){const r=Ro(t);n=(r?n:e)||{};const{parentRelative:i,deep:o,restrictedArea:s}=n;let a;if(i){if(!this.graph)throw new Error("Element must be part of a graph.");const c=this.getParentCell();c&&!c.isLink()&&(a=c.get("position"))}if(r){if(a&&(e+=a.x,t+=a.y),o||s){const{x:c,y:l}=this.get("position");this.translate(e-c,t-l,n)}else this.set("position",{x:e,y:t},n);return this}{const c=q(this.get("position"));return i?c.difference(a):c}},translate:function(e,t,n){if(t=t||0,0===(e=e||0)&&0===t)return this;(n=n||{}).translateBy=n.translateBy||this.id;var r=this.get("position")||{x:0,y:0},i=n.restrictedArea;if(i&&n.translateBy===this.id)if("function"==typeof i){var o=i.call(this,r.x+e,r.y+t,n);e=o.x-r.x,t=o.y-r.y}else{var s=this.getBBox({deep:!0}),a=r.x-s.x,c=r.y-s.y,l=Math.max(i.x+a,Math.min(i.x+i.width+a-s.width,r.x+e)),u=Math.max(i.y+c,Math.min(i.y+i.height+c-s.height,r.y+t));e=l-r.x,t=u-r.y}var d={x:r.x+e,y:r.y+t};return n.tx=e,n.ty=t,n.transition?(Pn(n.transition)||(n.transition={}),this.transition("position",d,xt({},n.transition,{valueFunction:AS.object})),ha(this.getEmbeddedCells(),"translate",e,t,n)):(this.startBatch("translate",n),this.set("position",d,n),ha(this.getEmbeddedCells(),"translate",e,t,n),this.stopBatch("translate",n)),this},size:function(e,t,n){var r=this.get("size");return void 0===e?{width:r.width,height:r.height}:(Pn(e)&&(n=t,t=Ro(e.height)?e.height:r.height,e=Ro(e.width)?e.width:r.width),this.resize(e,t,n))},resize:function(e,t,n){if(this.startBatch("resize",n=n||{}),n.direction){var r=this.get("size");switch(n.direction){case"left":case"right":t=r.height;break;case"top":case"bottom":e=r.width}var s,i=Ps(this.get("angle")||0),o=this.getBBox();if(i){var a={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(a+=Math.floor((i+45)/90),a%=4);var c=o[["bottomLeft","corner","topRight","origin"][a]](),l=q(c).rotate(o.center(),-i),u=Math.sqrt(e*e+t*t)/2,d=a*Math.PI/2;d+=Math.atan(a%2==0?t/e:e/t),d-=Po(i);var p=q.fromPolar(u,d,l);s=q(p).offset(e/-2,t/-2)}else switch(s=o.topLeft(),n.direction){case"top":case"top-right":s.offset(0,o.height-t);break;case"left":case"bottom-left":s.offset(o.width-e,0);break;case"top-left":s.offset(o.width-e,o.height-t)}this.set("size",{width:e,height:t},n),this.position(s.x,s.y,n)}else this.set("size",{width:e,height:t},n);return this.stopBatch("resize",n),this},scale:function(e,t,n,r){var i=this.getBBox().scale(e,t,n);return this.startBatch("scale",r),this.position(i.x,i.y,r),this.resize(i.width,i.height,r),this.stopBatch("scale"),this},fitEmbeds:function(e){return this.fitToChildren(e)},fitToChildren:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");const n=this.getEmbeddedCells().filter(r=>r.isElement());return 0===n.length||(this.startBatch("fit-embeds",e),e.deep&&ha(n,"fitToChildren",e),this._fitToElements(Object.assign({elements:n},e)),this.stopBatch("fit-embeds")),this},fitParent:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");if(e.deep&&e.terminator&&(e.terminator===this||e.terminator===this.id))return this;const n=this.getParentCell();if(!n||!n.isElement())return this;const r=n.getEmbeddedCells().filter(i=>i.isElement());return 0===r.length||(this.startBatch("fit-parent",e),n._fitToElements(Object.assign({elements:r},e)),e.deep&&n.fitParent(e),this.stopBatch("fit-parent")),this},_fitToElements:function(e={}){const t=this.graph.getCellsBBox(e.elements);if(!t)return;const{expandOnly:n,shrinkOnly:r}=e;if(n&&r)return;let{x:i,y:o,width:s,height:a}=t;const{left:c,right:l,top:u,bottom:d}=mc(e.padding);i-=c,o-=u,s+=c+l,a+=d+u;let p=new Xe(i,o,s,a);if(n)p=this.getBBox().union(p);else if(r){const g=this.getBBox().intersect(p);if(!g)return;p=g}this.set({position:{x:p.x,y:p.y},size:{width:p.width,height:p.height}},e)},rotate:function(e,t,n,r){if(n){var i=this.getBBox().center(),o=this.get("size"),s=this.get("position");i.rotate(n,this.get("angle")-e);var a=i.x-o.width/2-s.x,c=i.y-o.height/2-s.y;this.startBatch("rotate",{angle:e,absolute:t,origin:n}),this.position(s.x+a,s.y+c,r),this.rotate(e,t,null,r),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,r);return this},angle:function(){return Ps(this.get("angle")||0)},getBBox:function(e={}){const{graph:t,attributes:n}=this,{deep:r,rotate:i}=e;if(r&&t){const d=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return d.push(this),t.getCellsBBox(d,e)}const{angle:o=0,position:{x:s,y:a},size:{width:c,height:l}}=n,u=new Xe(s,a,c,l);return i&&u.rotateAroundCenter(o),u},getPointFromConnectedLink:function(e,t){var n=this.getBBox(),r=n.center(),i=e.get(t);if(!i)return r;var o=i.port;if(!o||!this.hasPort(o))return r;var s=this.portProp(o,["group"]),a=this.getPortsPositions(s),c=new q(a[o]).offset(n.origin()),l=this.angle();return l&&c.rotate(r,-l),c}});xt(br.prototype,XH);const Sn={TOOLS:yn.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},Qr=yn.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=yn.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){yn.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[Sn.UPDATE],position:[Sn.TRANSLATE,Sn.TOOLS],size:[Sn.RESIZE,Sn.PORTS,Sn.TOOLS],angle:[Sn.ROTATE,Sn.TOOLS],markup:[Sn.RENDER],ports:[Sn.PORTS]},initFlag:[Sn.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){const{useCSSSelectors:n}=ls;this.hasFlag(e,Sn.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(e,Sn.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),r=!0,e=this.removeFlag(e,[Sn.RENDER,Sn.UPDATE,Sn.RESIZE,Sn.TRANSLATE,Sn.ROTATE,Sn.PORTS,Sn.TOOLS]);else{let i=!1;this.hasFlag(e,Sn.RESIZE)&&(this.resize(t),i=!0,e=this.removeFlag(e,[Sn.RESIZE,Sn.UPDATE]),n&&(e=this.removeFlag(e,Sn.PORTS))),this.hasFlag(e,Sn.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,Sn.UPDATE),i=!0,n&&(e=this.removeFlag(e,Sn.PORTS))),this.hasFlag(e,Sn.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,Sn.TRANSLATE),r=!0),this.hasFlag(e,Sn.ROTATE)&&(this.rotate(),e=this.removeFlag(e,Sn.ROTATE),r=!0),this.hasFlag(e,Sn.PORTS)&&(this._renderPorts(),i=!0,e=this.removeFlag(e,Sn.PORTS)),i&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(e,Sn.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,Sn.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache();const{useCSSSelectors:n}=ls;n&&this._removePorts();var r=this.model,i=r.attr();this.updateDOMSubtreeAttributes(this.el,i,{rootBBox:new Xe(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===i?null:t}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if("string"==typeof t)return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),n=this.selectors=t.selectors;this.rotatableNode=Ce(n[this.rotatableSelector])||null,this.scalableNode=Ce(n[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(Ce(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable"),(this.selectors={})[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),ls.useCSSSelectors||this._renderPorts(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode)return this.rgRotate(),void this.update();this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){var e=this.model.attributes.position;return"translate("+e.x+","+e.y+")"},getRotateString:function(){var e=this.model.attributes,t=e.angle;if(!t)return null;var n=e.size;return"rotate("+t+","+n.width/2+","+n.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,n=t.angle(),r=t.size(),i=this.scalableNode,o=!1;i.node.getElementsByTagName("path").length>0&&(o=!0);var s=i.getBBox({recursive:o});i.attr("transform","scale("+r.width/(s.width||1)+","+r.height/(s.height||1)+")");var l=this.rotatableNode,u=l&&l.attr("transform");if(u){l.attr("transform",u+" rotate("+-n+","+r.width/2+","+r.height/2+")");var d=i.getBBox({target:this.paper.cells});t.set("position",{x:d.x,y:d.y},xt({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e={}){const t=e.model||this.model,r=(e.paper||this.paper).model,i=e.initialZIndices={},o=t.getEmbeddedCells({deep:!0}),s=r.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t,...o,...s].forEach(l=>i[l.id]=l.attributes.z),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});const a=r.getElements().reduce((l,u)=>Math.max(l,u.attributes.z||0),0);s.forEach(l=>{l.attributes.z<=a&&l.set("z",a+1,{ui:!0})}),t.stopBatch("to-front");const c=t.parent();c?(r.getCell(c).unembed(t,{ui:!0}),e.initialParentId=c):e.initialParentId=null},processEmbedding:function(e={},t,n,r){const i=e.model||this.model,o=e.paper||this.paper,s=o.model,{findParentBy:a,frontParentOnly:c,validateEmbedding:l}=o.options;let u;u=fr(a)?An(a.call(s,this,t,n,r)):"pointer"===a?An(s.findModelsFromPoint({x:n,y:r})):s.findModelsUnderElement(i,{searchBy:a}),u=u.filter(g=>g instanceof ga&&i.id!==g.id&&!g.isEmbeddedIn(i)),c&&(u=u.slice(-1));let d=null;const p=e.candidateEmbedView;for(let g=u.length-1;g>=0;g--){const v=u[g];if(p&&p.model.id==v.id){d=p;break}{const w=v.findView(o);if(!fr(l)||l.call(o,this,w)){d=w;break}}}d&&d!=p&&(this.clearEmbedding(e),e.candidateEmbedView=d.highlight(d.findProxyNode(null,"container"),{embedding:!0})),!d&&p&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e={}){const t=e.candidateEmbedView,n=e.model||this.model,r=e.paper||this.paper;if(t)t.model.embed(n,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{const{validateUnembedding:i}=r.options,{initialParentId:o}=e;if(o&&"function"==typeof i&&!i.call(r,this))return void this._disallowUnembed(e)}r.model.getConnectedLinks(n,{deep:!0}).forEach(i=>{i.reparent({ui:!0})})},_disallowUnembed:function(e){const{model:t,whenNotAllowed:n="revert"}=e,r=t||this.model,o=(e.paper||this.paper).model;switch(n){case"remove":r.remove({ui:!0});break;case"revert":{const{initialParentId:s,initialPosition:a,initialZIndices:c}=e;if(a){const{x:u,y:d}=a;r.position(u,d,{deep:!0,ui:!0})}c&&Object.keys(c).forEach(u=>{const d=o.getCell(u);d&&d.set("z",c[u],{ui:!0})});const l=o.getCell(s);l&&l.embed(r,{ui:!0});break}}},getDelegatedView:function(){for(var e=this,t=e.model,n=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=n.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);const n=e.getAttribute(`${t}-selector`);if(n){const r=this.findAttribute("port",e);if(r){const i=this.findPortNode(r,n);if(i)return i}else{const[i]=this.findBySelector(n);if(i)return i}}return e},notifyPointerdown(e,t,n){yn.prototype.pointerdown.call(this,e,t,n),this.notify("element:pointerdown",e,t,n)},notifyPointermove(e,t,n){yn.prototype.pointermove.call(this,e,t,n),this.notify("element:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("element:pointerup",e,t,n),yn.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){yn.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){yn.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,n)},contextmenu:function(e,t,n){yn.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,n)},pointerdown:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragStart(e,t,n)},pointermove:function(e,t,n){const r=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=r;switch(i&&this.magnetpointermove(e,i,t,n),o){case"magnet":this.dragMagnet(e,t,n);break;case"move":(s||this).drag(e,t,n);default:if(r.preventPointerEvents)break;this.notifyPointermove(e,t,n)}this.eventData(e,r)},pointerup:function(e,t,n){const r=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=r;switch(i&&this.magnetpointerup(e,i,t,n),o){case"magnet":this.dragMagnetEnd(e,t,n);break;case"move":(s||this).dragEnd(e,t,n);default:if(r.preventPointerEvents)break;this.notifyPointerup(e,t,n)}i&&this.magnetpointerclick(e,i,t,n),this.checkMouseleave(e)},mouseover:function(e){yn.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){yn.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){yn.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){yn.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,n,r){yn.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,n,r)},onmagnet:function(e,t,n){const{currentTarget:r}=e;this.magnetpointerdown(e,r,t,n),this.eventData(e,{targetMagnet:r}),this.dragMagnetStart(e,t,n)},magnetpointerdown:function(e,t,n,r){this.notify("element:magnet:pointerdown",e,t,n,r)},magnetpointermove:function(e,t,n,r){this.notify("element:magnet:pointermove",e,t,n,r)},magnetpointerup:function(e,t,n,r){this.notify("element:magnet:pointerup",e,t,n,r)},magnetpointerdblclick:function(e,t,n,r){this.notify("element:magnet:pointerdblclick",e,t,n,r)},magnetcontextmenu:function(e,t,n,r){this.notify("element:magnet:contextmenu",e,t,n,r)},dragStart:function(e,t,n){if(this.isDefaultInteractionPrevented(e))return;var r=this.getDelegatedView();if(!r||!r.can("elementMove"))return;this.eventData(e,{action:"move",delegatedView:r});const i=r.model.position();r.eventData(e,{initialPosition:i,pointerOffset:i.difference(t,n),restrictedArea:this.paper.getRestrictedArea(r,t,n)})},dragMagnetStart:function(e,t,n){const{paper:r}=this,i=e.isPropagationStopped();if(i&&this.eventData(e,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(e)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:o=e.currentTarget}=this.eventData(e);e.stopPropagation(),r.options.validateMagnet.call(r,this,o,e)?(r.options.magnetThreshold<=0&&this.dragLinkStart(e,o,t,n),this.eventData(e,{action:"magnet"})):i?this.dragStart(e,t,n):this.pointerdown(e,t,n)},drag:function(e,t,n){var r=this.paper,i=r.options.gridSize,o=this.model,s=this.eventData(e),{pointerOffset:a,restrictedArea:c,embedding:l}=s,u=cl(t+a.x,i),d=cl(n+a.y,i);o.position(u,d,{restrictedArea:c,deep:!0,ui:!0}),r.options.embeddingMode&&(l||(this.prepareEmbedding(s),l=!0),this.processEmbedding(s,e,t,n)),this.eventData(e,{embedding:l})},dragMagnet:function(e,t,n){this.dragLink(e,t,n)},dragEnd:function(e,t,n){var r=this.eventData(e);r.embedding&&this.finalizeEmbedding(r)},dragMagnetEnd:function(e,t,n){this.dragLinkEnd(e,t,n)},magnetpointerclick:function(e,t,n,r){var i=this.paper;i.eventData(e).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,n,r)}},{Flags:Sn});xt(Qr.prototype,$H);const WS={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[e];if(typeof n<"u")return n;try{n=t()}catch{n=!1}return this._results[e]=n,n}},Ln=br.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}}),qH=Ln.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'}),JH=Qr.extend({presentationAttributes:Qr.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var e=Qr.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"SCALE")&&(this.resize(),e=this.removeFlag(e,"SCALE")),e}}),KH=Ln.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'}),U0=Ln.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'}),QH=Ln.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'}),eZ=Ln.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),tZ=Ln.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'}),nZ=Ln.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'}),YS=Ln.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'}),rZ=YS.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}}),Sg=WS.test("svgforeignobject"),iZ=Ln.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',Sg?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),Ln.prototype.initialize.apply(this,arguments)},updateSize:function(e,t){this.attr({".fobj":xt({},t),div:{style:xt({},t)}})},updateContent:function(e,t){this.attr(Sg?{".content":{html:uH(t)}}:{".content":{text:t}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),oZ=Qr.extend({presentationAttributes:Sg?Qr.prototype.presentationAttributes:Qr.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var e=Qr.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"CONTENT")&&(this.updateContent(this.model),e=this.removeFlag(e,"CONTENT")),e},update:function(e,t){var n=this.model;if(Sg)Qr.prototype.update.call(this,n,t);else{var r=gl(t||n.get("attrs"),".content");Qr.prototype.update.call(this,n,r),(!t||Ra(t,".content"))&&this.updateContent(n,t)}},updateContent:function(e,t){var n=Kr({},(t||e.get("attrs"))[".content"]);n=gl(n,"text");var r=_S(e.get("content"),e.get("size"),n,{svgDocument:this.paper.svg}),i=R0({},".content",n,"/");i[".content"].text=r,Qr.prototype.update.call(this,e,i)}}),wi=ga.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,n){return void 0===e?pa(this.get("source")):e instanceof ga?((r=pa(t)||{}).id=e.id,this.set("source",r,n)):Vr(e)?this.set("source",r=e,t):((r=pa(t)||{}).x=e.x,r.y=e.y,this.set("source",r,n));var r},target:function(e,t,n){return void 0===e?pa(this.get("target")):e instanceof ga?((r=pa(t)||{}).id=e.id,this.set("target",r,n)):Vr(e)?this.set("target",r=e,t):((r=pa(t)||{}).x=e.x,r.y=e.y,this.set("target",r,n));var r},router:function(e,t,n){if(void 0===e){var r=this.get("router");return r?"object"==typeof r?pa(r):r:this.get("manhattan")?{name:"orthogonal"}:null}var i="object"==typeof e||"function"==typeof e;return this.set("router",i?e:{name:e,args:t},i?t:n)},connector:function(e,t,n){if(void 0===e){var r=this.get("connector");return r?"object"==typeof r?pa(r):r:this.get("smooth")?{name:"smooth"}:null}var i="object"==typeof e||"function"==typeof e;return this.set("connector",i?e:{name:e,args:t},i?t:n)},label:function(e,t,n){var r=this.labels();return(e=isFinite(e)&&null!==e?0|e:0)<0&&(e=r.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,n)},labels:function(e,t){return 0===arguments.length?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},hasLabels:function(){const{labels:e}=this.attributes;return Array.isArray(e)&&e.length>0},insertLabel:function(e,t,n){if(!t)throw new Error("dia.Link: no label provided");var r=this.labels(),i=r.length;return(e=isFinite(e)&&null!==e?0|e:i)<0&&(e=i+e+1),r.splice(e,0,t),this.labels(r,n)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var n=this.labels();return e=isFinite(e)&&null!==e?0|e:-1,n.splice(e,1),this.labels(n,t)},vertex:function(e,t,n){var r=this.vertices();if((e=isFinite(e)&&null!==e?0|e:0)<0&&(e=r.length+e),arguments.length<=1)return this.prop(["vertices",e]);var i=this._normalizeVertex(t);return this.prop(["vertices",e],i,n)},vertices:function(e,t){if(0===arguments.length)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var n=[],r=0;r<e.length;r++){var o=this._normalizeVertex(e[r]);n.push(o)}return this.set("vertices",n,t)},insertVertex:function(e,t,n){if(!t)throw new Error("dia.Link: no vertex provided");var r=this.vertices(),i=r.length;(e=isFinite(e)&&null!==e?0|e:i)<0&&(e=i+e+1);var o=this._normalizeVertex(t);return r.splice(e,0,o),this.vertices(r,n)},removeVertex:function(e,t){var n=this.vertices();return e=isFinite(e)&&null!==e?0|e:-1,n.splice(e,1),this.vertices(n,t)},_normalizeVertex:function(e){return Vr(e)?e:{x:e.x,y:e.y}},translate:function(e,t,n){return(n=n||{}).translateBy=n.translateBy||this.id,n.tx=e,n.ty=t,this.applyToPoints(function(r){return{x:(r.x||0)+e,y:(r.y||0)+t}},n)},scale:function(e,t,n,r){return this.applyToPoints(function(i){return q(i).scale(e,t,n).toJSON()},r)},applyToPoints:function(e,t){if(!fr(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},{source:r,target:i}=this.attributes;r.id||(n.source=e(r)),i.id||(n.target=e(i));var o=this.vertices();return o.length>0&&(n.vertices=o.map(e)),this.set(n,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new q(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new q(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const e=[this.getSourcePoint(),...this.vertices().map(q),this.getTargetPoint()];return new or(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var n=this.getSourceElement(),r=this.getTargetElement(),i=this.getParentCell();n&&r&&(t=n===r||n.isEmbeddedIn(r)?r:r.isEmbeddedIn(n)?n:this.graph.getCommonAncestor(n,r)),i&&(!t||t.id!==i.id)&&i.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var{source:t,target:n}=this.attributes,r=t.id,i=n.id;if(!r||!i)return!1;var o=r===i;if(!o&&e.deep&&this.graph){var s=this.getSourceCell(),a=this.getTargetCell();o=s.isEmbeddedIn(a)||a.isEmbeddedIn(s)}return o},getSourceCell:function(){const{graph:e,attributes:t}=this;var n=t.source;return n&&n.id&&e&&e.getCell(n.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){const{graph:e,attributes:t}=this;var n=t.target;return n&&n.id&&e&&e.getCell(n.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(n){return!!n});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=Ji(e)||Ro(e)?e:e.id,n=this.getRelationshipAncestor();return!!n&&(n.id===t||n.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){return e.id===t.id&&(e.port===t.port||!e.port&&!t.port)}}),H0=br.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),sZ=br.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),aZ=br.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),cZ=br.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),lZ=br.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),uZ=br.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),dZ=br.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),fZ=br.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),hZ=br.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),pZ=br.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),gZ=br.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]}),mZ=br.define("standard.Cylinder",{attrs:{body:{lateralArea:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:10,refRx:"50%",ry:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(void 0===e)return this.attr("body/lateralArea");var n=Oi(e);return this.attr({body:{lateralArea:e},top:n?{refCy:e,refRy:e,cy:null,ry:null}:{refCy:null,refRy:null,cy:e,ry:e}},t)}},{attributes:{lateralArea:{set:function(e,t){var n=Oi(e);n&&(e=parseFloat(e)/100);var r=t.x,i=t.y,o=t.width,s=t.height,c=n?s*e:e,l=Ce.KAPPA,u=l*(o/2),d=l*(n?s*e:e),g=r+o/2,v=r+o,w=i+c,E=w-c,N=i+s-c,P=i+s;return{d:["M",r,w,"L",r,N,"C",r,N+d,g-u,P,g,P,"C",g+u,P,v,N+d,v,N,"L",v,w,"C",v,w-d,g+u,E,g,E,"C",g-u,E,r,w-d,r,w,"Z"].join(" ")}}}}});var bZ=WS.test("svgforeignobject")?{tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}};const IZ=br.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},bZ]},{attributes:{text:{set:function(e,t,n,r){if(!(n instanceof HTMLElement)){var i=r.style||{},o={text:e,width:-5,height:"100%"},s=xt({textVerticalAnchor:"middle"},i);return BS.textWrap.set.call(this,o,t,n,s),{fill:i.color||null}}n.textContent=e},position:function(e,t,n){if(n instanceof SVGElement)return t.center()}}}}),wZ=wi.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),CZ=wi.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),_Z=wi.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]}),W0=Ln.define("devs.Model",{inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},{markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',initialize:function(){Ln.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(e,t,n){var r=pl(this.get("inPorts")),i=bS(pl(this.get("outPorts")),r),o=this.createPortItems("in",r),s=this.createPortItems("out",i);this.prop("ports/items",o.concat(s),xt({rewrite:!0},n))},createPortItem:function(e,t){return{id:t,group:e,attrs:{".port-label":{text:t}}}},createPortItems:function(e,t){return An(t).map(this.createPortItem.bind(this,e))},_addGroupPort:function(e,t,n){var r=this.get(t);return this.set(t,Array.isArray(r)?r.concat(e):[e],n)},addOutPort:function(e,t){return this._addGroupPort(e,"outPorts",t)},addInPort:function(e,t){return this._addGroupPort(e,"inPorts",t)},_removeGroupPort:function(e,t,n){return this.set(t,P0(this.get(t),e),n)},removeOutPort:function(e,t){return this._removeGroupPort(e,"outPorts",t)},removeInPort:function(e,t){return this._removeGroupPort(e,"inPorts",t)},_changeGroup:function(e,t,n){return this.prop("ports/groups/"+e,Pn(t)?t:{},n)},changeInGroup:function(e,t){return this._changeGroup("in",e,t)},changeOutGroup:function(e,t){return this._changeGroup("out",e,t)}}),AZ=W0.define("devs.Atomic",{size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}}),DZ=W0.define("devs.Coupled",{size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}}),EZ=wi.define("devs.Link",{attrs:{".connection":{"stroke-width":2}}}),Ng=Ln.define("logic.Gate",{size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},{operation:function(){return!0}}),Y0=Ng.define("logic.IO",{size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>'}),xZ=Y0.define("logic.Input",{attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}}),MZ=Y0.define("logic.Output",{attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}}),X0=Ng.define("logic.Gate11",{attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>'}),vl=Ng.define("logic.Gate21",{attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>'}),TZ=X0.define("logic.Repeater",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(e){return e}}),SZ=X0.define("logic.Not",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e){return!e}}),NZ=vl.define("logic.Or",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(e,t){return e||t}}),kZ=vl.define("logic.And",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return e&&t}}),PZ=vl.define("logic.Nor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e,t){return!(e||t)}}),OZ=vl.define("logic.Nand",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return!(e&&t)}}),RZ=vl.define("logic.Xor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e,t){return(!e||t)&&(e||!t)}}),LZ=vl.define("logic.Xnor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return(!e||!t)&&(e||t)}}),FZ=wi.define("logic.Wire",{attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},{arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join("")}),BZ=Ln.define("chess.KingWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>'}),jZ=Ln.define("chess.KingBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),zZ=Ln.define("chess.QueenWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>'}),VZ=Ln.define("chess.QueenBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),GZ=Ln.define("chess.RookWhite",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),UZ=Ln.define("chess.RookBlack",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>'}),HZ=Ln.define("chess.BishopWhite",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),ZZ=Ln.define("chess.BishopBlack",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>'}),WZ=Ln.define("chess.KnightWhite",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>'}),YZ=Ln.define("chess.KnightBlack",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>'}),XZ=Ln.define("chess.PawnWhite",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),$Z=Ln.define("chess.PawnBlack",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),XS=br.define("erd.Entity",{size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),qZ=XS.define("erd.WeakEntity",{attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}}),$S=br.define("erd.Relationship",{size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),JZ=$S.define("erd.IdentifyingRelationship",{attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}}),jf=br.define("erd.Attribute",{size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>'}),KZ=jf.define("erd.Multivalued",{attrs:{".inner":{display:"block"},text:{text:"multivalued"}}}),QZ=jf.define("erd.Derived",{attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}}),eW=jf.define("erd.Key",{attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}}),tW=jf.define("erd.Normal",{attrs:{text:{text:"Normal"}}}),nW=br.define("erd.ISA",{type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),rW=wi.define("erd.Line",{},{cardinality:function(e){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:e}}}])}}),iW=U0.define("fsa.State",{attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}}),oW=br.define("fsa.StartState",{size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>'}),sW=br.define("fsa.EndState",{size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),aW=wi.define("fsa.Arrow",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0}),cW=br.define("org.Member",{size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>'}),lW=wi.define("org.Arrow",{source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1}),uW=Ln.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),dW=Qr.extend({presentationAttributes:Qr.addPresentationAttributes({tokens:["TOKENS"]}),initFlag:Qr.prototype.initFlag.concat(["TOKENS"]),confirmUpdate:function(...e){let t=Qr.prototype.confirmUpdate.call(this,...e);return this.hasFlag(t,"TOKENS")&&(this.renderTokens(),this.update(),t=this.removeFlag(t,"TOKENS")),t},renderTokens:function(){const e=this.vel.findOne(".tokens").empty();["one","two","three","alot"].forEach(function(n){e.removeClass(n)});var t=this.model.get("tokens");if(t)switch(t){case 1:e.addClass("one"),e.append(Ce("circle"));break;case 2:e.addClass("two"),e.append([Ce("circle"),Ce("circle")]);break;case 3:e.addClass("three"),e.append([Ce("circle"),Ce("circle"),Ce("circle")]);break;default:e.addClass("alot"),e.append(Ce("text").text(t+""))}}}),fW=Ln.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),hW=wi.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}}),$0=Ln.define("uml.Class",{attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),Ln.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var e=this.get("attrs"),t=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],n=0;t.forEach(function(r){var i=Array.isArray(r.text)?r.text:[r.text],o=20*i.length+20;e[".uml-class-"+r.type+"-text"].text=i.join("\n"),e[".uml-class-"+r.type+"-rect"].height=o,e[".uml-class-"+r.type+"-rect"].transform="translate(0,"+n+")",n+=o})}}),q0=Qr.extend({initialize:function(){Qr.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),pW=$0.define("uml.Abstract",{attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},{getClassName:function(){return["<<Abstract>>",this.get("name")]}}),gW=q0,mW=$0.define("uml.Interface",{attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},{getClassName:function(){return["<<Interface>>",this.get("name")]}}),vW=q0,yW=wi.define("uml.Generalization",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}),bW=wi.define("uml.Implementation",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}),IW=wi.define("uml.Aggregation",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}),wW=wi.define("uml.Composition",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}),CW=wi.define("uml.Association"),_W=Ln.define("uml.State",{attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),Ln.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join("\n"))},updatePath:function(){var e="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",e,{silent:!0})}}),AW=U0.define("uml.StartState",{type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}}),DW=Ln.define("uml.EndState",{size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),EW=wi.define("uml.Transition",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}}),Pr={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function qS(e,t){const n=new Xe(e);switch(t){case void 0:throw new Error("Position required");case Pr.LEFT:case"leftMiddle":return n.leftMiddle();case Pr.RIGHT:case"rightMiddle":return n.rightMiddle();case Pr.TOP:case"topMiddle":return n.topMiddle();case Pr.BOTTOM:case"bottomMiddle":return n.bottomMiddle();case Pr.TOP_LEFT:case"topLeft":case"origin":return n.topLeft();case Pr.TOP_RIGHT:case"topRight":return n.topRight();case Pr.BOTTOM_LEFT:case"bottomLeft":return n.bottomLeft();case Pr.BOTTOM_RIGHT:case"bottomRight":case"corner":return n.bottomRight();case Pr.CENTER:return n.center();default:throw new Error(`Unknown position: ${t}`)}}const J0={cells:function(e){return function(){var t=Array.from(arguments),n=t.length,r=n>0&&t[0]||[],i=n>1&&t[n-1]||{};return Array.isArray(r)||(i instanceof ga?r=t:r instanceof ga&&(t.length>1&&t.pop(),r=t)),i instanceof ga&&(i={}),e.call(this,r,i)}}},MW=qi.Collection.extend({initialize:function(e,t){this.cellNamespace=t.cellNamespace?t.cellNamespace:typeof joint<"u"&&Ra(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){var n=t.collection,o=new("link"===e.type?wi:Of(n.cellNamespace,e.type,".")||br)(e,t);return t.dry||(o.graph=n.graph),o},comparator:function(e){return e.get("z")||0}}),kg=qi.Model.extend({initialize:function(e,t){var n=new MW([],{model:(t=t||{}).cellModel,cellNamespace:t.cellNamespace,graph:this});qi.Model.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var{source:t,target:n}=e.attributes;t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var{source:t,target:n}=e.attributes;t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],n.id&&this._in[n.id]&&this._in[n.id][e.id]&&delete this._in[n.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var n=e.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var n=e.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=qi.Model.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,n){var r;return"object"==typeof e?(r=e,n=t):(r={})[e]=t,r.hasOwnProperty("cells")&&(this.resetCells(r.cells,n),r=gl(r,"cells")),qi.Model.prototype.set.call(this,r,n)},clear:function(e){e=xt({},e,{clear:!0});var t=this.get("cells");if(0===t.length)return this;this.startBatch("clear",e);var n=t.sortBy(function(r){return r.isLink()?1:2});do{n.shift().remove(e)}while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e,t){var n;if(e instanceof qi.Model?(n=e.attributes,!e.graph&&(!t||!t.dry)&&(e.graph=this)):n=e,!Ji(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof qi.Model?e.has("z")||e.set("z",this.maxZIndex()+1):void 0===e.z&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return 0===e.length||(e=KU(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(n){this.addCell(n,t),t.position--},this),this.stopBatch("add",t)),this},resetCells:function(e,t){var n=An(e).map(function(r){return this._prepareCell(r,t)},this);return this.get("cells").reset(n,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),ha(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,n){(n=n||{}).clear||(n.disconnectLinks?this.disconnectLinks(e,n):this.removeLinks(e,n)),this.get("cells").remove(e,{silent:!0}),e.graph===this&&(e.graph=null)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(e=>e.isElement())},getLinks:function(){return this.get("cells").filter(e=>e.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){var n=(t=t||{}).indirect,r=t.inbound,i=t.outbound;void 0===r&&void 0===i&&(r=i=!0);var o=[],s={};function a(d,p){if(ps(d.getOutboundEdges(p.id),function(v,w){if(!s[w]){var E=d.getCell(w);o.push(E),s[w]=!0,n&&(r&&c(d,E),i&&a(d,E))}}.bind(d)),n&&p.isLink()){var g=p.getTargetCell();g&&g.isLink()&&(s[g.id]||(o.push(g),a(d,g)))}}function c(d,p){if(ps(d.getInboundEdges(p.id),function(v,w){if(!s[w]){var E=d.getCell(w);o.push(E),s[w]=!0,n&&(r&&c(d,E),i&&a(d,E))}}.bind(d)),n&&p.isLink()){var g=p.getSourceCell();g&&g.isLink()&&(s[g.id]||(o.push(g),c(d,g)))}}if(i&&a(this,e),r&&c(this,e),t.deep){var l=e.getEmbeddedCells({deep:!0}),u={};l.forEach(function(d){d.isElement()&&(u[d.id]=!0)}),l.forEach(function(d){d.isLink()||(i&&ps(this.getOutboundEdges(d.id),function(p,g){if(!s[g]){var v=this.getCell(g),{source:w,target:E}=v.attributes,N=w.id,P=E.id;if(!t.includeEnclosed&&N&&u[N]&&P&&u[P])return;o.push(this.getCell(g)),s[g]=!0}}.bind(this)),r&&ps(this.getInboundEdges(d.id),function(p,g){if(!s[g]){var v=this.getCell(g),{source:w,target:E}=v.attributes,N=w.id,P=E.id;if(!t.includeEnclosed&&N&&u[N]&&P&&u[P])return;o.push(this.getCell(g)),s[g]=!0}}.bind(this)))},this)}return o},getNeighbors:function(e,t){t||(t={});var n=t.inbound,r=t.outbound;void 0===n&&void 0===r&&(n=r=!0);var i=this.getConnectedLinks(e,t).reduce(function(a,c){var{source:l,target:u}=c.attributes,d=c.hasLoop(t);if(n&&Ra(l,"id")&&!a[l.id]){var p=this.getCell(l.id);p.isElement()&&(d||p&&p!==e&&(!t.deep||!p.isEmbeddedIn(e)))&&(a[l.id]=p)}if(r&&Ra(u,"id")&&!a[u.id]){var g=this.getCell(u.id);g.isElement()&&(d||g&&g!==e&&(!t.deep||!g.isEmbeddedIn(e)))&&(a[u.id]=g)}return a}.bind(this),{});if(e.isLink()){if(n){var o=e.getSourceCell();o&&o.isElement()&&!i[o.id]&&(i[o.id]=o)}if(r){var s=e.getTargetCell();s&&s.isElement()&&!i[s.id]&&(i[s.id]=s)}}return An(i)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(n){for(var r=[],i=n.get("parent");i;)r.push(i),i=this.getCell(i).get("parent");return r},this);e=e.sort(function(n,r){return n.length-r.length});var t=An(e.shift()).find(function(n){return e.every(function(r){return r.includes(n)})});return this.getCell(t)},getSuccessors:function(e,t){var n=[];return this.search(e,function(r){r!==e&&n.push(r)},xt({},t=t||{},{outbound:!0})),n},cloneCells:NS,cloneSubgraph:function(e,t){var n=this.getSubgraph(e,t);return this.cloneCells(n)},getSubgraph:function(e,t){t=t||{};var n=[],r={},i=[],o=[];return An(e).forEach(function(s){r[s.id]||(n.push(s),r[s.id]=s,s.isLink()?o.push(s):i.push(s)),t.deep&&s.getEmbeddedCells({deep:!0}).forEach(function(c){r[c.id]||(n.push(c),r[c.id]=c,c.isLink()?o.push(c):i.push(c))})}),o.forEach(function(s){var{source:a,target:c}=s.attributes;if(a.id&&!r[a.id]){var l=this.getCell(a.id);n.push(l),r[l.id]=l,i.push(l)}if(c.id&&!r[c.id]){var u=this.getCell(c.id);n.push(this.getCell(c.id)),r[u.id]=u,i.push(u)}},this),i.forEach(function(s){this.getConnectedLinks(s,t).forEach(function(c){var{source:l,target:u}=c.attributes;!r[c.id]&&l.id&&r[l.id]&&u.id&&r[u.id]&&(n.push(c),r[c.id]=c)})},this),n},getPredecessors:function(e,t){var n=[];return this.search(e,function(r){r!==e&&n.push(r)},xt({},t=t||{},{inbound:!0})),n},search:function(e,t,n){(n=n||{}).breadthFirst?this.bfs(e,t,n):this.dfs(e,t,n)},bfs:function(e,t,n={}){const r={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){var s=o.shift();if(r[s.id]||(r[s.id]=!0,!1===t.call(this,s,i[s.id])))continue;const a=this.getNeighbors(s,n);for(let c=0,l=a.length;c<l;c++){const u=a[c];i[u.id]=i[s.id]+1,o.push(u)}}},dfs:function(e,t,n={}){const r={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){const s=o.pop();if(r[s.id]||(r[s.id]=!0,!1===t.call(this,s,i[s.id])))continue;const a=this.getNeighbors(s,n),c=o.length;for(let l=0,u=a.length;l<u;l++){const d=a[l];i[d.id]=i[s.id]+1,o.splice(c,0,d)}}},getSources:function(){var e=[];return ps(this._nodes,function(t,n){(!this._in[n]||Oa(this._in[n]))&&e.push(this.getCell(n))}.bind(this)),e},getSinks:function(){var e=[];return ps(this._nodes,function(t,n){(!this._out[n]||Oa(this._out[n]))&&e.push(this.getCell(n))}.bind(this)),e},isSource:function(e){return!this._in[e.id]||Oa(this._in[e.id])},isSink:function(e){return!this._out[e.id]||Oa(this._out[e.id])},isSuccessor:function(e,t){var n=!1;return this.search(e,function(r){if(r===t&&r!==e)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(e,t){var n=!1;return this.search(e,function(r){if(r===t&&r!==e)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(e,t,n){var r=(n=n||{}).inbound,i=n.outbound;void 0===r&&void 0===i&&(r=i=!0);var o=!1;return this.getConnectedLinks(e,n).forEach(function(s){var{source:a,target:c}=s.attributes;if(r&&Ra(a,"id")&&a.id===t.id||i&&Ra(c,"id")&&c.id===t.id)return o=!0,!1}),o},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(n){n.set(n.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){ha(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return this.getElements().filter(t=>t.getBBox({rotate:!0}).containsPoint(e))},findModelsInArea:function(e,t={}){const n=new Xe(e),{strict:r=!1}=t,i=r?"containsRect":"intersect";return this.getElements().filter(o=>n[i](o.getBBox({rotate:!0})))},findModelsUnderElement:function(e,t={}){const{searchBy:n="bbox"}=t,r=e.getBBox().rotateAroundCenter(e.angle());return("bbox"===n?this.findModelsInArea(r):this.findModelsFromPoint(qS(r,n))).filter(o=>e.id!==o.id&&!o.isEmbeddedIn(e))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t={}){const{rotate:n=!0}=t;return An(e).reduce(function(r,i){const o=i.getBBox({rotate:n});return o?r?r.union(o):o:r},null)},translate:function(e,t,n){var r=this.getCells().filter(function(i){return!i.isEmbedded()});return ha(r,"translate",e,t,n),this},resize:function(e,t,n){return this.resizeCells(e,t,this.getCells(),n)},resizeCells:function(e,t,n,r){var i=this.getCellsBBox(n);if(i){var o=Math.max(e/i.width,0),s=Math.max(t/i.height,0);ha(n,"scale",o,s,i.origin(),r)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",xt({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",xt({},t,{batchName:e}))},hasActiveBatch:function(e){const t=this._batches;let n;return n=0===arguments.length?Object.keys(t):Array.isArray(e)?e:[e],n.some(r=>t[r]>0)}},{validations:{multiLinks:function(e,t){var{source:n,target:r}=t.attributes;if(n.id&&r.id){var i=t.getSourceCell();if(i&&e.getConnectedLinks(i,{outbound:!0}).filter(function(a){var{source:c,target:l}=a.attributes;return c&&c.id===n.id&&(!c.port||c.port===n.port)&&l&&l.id===r.id&&(!l.port||l.port===r.port)}).length>1)return!1}return!0},linkPinning:function(e,t){var{source:n,target:r}=t.attributes;return n.id&&r.id}}});!function(e,t,n){if(Ji(n)){if(!J0[n])throw new Error('Unknown wrapper: "'+n+'"');n=J0[n]}if(!fr(n))throw new Error("Wrapper must be a function.");An(["resetCells","addCells","removeCells"]).forEach(function(r){e[r]=n(e[r])})}(kg.prototype,0,J0.cells);const TW=function(e,t,n){return e},SW=function(e,t,n){var l,u,d,r=t.side||"bottom",i=mc(t.padding||40),o=n.sourceBBox,s=n.targetBBox,a=o.center(),c=s.center();switch(r){case"bottom":d=1,l="y",u="height";break;case"top":d=-1,l="y",u="height";break;case"left":d=-1,l="x",u="width";break;case"right":d=1,l="x",u="width";break;default:throw new Error("Router: invalid side")}return a[l]+=d*(o[u]/2+i[r]),c[l]+=d*(s[u]/2+i[r]),d*(a[l]-c[l])>0?c[l]=a[l]:a[l]=c[l],[a].concat(e,c)};var NW={N:"S",S:"N",E:"W",W:"E"},kW={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function Pg(e,t,n){var r=new q(e.x,t.y);return n.containsPoint(r)&&(r=new q(t.x,e.y)),r}function K0(e,t){return e["W"===t||"E"===t?"width":"height"]}function bo(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function Og(e){return new Xe(e.x,e.y,0,0)}function Rg(e){var t=mc(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function JS(e,t){return e.sourceBBox.clone().moveAndExpand(Rg(t))}function KS(e,t){return e.targetBBox.clone().moveAndExpand(Rg(t))}function QS(e,t,n){var r=new q(e.x,t.y),i=new q(t.x,e.y),o=bo(e,r),s=bo(e,i),a=NW[n],c=o===n||o!==a&&(s===a||s!==n)?r:i;return{points:[c],direction:bo(c,t)}}function Lg(e,t,n){var r=Pg(e,t,n);return{points:[r],direction:bo(r,t)}}function RW(e,t,n,r){var c,i={},o=[new q(e.x,t.y),new q(t.x,e.y)],s=o.filter(function(d){return!n.containsPoint(d)}),a=s.filter(function(d){return bo(d,e)!==r});if(a.length>0)c=a.filter(function(d){return bo(e,d)===r}).pop(),i.points=[c=c||a[0]],i.direction=bo(c,t);else{c=bS(o,s)[0];var l=new q(t).move(c,-K0(n,r)/2),u=Pg(l,e,n);i.points=[u,l],i.direction=bo(l,t)}return i}function LW(e,t,n,r){var i=Lg(t,e,r),o=i.points[0];if(n.containsPoint(o)){var s=(i=Lg(e,t,n)).points[0];if(r.containsPoint(s)){var a=new q(e).move(s,-K0(n,bo(e,s))/2),c=new q(t).move(o,-K0(r,bo(t,o))/2),l=new rt(a,c).midpoint(),u=Lg(e,l,n),d=QS(l,t,u.direction);i.points=[u.points[0],d.points[0]],i.direction=d.direction}}return i}function Q0(e,t,n,r,i){var u,d,p,o={},s=n.union(r).inflate(1),a=s.center().distance(t)>s.center().distance(e),c=a?t:e,l=a?e:t;return i?(u=q.fromPolar(s.width+s.height,kW[i],c),u=s.pointNearestToPoint(u).move(u,-1)):u=s.pointNearestToPoint(c).move(c,1),d=Pg(u,l,s),u.round().equals(d.round())?(d=q.fromPolar(s.width+s.height,Po(u.theta(c))+Math.PI/2,l),p=Pg(u,d=s.pointNearestToPoint(d).move(l,1).round(),s),o.points=a?[d,p,u]:[u,p,d]):o.points=a?[d,u]:[u,d],o.direction=bo(a?u:d,t),o}function eI(e,t,n){var r=JS(n,t),i=KS(n,t),o=function PW(e,t){return e.sourceAnchor?e.sourceAnchor:JS(e,t).center()}(n,t),s=function OW(e,t){return e.targetAnchor?e.targetAnchor:KS(e,t).center()}(n,t);r=r.union(Og(o)),i=i.union(Og(s)),(e=An(e).map(q)).unshift(o),e.push(s);for(var a,c=[],l=0,u=e.length-1;l<u;l++){var d=null,p=e[l],g=e[l+1],v=!!bo(p,g);if(0===l)l+1===u?r.intersect(i.clone().inflate(1))?d=Q0(p,g,r,i):v||(d=LW(p,g,r,i)):r.containsPoint(g)?d=Q0(p,g,r,Og(g).moveAndExpand(Rg(t))):v||(d=Lg(p,g,r));else if(l+1===u){var w=v&&bo(g,p)===a;i.containsPoint(p)||w?d=Q0(p,g,Og(p).moveAndExpand(Rg(t)),i,a):v||(d=RW(p,g,i,a))}else v||(d=QS(p,g,a));d?(Array.prototype.push.apply(c,d.points),a=d.direction):a=bo(p,g),l+1<u&&c.push(g)}return c}var e1={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,n){if(!fr(eI))throw new Error("Manhattan requires the orthogonal router as default fallback.");return eI(e,xt({},e1,t),n)},fallbackRoute:function(e,t,n){return null},draggingRoute:null};function tI(e){this.map={},this.options=e,this.mapGridSize=100}function yl(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}function t1(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function n1(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function r1(e,t){return e.sourceAnchor?e.sourceAnchor:t1(e,t).center()}function nI(e,t,n,r,i){var o=360/n,s=e.theta(function BW(e,t,n,r){var i=r.step;return new q(e.x+(t.x-e.x)/n.x*i,e.y+(t.y-e.y)/n.y*i)}(e,t,r,i)),a=Ps(s+o/2);return o*Math.floor(a/o)}function o1(e,t){var n=Math.abs(e-t);return n>180?360-n:n}function s1(e,t){if(!e)return t;var n=Math.abs(e),r=Math.round(n/t);return r?t+(n-r*t)/r:n}function zf(e,t){return e.round(t)}function Fg(e,t,n){return zf(function VW(e,t){var n=t.source,r=cl(e.x-n.x,t.x)+n.x,i=cl(e.y-n.y,t.y)+n.y;return new q(r,i)}(e.clone(),t),n)}function Vf(e){return e.clone().toString()}function rI(e){return new q(0===e.x?0:Math.abs(e.x)/e.x,0===e.y?0:Math.abs(e.y)/e.y)}function GW(e,t,n,r,i,o,s){for(var d,a=[],c=rI(i.difference(n)),l=Vf(n),u=e[l];u;){var p=rI((d=t[l]).difference(u));p.equals(c)||(a.unshift(d),c=p),u=e[l=Vf(u)]}var g=t[l];return rI(g.difference(r)).equals(c)||a.unshift(g),a}function a1(e,t){for(var n=1/0,r=0,i=t.length;r<i;r++){var o=e.manhattanDistance(t[r]);o<n&&(n=o)}return n}function c1(e,t,n,r,i){var o=i.precision,s=i.directionMap,a=e.difference(t.center()),c=Pn(s)?Object.keys(s):[],l=An(n),u=c.reduce(function(d,p){if(l.includes(p)){for(var P,g=s[p],v=new q(e.x+g.x*(Math.abs(a.x)+t.width),e.y+g.y*(Math.abs(a.y)+t.height)),E=new rt(e,v).intersect(t)||[],N=E.length,W=null,K=0;K<N;K++){var de=E[K],ye=e.squaredDistance(de);(void 0===P||ye>P)&&(P=ye,W=de)}if(W){var b=Fg(W,r,o);t.containsPoint(b)&&(b=Fg(b.offset(g.x*r.x,g.y*r.y),r,o)),d.push(b)}}return d},[]);return t.containsPoint(e)||u.push(Fg(e,r,o)),u}function UW(e,t,n,r){var o,s,i=r.precision;o=zf(e instanceof Xe?r1(this,r).clone():e.clone(),i),s=zf(t instanceof Xe?function FW(e,t){return e.targetAnchor?e.targetAnchor:n1(e,t).center()}(this,r).clone():t.clone(),i);var c,l,u,d,a=function zW(e,t,n){return{source:t.clone(),x:s1(n.x-t.x,e),y:s1(n.y-t.y,e)}}(r.step,o,s);if(u=e instanceof Xe?c1(c=o,e,r.startDirections,a,r):[c=o],t instanceof Xe?(l=s,d=c1(s,t,r.endDirections,a,r)):d=[l=s],u=u.filter(Ht=>!n(Ht)),d=d.filter(Ht=>!n(Ht)),u.length>0&&d.length>0){for(var p=new yl,g={},v={},w={},E=0,N=u.length;E<N;E++){var P=u[E],W=Vf(P);p.add(W,a1(P,d)),g[W]=P,w[W]=0}var ye,b,K=r.previousDirectionAngle,de=void 0===K,M=r.directions;!function jW(e,t,n){var r=n.step;An(n.directions).forEach(function(i){i.gridOffsetX=i.offsetX/r*t.x,i.gridOffsetY=i.offsetY/r*t.y})}(0,a,r);for(var k=M.length,R=An(d).reduce(function(Ht,_r){var En=Vf(_r);return Ht.push(En),Ht},[]),X=r.maximumLoops;!p.isEmpty()&&X>0;){var re,ce=p.pop(),he=g[ce],Se=v[ce],Ge=w[ce],U=void 0===Se,ne=he.equals(c);re=U?de?ne?null:nI(c,he,k,a,r):K:nI(Se,he,k,a,r);var le=u.length===d.length;if(le)for(var ft=0;ft<u.length;ft++)if(!u[ft].equals(d[ft])){le=!1;break}if((!U||!le)&&R.indexOf(ce)>=0)return r.previousDirectionAngle=re,GW(v,g,he,c,l);for(E=0;E<k;E++){var _n=(ye=M[E]).angle;if(b=o1(re,_n),de&&ne||!(b>r.maxAllowedDirectionChange)){var zn=Fg(he.clone().offset(ye.gridOffsetX,ye.gridOffsetY),a,i),Ze=Vf(zn);if(!p.isClose(Ze)&&!n(zn)){if(R.indexOf(Ze)>=0&&!zn.equals(l)&&o1(_n,nI(zn,l,k,a,r))>r.maxAllowedDirectionChange)continue;var Dn=Ge+ye.cost+(ne?0:r.penalties[b]);(!p.isOpen(Ze)||Dn<w[Ze])&&(g[Ze]=zn,v[Ze]=he,w[Ze]=Dn,p.add(Ze,Dn+a1(zn,d)))}}}X--}}return r.fallbackRoute.call(this,c,l,r)}tI.prototype.build=function(e,t){var n=this.options,r=An(n.excludeEnds).reduce(function(c,l){var u=t.get(l);if(u){var d=e.getCell(u.id);d&&c.push(d)}return c},[]),i=[],o=e.getCell(t.get("source").id);o&&(i=O0(i,o.getAncestors().map(function(c){return c.id})));var s=e.getCell(t.get("target").id);s&&(i=O0(i,s.getAncestors().map(function(c){return c.id})));var a=this.mapGridSize;return e.getElements().reduce(function(c,l){var u=An(n.excludeTypes).includes(l.get("type")),d=r.find(function(K){return K.id===l.id}),p=i.includes(l.id);if(!(u||d||p))for(var v=l.getBBox().moveAndExpand(n.paddingBox),w=v.origin().snapToGrid(a),E=v.corner().snapToGrid(a),N=w.x;N<=E.x;N+=a)for(var P=w.y;P<=E.y;P+=a){var W=N+"@"+P;c[W]=c[W]||[],c[W].push(v)}return c},this.map),this},tI.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return An(this.map[t]).every(function(n){return!n.containsPoint(e)})},yl.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var n=yS(this.items,e,function(r){return this.values[r]}.bind(this));this.items.splice(n,0,e)},yl.prototype.remove=function(e){this.hash[e]=this.CLOSE},yl.prototype.isOpen=function(e){return this.hash[e]===this.OPEN},yl.prototype.isClose=function(e){return this.hash[e]===this.CLOSE},yl.prototype.isEmpty=function(){return 0===this.items.length},yl.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};const iI=function(e,t,n){return function ZW(e,t,n){(function HW(e){if(e.directions=Gr(e,"directions"),e.penalties=Gr(e,"penalties"),e.paddingBox=Gr(e,"paddingBox"),e.padding=Gr(e,"padding"),e.padding){var t=mc(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}An(e.directions).forEach(function(n){var r=new q(0,0),i=new q(n.offsetX,n.offsetY);n.angle=Ps(r.theta(i))})})(t),n.options.perpendicular=!!t.perpendicular;var r=t1(n,t),i=n1(n,t),o=r1(n,t);let s;if("function"==typeof t.isPointObstacle)s=t.isPointObstacle;else{const W=new tI(t);W.build(n.paper.model,n.model),s=K=>!W.isPointAccessible(K)}for(var u,d,a=An(e).map(q),c=[],l=o,p=0,g=a.length;p<=g;p++){var v=null;if(d=u||r,!(u=a[p])&&(u=i,(!n.model.get("source").id||!n.model.get("target").id)&&fr(t.draggingRoute))){var E=d===r?o:d,N=u.origin();v=t.draggingRoute.call(n,E,N,t)}if(null===(v=v||UW.call(n,d,u,s,t)))return t.fallbackRouter(e,t,n);var P=v[0];P&&P.equals(l)&&v.shift(),l=v[v.length-1]||l,Array.prototype.push.apply(c,v)}return c}(e,xt({},e1,t),n)};var WW={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),n=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:n},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:n},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:n},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:n}]},fallbackRoute:function(e,t,n){var r=e.theta(t),i=[],o={x:t.x,y:e.y},s={x:e.x,y:t.y};if(r%180>90){var a=o;o=s,s=a}var c=r%90<45?o:s,l=new rt(e,c),u=90*Math.ceil(r/90),d=q.fromPolar(l.squaredLength(),Po(u+135),c),p=new rt(t,d),g=l.intersection(p),v=g||t,E=360/n.directions.length,N=(g?v:e).theta(t),P=Ps(N+E/2),W=E*Math.floor(P/E);return n.previousDirectionAngle=W,v&&i.push(v.round()),i.push(t),i}};const YW=function(e,t,n){if(!fr(iI))throw new Error("Metro requires the manhattan router.");return iI(e,xt({},WW,t),n)},Le={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},l1=[Le.LEFT,Le.RIGHT,Le.TOP,Le.BOTTOM],$u={[Le.LEFT]:Le.RIGHT,[Le.RIGHT]:Le.LEFT,[Le.TOP]:Le.BOTTOM,[Le.BOTTOM]:Le.TOP},XW=[Le.TOP,Le.BOTTOM],Bg={0:Le.RIGHT,180:Le.LEFT,270:Le.TOP,90:Le.BOTTOM};function Gf(e){return e.angle()}function jg(e){return new or(e).simplify({threshold:1}).points}function zg(e,t){const{point:n,x0:r,y0:i,view:o,bbox:s,direction:a}=e,{point:c,x0:l,y0:u,view:d,bbox:p,direction:g}=t;let v,w;if(o)v=o.model.isLink()?u1(c,n,o):a===Le.ANCHOR_SIDE?s.sideNearestToPoint(n):a===Le.MAGNET_SIDE?o.model.getBBox().sideNearestToPoint(n):a;else{const E=new Xe(r,i,0,0);v=l1.includes(a)?a:E.sideNearestToPoint(c)}if(d)w=d.model.isLink()?u1(n,c,d):g===Le.ANCHOR_SIDE?p.sideNearestToPoint(c):g===Le.MAGNET_SIDE?d.model.getBBox().sideNearestToPoint(c):g;else{const E=new Xe(l,u,0,0);w=l1.includes(g)?g:E.sideNearestToPoint(n)}return[v,w]}function u1(e,t,n){const r=n.getTangentAtLength(n.getClosestPointLength(t)),i=90*Math.round(Gf(r)/90);if(i%180==0&&e.y===t.y)return e.x<t.x?Le.LEFT:Le.RIGHT;if(e.x===t.x)return e.y<t.y?Le.TOP:Le.BOTTOM;switch(i){case 0:case 180:case 360:return e.y<t.y?Le.TOP:Le.BOTTOM;case 90:case 270:return e.x<t.x?Le.LEFT:Le.RIGHT}}function d1(e,t,n,r,i,o,s){r===Le.AUTO&&(r=i?Le.MAGNET_SIDE:Le.ANCHOR_SIDE);const a=e&&e.model.isElement(),{x:c,y:l,width:u=0,height:d=0}=a?Xe.fromRectUnion(n,e.model.getBBox()):o;return{point:t,x0:c,y0:l,view:e,bbox:n,width:u,height:d,direction:r,margin:a?s:0}}function oI({x:e,y:t}){const n=new q(e,t);return{point:n,x0:n.x,y0:n.y,view:null,bbox:new Xe(e,t,0,0),width:0,height:0,direction:null,margin:0}}function f1(e,t,n){const r=t.point.clone(),{x0:i,y0:o,width:s,height:a}=t;switch(e){case"left":r.x=i-n;break;case"right":r.x=i+s+n;break;case"top":r.y=o-n;break;case"bottom":r.y=o+a+n}return r}function Ic(e,t){const{point:n,x0:r,y0:i,view:o,width:s,height:a,margin:c}=e,{point:l,x0:u,y0:d,width:p,height:g,margin:v}=t,w=u+p,E=d+g,N=r+s,P=i+a,W=o&&o.model.isElement(),K=r-c,de=N+c,ye=i-c,b=P+c,M=u-v,k=w+v,R=d-v,X=E+v,[ce,he]=zg(e,t),Se=f1(ce,{point:n,x0:r,y0:i,width:s,height:a},c),Ge=f1(he,{point:l,x0:u,y0:d,width:p,height:g},v),{x:U,y:ne}=Se,{x:re,y:le}=Ge,vt=(d+E)/2,Ze=((r+N)/2<(u+w)/2?N+u:w+r)/2,Mt=((i+P)/2<vt?P+d:E+i)/2;if("left"===ce&&"right"===he){if(K<=k){let be=Mt;return N<=u&&(E>=ye&&le<ne?be=Math.min(R,ye):d<=b&&le>=ne&&(be=Math.max(X,b))),[{x:U,y:ne},{x:U,y:be},{x:re,y:be},{x:re,y:le}]}const xe=(U+re)/2;return[{x:xe,y:ne},{x:xe,y:le}]}if("right"===ce&&"left"===he){if(de>=M){let be=Mt;return U>w&&(E>=ye&&le<ne?be=Math.min(R,ye):d<=b&&le>=ne&&(be=Math.max(X,b))),[{x:U,y:ne},{x:U,y:be},{x:re,y:be},{x:re,y:le}]}const xe=(U+re)/2;return[{x:xe,y:ne},{x:xe,y:le}]}if("top"===ce&&"bottom"===he){if(ne<le){let be=Ze,ze=ne;return ne<d&&(w>=K&&re<U?be=Math.min(M,K):u<=de&&re>=U&&(be=Math.max(k,de))),[{x:U,y:ze},{x:be,y:ze},{x:be,y:le},{x:re,y:le}]}const xe=(ne+le)/2;return[{x:U,y:xe},{x:re,y:xe}]}if("bottom"===ce&&"top"===he){if(ne-c>le){let be=Ze,ze=ne;return ne>E&&(w>=K&&re<U?be=Math.min(M,K):u<=de&&re>=U&&(be=Math.max(k,de))),[{x:U,y:ze},{x:be,y:ze},{x:be,y:le},{x:re,y:le}]}const xe=(ne+le)/2;return[{x:U,y:xe},{x:re,y:xe}]}if("top"===ce&&"top"===he){let xe,be=Math.min((P+d)/2,le),ze=Math.min((i+E)/2,ne);if(le<ne){if(U>=k||U<=M)return[{x:U,y:Math.min(ne,le)},{x:re,y:Math.min(ne,le)}];xe=re>U?Math.min(U,M):Math.max(U,k)}else{if(re>=de||re<=K)return[{x:U,y:Math.min(ne,le)},{x:re,y:Math.min(ne,le)}];xe=re>=U?Math.max(re,de):Math.min(re,K)}return[{x:U,y:ze},{x:xe,y:ze},{x:xe,y:be},{x:re,y:be}]}if("bottom"===ce&&"bottom"===he){let xe,be=Math.max((i+E)/2,le),ze=Math.max((P+d)/2,ne);if(le>ne){if(U>=k||U<=M)return[{x:U,y:Math.max(ne,le)},{x:re,y:Math.max(ne,le)}];xe=re>U?Math.min(U,M):Math.max(U,k)}else{if(re>=de||re<=K)return[{x:U,y:Math.max(ne,le)},{x:re,y:Math.max(ne,le)}];xe=re>=U?Math.max(re,de):Math.min(re,K)}return[{x:U,y:ze},{x:xe,y:ze},{x:xe,y:be},{x:re,y:be}]}if("left"===ce&&"left"===he){let xe,be=Math.min((N+u)/2,re),ze=Math.min((r+w)/2,U);return xe=re>U?le<=ne?Math.min(ye,le):Math.max(b,le):le>=ne?Math.min(R,ne):Math.max(X,ne),[{x:ze,y:ne},{x:ze,y:xe},{x:be,y:xe},{x:be,y:le}]}if("right"===ce&&"right"===he){let xe,be=Math.max((r+w)/2,re),ze=Math.max((N+u)/2,U);return xe=re<U?le<=ne?Math.min(ye,le):Math.max(b,le):le>=ne?Math.min(R,ne):Math.max(X,ne),[{x:ze,y:ne},{x:ze,y:xe},{x:be,y:xe},{x:be,y:le}]}if("top"===ce&&"right"===he){if(ne>le){if(U<re){let be=Mt;return(be>vt||!W)&&be<X&&U<u&&(be=R),[{x:U,y:be},{x:re,y:be},{x:re,y:le}]}return[{x:U,y:le}]}const xe=Math.max(Ze,k);if(re<U&&le>i&&le<P)return[{x:U,y:ne},{x:xe,y:ne},{x:xe,y:le}];if(xe>K&&le>i||u>N){const be=Math.min(i-c,d-v),ze=Math.max(N+c,w+v);return[{x:U,y:be},{x:ze,y:be},{x:ze,y:le}]}return[{x:U,y:ne},{x:Math.max(xe,re),y:ne},{x:Math.max(xe,re),y:le}]}if("top"===ce&&"left"===he){if(ne>le){if(U>re){let be=Mt;return(be>vt||!W)&&be<X&&U>w&&(be=R),[{x:U,y:be},{x:re,y:be},{x:re,y:le}]}return[{x:U,y:le}]}const xe=Math.min(M,Ze);if(U<re&&P>=le)return[{x:U,y:ne},{x:xe,y:ne},{x:xe,y:le}];if(xe<de&&ne<E){const be=Math.min(ye,R),ze=Math.min(K,M);return[{x:U,y:be},{x:ze,y:be},{x:ze,y:le}]}return[{x:U,y:ne},{x:xe,y:ne},{x:xe,y:le}]}if("bottom"===ce&&"right"===he){if(ne<le){if(U<re){let be=Mt;return(be<vt||!W)&&be>R&&U<u&&(be=X),[{x:U,y:be},{x:re,y:be},{x:re,y:le}]}return[{x:U,y:le}]}if(r<re){const be=Math.max(b,X),ze=Math.max(de,k);return[{x:U,y:be},{x:ze,y:be},{x:ze,y:le}]}return[{x:U,y:ne},{x:Ze,y:ne},{x:Ze,y:le}]}if("bottom"===ce&&"left"===he){if(ne<le){if(U>re){let be=Mt;return(be<vt||!W)&&be>R&&U>w&&(be=X),[{x:U,y:be},{x:re,y:be},{x:re,y:le}]}return[{x:U,y:le}]}if(N>re){const be=Math.max(b,X),ze=Math.min(K,M);return[{x:U,y:be},{x:ze,y:be},{x:ze,y:le}]}return[{x:U,y:ne},{x:Ze,y:ne},{x:Ze,y:le}]}if("left"===ce&&"bottom"===he){if(U>=re&&ne>=X)return[{x:re,y:ne}];if(U>=w&&ne<le)return[{x:Ze,y:ne},{x:Ze,y:le},{x:re,y:le}];if(re<N&&E<=i)return[{x:U,y:ne},{x:U,y:Mt},{x:re,y:Mt}];const xe=Math.min(M,U),be=Math.max(b,X);return[{x:xe,y:ne},{x:xe,y:be},{x:re,y:be}]}if("left"===ce&&"top"===he){if(U>re&&ne<R)return[{x:re,y:ne}];if(U>=w&&ne>le)return[{x:Ze,y:ne},{x:Ze,y:le},{x:re,y:le}];if(re<=N&&le>ne)return[{x:U,y:ne},{x:U,y:Mt},{x:re,y:Mt}];const xe=le<ne?Math.min(K,M):K,be=Math.min(ye,R);return[{x:xe,y:ne},{x:xe,y:be},{x:re,y:be}]}if("right"===ce&&"top"===he){if(U<=re&&ne<R)return[{x:re,y:ne}];if(N<u&&ne>le)return[{x:Ze,y:ne},{x:Ze,y:le},{x:re,y:le}];if(re<U&&d>P)return[{x:U,y:ne},{x:U,y:Mt},{x:re,y:Mt}];const xe=Math.max(de,k),be=Math.min(ye,R);return[{x:xe,y:ne},{x:xe,y:be},{x:re,y:be}]}if("right"===ce&&"bottom"===he){if(U<=re&&ne>=X)return[{x:re,y:ne}];if(U<=M&&ne<le)return[{x:Ze,y:ne},{x:Ze,y:le},{x:re,y:le}];if(re>r&&E<i)return[{x:U,y:ne},{x:U,y:Mt},{x:re,y:Mt}];const xe=Math.max(k,U),be=Math.max(b,X);return[{x:xe,y:ne},{x:xe,y:be},{x:re,y:be}]}}function h1(e,t,n){const{sourceDirection:r=Le.AUTO,targetDirection:i=Le.AUTO}=t,o=t.margin||20,s=t.useVertices||!1,a=!!n.model.source().port,c=d1(n.sourceView,n.sourceAnchor,n.sourceBBox,r,a,n.sourceAnchor,o),l=!!n.model.target().port,u=d1(n.targetView,n.targetAnchor,n.targetBBox,i,l,n.targetAnchor,o);let d=[];if(!s||0===e.length)return jg(Ic(c,u));const p=e.map(w=>oI(w)),[g]=p;if(c.view&&c.view.model.isElement()&&c.view.model.getBBox().inflate(o).containsPoint(g.point)){const[w]=zg(c,g),E=w,N=oI(c.point);N.margin=o,N.direction=w,g.direction=E,d.push(...Ic(N,g),g.point)}else{const E=function QW(e,t,n){const[r]=zg(e,t);switch(r){case Le.TOP:return function $W(e,t,n){const{x0:r,y0:i,width:o,height:s,point:a,margin:c}=e,u=i+s,d=r-c,p=r+o+c,g=i-c,{x:v}=a,{x0:w,y0:E}=t;return w===v&&E<i?Le.BOTTOM:w<v&&E<g?Le.RIGHT:w>v&&E<g?Le.LEFT:w<d&&E>=i||w>p&&E>=i?Le.TOP:w>=d&&w<=v&&E>u||w<=p&&w>=v&&E>u?n.point.x<w?Le.RIGHT:Le.LEFT:Le.TOP}(e,t,n);case Le.RIGHT:return function KW(e,t,n){const{y0:r,x0:i,width:o,height:s,point:a,margin:c}=e,l=i+o,d=l+c,p=r-c,g=r+s+c,{x:v,y:w}=a,{x0:E,y0:N}=t;return E>v&&N===w?Le.LEFT:E>=d&&N<w?Le.BOTTOM:E>=d&&N>w?Le.TOP:E<=l&&N<=p||E<=l&&N>=g?Le.RIGHT:E<i&&N>=p&&N<=w||E<i&&N<=g&&N>=w?n.point.y<N?Le.BOTTOM:Le.TOP:Le.RIGHT}(e,t,n);case Le.BOTTOM:return function qW(e,t,n){const{x0:r,y0:i,width:o,height:s,point:a,margin:c}=e,u=i+s,d=r-c,p=r+o+c,g=u+c,{x:v}=a,{x0:w,y0:E}=t;return w===v&&E>u?Le.TOP:w<v&&E>g?Le.RIGHT:w>v&&E>g?Le.LEFT:w<d&&E<=u||w>p&&E<=u?Le.BOTTOM:w>=d&&w<=v&&E<i||w<=p&&w>=v&&E<i?n.point.x<w?Le.RIGHT:Le.LEFT:Le.BOTTOM}(e,t,n);case Le.LEFT:return function JW(e,t,n){const{y0:r,x0:i,width:o,height:s,point:a,margin:c}=e,l=i+o,d=i-c,p=r-c,g=r+s+c,{x:v,y:w}=a,{x0:E,y0:N}=t;return E<v&&N===w?Le.RIGHT:E<=d&&N<w?Le.BOTTOM:E<=d&&N>w?Le.TOP:E>=i&&N<=p||E>=i&&N>=g?Le.LEFT:E>l&&N>=p&&N<=w||E>l&&N<=g&&N>=w?n.point.y<N?Le.BOTTOM:Le.TOP:Le.LEFT}(e,t,n)}}(c,g,p[1]||u);g.direction=E,d.push(...Ic(c,g),g.point)}for(let w=0;w<p.length-1;w++){const E=p[w],N=p[w+1],W=Gf(new rt(E.point,N.point));if(W%90==0){const ye=Bg[W],b=$u[ye];if(ye!==E.direction)d.push(E.point,N.point),N.direction=b;else{const M=Ps(W-90);let k=0,R=0;90===M?R=-o:180===M?k=-o:270===M?R=o:0===M&&(k=o);const X={x:E.point.x+k,y:E.point.y+R},ce={x:N.point.x+k,y:N.point.y+R},he=new rt(N.point,ce);N.direction=Bg[Gf(he)],d.push(E.point,X,ce,N.point)}continue}const[K,de]=sI(E,N);E.direction=K,N.direction=de,d.push(...Ic(E,N),N.point)}const v=p[p.length-1];if(u.view&&u.view.model.isElement())if(u.view.model.getBBox().inflate(o).containsPoint(v.point)){const[w]=sI(v,u),E=oI(u.point),[,N]=zg(v,u);E.margin=o,E.direction=N,v.direction=w,d.push(...Ic(v,E))}else{const w=jg(d),E=new rt(w[w.length-2],v.point),N=Bg[Math.round(Gf(E))];v.direction=N;let P=Ic(v,u);const[W,K]=jg([...P,u.point]),de=new rt(W,K),ye=Math.round(Gf(de)),b=Bg[ye];b!==N&&N===$u[b]&&(v.margin=o,P=Ic(v,u)),d.push(...P)}else{const[w]=sI(v,u);v.direction=w,d.push(...Ic(v,u))}return jg(d)}function sI(e,t){const n=e.direction,r=XW.includes(n);let i=e.direction,o=t.direction;if(r){const s=e.point.y>t.point.y,a=t.point.x-e.point.x;n===Le.BOTTOM?(i=s?$u[n]:a>=0?Le.RIGHT:Le.LEFT,a>0?o=s?Le.LEFT:Le.TOP:a<0&&(o=s?Le.RIGHT:Le.TOP)):(i=s?a>=0?Le.RIGHT:Le.LEFT:$u[n],a>0?o=s?Le.BOTTOM:Le.LEFT:a<0&&(o=s?Le.BOTTOM:Le.RIGHT))}else{const s=e.point.x>t.point.x,a=t.point.y-e.point.y;n===Le.RIGHT?(i=s?$u[n]:a>=0?Le.BOTTOM:Le.TOP,a>0?o=s?Le.TOP:Le.LEFT:a<0&&(o=s?Le.BOTTOM:Le.LEFT)):(i=s?a>=0?Le.BOTTOM:Le.TOP:$u[n],a>0?o=s?Le.RIGHT:Le.TOP:a<0&&(o=s?Le.RIGHT:Le.BOTTOM))}return[i,o]}h1.Directions=Le;const e4=h1,qu={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},t4=Object.values(qu),n4=10,r4=1,aI=function(e,t,n=[],r={}){const{cornerType:i=qu.POINT,cornerRadius:o=n4,cornerPreserveAspectRatio:s=!1,precision:a=r4,raw:c=!1}=r;if(-1===t4.indexOf(i))throw new Error("Invalid `cornerType` provided to `straight` connector.");let l;if(i!==qu.POINT&&o){let u;l=new mt,l.appendSegment(mt.createSegment("M",e));const d=n.length;for(let p=0;p<d;p++){const g=new q(n[p]),v=n[p-1]||e,w=n[p+1]||t,E=u||g.distance(v)/2;let N,P;u=g.distance(w)/2,s?N=P=-Math.min(o,E,u):(N=-Math.min(o,E),P=-Math.min(o,u));const W=g.clone().move(v,N).round(a),K=g.clone().move(w,P).round(a);switch(l.appendSegment(mt.createSegment("L",W)),i){case qu.CUBIC:{const de=.3333333333333333,ye=2/3,b=new q(de*W.x+ye*g.x,ye*g.y+de*W.y),M=new q(de*K.x+ye*g.x,ye*g.y+de*K.y);l.appendSegment(mt.createSegment("C",b,M,K));break}case qu.LINE:l.appendSegment(mt.createSegment("L",K));break;case qu.GAP:l.appendSegment(mt.createSegment("M",K))}}l.appendSegment(mt.createSegment("L",t))}else{const u=[e].concat(n).concat([t]),d=new or(u);l=new mt(d)}return c?l:l.serialize()};var p1=["arc","gap","cubic"],s4=["smooth"],Vg=1/3,Gg=2/3;function m1(e,t){let{x:n,y:r}=e,{x:i,y:o}=t;if(n>i){let s=n;n=i,i=s,s=r,r=o,o=s}if(r>o){let s=n;n=i,i=s,s=r,r=o,o=s}return[new q(n,r),new q(i,o)]}function cI(e,t,n){var r=[].concat(e,n,t);return r.reduce(function(i,o,s){var a=r[s+1];return null!=a&&(i[s]=ll(o,a)),i},[])}function v1(e,t){return ll(e,t).squaredLength()}function y1(e,t,n,r){var o,i=new mt;return o=mt.createSegment("M",e[0].start),i.appendSegment(o),An(e).forEach(function(s,a){if(s.isJump){var c,l,u,d;if("arc"===n){c=-90;var p=+((l=s.start.difference(s.end)).x<0||0===l.x&&l.y<0);p&&(c+=180);var w,g=s.midpoint(),v=new rt(g,s.end).rotate(g,c);u=(w=new rt(s.start,g)).pointAt(2/3).rotate(s.start,c),d=v.pointAt(1/3).rotate(v.end,-c),o=mt.createSegment("C",u,d,v.end),i.appendSegment(o),w=new rt(g,s.end),u=v.pointAt(1/3).rotate(v.end,c),d=w.pointAt(1/3).rotate(s.end,-c),o=mt.createSegment("C",u,d,s.end),i.appendSegment(o)}else if("gap"===n)o=mt.createSegment("M",s.end),i.appendSegment(o);else if("cubic"===n){c=s.start.theta(s.end);var E=.6*t,N=1.35*t;(p=+((l=s.start.difference(s.end)).x<0||0===l.x&&l.y<0))&&(N*=-1),u=q(s.start.x+E,s.start.y+N).rotate(s.start,c),d=q(s.end.x-E,s.end.y+N).rotate(s.end,c),o=mt.createSegment("C",u,d,s.end),i.appendSegment(o)}}else{var P=e[a+1];0==r||!P||P.isJump?(o=mt.createSegment("L",s.end),i.appendSegment(o)):function f4(e,t,n,r,i){var g,o=n.distance(r)/2,s=n.distance(i)/2,a=-Math.min(e,o),c=-Math.min(e,s),l=n.clone().move(r,a).round(),u=n.clone().move(i,c).round(),d=new q(Vg*l.x+Gg*n.x,Gg*n.y+Vg*l.y),p=new q(Vg*u.x+Gg*n.x,Gg*n.y+Vg*u.y);g=mt.createSegment("L",l),t.appendSegment(g),g=mt.createSegment("C",d,p,u),t.appendSegment(g)}(r,i,s.end,s.start,P.end)}}),i}const h4=function(e,t,n,r){!function c4(e){var t=e.paper,n=t._jumpOverUpdateList;if(null==n){n=t._jumpOverUpdateList=[];var r=t.model;r.on("batch:stop",function(){this.hasActiveBatch()||function l4(e){for(var t=e._jumpOverUpdateList,n=0;n<t.length;n++){const r=t[n],i=r.getFlag(r.constructor.Flags.CONNECTOR);r.requestUpdate(i)}}(t)}),r.on("reset",function(){n=t._jumpOverUpdateList=[]})}n.indexOf(e)<0&&(n.push(e),e.listenToOnce(e.model,"change:connector remove",function(){n.splice(n.indexOf(e),1)}))}(this);var i=r.raw,o=r.size||5,s=r.jump&&(""+r.jump).toLowerCase(),a=r.radius||0,c=r.ignoreConnectors||s4;-1===p1.indexOf(s)&&(s=p1[0]);var l=this.paper,d=l.model.getLinks();if(1===d.length)return y1(cI(e,t,n),o,s,a);var p=this.model,g=d.indexOf(p),v=l.options.defaultConnector||{},w=d.filter(function(de,ye){var b=de.get("connector")||v;return!(An(c).includes(b.name)||ye>g&&"jumpover"===b.name)}),E=w.map(function(de){return l.findViewByModel(de)}),N=cI(e,t,n),P=E.map(function(de){return null==de?[]:de===this?N:cI(de.sourcePoint,de.targetPoint,de.route)},this),W=N.reduce(function(de,ye){var b=w.reduce(function(M,k,R){if(k!==p){const X=P[R].slice(),ce=X.findIndex(Se=>function a4(e,t){const[{x:n,y:r},{x:i,y:o}]=m1(e.start,e.end),[{x:s,y:a},{x:c,y:l}]=m1(t.start,t.end);return n<=c&&s<=i&&r<=l&&a<=o}(ye,Se));ce>-1&&ye.containsPoint(X[ce].end)&&X.splice(ce+1,1);const he=function u4(e,t){return An(t).reduce(function(n,r){var i=e.intersection(r);return i&&n.push(i),n},[])}(ye,X);M.push.apply(M,he)}return M},[]).sort(function(M,k){return v1(ye.start,M)-v1(ye.start,k)});return b.length>0?de.push.apply(de,function d4(e,t,n){return t.reduce(function(r,i,o){if(!0===i.skip)return r;var s=r.pop()||e,a=sg(i).move(s.start,-n),c=sg(i).move(s.start,+n),l=t[o+1];if(null!=l){var u=c.distance(l);u<=n&&(c=l.move(s.start,u),l.skip=!0)}else if(a.distance(s.end)<2*n+1)return r.push(s),r;if(c.distance(s.start)<2*n+1)return r.push(s),r;var g=ll(a,c);return g.isJump=!0,r.push(ll(s.start,a),g,ll(c,s.end)),r},[])}(ye,b,o)):de.push(ye),de},[]),K=y1(W,o,s,a);return i?K:K.serialize()},p4=function(e,t,n=[],r={}){const{raw:i}=r;return aI(e,t,n,{cornerType:"point",raw:i})},g4=10,v4=function(e,t,n=[],r={}){const{radius:i=g4,raw:o}=r;return aI(e,t,n,{cornerType:"cubic",cornerRadius:i,precision:0,raw:o})},y4=function(e,t,n,r){var o,i=r&&r.raw;if(n&&0!==n.length){var s=[e].concat(n).concat([t]),a=jn.throughPoints(s);o=new mt(a)}else{var c;if(o=new mt,c=mt.createSegment("M",e),o.appendSegment(c),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var l=(e.x+t.x)/2;c=mt.createSegment("C",l,e.y,l,t.y,t.x,t.y),o.appendSegment(c)}else{var u=(e.y+t.y)/2;c=mt.createSegment("C",e.x,u,t.x,u,t.x,t.y),o.appendSegment(c)}}return i?o:o.serialize()},ys={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},Io={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},lI=function(e,t,n=[],r={},i){const o=!!r.raw,{direction:s=ys.AUTO,precision:a=3}=r,c={coeff:r.distanceCoefficient||.6,angleTangentCoefficient:r.angleTangentCoefficient||80,tau:r.tension||.5,sourceTangent:r.sourceTangent?new q(r.sourceTangent):null,targetTangent:r.targetTangent?new q(r.targetTangent):null,rotate:!!r.rotate};c.sourceDirection="string"==typeof r.sourceDirection?r.sourceDirection:"number"==typeof r.sourceDirection?new q(1,0).rotate(null,r.sourceDirection):r.sourceDirection?new q(r.sourceDirection).normalize():null,c.targetDirection="string"==typeof r.targetDirection?r.targetDirection:"number"==typeof r.targetDirection?new q(1,0).rotate(null,r.targetDirection):r.targetDirection?new q(r.targetDirection).normalize():null;const l=[e,...n,t].map(w=>new q(w));let u,d;if(c.sourceTangent)u=c.sourceTangent;else{const w=function _4(e,t,n,r){if(r.sourceDirection)switch(r.sourceDirection){case Io.UP:return new q(0,-1);case Io.DOWN:return new q(0,1);case Io.LEFT:return new q(-1,0);case Io.RIGHT:return new q(1,0);case Io.AUTO:return b1(e,t,r);case Io.CLOSEST_POINT:return w1(0,t);case Io.OUTWARDS:return _1(e,t);default:return r.sourceDirection}switch(n){case ys.HORIZONTAL:return function b4(e,t,n){const{sourceBBox:r}=e;let i,o,s;if(e.sourceView)if(o=e.sourceView.model.angle(),n.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),c=t[0].clone();c.rotate(r.center(),o),i=a.sideNearestToPoint(c)}else i=r.sideNearestToPoint(t[0]);else i=r.x>t[1].x?"right":"left";return s=new q("left"===i?-1:1,0),n.rotate&&o&&s.rotate(null,-o),s}(e,t,r);case ys.VERTICAL:return function w4(e,t,n){const{sourceBBox:r}=e;let i,o,s;if(e.sourceView)if(o=e.sourceView.model.angle(),n.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),c=t[0].clone();c.rotate(r.center(),o),i=a.sideNearestToPoint(c)}else i=r.sideNearestToPoint(t[0]);else i=r.y>t[1].y?"bottom":"top";return s=new q(0,"top"===i?-1:1),n.rotate&&o&&s.rotate(null,-o),s}(e,t,r);case ys.CLOSEST_POINT:return w1(0,t);case ys.OUTWARDS:return _1(e,t);default:return b1(e,t,r)}}(i,l,s,c),E=l[0].distance(l[1])*c.coeff,P=uI(w,l[1].difference(l[0]).normalize());if(P>Math.PI/4){const W=E+(P-Math.PI/4)*c.angleTangentCoefficient;u=w.clone().scale(W,W)}else u=w.clone().scale(E,E)}if(c.targetTangent)d=c.targetTangent;else{const w=function A4(e,t,n,r){if(r.targetDirection)switch(r.targetDirection){case Io.UP:return new q(0,-1);case Io.DOWN:return new q(0,1);case Io.LEFT:return new q(-1,0);case Io.RIGHT:return new q(1,0);case Io.AUTO:return I1(e,t,r);case Io.CLOSEST_POINT:return C1(0,t);case Io.OUTWARDS:return A1(e,t);default:return r.targetDirection}switch(n){case ys.HORIZONTAL:return function I4(e,t,n){const{targetBBox:r}=e;let i,o,s;if(e.targetView)if(o=e.targetView.model.angle(),n.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),c=t[t.length-1].clone();c.rotate(r.center(),o),i=a.sideNearestToPoint(c)}else i=r.sideNearestToPoint(t[t.length-1]);else i=r.x>t[t.length-2].x?"left":"right";return s=new q("left"===i?-1:1,0),n.rotate&&o&&s.rotate(null,-o),s}(e,t,r);case ys.VERTICAL:return function C4(e,t,n){const{targetBBox:r}=e;let i,o,s;if(e.targetView)if(o=e.targetView.model.angle(),n.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),c=t[t.length-1].clone();c.rotate(r.center(),o),i=a.sideNearestToPoint(c)}else i=r.sideNearestToPoint(t[t.length-1]);else i=r.y>t[t.length-2].y?"top":"bottom";return s=new q(0,"top"===i?-1:1),n.rotate&&o&&s.rotate(null,-o),s}(e,t,r);case ys.CLOSEST_POINT:return C1(0,t);case ys.OUTWARDS:return A1(e,t);default:return I1(e,t,r)}}(i,l,s,c),E=l.length-1,N=l[E-1].distance(l[E])*c.coeff,W=uI(w,l[E-1].difference(l[E]).normalize());if(W>Math.PI/4){const K=N+(W-Math.PI/4)*c.angleTangentCoefficient;d=w.clone().scale(K,K)}else d=w.clone().scale(N,N)}const g=function E4(e,t,n,r){const{tau:i,coeff:o}=r,s=[],a=[],c=[],l=e.length-1;for(let u=0;u<l;u++)s[u]=e[u].distance(e[u+1]);a[0]=t,a[l]=n;for(let u=1;u<l;u++){let d,p;d=1===u?e[u-1].clone().offset(a[u-1].x,a[u-1].y):e[u-1].clone(),p=u===l-1?e[u+1].clone().offset(a[u+1].x,a[u+1].y):e[u+1].clone();const g=d.difference(e[u]).normalize(),v=p.difference(e[u]).normalize(),w=uI(g,v);let N,E=(Math.PI-w)/2;const P=D1(g,v);let W;W=D1(e[u].difference(e[u+1]),e[u].difference(e[u-1])),P<0&&(E=-E),w<Math.PI/2&&(E<0&&W<0||E>0&&W>0)&&(E-=Math.PI),N=v.clone(),D4(N,E);const K=N.clone(),de=N.clone(),ye=s[u-1]*o,b=s[u]*o;K.scale(ye,ye),de.scale(b,b),a[u]=[K,de]}for(let u=0;u<l;u++){let d,p;d=0===u?e[u+1].difference(a[u].x/i,a[u].y/i):e[u+1].difference(a[u][1].x/i,a[u][1].y/i),p=u===l-1?e[u].clone().offset(a[u+1].x/i,a[u+1].y/i):e[u].difference(a[u+1][0].x/i,a[u+1][0].y/i),c[u]=[d,e[u],e[u+1],p]}return c}(l,u,d,c).map(w=>function x4(e,t){const{tau:n}=t,r=new q;r.x=e[1].x+(e[2].x-e[0].x)/(6*n),r.y=e[1].y+(e[2].y-e[0].y)/(6*n);const i=new q;return i.x=e[2].x+(e[3].x-e[1].x)/(6*n),i.y=e[2].y+(e[3].y-e[1].y)/(6*n),new jn(e[1],r,i,e[2])}(w,c)),v=new mt(g).round(a);return o?v:v.serialize()};function b1(e,t,n){const{sourceBBox:r}=e;let i,o,s;if(e.sourceView)if(o=e.sourceView.model.angle(),n.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),c=t[0].clone();c.rotate(r.center(),o),i=a.sideNearestToPoint(c)}else i=r.sideNearestToPoint(t[0]);else i=r.sideNearestToPoint(t[1]);switch(i){case"top":s=new q(0,-1);break;case"bottom":s=new q(0,1);break;case"right":s=new q(1,0);break;case"left":s=new q(-1,0)}return n.rotate&&o&&s.rotate(null,-o),s}function I1(e,t,n){const{targetBBox:r}=e;let i,o,s;if(e.targetView)if(o=e.targetView.model.angle(),n.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),c=t[t.length-1].clone();c.rotate(r.center(),o),i=a.sideNearestToPoint(c)}else i=r.sideNearestToPoint(t[t.length-1]);else i=r.sideNearestToPoint(t[t.length-2]);switch(i){case"top":s=new q(0,-1);break;case"bottom":s=new q(0,1);break;case"right":s=new q(1,0);break;case"left":s=new q(-1,0)}return n.rotate&&o&&s.rotate(null,-o),s}function w1(e,t,n){return t[1].difference(t[0]).normalize()}function C1(e,t,n){const r=t.length-1;return t[r-1].difference(t[r]).normalize()}function _1(e,t,n){const{sourceBBox:r}=e,i=r.center();return t[0].difference(i).normalize()}function A1(e,t,n){const{targetBBox:r}=e,i=r.center();return t[t.length-1].difference(i).normalize()}function D4(e,t){const n=Math.cos(t),r=Math.sin(t),o=r*e.x+n*e.y;e.x=n*e.x-r*e.y,e.y=o}function uI(e,t){let n=e.dot(t)/(e.magnitude()*t.magnitude());return n<-1&&(n=-1),n>1&&(n=1),Math.acos(n)}function D1(e,t){return e.x*t.y-e.y*t.x}lI.Directions=ys,lI.TangentDirections=Io;const qt={TOOLS:yn.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},Uf=yn.extend({className:function(){var e=yn.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){yn.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[qt.RENDER],attrs:[qt.UPDATE],router:[qt.UPDATE],connector:[qt.CONNECTOR],smooth:[qt.UPDATE],manhattan:[qt.UPDATE],toolMarkup:[qt.LEGACY_TOOLS],labels:[qt.LABELS],labelMarkup:[qt.LABELS],vertices:[qt.VERTICES,qt.UPDATE],vertexMarkup:[qt.VERTICES],source:[qt.SOURCE,qt.UPDATE],target:[qt.TARGET,qt.UPDATE]},initFlag:[qt.RENDER,qt.SOURCE,qt.TARGET,qt.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,qt.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,qt.SOURCE)}if(this.hasFlag(e,qt.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,qt.TARGET)}const{paper:n,sourceView:r,targetView:i}=this;if(n&&(r&&!n.isViewMounted(r)||i&&!n.isViewMounted(i)))return e;if(this.hasFlag(e,qt.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),this.removeFlag(e,[qt.RENDER,qt.UPDATE,qt.VERTICES,qt.LABELS,qt.TOOLS,qt.LEGACY_TOOLS,qt.CONNECTOR]);let o=!1;this.hasFlag(e,qt.VERTICES)&&(this.renderVertexMarkers(),e=this.removeFlag(e,qt.VERTICES));const{model:s}=this,{attributes:a}=s;let c=this.hasFlag(e,qt.LABELS),l=this.hasFlag(e,qt.LEGACY_TOOLS);c&&(this.onLabelsChange(s,a.labels,t),e=this.removeFlag(e,qt.LABELS),o=!0),l&&(this.renderTools(),e=this.removeFlag(e,qt.LEGACY_TOOLS));const u=this.hasFlag(e,qt.UPDATE),d=this.hasFlag(e,qt.CONNECTOR);return(u||d)&&(u?t.translateBy&&s.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[qt.UPDATE,qt.TOOLS,qt.CONNECTOR]),c=!1,l=!1,o=!0),c&&this.updateLabelPositions(),l&&this.updateToolsPosition(),o&&this.updateHighlighters(),this.hasFlag(e,qt.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,qt.TOOLS)),e},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(qt.UPDATE),e)},isLabelsRenderRequired:function(e={}){const t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var n=e.propertyPathArray||[],r=n.length;if(r>1&&t[n[1]]){if(2===r)return"markup"in Object(e.propertyValue);if("markup"!==n[2])return!1}}return!0},onLabelsChange:function(e,t,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if("string"==typeof t)return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=Ce(e);Array.isArray(t)||(t=[t]);for(var n=this._V,r=0,i=t.length;r<i;r++){var o=t[r],s=o.attr("class");s&&(s=nH(s),n[Tn.camelCase(s)]=o)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if("string"==typeof e)return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=Ce(e),n=document.createDocumentFragment();if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++)n.appendChild(t[r].node);else n.appendChild(t.node);return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t=e.fragment;if(!(e.fragment instanceof DocumentFragment&&e.fragment.hasChildNodes()))throw new Error("dia.LinkView: invalid label markup.");var n,r=t.childNodes;return(n=r.length>1||"G"!==r[0].nodeName.toUpperCase()?Ce("g").append(t):Ce(r[0])).addClass("label"),{node:n.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,n=this._labelCache={},r=this._labelSelectors={},i=this.model,o=i.attributes.labels||[],s=o.length;if(0===s)return t&&t.remove(),this;t?t.empty():(t=e.labels=Ce("g").addClass("labels"),this.options.labelsLayer&&(t.addClass(Os(Gr(this,"className"))),t.attr("model-id",i.id)));for(var a=0;a<s;a++){var u,d,l=this._normalizeLabelMarkup(this._getLabelMarkup(o[a].markup));if(l)u=l.node,d=l.selectors;else{var g=this._normalizeLabelMarkup(this._getLabelMarkup(i._builtins.defaultLabel.markup)),v=i._getDefaultLabel(),E=this._normalizeLabelMarkup(this._getLabelMarkup(v.markup))||g;u=E.node,d=E.selectors}u.setAttribute("label-idx",a),t.append(u),n[a]=u;var N=this.selector;if(d[N])throw new Error("dia.LinkView: ambiguous label root selector.");d[N]=u,r[a]=d}return t.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:e,paper:t,model:n,_V:r,options:i}=this,{labels:o}=r;if(!o||!n.hasLabels())return;const{node:s}=o;i.labelsLayer?t.getLayerView(i.labelsLayer).insertSortedNode(s,n.get("z")):s.parentNode!==e&&e.appendChild(s)},unmountLabels:function(){const{options:e,_V:t}=this;if(!t)return;const{labels:n}=t;n&&e.labelsLayer&&n.remove()},findLabelNode:function(e,t){const n=this._labelCache[e];if(!n)return null;const r=this._labelSelectors[e],[i=null]=this.findBySelector(t,n,r);return i},_mergeLabelAttrs:function(e,t,n,r){return null===t?null:void 0===t?null===n?null:void 0===n?e?void 0:r:e?n:Kr({},r,n):e?Kr({},n,t):Kr({},r,n,t)},_mergeLabelSize:function(e,t){return null===e?null:void 0===e?null===t?null:void 0===t?void 0:t:Kr({},t,e)},updateLabels:function(){if(!this._V.labels)return this;for(var e=this.model,t=e.get("labels")||[],n=this.can("labelMove"),i=e._builtins.defaultLabel.attrs,o=e._getDefaultLabel(),s=o.markup,a=o.attrs,c=o.size,l=0,u=t.length;l<u;l++){var d=this._labelCache[l];d.setAttribute("cursor",n?"move":"default");var p=this._labelSelectors[l],g=t[l],E=g.size,N=this._mergeLabelAttrs(g.markup||s,g.attrs,a,i),P=this._mergeLabelSize(E,c);this.updateDOMSubtreeAttributes(d,N,{rootBBox:new Xe(P),selectors:p})}return this},renderTools:function(){if(!this._V.linkTools)return this;var r,e=Tn(this._V.linkTools.node).empty(),t=yo(this.model.get("toolMarkup")||this.model.toolMarkup),n=Ce(t());return e.append(n.node),this._toolCache=n,this.options.doubleLinkTools&&(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(t=yo(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),r=Ce(t())):r=n.clone(),e.append(r.node),this._tool2Cache=r),this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var e=Tn(this._V.markerVertices.node).empty(),t=yo(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(n,r){e.append(Ce(t(xt({idx:r},n))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var e=Tn(this._V.markerArrowheads.node);e.empty();var t=yo(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=Ce(t({end:"source"})),this._V.targetArrowhead=Ce(t({end:"target"})),e.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(e){const n=this.model,r=n.vertices(),i=[this.sourceAnchor,...r,this.targetAnchor],o=i.length,s=new or(i);s.simplify({threshold:.001});const a=s.points.map(l=>l.toJSON()),c=a.length;return o===c?0:(n.vertices(a.slice(1,c-1),e),o-c)},updateDefaultConnectionPath:function(){var e=this._V;e.connection&&e.connection.attr("d",this.getSerializedConnection()),e.connectionWrap&&e.connectionWrap.attr("d",this.getSerializedConnection()),e.markerSource&&e.markerTarget&&this._translateAndAutoOrientArrows(e.markerSource,e.markerTarget)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new q(this.sourceAnchor);case"target":return new q(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new q(this.sourcePoint);case"target":return new q(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(e=0,t=0){const{route:n,path:r}=this;if(!n||!r)return;const i=new or(n);i.translate(e,t),this.route=i.points,this._translateConnectionPoints(e,t),r.translate(e,t),this.updateDOM()},updateDOM(){const{el:e,model:t,selectors:n}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(e,t.attr(),{selectors:n}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:e}=this,t=e.vertices(),n=this.findAnchors(t),r=this.sourceAnchor=n.source,i=this.targetAnchor=n.target,o=this.findRoute(t);this.route=o;var s=this.findConnectionPoints(o,r,i);this.sourcePoint=s.source,this.targetPoint=s.target},updatePath:function(){const{route:e,sourcePoint:t,targetPoint:n}=this,r=this.findMarkerPoints(e,t,n),i=this.findPath(e,r.source||t,r.target||n);this.path=i},findMarkerPoints:function(e,t,n){var s,a,r=e[0],i=e[e.length-1],o=this._markerCache;return this._V.markerSource&&(o.sourceBBox=o.sourceBBox||this._V.markerSource.getBBox(),s=q(t).move(r||n,o.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(o.targetBBox=o.targetBBox||this._V.markerTarget.getBBox(),a=q(n).move(i||t,o.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),o.sourcePoint=s||t.clone(),o.targetPoint=a||n.clone(),{source:s,target:a}},findAnchorsOrdered:function(e,t,n,r){var i,o,s,a,c=this.model,l=c.get(e),u=c.get(n),d=this.getEndView(e),p=this.getEndView(n),g=this.getEndMagnet(e),v=this.getEndMagnet(n);d?(s=t?new q(t):p?v:new q(u),i=this.getAnchor(l.anchor,d,g,s,e)):i=new q(l),p?(a=new q(r||i),o=this.getAnchor(u.anchor,p,v,a,n)):o=new q(u);var w={};return w[e]=i,w[n]=o,w},findAnchors:function(e){var t=this.model,n=e[0],r=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",r,"source",n):this.findAnchorsOrdered("source",n,"target",r)},findConnectionPoints:function(e,t,n){var d,p,g,N,r=e[0],i=e[e.length-1],o=this.model,s=o.get("source"),a=o.get("target"),c=this.sourceView,l=this.targetView,u=this.paper.options;if(c&&!c.isNodeConnection(this.sourceMagnet)){d=this.sourceMagnet||c.el;var v=s.connectionPoint||u.defaultConnectionPoint,E=new rt(r||n,t);g=this.getConnectionPoint(v,c,d,E,"source")}else g=t;if(l&&!l.isNodeConnection(this.targetMagnet)){p=this.targetMagnet||l.el;var P=a.connectionPoint||u.defaultConnectionPoint,K=new rt(i||t,n);N=this.getConnectionPoint(P,l,p,K,"target")}else N=n;return{source:g,target:N}},getAnchor:function(e,t,n,r,i){var a,o=t.isNodeConnection(n),s=this.paper.options;if(e||(e=o?s.defaultLinkAnchor:s.perpendicularLinks||this.options.perpendicular?{name:"perpendicular"}:s.defaultAnchor),!e)throw new Error("Anchor required.");if("function"==typeof e)a=e;else{var c=e.name;if("function"!=typeof(a=s[o?"linkAnchorNamespace":"anchorNamespace"][c]))throw new Error("Unknown anchor: "+c)}var u=a.call(this,t,n,r,e.args||{},i,this);return u?u.round(this.decimalsRounding):new q},getConnectionPoint:function(e,t,n,r,i){var o,l,s=r.end,a=this.paper.options;if("function"==typeof a.linkConnectionPoint&&(o=a.linkConnectionPoint(this,t,n===t.el?void 0:n,r.start,i)))return o;if(!e)return s;if("function"==typeof e)l=e;else{var u=e.name;if("function"!=typeof(l=a.connectionPointNamespace[u]))throw new Error("Unknown connection point: "+u)}return(o=l.call(this,r,t,n,e.args||{},i,this))?o.round(this.decimalsRounding):s},_translateConnectionPoints:function(e,t){var n=this._markerCache;n.sourcePoint.offset(e,t),n.targetPoint.offset(e,t),this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t)},_getDefaultLabelPositionProperty:function(){var e=this.model,n=e._builtins.defaultLabel.position,r=e._getDefaultLabel(),i=this._normalizeLabelPosition(r.position);return Kr({},n,i)},_normalizeLabelPosition:function(e){return"number"==typeof e?{distance:e,offset:null,angle:0,args:null}:e},_mergeLabelPositionProperty:function(e,t){return null===e?null:void 0===e?null===t?null:t:Kr({},t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;if(!this.path)return this;var n=this.model.get("labels")||[];if(!n.length)return this;for(var r=this._getDefaultLabelPositionProperty(),i=0,o=n.length;i<o;i++){var s=this._labelCache[i];if(s){var c=this._normalizeLabelPosition(n[i].position),l=this._mergeLabelPositionProperty(c,r),u=this._getLabelTransformationMatrix(l);s.setAttribute("transform",Ce.matrixToTransformString(u)),this._cleanLabelMatrices(i)}}return this},_cleanLabelMatrices:function(e){const{metrics:t,_labelSelectors:n}=this,r=n[e];if(r)for(let i in r){const{id:o}=r[i];o&&o in t&&delete t[o].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var e="",t=this.options.linkToolsOffset,n=this.getConnectionLength();if(!Number.isNaN(n)){n<this.options.shortLinkLength&&(e="scale(.5)",t/=2);var r=this.getPointAtLength(t);this._toolCache.attr("transform","translate("+r.x+", "+r.y+") "+e),this.options.doubleLinkTools&&n>=this.options.longLinkLength?(r=this.getPointAtLength(n-(this.options.doubleLinkToolsOffset||t)),this._tool2Cache.attr("transform","translate("+r.x+", "+r.y+") "+e),this._tool2Cache.attr("display","inline")):this.options.doubleLinkTools&&this._tool2Cache.attr("display","none")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if("none"===Tn.css(this._V.markerArrowheads.node,"display"))return this;var e=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(e),this._V.targetArrowhead.scale(e),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(e){const{model:t,paper:n}=this,r=`${e}View`,i=t.get(e),o=i&&i.id;if(!o)return this[r]=null,this.updateEndMagnet(e),!0;const s=n.getModelById(o);if(!s)throw new Error("LinkView: invalid "+e+" cell.");const a=s.findView(n);return!!a&&(this[r]=a,this.updateEndMagnet(e),!0)},updateEndMagnet:function(e){const t=`${e}Magnet`,n=this.getEndView(e);if(n){let r=n.getMagnetFromLinkEnd(this.model.get(e));r===n.el&&(r=null),this[t]=r}else this[t]=null},_translateAndAutoOrientArrows:function(e,t){var n=An(this.route);e&&e.translateAndAutoOrient(this.sourcePoint,n[0]||this.targetPoint,this.paper.cells),t&&t.translateAndAutoOrient(this.targetPoint,n[n.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(e){return this.model.label(e).position||{}},_getLabelPositionAngle:function(e){return this._getLabelPositionProperty(e).angle||0},_getLabelPositionArgs:function(e){return this._getLabelPositionProperty(e).args},_getDefaultLabelPositionArgs:function(){return(this.model._getDefaultLabel().position||{}).args},_mergeLabelPositionArgs:function(e,t){return null===e?null:void 0===e?null===t?null:t:Kr({},t,e)},addLabel:function(e,t,n,r){var i,o,a,s=0;"number"!=typeof e?(i=e.x,o=e.y,"number"==typeof t?(s=t,a=n):a=t):(i=e,o=t,"number"==typeof n?(s=n,a=r):a=n);var c=this._getDefaultLabelPositionArgs(),u=this._mergeLabelPositionArgs(a,c),d={position:this.getLabelPosition(i,o,s,u)};return this.model.insertLabel(-1,d,a),-1},addVertex:function(e,t,n){var r="number"!=typeof e,i=r?e.x:e,o=r?e.y:t,s=r?t:n,a={x:i,y:o},c=this.getVertexIndex(i,o);return this.model.insertVertex(c,a,s),c},sendToken:function(e,t,n){var i,o,s;Pn(t)?(i=t.duration,o="reverse"===t.direction,s=t.connection):(i=t,o=!1,s=null);var a={dur:(i=i||1e3)+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};o&&(a.keyPoints="1;0",a.keyTimes="0;1");var l,c=Ce(e);if("string"==typeof s)l=this.findBySelector(s,this.el,this.selectors)[0];else{var u=this._V;l=u.connection?u.connection.node:this.el.querySelector("path")}if(!(l instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");c.appendTo(this.paper.cells).animateAlongPath(a,l),setTimeout(function r(d,p){return function(){d.remove(),"function"==typeof p&&p()}}(c,n),i)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||Ki,n=this.model.router(),r=this.paper.options.defaultRouter;if(!n){if(!r)return e.map(q);n=r}var i=fr(n)?n:t[n.name];if(!fr(i))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');return i.call(this,e,n.args||{},this)||e.map(q)},findPath:function(e,t,n){var r=this.paper.options.connectorNamespace||_i,i=this.model.connector();i||(i=this.paper.options.defaultConnector||{});var s=fr(i)?i:r[i.name];if(!fr(s))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var a=pa(i.args||{});a.raw=!0;var c=s.call(this,t,n,e,a,this);return"string"==typeof c&&(c=new mt(Ce.normalizePathData(c))),c},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var n=e.serialize();return t.data=n,n},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var n=e.getSegmentSubdivisions();return t.segmentSubdivisions=n,n},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var n=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=n,n},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?(Oi(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,n,r){var s,i={},o=0;"number"==typeof n?(o=n,s=r):s=n,s&&(i.args=s);var w,E,a=!(s&&s.absoluteDistance),c=s&&s.absoluteDistance&&s.reverseDistance,l=s&&s.absoluteOffset,u=this.path,d={segmentSubdivisions:this.getConnectionSubdivisions()},p=new q(e,t),g=u.closestPointT(p,d),v=u.lengthAtT(g,d);if(a&&(v=v/this.getConnectionLength()||0),c&&(v=-1*(this.getConnectionLength()-v)||1),i.distance=v,l||(w=u.tangentAtT(g)),w)E=w.pointOffset(p);else{var N=u.pointAtT(g),P=p.difference(N);E={x:P.x,y:P.y}}return i.offset=E,i.angle=o,i},_getLabelTransformationMatrix:function(e){var t,n=0,r={};if("number"==typeof e)t=e;else{if("number"!=typeof e.distance)throw new Error("dia.LinkView: invalid label position distance.");r=e.args||{},t=e.distance,n=e.angle||0}var i=t>0&&t<=1,o=0,s={x:0,y:0};if(e.offset){var a=e.offset;"number"==typeof a&&(o=a),a.x&&(s.x=a.x),a.y&&(s.y=a.y)}var w,c=0!==s.x||0!==s.y||0===o,l=r.keepGradient,u=r.ensureLegibility,d=this.path,p={segmentSubdivisions:this.getConnectionSubdivisions()},g=i?t*this.getConnectionLength():t,v=d.tangentAtLength(g,p),E=n;if(v){if(c)(w=v.start.clone()).offset(s);else{var N=v.clone();N.rotate(v.start,-90),N.setLength(o),w=N.end}l&&(E=v.angle()+n,u&&(E=Ps((E+90)%180-90)))}else w=d.start.clone(),c&&w.offset(s);return Ce.createSVGMatrix().translate(w.x,w.y).rotate(E)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new q(t.e,t.f)},getVertexIndex:function(e,t){for(var r=this.model.vertices(),i=this.getClosestPointLength(new q(e,t)),o=0,s=r.length;o<s&&!(i<this.getClosestPointLength(r[o]));o++);return o},notifyPointerdown(e,t,n){yn.prototype.pointerdown.call(this,e,t,n),this.notify("link:pointerdown",e,t,n)},notifyPointermove(e,t,n){yn.prototype.pointermove.call(this,e,t,n),this.notify("link:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("link:pointerup",e,t,n),yn.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){yn.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){yn.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,n)},contextmenu:function(e,t,n){yn.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,n)},pointerdown:function(e,t,n){switch(this.notifyPointerdown(e,t,n),e.target.getAttribute("class")){case"marker-vertex":return void this.dragVertexStart(e,t,n);case"marker-vertex-remove":case"marker-vertex-remove-area":return void this.dragVertexRemoveStart(e,t,n);case"marker-arrowhead":return void this.dragArrowheadStart(e,t,n);case"connection":case"connection-wrap":return void this.dragConnectionStart(e,t,n);case"marker-source":case"marker-target":return}this.dragStart(e,t,n)},pointermove:function(e,t,n){var r=this._dragData;switch(r&&this.eventData(e,r),this.eventData(e).action){case"vertex-move":this.dragVertex(e,t,n);break;case"label-move":this.dragLabel(e,t,n);break;case"arrowhead-move":this.dragArrowhead(e,t,n);break;case"move":this.drag(e,t,n)}r&&xt(r,this.eventData(e)),this.notifyPointermove(e,t,n)},pointerup:function(e,t,n){var r=this._dragData;switch(r&&(this.eventData(e,r),this._dragData=null),this.eventData(e).action){case"vertex-move":this.dragVertexEnd(e,t,n);break;case"label-move":this.dragLabelEnd(e,t,n);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,n);break;case"move":this.dragEnd(e,t,n)}this.notifyPointerup(e,t,n),this.checkMouseleave(e)},mouseover:function(e){yn.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){yn.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){yn.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){yn.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,n,r){yn.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,n,r)},onevent:function(e,t,n,r){if(Ce(e.target).findParentByClass("link-tool",this.el)){if(e.stopPropagation(),this.can("useLinkTools")){if("remove"===t)return void this.model.remove({ui:!0});this.notify(t,e,n,r)}this.notifyPointerdown(e,n,r),this.paper.delegateDragEvents(this,e.data)}else yn.prototype.onevent.apply(this,arguments)},onlabel:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragLabelStart(e,t,n),this.eventData(e).stopPropagation&&e.stopPropagation()},dragConnectionStart:function(e,t,n){if(this.can("vertexAdd")){var r=this.addVertex({x:t,y:n},{ui:!0});this.eventData(e,{action:"vertex-move",vertexIdx:r})}},dragLabelStart:function(e,t,n){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(e))return;var i=parseInt(e.currentTarget.getAttribute("label-idx"),10),o=this._getDefaultLabelPositionProperty(),s=this._normalizeLabelPosition(this._getLabelPositionProperty(i)),a=this._mergeLabelPositionProperty(s,o),c=this.getLabelCoordinates(a),l=c.x-t,u=c.y-n,d=this._getLabelPositionAngle(i),p=this._getLabelPositionArgs(i),g=this._getDefaultLabelPositionArgs(),v=this._mergeLabelPositionArgs(p,g);this.eventData(e,{action:"label-move",labelIdx:i,dx:l,dy:u,positionAngle:d,positionArgs:v,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragVertexStart:function(e,t,n){if(this.can("vertexMove")){var i=parseInt(e.target.getAttribute("idx"),10);this.eventData(e,{action:"vertex-move",vertexIdx:i})}},dragVertexRemoveStart:function(e,t,n){if(this.can("vertexRemove")){var i=parseInt(e.target.getAttribute("idx"),10);this.model.removeVertex(i)}},dragArrowheadStart:function(e,t,n){if(this.can("arrowheadMove")){var i=e.target.getAttribute("end"),o=this.startArrowheadMove(i,{ignoreBackwardsCompatibility:!0});this.eventData(e,o)}},dragStart:function(e,t,n){this.isDefaultInteractionPrevented(e)||this.can("linkMove")&&this.eventData(e,{action:"move",dx:t,dy:n})},dragLabel:function(e,t,n){var r=this.eventData(e),i={position:this.getLabelPosition(t+r.dx,n+r.dy,r.positionAngle,r.positionArgs)};this.paper.options.snapLabels&&delete i.position.offset;const o={ui:!0};this.paper.isAsync()&&"touchmove"===e.type&&(o.async=!1),this.model.label(r.labelIdx,i,o)},dragVertex:function(e,t,n){var r=this.eventData(e);this.model.vertex(r.vertexIdx,{x:t,y:n},{ui:!0})},dragArrowhead:function(e,t,n){this.paper.options.snapLinks?!this._snapArrowhead(e,t,n)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(e,t,n):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(e,t,n):this._connectArrowhead(this.getEventTarget(e),t,n,this.eventData(e))},drag:function(e,t,n){var r=this.eventData(e);this.model.translate(t-r.dx,n-r.dy,{ui:!0}),this.eventData(e,{dx:t,dy:n})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(e,t,n){var r=this.eventData(e),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(r):this._connectArrowheadEnd(r,t,n),i.linkAllowed(this)?(this._finishEmbedding(r),this._notifyConnectEvent(r,e)):this._disallow(r),this._afterArrowheadMove(r)},dragEnd:function(){},_disallow:function(e){"remove"===e.whenNotAllowed?this.model.remove({ui:!0}):this.model.set(e.arrowhead,e.initialEnd,{ui:!0})},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var n=e.arrowhead,r=e.initialEnd,i=this.model.prop(n);if(i&&!wi.endsEqual(r,i)){var s=this.paper;r.id&&this.notify("link:disconnect",t,s.findViewByModel(r.id),e.initialMagnet,n),i.id&&this.notify("link:connect",t,s.findViewByModel(i.id),e.magnetUnderPointer,n)}},_snapToPoints:function(e,t,n){let r=null,i=1/0,o=null,s=1/0,a=e.x,c=e.y;for(let l=0;l<t.length;l++){const u=Math.abs(t[l].x-e.x);u<i&&(i=u,r=t[l]);const d=Math.abs(t[l].y-e.y);d<s&&(s=d,o=t[l])}return i<n&&(a=r.x),s<n&&(c=o.y),{x:a,y:c}},_snapArrowheadSelf:function(e,t,n){const{paper:r,model:i}=this,{snapLinksSelf:o}=r.options,s=this.eventData(e),a=o.radius||20,u=[this.getEndAnchor("source"===s.arrowhead?"target":"source"),...i.vertices()],d=this._snapToPoints({x:t,y:n},u,a),p=r.localToClientPoint(d);this._connectArrowhead(document.elementFromPoint(p.x,p.y),d.x,d.y,this.eventData(e))},_snapArrowhead:function(e,t,n){const{paper:r}=this,{snapLinks:i,connectionStrategy:o}=r.options,s=this.eventData(e);let a=!1;var c=i.radius||50,l=r.findViewsInArea({x:t-c,y:n-c,width:2*c,height:2*c}),u=s.closestView||null,d=s.closestMagnet||null,p=s.magnetProxy||null;s.closestView=s.closestMagnet=s.magnetProxy=null;var g=Number.MAX_VALUE,v=new q(t,n);l.forEach(function(de){const ye=[];"false"!==de.el.getAttribute("magnet")&&ye.push({bbox:de.model.getBBox(),magnet:de.el}),de.$("[magnet]").toArray().forEach(b=>{ye.push({bbox:de.getNodeBBox(b),magnet:b})}),ye.forEach(b=>{const{magnet:M,bbox:k}=b,R=k.center().squaredDistance(v);R<g&&(d===M||r.options.validateConnection.apply(r,s.validateConnectionArgs(de,de.el===M?null:M)))&&(g=R,s.closestView=de,s.closestMagnet=M)})},this);var w,E=null,N=s.closestView,P=s.closestMagnet;P&&(E=s.magnetProxy=N.findProxyNode(P,"highlighter"));var W=s.arrowhead,K=d!==P;if(u&&K&&u.unhighlight(p,{connecting:!0,snapping:!0}),N){const{prevEnd:de,prevX:ye,prevY:b}=s;if(s.prevX=t,s.prevY=n,a=!0,!K&&("function"!=typeof o||ye===t&&b===n)||(w=N.getLinkEnd(P,t,n,this.model,W),!K&&Hu(de,w)))return a;s.prevEnd=w,K&&N.highlight(E,{connecting:!0,snapping:!0})}else w={x:t,y:n};return this.model.set(W,w||{x:t,y:n},{ui:!0}),u&&this.notify("link:snap:disconnect",e,u,d,W),N&&this.notify("link:snap:connect",e,N,P,W),a},_snapArrowheadEnd:function(e){var t=e.closestView,n=e.closestMagnet;t&&n&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(n)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,n,r){const{paper:i,model:o}=this;if(r.eventTarget!==e){r.magnetProxy&&r.viewUnderPointer.unhighlight(r.magnetProxy,{connecting:!0});const s=r.viewUnderPointer=i.findView(e);if(s){const a=r.magnetUnderPointer=s.findMagnet(e),c=r.magnetProxy=s.findProxyNode(a,"highlighter");a&&this.paper.options.validateConnection.apply(i,r.validateConnectionArgs(s,a))?c&&s.highlight(c,{connecting:!0}):(r.magnetUnderPointer=null,r.magnetProxy=null)}else r.magnetUnderPointer=null,r.magnetProxy=null}r.eventTarget=e,o.set(r.arrowhead,{x:t,y:n},{ui:!0})},_connectArrowheadEnd:function(e={},t,n){const{model:r}=this,{viewUnderPointer:i,magnetUnderPointer:o,magnetProxy:s,arrowhead:a}=e;if(!o||!s||!i)return;i.unhighlight(s,{connecting:!0});const c=i.getLinkEnd(o,t,n,r,a);r.set(a,c,{ui:!0})},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){null!==e.z&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t=[];t[4]=e,t[5]=this;var n,r=0,i=0;"source"===e?(r=2,n="target"):(i=2,n="source");var o=this.model.get(n);if(o.id){var s=t[r]=this.paper.findViewByModel(o.id),a=s.getMagnetFromLinkEnd(o);a===s.el&&(a=void 0),t[r+1]=a}return function c(l,u){return t[i]=l,t[i+1]=l.el===u?void 0:u,t}},_markAvailableMagnets:function(e){function t(d,p){var g=d.paper;return g.options.validateConnection.apply(g,this.validateConnectionArgs(d,p))}var n=this.paper,r=n.model.getCells();e.marked={};for(var i=0,o=r.length;i<o;i++){var s=r[i].findView(n);if(s){var a=Array.prototype.slice.call(s.el.querySelectorAll("[magnet]"));"false"!==s.el.getAttribute("magnet")&&a.push(s.el);var c=a.filter(t.bind(e,s));if(c.length>0){for(var l=0,u=c.length;l<u;l++)s.highlight(c[l],{magnetAvailability:!0});s.highlight(null,{elementAvailability:!0}),e.marked[s.model.id]=c}}}},_unmarkAvailableMagnets:function(e){for(var n,r,t=Object.keys(e.marked),i=0,o=t.length;i<o;i++){r=e.marked[n=t[i]];var s=this.paper.findViewByModel(n);if(s){for(var a=0,c=r.length;a<c;a++)s.unhighlight(r[a],{magnetAvailability:!0});s.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var n={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:pa(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(n),!0!==t.ignoreBackwardsCompatibility&&(this._dragData=n),n},onMount:function(){yn.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){yn.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){yn.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:qt});Object.defineProperty(Uf.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new Xe(t.x,t.y)}var n=this.sourceMagnet;return e.isNodeConnection(n)?new Xe(this.sourceAnchor):e.getNodeBBox(n||e.el)}}),Object.defineProperty(Uf.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new Xe(t.x,t.y)}var n=this.targetMagnet;return e.isNodeConnection(n)?new Xe(this.targetAnchor):e.getNodeBBox(n||e.el)}});const M4=Rs.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(e,t){const{options:n}=this,{useFirstSubpath:r}=n;let i;try{const o=Ce(t);if(i=o.convertToPathData().trim(),"PATH"===o.tagName()&&r){const s=i.search(/.M/i)+1;s>0&&(i=i.substr(0,s))}}catch{const s=e.getNodeBoundingRect(t);i=Ce.rectToPath(xt({},n,s.toJSON()))}return i},highlightConnection(e){this.vel.attr("d",e.getSerializedConnection())},highlightNode(e,t){const{vel:n,options:r}=this,{padding:i,layer:o}=r;let s=this.getNodeMatrix(e,t);if(i){!o&&t===e.el&&n.remove();let a=e.getNodeBoundingRect(t);const c=a.x+a.width/2,l=a.y+a.height/2;a=Ce.transformRect(a,s);const u=Math.max(a.width,1),d=Math.max(a.height,1),p=(u+i)/u,g=(d+i)/d,v=Ce.createSVGMatrix({a:p,b:0,c:0,d:g,e:c-p*c,f:l-g*l});s=s.multiply(v)}n.attr({d:this.getPathData(e,t),transform:Ce.matrixToTransformString(s)})},highlight(e,t){const{vel:n,options:r}=this;n.attr(r.attrs),e.isNodeConnection(t)?this.highlightConnection(e):this.highlightNode(e,t)}}),E1=20,S4=Rs.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:E1,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(e,t){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:n,MASK_REPLACE_TAGS:r,MASK_REMOVE_TAGS:i}=this,o=t.tagName();if(!Ce.isSVGGraphicsElement(t)||i.includes(o))return t.remove(),!1;if(r.includes(o)){const s=e.vel.findOne(`#${t.id}`);if(s){const{node:a}=s;let c=e.getNodeBoundingRect(a);e.model.isElement()&&(c=Ce.transformRect(c,e.getNodeMatrix(a)));const l=Ce("rect",c.toJSON()),{x:u,y:d}=c.center(),{angle:p,cx:g=u,cy:v=d}=s.rotate();p&&l.rotate(p,g,v),t.parent().append(l)}return t.remove(),!1}return n.forEach(s=>{"fill"===s&&"none"===t.attr("fill")||t.removeAttr(s)}),!0},transformMaskRoot(e,t){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:n}=this;n.forEach(r=>{t.removeAttr(r)})},getMaskShape(e,t){const{options:n,MASK_REPLACE_TAGS:r}=this,{deep:i}=n,o=t.tagName();let s;if("G"===o){if(!i)return null;s=t.clone(),function T4(e,t){const n=e.children();for(;n.length>0;){const r=n.shift();t(r)&&n.push(...r.children())}}(s,a=>this.transformMaskChild(e,a))}else{if(r.includes(o))return null;s=t.clone()}return this.transformMaskRoot(e,s),s},getMaskId(){return`highlight-mask-${this.cid}`},getMask(e,t){const{VISIBLE:n,INVISIBLE:r,options:i}=this,{padding:o,attrs:s}=i,a="stroke-width"in s?s["stroke-width"]:1,c="none"!==t.attr("fill");let l=parseFloat(t.attr("stroke-width"));isNaN(l)&&(l=1);const u=l+2*o,d=u+2*a;let p=this.getMaskShape(e,t);if(!p){const g=e.getNodeBoundingRect(t.node);g.inflate(g.width?0:.5,g.height?0:.5),p=Ce("rect",g.toJSON())}return p.attr(s),Ce("mask",{id:this.getMaskId()}).append([p.clone().attr({fill:c?n:"none",stroke:n,"stroke-width":d}),p.clone().attr({fill:c?r:"none",stroke:r,"stroke-width":u})])},removeMask(e){const t=e.svg.getElementById(this.getMaskId());t&&e.defs.removeChild(t)},addMask(e,t){e.defs.appendChild(t.node)},highlight(e,t){const{options:n,vel:r}=this,{padding:i,attrs:o,maskClip:s=E1,layer:a}=n,c="stroke"in o?o.stroke:"#000000";!a&&t===e.el&&r.remove();const l=e.getNodeBoundingRect(t).inflate(i+s),u=this.getNodeMatrix(e,t),d=this.getMask(e,Ce(t));this.addMask(e.paper,d),r.attr(l.toJSON()),r.attr({transform:Ce.matrixToTransformString(u),mask:`url(#${d.id})`,fill:c})},unhighlight(e){this.removeMask(e.paper)}}),N4=Rs.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:Os("highlight-opacity"),highlight:function(e,t){Ce(t).addClass(this.opacityClassName)},unhighlight:function(e,t){Ce(t).removeClass(this.opacityClassName)}}),x1=Os("highlighted"),k4=Rs.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:x1},highlight:function(e,t){Ce(t).addClass(this.options.className)},unhighlight:function(e,t){Ce(t).removeClass(this.options.className)}},{className:x1}),dI={ROW:"row",COLUMN:"column"},P4=Rs.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(e,t){const n=e.model,{attribute:r,size:i=20,gap:o=5,direction:s=dI.ROW}=this.options;if(!r)throw new Error("List: attribute is required");const a="number"==typeof i?{width:i,height:i}:i,c=s===dI.ROW,l=c?a.width:a.height;let u=n.get(r);Array.isArray(u)||(u=[]);const d=this._prevItems||[],p=u.map((E,N)=>Hu(d[N],u[N]));if(d.length!==u.length||p.some(E=>!E)){const E=this.vel.children(),N=u.map((P,W)=>{const K=W in E?E[W].node:null;if(p[W])return K;const de=this.createListItem(P,a,K);if(!de)return null;if(!(de instanceof SVGElement))throw new Error("List: item must be an SVGElement");de.dataset.index=W,de.dataset.attribute=r;const ye=W*(l+o);return de.setAttribute("transform",c?`translate(${ye}, 0)`:`translate(0, ${ye})`),de});this.vel.empty().append(N),this._prevItems=u}const g=u.length,v=0===g?0:g*l+(g-1)*o;this.position(n,c?{width:v,height:a.height}:{width:a.width,height:v})},position(e,t){const{vel:n,options:r}=this,{margin:i=5,position:o="top-left"}=r,{width:s,height:a}=e.size(),{left:c,right:l,top:u,bottom:d}=mc(i),p=new Xe(c,u,s-(c+l),a-(u+d));let{x:g,y:v}=qS(p,o);switch(o){case Pr.CENTER:case Pr.TOP:case Pr.BOTTOM:g-=t.width/2;break;case Pr.RIGHT:case Pr.BOTTOM_RIGHT:case Pr.TOP_RIGHT:g-=t.width}switch(o){case Pr.CENTER:case Pr.RIGHT:case Pr.LEFT:v-=t.height/2;break;case Pr.BOTTOM:case Pr.BOTTOM_RIGHT:case Pr.BOTTOM_LEFT:v-=t.height}n.attr("transform",`translate(${g}, ${v})`)}},{Directions:dI,Positions:Pr});function O4(e,t,n,r){return e.getPointAtRatio("ratio"in r?r.ratio:.5)}function R4(e,t,n,r){return e.getPointAtLength("length"in r?r.length:20)}function Hf(e){return function(t,n,r,i){if(r instanceof Element){var s,o=this.paper.findView(r);return s=o?o.isNodeConnection(r)?M1(o,"fixedAt"in i?i.fixedAt:"50%"):o.getNodeBBox(r).center():new q,e.call(this,t,n,s,i)}return e.apply(this,arguments)}}function M1(e,t){var n=parseFloat(t);return Oi(t)?e.getPointAtRatio(n/100):e.getPointAtLength(n)}const B4=Hf(function L4(e,t,n,r){var i=1e6,o=e.getConnection(),s=e.getConnectionSubdivisions(),a=new rt(n.clone().offset(0,i),n.clone().offset(0,-i)),c=new rt(n.clone().offset(i,0),n.clone().offset(-i,0)),l=a.intersect(o,{segmentSubdivisions:s}),u=c.intersect(o,{segmentSubdivisions:s}),d=[];return l&&Array.prototype.push.apply(d,l),u&&Array.prototype.push.apply(d,u),d.length>0?n.chooseClosest(d):"fallbackAt"in r?M1(e,r.fallbackAt):T1(e,t,n,r)}),T1=Hf(function F4(e,t,n,r){return e.getClosestPoint(n)||new q});function Ug(e,t,n){if(Vr(n)){const{x:i,y:o}=n;if(isFinite(o)){const s=new rt(t,e),{start:a,end:c}=s.parallel(o);t=a,e=c}n=i}if(!isFinite(n))return e;var r=e.distance(t);return 0===n&&r>0?e:e.move(t,-Math.min(n,r-1))}function fI(e){var t=e.getAttribute("stroke-width");return null===t?0:parseFloat(t)||0}function S1(e,t,n,r){var i=t.getNodeBBox(n);r.stroke&&i.inflate(fI(n)/2);var o=e.intersect(i);return Ug(o?e.start.chooseClosest(o):e.end,e.start,r.offset)}var hI="segmentSubdivisons",pI="shapeBBox";const H4=function z4(e,t,n,r){let{offset:i,alignOffset:o,align:s}=r;return s&&function j4(e,t,n=0){let r,i,o,s;const{start:a,end:c}=e;switch(t){case"left":r="x",i=c,o=a,s=-1;break;case"right":r="x",i=a,o=c,s=1;break;case"top":r="y",i=c,o=a,s=-1;break;case"bottom":r="y",i=a,o=c,s=1;break;default:return}a[r]<c[r]?i[r]=o[r]:o[r]=i[r],isFinite(n)&&(i[r]+=s*n,o[r]+=s*n)}(e,s,o),Ug(e.end,e.start,i)},Z4=S1,W4=function V4(e,t,n,r){var i=t.model.angle();if(0===i)return S1(e,t,n,r);var o=t.getNodeUnrotatedBBox(n);r.stroke&&o.inflate(fI(n)/2);var s=o.center(),a=e.clone().rotate(s,i),c=a.setLength(1e6).intersect(o);return Ug(c?a.start.chooseClosest(c).rotate(s,-i):e.end,e.start,r.offset)},Y4=function U4(e,t,n,r){var i,o,s=r.selector,a=e.end;if(i="string"==typeof s?t.findBySelector(s)[0]:!1===s?n:Array.isArray(s)?Of(n,s):function G4(e){if(!e)return null;var t=e;do{var n=t.tagName;if("string"!=typeof n)return null;if("G"===(n=n.toUpperCase()))t=t.firstElementChild;else{if("TITLE"!==n)break;t=t.nextElementSibling}}while(t);return t}(n),!Ce.isSVGGraphicsElement(i)){if(i===n||!Ce.isSVGGraphicsElement(n))return a;i=n}var P,c=t.getNodeShape(i),l=t.getNodeMatrix(i),u=t.getRootTranslateMatrix(),d=t.getRootRotateMatrix(),p=u.multiply(d).multiply(l),g=p.inverse(),v=Ce.transformLine(e,g),w=v.start.clone(),E=t.getNodeData(i);if(!1===r.insideout&&(E[pI]||(E[pI]=c.bbox()),E[pI].containsPoint(w)))return a;if(c instanceof mt){var W=r.precision||2;E[hI]||(E[hI]=c.getSegmentSubdivisions({precision:W})),P={precision:W,segmentSubdivisions:E[hI]}}!0===r.extrapolate&&v.setLength(1e6),(o=v.intersect(c,P))?Ce.isArray(o)&&(o=w.chooseClosest(o)):!0===r.sticky&&(o=c instanceof Xe?c.pointNearestToPoint(w):c instanceof vo?c.intersectionWithLineFromCenterToPoint(w):c.closestPoint(w,P));var K=o?Ce.transformPoint(o,p):a,de=r.offset||0;return r.stroke&&(de+=fI(i)/2),Ug(K,e.start,de)};function Fa(e){return function(t,n,r,i){var o=!!i.rotate,s=o?t.getNodeUnrotatedBBox(n):t.getNodeBBox(n),a=s[e](),c=i.dx;if(c){var l=Oi(c);c=parseFloat(c),isFinite(c)&&(l&&(c/=100,c*=s.width),a.x+=c)}var u=i.dy;if(u){var d=Oi(u);u=parseFloat(u),isFinite(u)&&(d&&(u/=100,u*=s.height),a.y+=u)}return o?a.rotate(t.model.getBBox().center(),-t.model.angle()):a}}const J4=Fa("center"),K4=Fa("topMiddle"),Q4=Fa("bottomMiddle"),e9=Fa("leftMiddle"),t9=Fa("rightMiddle"),n9=Fa("origin"),r9=Fa("topRight"),i9=Fa("bottomLeft"),o9=Fa("corner"),s9=Hf(function X4(e,t,n,r){var i=e.model.angle(),o=e.getNodeBBox(t),s=o.center(),a=o.origin(),c=o.corner(),l=r.padding;if(isFinite(l)||(l=0),a.y+l<=n.y&&n.y<=c.y-l){var u=n.y-s.y;s.x+=0===i||180===i?0:1*u/Math.tan(Po(i)),s.y+=u}else if(a.x+l<=n.x&&n.x<=c.x-l){var d=n.x-s.x;s.y+=90===i||270===i?0:d*Math.tan(Po(i)),s.x+=d}return s}),a9=Hf(function $4(e,t,n,r){var o,s,a,i=!!r.rotate;i?(o=e.getNodeUnrotatedBBox(t),a=e.model.getBBox().center(),s=e.model.angle()):o=e.getNodeBBox(t);var u,c=r.padding;switch(isFinite(c)&&o.inflate(c),i&&n.rotate(a,s),o.sideNearestToPoint(n)){case"left":u=o.leftMiddle();break;case"right":u=o.rightMiddle();break;case"top":u=o.topMiddle();break;case"bottom":u=o.bottomMiddle()}return i?u.rotate(a,-s):u}),c9=function q4(e,t,n,r,i){return e.model.getPointFromConnectedLink(this.model,i).offset(r.dx,r.dy)},Ju={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},Hg=9007199254740991,gI=yn.Highlighting,P1={[gI.DEFAULT]:{name:"stroke",options:{padding:3}},[gI.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[gI.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},d9=[{name:gs.BACK},{name:gs.CELLS},{name:gs.LABELS},{name:gs.FRONT},{name:gs.TOOLS}],f9=vc.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:Qr,linkView:Uf,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:P1,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new wi,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(e,t,n){return"passive"!==t.getAttribute("magnet")},validateConnection:function(e,t,n,r,i,o){return("target"===i?n:e)instanceof Qr},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:Ju.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(e,t,n,r,i){t&(e.FLAG_INSERT|e.FLAG_REMOVE)||r.mounting||r.isolate||i.requestConnectedLinksUpdate(e,n,r)},onViewPostponed:function(e,t,n){return n.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:st,anchorNamespace:St,linkAnchorNamespace:kt,connectionPointNamespace:pi,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){const{options:e,el:t}=this;e.cellViewNamespace||(e.cellViewNamespace=typeof joint<"u"&&Ra(joint,"shapes")?joint.shapes:null);const n=this.model=e.model||new kg;this._layers={},this.setGrid(e.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=Tn(t.ownerDocument),this.resetViews(n.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(e,t,n){var r=n.position;this.isAsync()||!Ro(r)?this.renderView(e,n):(n.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(e,n),0===r&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,n){const r=this.findViewByModel(e);r&&this.requestViewUpdate(r,r.FLAG_REMOVE,r.UPDATE_PRIORITY,n)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===Ju.APPROX){const n=this.findViewByModel(e);n&&this.requestViewUpdate(n,n.FLAG_INSERT,n.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.resetLayers(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,n=this.model;if(!this.isAsync()){var r=this.UPDATE_DELAYING_BATCHES;r.includes(t)&&!n.hasActiveBatch(r)&&this.updateViews(e)}var i=this.SORT_DELAYING_BATCHES;i.includes(t)&&!n.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){const{options:e}=this,{defaultConnector:t,defaultRouter:n,defaultConnectionPoint:r,defaultAnchor:i,defaultLinkAnchor:o,origin:s,highlighting:a,cellViewNamespace:c,interactive:l}=e;!c&&typeof joint<"u"&&Ra(joint,"shapes")&&(e.cellViewNamespace=joint.shapes),fr(t)||(e.defaultConnector=hs(t)),fr(n)||(e.defaultRouter=hs(n)),fr(r)||(e.defaultConnectionPoint=hs(r)),fr(i)||(e.defaultAnchor=hs(i)),fr(o)||(e.defaultLinkAnchor=hs(o)),Vr(l)&&(e.interactive=xt({},l)),Vr(a)&&(e.highlighting=Uu({},a,P1)),e.origin=xt({},s)},children:function(){var e=Ce.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:Os("paper-background"),selector:"background"},{namespaceURI:e.xhtml,tagName:"div",className:Os("paper-grid"),selector:"grid"},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:Os("layers"),selector:"layers"}]}]},hasLayerView(e){return e in this._layers},getLayerView(e){const{_layers:t}=this;if(e in t)return t[e];throw new Error(`dia.Paper: Unknown layer "${e}"`)},getLayerNode(e){return this.getLayerView(e).el},render:function(){this.renderChildren();const{childNodes:e,options:t}=this,{svg:n,defs:r,layers:i,background:o,grid:s}=e;return n.style.overflow=t.overflow?"visible":"hidden",this.svg=n,this.defs=r,this.layers=i,this.$background=Tn(o),this.$grid=Tn(s),this.renderLayers(),Ce.ensureId(n),t.background&&this.drawBackground(t.background),t.drawGrid&&this.drawGrid(),this},renderLayers:function(e=d9){this.removeLayers(),e.forEach(({name:i})=>{const s=new yH({name:i});this.layers.appendChild(s.el),this._layers[i]=s});const t=this.getLayerView(gs.CELLS),n=this.getLayerView(gs.TOOLS),r=this.getLayerView(gs.LABELS);this.tools=n.el,this.cells=this.viewport=t.el,t.vel.addClass(Os("viewport")),r.vel.addClass(Os("viewport"))},removeLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].remove(),delete e[t]})},resetLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(e){var t=this.layers;if(void 0===e){var n=t.getAttribute("transform");return(this._viewportTransformString||null)===n?e=this._viewportMatrix:(e=t.getCTM(),this._viewportMatrix=e,this._viewportTransformString=n),Ce.createSVGMatrix(e)}e=Ce.createSVGMatrix(e);var r=Ce.matrixToTransformString(e);return t.setAttribute("transform",r),this._viewportMatrix=e,this._viewportTransformString=t.getAttribute("transform"),this},clientMatrix:function(){return Ce.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,n){if(e instanceof yn)for(var r=e.model,i=this.model.getConnectedLinks(r),o=0,s=i.length;o<s;o++){var a=i[o],c=this.findViewByModel(a);if(c){var l=["UPDATE"];a.getTargetCell()===r&&l.push("TARGET"),a.getSourceCell()===r&&l.push("SOURCE");var u=Math.max(t+1,c.UPDATE_PRIORITY);this.scheduleViewUpdate(c,c.getFlag(l),u,n)}}},forcePostponedViewUpdate:function(e,t){if(!(e&&e instanceof yn))return!1;var n=e.model;if(n.isElement())return!1;if(!(t&e.getFlag(["SOURCE","TARGET"]))){var r={silent:!0},i=0,o=this.findViewByModel(n.getSourceCell());o&&!this.isViewMounted(o)&&(i=this.dumpView(o,r),e.updateEndMagnet("source"));var s=0,a=this.findViewByModel(n.getTargetCell());if(a&&!this.isViewMounted(a)&&(s=this.dumpView(a,r),e.updateEndMagnet("target")),0===i&&0===s)return!this.dumpView(e,r)}return!1},requestViewUpdate:function(e,t,n,r){r||(r={}),this.scheduleViewUpdate(e,t,n,r);var i=this.isAsync();if(!(this.isFrozen()||i&&!1!==r.async||this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES))){var o=this.updateViews(r);i&&this.notifyAfterRender(o,r)}},scheduleViewUpdate:function(e,t,n,r){const{_updates:i,options:o}=this;i.idle&&o.autoFreeze&&(i.idle=!1,this.unfreeze());const{FLAG_REMOVE:s,FLAG_INSERT:a,UPDATE_PRIORITY:c,cid:l}=e;let u=i.priorities[n];if(u||(u=i.priorities[n]={}),n>c)for(let g=n-1;g>=c;g--){const v=i.priorities[g];!v||!(l in v)||(u[l]|=v[l],delete v[l])}let d=u[l]||0;if((d&t)===t)return;d||i.count++,t&s&&d&a?u[l]^=a:t&a&&d&s&&(u[l]^=s),u[l]|=t;const p=o.onViewUpdate;"function"==typeof p&&p.call(this,e,t,n,r||{},this)},dumpViewUpdate:function(e){if(!e)return 0;var n=e.cid,r=this._updates.priorities[e.UPDATE_PRIORITY],i=this.registerMountedView(e)|r[n];return delete r[n],i},dumpView:function(e,t={}){const n=this.dumpViewUpdate(e);if(!n)return 0;const r=!t.silent;r&&this.notifyBeforeRender(t);const i=this.updateView(e,n,t);return r&&this.notifyAfterRender({updated:1,priority:e.UPDATE_PRIORITY},t),i},updateView:function(e,t,n){if(!e)return 0;const{FLAG_REMOVE:r,FLAG_INSERT:i,FLAG_INIT:o,model:s}=e;if(e instanceof yn){if(t&r)return this.removeView(s),0;if(t&i){const a=!!(t&o);a&&(t^=o),this.insertView(e,a),t^=i}}return t?e.confirmUpdate(t,n||{}):0},requireView:function(e,t){var n=this.findViewByModel(e);return n?(this.dumpView(n,t),n):null},registerUnmountedView:function(e){var t=e.cid,n=this._updates;if(t in n.unmounted)return 0;var r=n.unmounted[t]|=e.FLAG_INSERT;return n.unmountedCids.push(t),delete n.mounted[t],r},registerMountedView:function(e){var t=e.cid,n=this._updates;if(t in n.mounted)return 0;n.mounted[t]=!0,n.mountedCids.push(t);var r=n.unmounted[t]||0;return delete n.unmounted[t],r},isViewMounted:function(e){return!!e&&e.cid in this._updates.mounted},dumpViews:function(e){var t=fs({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){this.notifyBeforeRender(e);let t,n=0,r=0,i=Hg;do{r++,t=this.updateViewsBatch(e),n+=t.updated,i=Math.min(t.priority,i)}while(!t.empty);const o={updated:n,batches:r,priority:i};return this.notifyAfterRender(o,e),o},hasScheduledUpdates:function(){const e=this._updates.priorities,t=Object.keys(e);let n=t.length;for(;n>0&&n--;)for(let r in e[t[n]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:Hg});const{_updates:n,options:r}=this,i=n.id;if(i){F0(i),0===t.processed&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);const o=this.updateViewsBatch(e),s=fs({},e,{mountBatchSize:1e3-o.mounted,unmountBatchSize:1e3-o.unmounted}),a=this.checkViewport(s),c=a.unmounted,l=a.mounted;let u=t.processed;const d=n.count;o.updated>0?(u+=o.updated+o.unmounted,o.processed=u,t.priority=Math.min(o.priority,t.priority),o.empty&&0===l?(o.unmounted+=c,o.mounted+=l,o.priority=t.priority,this.notifyAfterRender(o,e),t.processed=0,t.priority=Hg,n.count=0):t.processed=u):n.idle||r.autoFreeze&&(this.freeze(),n.idle=!0,this.trigger("render:idle",e));const p=e.progress;if(d&&"function"==typeof p&&p.call(this,o.empty,u,d,o,this),n.id!==i)return}if(n.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");n.id=L0(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(e={}){let t=e.beforeRender;"function"!=typeof t&&(t=this.options.beforeRender,"function"!=typeof t)||t.call(this,e,this)},notifyAfterRender:function(e,t={}){let n=t.afterRender;"function"!=typeof n&&(n=this.options.afterRender),"function"==typeof n&&n.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||1/0,n=this._updates,r=0,i=0,o=0,s=0,a=Hg,c=!0,l=this.options,u=n.priorities,d="viewport"in e?e.viewport:l.viewport;"function"!=typeof d&&(d=null);var p=l.onViewPostponed;"function"!=typeof p&&(p=null);var g=Object.keys(u);e:for(var v=0,w=g.length;v<w;v++){var E=+g[v],N=u[E];for(var P in N){if(r>=t){c=!1;break e}var W=ml[P];if(W){var K=N[P];if(!(K&W.FLAG_REMOVE)){var de=P in n.unmounted;if(W.DETACHABLE&&d&&!d.call(this,W,!de,this)){de||(this.registerUnmountedView(W),this.detachView(W)),n.unmounted[P]|=K,delete N[P],o++;continue}de&&(K|=W.FLAG_INSERT,s++),K|=this.registerMountedView(W)}var ye=this.updateView(W,K,e);ye>0&&(N[P]=ye,!p||!p.call(this,W,ye,this)||N[P])?(i++,c=!1):(a>E&&(a=E),r++,delete N[P])}else delete N[P]}}return{priority:a,updated:r,postponed:i,unmounted:o,mounted:s,empty:c}},getUnmountedViews:function(){const t=Object.keys(this._updates.unmounted),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=ml[t[i]];return r},getMountedViews:function(){const t=Object.keys(this._updates.mounted),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=ml[t[i]];return r},checkUnmountedViews:function(e,t){t||(t={});var n=0;"function"!=typeof e&&(e=null);for(var i=this._updates,o=i.unmountedCids,s=i.unmounted,a=0,c=(Math.min(o.length,"mountBatchSize"in t?t.mountBatchSize:1/0));a<c;a++){var l=o[a];if(l in s){var u=ml[l];if(u){if(u.DETACHABLE&&e&&!e.call(this,u,!1,this)){o.push(l);continue}n++;var d=this.registerMountedView(u);d&&this.scheduleViewUpdate(u,d,u.UPDATE_PRIORITY,{mounting:!0})}}}return o.splice(0,a),n},checkMountedViews:function(e,t){t||(t={});var n=0;if("function"!=typeof e)return n;for(var i=this._updates,o=i.mountedCids,s=i.mounted,a=0,c=(Math.min(o.length,"unmountBatchSize"in t?t.unmountBatchSize:1/0));a<c;a++){var l=o[a];if(l in s){var u=ml[l];if(u){if(!u.DETACHABLE||e.call(this,u,!0,this)){o.push(l);continue}n++,this.registerUnmountedView(u)&&this.detachView(u)}}}return o.splice(0,a),n},checkViewVisibility:function(e,t={}){let n="viewport"in t?t.viewport:this.options.viewport;"function"!=typeof n&&(n=null);const r=this._updates,{mounted:i,unmounted:o}=r,s=!e.DETACHABLE||!n||n.call(this,e,!1,this);let a=!1,c=!1;if(e.cid in i&&!s){this.registerUnmountedView(e)&&this.detachView(e);const d=r.mountedCids.indexOf(e.cid);r.mountedCids.splice(d,1),a=!0}if(!a&&e.cid in o&&s){const u=r.unmountedCids.indexOf(e.cid);r.unmountedCids.splice(u,1);var l=this.registerMountedView(e);l&&this.scheduleViewUpdate(e,l,e.UPDATE_PRIORITY,{mounting:!0}),c=!0}return{mounted:c?1:0,unmounted:a?1:0}},checkViewport:function(e){var t=fs({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in t?t.viewport:this.options.viewport,r=this.checkMountedViews(n,t);return r>0&&(t.mountBatchSize=Math.min(this._updates.unmountedCids.length-r,t.mountBatchSize)),{mounted:this.checkUnmountedViews(n,t),unmounted:r}},freeze:function(e){e||(e={});var t=this._updates,n=e.key,r=this.options.frozen,i=t.freezeKey;if(n&&n!==i){if(r&&i)return;t.freezeKey=n,t.keyFrozen=r}this.options.frozen=!0;var o=t.id;t.id=null,this.isAsync()&&o&&F0(o)},unfreeze:function(e){e||(e={});var t=this._updates,n=e.key,r=t.freezeKey;n&&r&&n!==r||(t.freezeKey=null,(!n||n!==r||!t.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===Ju.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,n=e.height;return Ro(t)||(t=this.el.clientWidth),Ro(n)||(n=this.el.clientHeight),{width:t,height:n}},setDimensions:function(e,t){const{options:n}=this,{width:r,height:i}=n;let o=void 0===e?r:e,s=void 0===t?i:t;if(r===o&&i===s)return;n.width=o,n.height=s,this._setDimensions();const a=this.getComputedSize();this.trigger("resize",a.width,a.height)},_setDimensions:function(){const{options:e}=this;let t=e.width,n=e.height;Ro(t)&&(t=Math.round(t)),Ro(n)&&(n=Math.round(n)),this.$el.css({width:null===t?"":t,height:null===n?"":n})},setOrigin:function(e,t){return this.translate(e||0,t||0)},fitToContent:function(e,t,n,r){r=Pn(e)?e:xt({gridWidth:e,gridHeight:t,padding:n},r);const{x:i,y:o,width:s,height:a}=this.getFitToContentArea(r),{sx:c,sy:l}=this.scale();return this.setOrigin(-i*c,-o*l),this.setDimensions(s*c,a*l),new Xe(i,o,s,a)},getFitToContentArea:function(e={}){const t=e.gridWidth||1,n=e.gridHeight||1,r=mc(e.padding||0),i=Math.max(e.minWidth||0,t),o=Math.max(e.minHeight||0,n),s=e.maxWidth||Number.MAX_VALUE,a=e.maxHeight||Number.MAX_VALUE,c=e.allowNewOrigin,l="contentArea"in e?new Xe(e.contentArea):this.getContentArea(e),{sx:u,sy:d}=this.scale();l.x*=u,l.y*=d,l.width*=u,l.height*=d;let p=Math.ceil((l.width+l.x)/t),g=Math.ceil((l.height+l.y)/n);e.allowNegativeBottomRight||(p=Math.max(p,1),g=Math.max(g,1)),p*=t,g*=n;let v=0;("negative"===c&&l.x<0||"positive"===c&&l.x>=0||"any"===c)&&(v=Math.ceil(-l.x/t)*t,v+=r.left,p+=v);let w=0;return("negative"===c&&l.y<0||"positive"===c&&l.y>=0||"any"===c)&&(w=Math.ceil(-l.y/n)*n,w+=r.top,g+=w),p+=r.right,g+=r.bottom,p=Math.max(p,i),g=Math.max(g,o),p=Math.min(p,s),g=Math.min(g,a),new Xe(-v/u,-w/d,p/u,g/d)},transformToFitContent:function(e){let t,n;if(e||(e={}),"contentArea"in e){const E=e.contentArea;t=this.localToPaperRect(E),n=new q(E)}else t=this.getContentBBox(e),n=this.paperToLocalPoint(t);if(!t.width||!t.height)return;fs(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const r=mc(e.padding),i=e.minScaleX||e.minScale,o=e.maxScaleX||e.maxScale,s=e.minScaleY||e.minScale,a=e.maxScaleY||e.maxScale;let c;if(e.fittingBBox)c=e.fittingBBox;else{const E=this.translate(),N=this.getComputedSize();c={x:E.tx,y:E.ty,width:N.width,height:N.height}}c=new Xe(c).moveAndExpand({x:r.left,y:r.top,width:-r.left-r.right,height:-r.top-r.bottom});const l=this.scale();let u=c.width/t.width*l.sx,d=c.height/t.height*l.sy;if(e.preserveAspectRatio&&(u=d=Math.min(u,d)),e.scaleGrid){const E=e.scaleGrid;u=E*Math.floor(u/E),d=E*Math.floor(d/E)}u=Math.min(o,Math.max(i,u)),d=Math.min(a,Math.max(s,d));const p_x=u/l.sx,p_y=d/l.sy,g=this.options.origin;let v=c.x-n.x*u-g.x,w=c.y-n.y*d-g.y;switch(e.verticalAlign){case"middle":w+=(c.height-t.height*p_y)/2;break;case"bottom":w+=c.height-t.height*p_y}switch(e.horizontalAlign){case"middle":v+=(c.width-t.width*p_x)/2;break;case"right":v+=c.width-t.width*p_x}this.scale(u,d),this.translate(v,w)},scaleContentToFit:function(e){this.transformToFitContent(e)},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new Xe:Ce(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...e){const{restrictTranslate:t}=this.options;let n;return n=fr(t)?t.apply(this,e):!0===t?this.getArea():t?new Xe(t):null,n},createViewForModel:function(e){const{options:t}=this;var n,r,i=t.cellViewNamespace,o=e.get("type")+"View",s=Of(i,o,".");return e.isLink()?(n=t.linkView,r=Uf):(n=t.elementView,r=Qr),new(n.prototype instanceof qi.View?s||n:n.call(this,e)||s||r)({model:e,interactive:t.interactive,labelsLayer:!0===t.labelsLayer?gs.LABELS:t.labelsLayer})},removeView:function(e){const{id:t}=e,{_views:n,_updates:r}=this,i=n[t];if(i){var{cid:o}=i;const{mounted:s,unmounted:a}=r;i.remove(),delete n[t],delete s[o],delete a[o]}return i},renderView:function(e,t){const{id:n}=e,r=this._views;let i,o,s=!0;return n in r&&(i=r[n],i.model===e?(o=i.FLAG_INSERT,s=!1):this.removeView(e)),s&&(i=r[n]=this.createViewForModel(e),i.paper=this,o=this.registerUnmountedView(i)|this.FLAG_INIT|i.getFlag(Gr(i,"initFlag"))),this.requestViewUpdate(i,o,i.UPDATE_PRIORITY,t),i},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews();const n=this.options.autoFreeze?null:"reset";this.freeze({key:n});for(var r=0,i=e.length;r<i;r++)this.renderView(e[r],t);this.unfreeze({key:n}),this.sortViews()},removeViews:function(){ha(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen())return void(this._updates.sort=!0);this.sortViewsExact()}},sortViewsExact:function(){var e=Tn(this.cells).children("[model-id]"),t=this.model.get("cells");!function(e,t){var n=Tn(e),r=n.map(function(){var o=this.parentNode,s=o.insertBefore(document.createTextNode(""),this.nextSibling);return function(){if(o===this)throw new Error("You can't sort elements if any one is a descendant of another.");o.insertBefore(this,s),o.removeChild(s)}});Array.prototype.sort.call(n,t).each(function(i){r[i].call(this)})}(e,function(n,r){var i=t.get(n.getAttribute("model-id")),o=t.get(r.getAttribute("model-id")),s=i.attributes.z||0,a=o.attributes.z||0;return s===a?0:s<a?-1:1})},insertView:function(e,t){const n=this.getLayerView(gs.CELLS),{el:r,model:i}=e;this.options.sorting===Ju.APPROX?n.insertSortedNode(r,i.get("z")):n.insertNode(r),e.onMount(t)},detachView(e){e.unmount(),e.onDetach()},scale:function(e,t,n,r){if(void 0===e)return Ce.matrixToScale(this.matrix());void 0===t&&(t=e),void 0===n&&(n=0,r=0);var i=this.translate();(n||r||i.tx||i.ty)&&this.translate(i.tx-n*(e-1),i.ty-r*(t-1)),e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE);var a=this.matrix();return a.a=e,a.d=t,this.matrix(a),this.trigger("scale",e,t,n,r),this},rotate:function(e,t,n){if(void 0===e)return Ce.matrixToRotate(this.matrix());if(void 0===t){var r=this.cells.getBBox();t=r.width/2,n=r.height/2}var i=this.matrix().translate(t,n).rotate(e).translate(-t,-n);return this.matrix(i),this},translate:function(e,t){if(void 0===e)return Ce.matrixToTranslate(this.matrix());const{options:n}=this,{origin:r,drawGrid:i}=n;e||(e=0),t||(t=0);const o=this.matrix();if(o.e===e&&o.f===t)return this;o.e=e,o.f=t,this.matrix(o);const{tx:s,ty:a}=this.translate();return r.x=s,r.y=a,this.trigger("translate",s,a),i&&this.drawGrid(),this},findView:function(e){var t=Ji(e)?this.cells.querySelector(e):e instanceof Tn?e[0]:e,n=this.findAttribute("model-id",t);if(n)return this._views[n]},findViewByModel:function(e){var t=Ji(e)||Ro(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){return e=new q(e),this.model.getElements().map(this.findViewByModel,this).filter(function(n){return n&&n.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=fs(t||{},{strict:!1}),e=new Xe(e);var n=this.model.getElements().map(this.findViewByModel,this),r=t.strict?"containsRect":"intersect";return n.filter(function(i){return i&&e[r](i.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e,...t){"string"==typeof e&&this.trigger("tools:event",e,...t)},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var n=new q(e,t);return Ce.transformPoint(n,this.matrix())},localToPaperRect:function(e,t,n,r){var i=new Xe(e,t,n,r);return Ce.transformRect(i,this.matrix())},paperToLocalPoint:function(e,t){var n=new q(e,t);return Ce.transformPoint(n,this.matrix().inverse())},paperToLocalRect:function(e,t,n,r){var i=new Xe(e,t,n,r);return Ce.transformRect(i,this.matrix().inverse())},localToClientPoint:function(e,t){var n=new q(e,t);return Ce.transformPoint(n,this.clientMatrix())},localToClientRect:function(e,t,n,r){var i=new Xe(e,t,n,r);return Ce.transformRect(i,this.clientMatrix())},clientToLocalPoint:function(e,t){var n=new q(e,t);return Ce.transformPoint(n,this.clientMatrix().inverse())},clientToLocalRect:function(e,t,n,r){var i=new Xe(e,t,n,r);return Ce.transformRect(i,this.clientMatrix().inverse())},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,n,r){return this.localToPaperRect(e,t,n,r).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var r=new q(e,t).difference(this.pageOffset());return this.paperToLocalPoint(r)},pageToLocalRect:function(e,t,n,r){var i=this.pageOffset(),o=new Xe(e,t,n,r);return o.x-=i.x,o.y-=i.y,this.paperToLocalRect(o)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new q(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof Uf))throw new Error("Must provide a linkView.");var t=e.model,n=this.options,r=this.model,i=r.constructor.validations;return!(!n.multiLinks&&!i.multiLinks.call(this,r,t)||!n.linkPinning&&!i.linkPinning.call(this,r,t)||"function"==typeof n.allowLink&&!n.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return fr(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e={}){let{highlighter:t,type:n}=e;const{highlighting:r,highlighterNamespace:i}=this.options;if(void 0===t){if(!r||n&&(t=r[n],!1===t))return!1;t||(t=r.default)}if(!t)return!1;Ji(t)&&(t={name:t});const o=t.name,s=i[o];if(!s)throw new Error('Unknown highlighter ("'+o+'")');if("function"!=typeof s.highlight)throw new Error('Highlighter ("'+o+'") is missing required highlight() method');if("function"!=typeof s.unhighlight)throw new Error('Highlighter ("'+o+'") is missing required unhighlight() method');return{highlighter:s,options:t.options||{},name:o}},onCellHighlight:function(e,t,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:i,options:o}=r;i.highlight(e,t,o)},onCellUnhighlight:function(e,t,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:i,options:o}=r;i.unhighlight(e,t,o)},pointerdblclick:function(e){e.preventDefault(),e=Pi(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,n.x,n.y):this.trigger("blank:pointerdblclick",e,n.x,n.y)}},pointerclick:function(e){if(this.eventData(e).mousemoved<=this.options.clickThreshold){e=Pi(e);var n=this.findView(e.target);if(this.guard(e,n))return;var r=this.snapToGrid(e.clientX,e.clientY);n?n.pointerclick(e,r.x,r.y):this.trigger("blank:pointerclick",e,r.x,r.y)}},contextmenu:function(e){this.options.preventContextMenu&&e.preventDefault(),this.contextMenuFired?this.contextMenuFired=!1:(e=Pi(e),this.contextMenuTrigger(e))},contextMenuTrigger:function(e){var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,n.x,n.y):this.trigger("blank:contextmenu",e,n.x,n.y)}},pointerdown:function(e){e=Pi(e);const{target:t,button:n}=e,r=this.findView(t),i=2===n;if(r){if(!i&&this.guard(e,r))return;const o=this.FORM_CONTROL_TAG_NAMES.includes(t.tagName);this.options.preventDefaultViewAction&&!o&&e.preventDefault(),o&&r.preventDefaultInteraction(e);const s=this.customEventTrigger(e,r);if(s){if(s.isPropagationStopped())return;e.data=s.data}const a=t.closest("[magnet]");if(a&&r.el!==a&&r.el.contains(a)){const c=Pi(Tn.Event(e.originalEvent,{data:e.data,currentTarget:a}));if(this.onmagnet(c),c.isDefaultPrevented()&&e.preventDefault(),c.isPropagationStopped()){if(i)return;return void this.delegateDragEvents(r,c.data)}e.data=c.data}}if(i){this.contextMenuFired=!0;const o=Tn.Event(e.originalEvent,{type:"contextmenu",data:e.data});this.contextMenuTrigger(o)}else{const o=this.snapToGrid(e.clientX,e.clientY);r?r.pointerdown(e,o.x,o.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,o.x,o.y)),this.delegateDragEvents(r,e.data)}},pointermove:function(e){var t=this.eventData(e);if(t.mousemoved||(t.mousemoved=0,this.undelegateEvents()),!(++t.mousemoved<=this.options.moveThreshold)){e=Pi(e);var r=this.snapToGrid(e.clientX,e.clientY),i=t.sourceView;i?i.pointermove(e,r.x,r.y):this.trigger("blank:pointermove",e,r.x,r.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=Pi(e),n=this.snapToGrid(t.clientX,t.clientY),r=this.eventData(e).sourceView;r?r.pointerup(t,n.x,n.y):this.trigger("blank:pointerup",t,n.x,n.y),t.isPropagationStopped()||this.pointerclick(Tn.Event(e.originalEvent,{type:"click",data:e.data})),this.delegateEvents()},mouseover:function(e){e=Pi(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=Pi(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=Pi(e);const{target:t,relatedTarget:n,currentTarget:r}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(n);i&&(o===i||(i.mouseenter(e),this.el.contains(n)))||o||r===this.el&&this.trigger("paper:mouseenter",e)},mouseleave:function(e){e=Pi(e);const{target:t,relatedTarget:n,currentTarget:r}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(n);i&&(o===i||(i.mouseleave(e),this.el.contains(n)))||o||r===this.el&&this.trigger("paper:mouseleave",e)},_processMouseWheelEvtBuf:function qU(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function");let r,i,o,s,a,c,l=0,u=!1,d=!1,p=!0;const g=!t&&0!==t&&window&&"function"==typeof window.requestAnimationFrame;function v(b){const M=r,k=i;return r=i=void 0,l=b,s=e.apply(k,M),s}function w(b,M){return g?(window.cancelAnimationFrame(a),window.requestAnimationFrame(b)):setTimeout(b,M)}function W(b){const M=b-c;return void 0===c||M>=t||M<0||d&&b-l>=o}function K(){const b=Date.now();if(W(b))return de(b);a=w(K,function P(b){const R=t-(b-c);return d?Math.min(R,o-(b-l)):R}(b))}function de(b){return a=void 0,p&&r?v(b):(r=i=void 0,s)}function ye(...b){const M=Date.now(),k=W(M);if(r=b,i=this,c=M,k){if(void 0===a)return function N(b){return l=b,a=w(K,t),u?v(b):s}(c);if(d)return a=w(K,t),v(c)}return void 0===a&&(a=w(K,t)),s}return t=+t||0,Pn(n)&&(u=!!n.leading,d="maxWait"in n,o=d?Math.max(+n.maxWait||0,t):o,p="trailing"in n?!!n.trailing:p),ye.cancel=()=>{void 0!==a&&function E(b){if(g)return window.cancelAnimationFrame(b);clearTimeout(b)}(a),l=0,r=c=i=a=void 0},ye.flush=()=>void 0===a?s:de(Date.now()),ye.pending=()=>void 0!==a,ye}(function(){const{event:e,deltas:t}=this._mw_evt_buffer,n=t.reduce((s,a)=>s+function(e,t){return e>50?50:e<-50?-50:e}(a),0),r=Math.pow(.995,n),{x:i,y:o}=this.clientToLocalPoint(e.clientX,e.clientY);this.trigger("paper:pinch",e,i,o,r),this._mw_evt_buffer={event:null,deltas:[]}},20,{maxWait:20}),mousewheel:function(e){e=Pi(e);const t=this.findView(e.target);if(this.guard(e,t))return;const n=e.originalEvent,r=this.snapToGrid(n.clientX,n.clientY),{deltaX:i,deltaY:o}=function(e){let i=0,o=0,s=0,a=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(i=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(i=o,o=0),s="deltaX"in e?e.deltaX:10*i,a="deltaY"in e?e.deltaY:10*o,(s||a)&&e.deltaMode&&(1==e.deltaMode?(s*=40,a*=40):(s*=800,a*=800)),0===e.deltaX&&0!==e.deltaY&&e.shiftKey&&(s=a,a=0,i=o,o=0),s&&!i&&(i=s<1?-1:1),a&&!o&&(o=a<1?-1:1),{spinX:i,spinY:o,deltaX:s,deltaY:a}}(n),s=this._events["paper:pinch"];if(e.ctrlKey&&s&&s.length>0)n.preventDefault(),this._mw_evt_buffer.event=n,this._mw_evt_buffer.deltas.push(o),this._processMouseWheelEvtBuf();else{const a=Math.max(-1,Math.min(1,n.wheelDelta));t?t.mousewheel(e,r.x,r.y,a):this.trigger("blank:mousewheel",e,r.x,r.y,a),this.trigger("paper:pan",e,i,o)}},onevent:function(e){var t=e.currentTarget,n=t.getAttribute("event");if(n){var r=this.findView(t);if(r){if(e=Pi(e),this.guard(e,r))return;var i=this.snapToGrid(e.clientX,e.clientY);r.onevent(e,n,i.x,i.y)}}},magnetEvent:function(e,t){var n=e.currentTarget;if(n.getAttribute("magnet")){var i=this.findView(n);if(i){if(e=Pi(e),this.guard(e,i))return;var o=this.snapToGrid(e.clientX,e.clientY);t.call(this,i,e,n,o.x,o.y)}}},onmagnet:function(e){if(2===e.button){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const t=Tn.Event(e.originalEvent,{type:"contextmenu",data:e.data,currentTarget:e.currentTarget});this.magnetContextMenuTrigger(t),t.isPropagationStopped()&&e.stopPropagation()}else this.magnetEvent(e,function(t,n,r,i,o){t.onmagnet(n,i,o)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(t,n,r,i,o){t.magnetpointerdblclick(n,r,i,o)})},magnetcontextmenu:function(e){this.options.preventContextMenu&&e.preventDefault(),this.magnetContextMenuFired?this.magnetContextMenuFired=!1:this.magnetContextMenuTrigger(e)},magnetContextMenuTrigger:function(e){this.magnetEvent(e,function(t,n,r,i,o){t.magnetcontextmenu(n,r,i,o)})},onlabel:function(e){var t=e.currentTarget,n=this.findView(t);if(!n||(e=Pi(e),this.guard(e,n)))return;const r=this.customEventTrigger(e,n,t);if(r){if(r.isPropagationStopped())return;e.data=r.data}var i=this.snapToGrid(e.clientX,e.clientY);n.onlabel(e,i.x,i.y)},getPointerArgs(e){const t=Pi(e),{x:n,y:r}=this.snapToGrid(t.clientX,t.clientY);return[t,n,r]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t)},guard:function(e,t){if("mousedown"===e.type&&2===e.button||this.options.guard&&this.options.guard(e,t))return!0;if(e.data&&void 0!==e.data.guarded)return e.data.guarded;const{target:n}=e;return!!this.GUARDED_TAG_NAMES.includes(n.tagName)||!(t&&t.model&&t.model instanceof ga||this.svg===n||this.el===n||Tn.contains(this.svg,n))},setGridSize:function(e){const{options:t}=this;return t.gridSize=e,t.drawGrid&&!t.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:Ce("svg",{width:"100%",height:"100%"},Ce("defs")),patterns:{},add:function(e,t){Ce(this.root.node.childNodes[0]).append(t),this.patterns[e]=t,this.root.append(Ce("rect",{width:"100%",height:"100%",fill:"url(#"+e+")"}))},get:function(e){return this.patterns[e]},exist:function(e){return void 0!==this.patterns[e]}}),this._gridCache},setGrid:function(e){return this.clearGrid(),this._gridCache=null,this._gridSettings=[],(Array.isArray(e)?e:[e||{}]).forEach(function(n){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(n))},this),this},_resolveDrawGridOption:function(e){var t=this.constructor.gridPatterns;if(Ji(e)&&Array.isArray(t[e]))return t[e].map(function(c){return xt({},c)});var n=e||{args:[{}]},r=Array.isArray(n),i=n.name;if(!r&&!i&&!n.markup&&(i="dot"),i&&Array.isArray(t[i])){var o=t[i].map(function(c){return xt({},c)}),s=Array.isArray(n.args)?n.args:[n.args||{}];fs(s[0],gl(e,"args"));for(var a=0;a<s.length;a++)o[a]&&xt(o[a],s[a]);return o}return r?n:[n]},drawGrid:function(e){const t=this.options.drawGridSize||this.options.gridSize;if(t<=1)return this.clearGrid();var n=Array.isArray(e)?e:[e],r=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach(function(s,a){var c="pattern_"+a,l=Kr(s,n[a],{sx:r.a||1,sy:r.d||1,ox:r.e||0,oy:r.f||0});l.width=t*(r.a||1)*(l.scaleFactor||1),l.height=t*(r.d||1)*(l.scaleFactor||1),i.exist(c)||i.add(c,Ce("pattern",{id:c,patternUnits:"userSpaceOnUse"},Ce(l.markup)));var u=i.get(c);fr(l.update)&&l.update(u.node.childNodes[0],l);var d=l.ox%l.width;d<0&&(d+=l.width);var p=l.oy%l.height;p<0&&(p+=l.height),u.attr({x:d,y:p,width:l.width,height:l.height})});var o=(new XMLSerializer).serializeToString(i.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(e){var t=(e=e||{}).position||"center",n=e.size||"auto auto",r=this.scale(),i=this.translate();Pn(t)&&(t=i.tx+r.sx*(t.x||0)+"px "+(i.ty+r.sy*(t.y||0))+"px"),Pn(n)&&(n=(n=new Xe(n).scale(r.sx,r.sy)).width+"px "+n.height+"px"),this.$background.css({backgroundSize:n,backgroundPosition:t})},drawBackgroundImage:function(e,t){if(e instanceof HTMLImageElement){if(this._background&&this._background.id===t.id){var n,r=(t=t||{}).size,i=t.repeat||"no-repeat",o=t.opacity||1,s=Math.abs(t.quality)||1,a=this.constructor.backgroundPatterns[((e="")=>((e,t)=>void 0===t?(HG(e)?(e=>e.match(OG))(e):(e=>e.match(WG))(e))||[]:e.match(t)||[])(`${e}`.replace(/['\u2019]/g,"")).reduce((t,n,r)=>(n=n.toLowerCase(),t+(r?WU(n):n)),""))(i)];if(fr(a)){e.width*=s,e.height*=s;var c=a(e,t);if(!(c instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=c.toDataURL("image/png"),i="repeat",Pn(r)?(r.width*=c.width/e.width,r.height*=c.height/e.height):void 0===r&&(t.size={width:c.width/s,height:c.height/s})}else n=e.src,void 0===r&&(t.size={width:e.width,height:e.height});this.$background.css({opacity:o,backgroundRepeat:i,backgroundImage:"url("+n+")"}),this.updateBackgroundImage(t)}}else this.$background.css("backgroundImage","")},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(this.updateBackgroundColor((e=e||{}).color),e.image){e=this._background=hs(e),Zu(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,ha(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!Pn(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,n=e.name;if(t||(t=n+this.svg.id+xg(JSON.stringify(e))),!this.isDefined(t)){var i=gH[n]&&gH[n](e.args||{});if(!i)throw new Error("Non-existing filter "+n);var o=xt({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},e.attrs,{id:t});Ce(i,o).appendTo(this.defs)}return t},defineGradient:function(e){if(!Pn(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:t,defs:n}=this,{type:r,id:i=r+t.id+xg(JSON.stringify(e)),stops:o,attrs:s={}}=e;if(this.isDefined(i))return i;const a=An(o).map(({offset:l,color:u,opacity:d})=>Ce("stop").attr({offset:l,"stop-color":u,"stop-opacity":Number.isFinite(d)?d:1})),c=Ce(r,s,a);return c.id=i,c.appendTo(n),i},definePattern:function(e){if(!Pn(e))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:t,defs:n}=this,{id:r=t.id+xg(JSON.stringify(e)),markup:i,attrs:o={}}=e;if(!i)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(r))return r;const s=Ce("pattern",{patternUnits:"userSpaceOnUse"});if(s.id=r,s.attr(o),"string"==typeof i)s.append(Ce(i));else{const{fragment:a}=Eg(i);s.append(a)}return s.appendTo(n),r},defineMarker:function(e){if(!Pn(e))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:t,defs:n}=this,{id:r=t.id+xg(JSON.stringify(e)),markup:i,attrs:o={},markerUnits:s="userSpaceOnUse"}=e;if(this.isDefined(r))return r;const a=Ce("marker",{orient:"auto",overflow:"visible",markerUnits:s});let c;if(a.id=r,a.attr(o),i){let d;if("string"==typeof i)d=Ce(i),d=Array.isArray(d)?d:[d];else{const{fragment:p}=Eg(i);d=Ce(p).children()}c=d.length>1?Ce("g").append(d):d[0]}else{const{type:d="path"}=e;c=Ce(d)}const l=gl(e,"type","id","markup","attrs","markerUnits");return Object.keys(l).forEach(d=>{const p=l[d],g=c.attr(d);null==g?c.attr(d,p):"transform"===d&&c.attr(d,p+" "+g)}),c.appendTo(a),a.appendTo(n),r},customEventTrigger:function(e,t,n=t.el){const r=e.target.closest("[event]");if(r&&n!==r&&t.el.contains(r)){const i=Pi(Tn.Event(e.originalEvent,{data:e.data,currentTarget:r}));return this.onevent(i),i.isDefaultPrevented()&&e.preventDefault(),i}return null}},{sorting:Ju,Layers:gs,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=2*r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(e,0,0,n,r),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(e,0,0,n,r),t},flipX:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(2*n,0),i.scale(-1,1),i.drawImage(e,0,0,n,r),t},flipY:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=n,t.height=2*r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(0,2*r),i.scale(1,-1),i.drawImage(e,0,0,n,r),t},watermark:function(e,t){t=t||{};var n=e.width,r=e.height,i=document.createElement("canvas");i.width=3*n,i.height=3*r;for(var o=i.getContext("2d"),s=Ro(t.watermarkAngle)?-t.watermarkAngle:-20,a=Po(s),c=i.width/4,l=i.height/4,u=0;u<4;u++)for(var d=0;d<4;d++)(u+d)%2>0&&(o.setTransform(1,0,0,1,(2*u-1)*c,(2*d-1)*l),o.rotate(a),o.drawImage(e,-n/2,-r/2,n,r));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){Ce(e).attr({width:t.thickness*t.sx,height:t.thickness*t.sy,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){var n=t.sx<=1?t.thickness*t.sx:t.thickness;Ce(e).attr({width:n,height:n,fill:t.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;n=r-o>=0&&i-o>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",Ce(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;n=r-o>=0&&i-o>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",Ce(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;n=r-o>=0&&i-o>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",Ce(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}]}}),mI=["#3f84e5","#49306B","#fe7f2d","#ad343e","#899e8b","#ede9e9","#b2a29f","#392F2D"];class vI extends br{constructor(){super(...arguments),this.markup=[{tagName:"rect",selector:"background"},{tagName:"path",selector:"body"},{tagName:"circle",selector:"head"},{tagName:"text",selector:"label"}]}defaults(){const t={type:"custom.uml.Actor",size:{width:40,height:80},attrs:{background:{width:"calc(w)",height:"calc(h)",fill:"transparent"},body:{d:"M 0 calc(0.4 * h) h calc(w) M 0 calc(h) calc(0.5 * w) calc(0.7 * h) calc(w) calc(h) M calc(0.5 * w) calc(0.7 * h) V calc(0.3 * h)",fill:"none",stroke:mI[7],strokeWidth:2},head:{cx:"calc(0.5 * w)",cy:"calc(0.15 * h)",r:"calc(0.15 * h)",stroke:mI[7],strokeWidth:2,fill:"#ffffff"},label:{y:"calc(h + 10)",x:"calc(0.5 * w)",textAnchor:"middle",textVerticalAnchor:"top",fontSize:14,fontFamily:"sans-serif",fill:mI[7],textWrap:{width:"calc(3 * w)",height:null}}}};return Uu(t,super.defaults),t}}function p9(e,...t){const n=[];return e.forEach((i,o)=>{n.push(i),o in t&&n.push(t[o])}),function g9(e){const t=new DOMParser,n=`<svg>${e.trim()}</svg>`;if(t.parseFromString(n.replace(/@/g,""),"application/xml").getElementsByTagName("parsererror")[0])throw new Error("Invalid SVG markup");return function m9(e){const t=[];return Array.from(e.children).forEach(n=>{t.push(L1(n))}),t}(t.parseFromString(n,"text/html").querySelector("svg"))}(n.join(""))}function L1(e){const t={},{tagName:n,attributes:r,namespaceURI:i,style:o,childNodes:s}=e;t.namespaceURI=i,t.tagName=i===Ce.namespace.xhtml?n.toLowerCase():n;const a={};for(var c=o.length;c--;){var l=o[c];a[l]=o.getPropertyValue(l)}t.style=a;const u=r.getNamedItem("@selector");u&&(t.selector=u.value,r.removeNamedItem("@selector"));const d=r.getNamedItem("@group-selector");if(d){const w=d.value.split(",");t.groupSelector=w.map(E=>E.trim()),r.removeNamedItem("@group-selector")}const p=r.getNamedItem("class");p&&(t.className=p.value);const g=[];s.forEach(w=>{switch(w.nodeType){case Node.TEXT_NODE:{const E=w.data.replace(/\s\s+/g," ");E.trim()&&g.push(E);break}case Node.ELEMENT_NODE:g.push(L1(w))}}),g.length&&(t.children=g);const v={};return Array.from(r).forEach(w=>{const{name:E,value:N}=w;v[E]=N}),Object.keys(v).length>0&&(t.attributes=v),t}class Zg extends H0{constructor(){super(...arguments),this.markup=[]}defaults(){const t={type:"custom.uml.CustomTextBlock"};return Uu(t,super.defaults),t}createVariableComponent(t,n,r,i,o,s){const c=new(br.define("example.Form",{attrs:{foreignObject:{width:"calc(w)",height:"calc(h)"}}},{markup:p9`
        <foreignObject @selector="foreignObject" height="70" width="70">
            <div
                xmlns="http://www.w3.org/1999/xhtml"
                class="outer"
            >
                <div class="inner">
                    <form class="form">
                        <input @selector="name" type="text" name="name" autocomplete="off" placeholder="Your diagram name"/>
                    </form>
                </div>
            </div>
        </foreignObject>
    `}));return c.position(n,r),c.resize(o,s),c}}class Wg extends H0{constructor(){super(...arguments),this.variablesCounter=0,this.funcCounter=0,this.rectWidth=150,this.rectHeight=100,this.headerHeight=20,this.rectVariablesHeight=(this.rectHeight-this.headerHeight)/2,this.rectFunctionsHeight=(this.rectHeight-this.headerHeight)/2,this.functionComponents=[],this.markup=[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"headerText"},{tagName:"rect",selector:"variablesRect"},{tagName:"rect",selector:"functionsRect"}]}defaults(){this.rectWidth=150,this.rectHeight=100,this.headerHeight=20,this.rectVariablesHeight=(this.rectHeight-this.headerHeight)/2,this.rectFunctionsHeight=(this.rectHeight-this.headerHeight)/2;const t={type:"custom.uml.Classifier",size:{width:this.rectWidth,height:this.rectHeight},attrs:{body:{rx:0,ry:0,strokeWidth:2,stroke:"black"},headerText:{width:this.rectWidth,height:this.headerHeight,fontSize:12,fontWeight:"bold",fontFamily:"Arial, helvetica, sans-serif","ref-y":0,"ref-x":0,ref:"body","text-anchor":"middle"},variablesRect:{width:this.rectWidth,height:this.rectVariablesHeight,fill:"#3498db",stroke:"black","ref-y":this.headerHeight,"ref-x":0,ref:"body"},functionsRect:{width:this.rectWidth,height:this.rectFunctionsHeight,fill:"#9b59b6",stroke:"black","ref-dy":-this.rectFunctionsHeight,"ref-x":0,ref:"body"}}};return Uu(t,super.defaults),t}updateView(){const t=this.attributes;t.attrs.variablesRect.height=parseInt(t.attrs?.variablesRect?.height?.toString()||"0")+20,this.attr(t.attrs),this.resize(this.attributes.size?.width||0,(this.attributes.size?.height||0)+20)}userInput(t,n){const s=t.target.attributes[0].value;let c,l,u,a=new Zg;switch(s){case"headerText":console.log("Header section double-clicked");break;case"variablesRect":return this.updateView(),u=this.position().y+this.headerHeight+this.variablesCounter,l=a.createVariableComponent("variablesRect",this.position().x,u,n,this.rectWidth,this.headerHeight),this.variablesCounter+=20,this.rectVariablesHeight+=20,this.rectHeight+=20,this.functionComponents.forEach(d=>{let p=d.position();d.position(p.x,p.y+20)}),c=this.attr(),c.body2=l,this.embed(l),l;case"functionsRect":return this.updateView(),u=this.position().y+this.rectHeight-this.rectFunctionsHeight+this.funcCounter+20,l=a.createVariableComponent("functionsRect",this.position().x,u,n,this.rectWidth,this.headerHeight),this.functionComponents.push(l),this.funcCounter+=20,this.adjustSize(this.rectFunctionsHeight),c=this.attr(),c.body2=l,this.embed(l),l;default:console.log("Clicked outside the sections")}return null}adjustSize(t){this.rectHeight+=20,this.rectFunctionsHeight+=20,this.attr("size/height",this.rectHeight)}}function yI(e,t,n){const r=t.split(".");let i=e;for(const o of r.slice(0,-1))i[o]=i[o]||{},i=i[o];return i[r[r.length-1]]=n,e}const y9=e=>new kg({},{cellNamespace:e}),b9=e=>{const t=new kg({},{cellNamespace:e});let n=100;const r=i=>{n+=150,i.position(50,n),t.addCell(i)};return r(new vI),r(new Wg),t},F1=(e,t,n,r)=>new f9({el:e,model:n(t),width:"100%",height:"100%",gridSize:10,drawGrid:!0,interactive:r,cellViewNamespace:t});function wc(e){return null!=e&&"false"!=`${e}`}function B1(e){return Array.isArray(e)?e:[e]}function Ku(e){return e instanceof fo?e.nativeElement:e}let bI=null;function II(){return bI}class C9{}const Mr=new tt("DocumentToken");let q1=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new hY,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){J1("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){J1("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(la),Qe(ka))};static#t=this.\u0275dir=ao({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class hY{constructor(){this.$implicit=null,this.ngIf=null}}function J1(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${It(t)}'.`)}const eN="browser";function tN(e){return"server"===e}const{isArray:h6}=Array;function FI(e){return pt(t=>function p6(e,t){return h6(t)?e(...t):e(t)}(e,t))}const g6=["addListener","removeListener"],m6=["addEventListener","removeEventListener"],v6=["on","off"];function Xf(e,t,n,r){if(Fe(n)&&(r=n,n=void 0),r)return Xf(e,t,n).pipe(FI(r));const[i,o]=function I6(e){return Fe(e.addEventListener)&&Fe(e.removeEventListener)}(e)?m6.map(s=>a=>e[s](t,a,n)):function y6(e){return Fe(e.addListener)&&Fe(e.removeListener)}(e)?g6.map(oN(e,t)):function b6(e){return Fe(e.on)&&Fe(e.off)}(e)?v6.map(oN(e,t)):[];if(!i&&Ia(e))return os(s=>Xf(s,t,n))(ii(e));if(!i)throw new TypeError("Invalid event target");return new at(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function oN(e,t){return n=>r=>e[n](t,r)}class w6 extends ut{constructor(t,n){super()}schedule(t,n=0){return this}}const om={setInterval(e,t,...n){const{delegate:r}=om;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=om;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class BI extends w6{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return om.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&om.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,wt(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}const $f={schedule(e){let t=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:r}=$f;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);const i=t(o=>{n=void 0,e(o)});return new ut(()=>n?.(i))},requestAnimationFrame(...e){const{delegate:t}=$f;return(t?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:t}=$f;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};class qf{constructor(t,n=qf.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}qf.now=Gb.now;class jI extends qf{constructor(t,n=qf.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}new class _6 extends jI{flush(t){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw i}}}(class C6 extends BI{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return null!==r&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=$f.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,n,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,n,r);const{actions:o}=t;null!=n&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==n&&($f.cancelAnimationFrame(n),t._scheduled=void 0)}});let zI,D6=1;const sm={};function sN(e){return e in sm&&(delete sm[e],!0)}const E6={setImmediate(e){const t=D6++;return sm[t]=!0,zI||(zI=Promise.resolve()),zI.then(()=>sN(t)&&e()),t},clearImmediate(e){sN(e)}},{setImmediate:x6,clearImmediate:M6}=E6,am={setImmediate(...e){const{delegate:t}=am;return(t?.setImmediate||x6)(...e)},clearImmediate(e){const{delegate:t}=am;return(t?.clearImmediate||M6)(e)},delegate:void 0},VI=(new class S6 extends jI{flush(t){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw i}}}(class T6 extends BI{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return null!==r&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=am.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,n,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,n,r);const{actions:o}=t;null!=n&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==n&&(am.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))}}),new jI(BI)),k6=VI;function aN(e,t=VI){return function P6(e){return Ye((t,n)=>{let r=!1,i=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const l=i;i=null,n.next(l)}s&&n.complete()},c=()=>{o=null,s&&n.complete()};t.subscribe(et(n,l=>{r=!0,i=l,o||ii(e(l)).subscribe(o=et(n,a,c))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}(()=>function R6(e=0,t,n=k6){let r=-1;return null!=t&&(Lc(t)?n=t:r=t),new at(i=>{let o=function O6(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(e,t))}function za(e,t){return Ye((n,r)=>{let i=0;n.subscribe(et(r,o=>e.call(t,o,i++)&&r.next(o)))})}function ws(e){return Ye((t,n)=>{ii(e).subscribe(et(n,()=>n.complete(),Vn)),!n.closed&&t.subscribe(n)})}let GI;try{GI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{GI=!1}let Jf,lm,bl,UI,Bs=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?function GY(e){return e===eN}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!GI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||e)(nt(Zc))};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function cm(e){return function L6(){if(null==Jf&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Jf=!0}))}finally{Jf=Jf||!1}return Jf}()?e:!!e.capture}function Kf(){if("object"!=typeof document||!document)return 0;if(null==lm){const e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",e.appendChild(n),document.body.appendChild(e),lm=0,0===e.scrollLeft&&(e.scrollLeft=1,lm=0===e.scrollLeft?1:2),e.remove()}return lm}function td(e){return e.composedPath?e.composedPath()[0]:e.target}const V6=new tt("cdk-dir-doc",{providedIn:"root",factory:function G6(){return an(Mr)}}),U6=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let lN=(()=>{class e{constructor(n){this.value="ltr",this.change=new No,n&&(this.value=function H6(e){const t=e?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?U6.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((n.body?n.body.dir:null)||(n.documentElement?n.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||e)(nt(V6,8))};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),uN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ea({type:e});static#n=this.\u0275inj=Ct({})}return e})(),dN=(()=>{class e{constructor(n,r,i){this._ngZone=n,this._platform=r,this._scrolled=new Re,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new at(r=>{this._globalSubscription||this._addGlobalListener();const i=n>0?this._scrolled.pipe(aN(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Yt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){const i=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(za(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(n){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,n)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let i=Ku(r),o=n.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Xf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||e)(nt(vn),nt(Bs),nt(Mr,8))};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),HI=(()=>{class e{constructor(n,r,i,o){this.elementRef=n,this.scrollDispatcher=r,this.ngZone=i,this.dir=o,this._destroyed=new Re,this._elementScrolled=new at(s=>this.ngZone.runOutsideAngular(()=>Xf(this.elementRef.nativeElement,"scroll").pipe(ws(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==n.left&&(n.left=i?n.end:n.start),null==n.right&&(n.right=i?n.start:n.end),null!=n.bottom&&(n.top=r.scrollHeight-r.clientHeight-n.bottom),i&&0!=Kf()?(null!=n.left&&(n.right=r.scrollWidth-r.clientWidth-n.left),2==Kf()?n.left=n.right:1==Kf()&&(n.left=n.right?-n.right:n.right)):null!=n.right&&(n.left=r.scrollWidth-r.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){const r=this.elementRef.nativeElement;!function F6(){if(null==bl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return bl=!1,bl;if("scrollBehavior"in document.documentElement.style)bl=!0;else{const e=Element.prototype.scrollTo;bl=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return bl}()?(null!=n.top&&(r.scrollTop=n.top),null!=n.left&&(r.scrollLeft=n.left)):r.scrollTo(n)}measureScrollOffset(n){const r="left",i="right",o=this.elementRef.nativeElement;if("top"==n)return o.scrollTop;if("bottom"==n)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==n?n=s?i:r:"end"==n&&(n=s?r:i),s&&2==Kf()?n==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==Kf()?n==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:n==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(fo),Qe(dN),Qe(vn),Qe(lN,8))};static#t=this.\u0275dir=ao({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return e})(),Y6=(()=>{class e{constructor(n,r,i){this._platform=n,this._change=new Re,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(n.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+i,right:n.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,r=this._getWindow(),i=n.documentElement,o=i.getBoundingClientRect();return{top:-o.top||n.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||n.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(aN(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||e)(nt(Bs),nt(vn),nt(Mr,8))};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ea({type:e});static#n=this.\u0275inj=Ct({})}return e})();function Qf(e){return e<=0?()=>oi:Ye((t,n)=>{let r=0;t.subscribe(et(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function hN(e){return za((t,n)=>e<=n)}const{isArray:t8}=Array,{getPrototypeOf:n8,prototype:r8,keys:i8}=Object;function pN(e){if(1===e.length){const t=e[0];if(t8(t))return{args:t,keys:null};if(function o8(e){return e&&"object"==typeof e&&n8(e)===r8}(t)){const n=i8(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function gN(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function mN(e,t,n){e?Yr(n,e,t):t()}function ZI(...e){return function c8(){return zo(1)}()(pe(e,h(e)))}function vN(e,t=VI){return Ye((n,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=o;o=null,r.next(l)}};function c(){const l=s+e,u=t.now();if(u<l)return i=this.schedule(void 0,l-u),void r.add(i);a()}n.subscribe(et(r,l=>{o=l,s=t.now(),i||(i=t.schedule(c,e),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function WI(...e){const t=h(e);return Ye((n,r)=>{(t?ZI(e,n,t):ZI(e,n)).subscribe(r)})}const yN=new Set;let Il,l8=(()=>{class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):d8}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function u8(e,t){if(!yN.has(e))try{Il||(Il=document.createElement("style"),t&&(Il.nonce=t),Il.setAttribute("type","text/css"),document.head.appendChild(Il)),Il.sheet&&(Il.sheet.insertRule(`@media ${e} {body{ }}`,0),yN.add(e))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static#e=this.\u0275fac=function(r){return new(r||e)(nt(Bs),nt(xv,8))};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function d8(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let f8=(()=>{class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new Re}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return bN(B1(n)).some(i=>this._registerQuery(i).mql.matches)}observe(n){let o=function s8(...e){const t=h(e),n=f(e),{args:r,keys:i}=pN(e);if(0===r.length)return pe([],t);const o=new at(function a8(e,t,n=J){return r=>{mN(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)mN(t,()=>{const l=pe(e[c],t);let u=!1;l.subscribe(et(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>gN(i,s):J));return n?o.pipe(FI(n)):o}(bN(B1(n)).map(s=>this._registerQuery(s).observable));return o=ZI(o.pipe(Qf(1)),o.pipe(hN(1),vN(0))),o.pipe(pt(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const r=this._mediaMatcher.matchMedia(n),o={observable:new at(s=>{const a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(WI(r),pt(({matches:s})=>({query:n,matches:s})),ws(this._destroySubject)),mql:r};return this._queries.set(n,o),o}static#e=this.\u0275fac=function(r){return new(r||e)(nt(l8),nt(vn))};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bN(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}let CN=(()=>{class e{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return function m8(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(n)&&"visible"===getComputedStyle(n).visibility}isTabbable(n){if(!this._platform.isBrowser)return!1;const r=function g8(e){try{return e.frameElement}catch{return null}}(function A8(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(n));if(r&&(-1===AN(r)||!this.isVisible(r)))return!1;let i=n.nodeName.toLowerCase(),o=AN(n);return n.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function C8(e){let t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(n))&&("audio"===i?!!n.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||n.hasAttribute("controls")):n.tabIndex>=0)}isFocusable(n,r){return function _8(e){return!function y8(e){return function I8(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function v8(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function b8(e){return function w8(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||_N(e))}(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}static#e=this.\u0275fac=function(r){return new(r||e)(nt(Bs))};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _N(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function AN(e){if(!_N(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class D8{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,n,r,i,o=!1){this._element=t,this._checker=n,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,n=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const n=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){const r=this._getFirstTabbableElement(n);return r?.focus(t),!!r}return n.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const n=this._getRegionBoundary("start");return n&&n.focus(t),!!n}focusLastTabbableElement(t){const n=this._getRegionBoundary("end");return n&&n.focus(t),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const n=t.children;for(let r=0;r<n.length;r++){const i=n[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[r]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const n=t.children;for(let r=n.length-1;r>=0;r--){const i=n[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[r]):null;if(i)return i}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,n){t?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Qf(1)).subscribe(t)}}let E8=(()=>{class e{constructor(n,r,i){this._checker=n,this._ngZone=r,this._document=i}create(n,r=!1){return new D8(n,this._checker,this._ngZone,this._document,r)}static#e=this.\u0275fac=function(r){return new(r||e)(nt(CN),nt(vn),nt(Mr))};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function DN(e){return 0===e.buttons||0===e.detail}function EN(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const x8=new tt("cdk-input-modality-detector-options"),M8={ignoreKeys:[18,17,224,91,16]},nd=cm({passive:!0,capture:!0});let T8=(()=>{class e{get mostRecentModality(){return this._modality.value}constructor(n,r,i,o){this._platform=n,this._mostRecentTarget=null,this._modality=new Ft(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=td(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(DN(s)?"keyboard":"mouse"),this._mostRecentTarget=td(s))},this._onTouchstart=s=>{EN(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=td(s))},this._options={...M8,...o},this.modalityDetected=this._modality.pipe(hN(1)),this.modalityChanged=this.modalityDetected.pipe(xi()),n.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,nd),i.addEventListener("mousedown",this._onMousedown,nd),i.addEventListener("touchstart",this._onTouchstart,nd)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,nd),document.removeEventListener("mousedown",this._onMousedown,nd),document.removeEventListener("touchstart",this._onTouchstart,nd))}static#e=this.\u0275fac=function(r){return new(r||e)(nt(Bs),nt(vn),nt(Mr),nt(x8,8))};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const N8=new tt("cdk-focus-monitor-default-options"),um=cm({passive:!0,capture:!0});let MN=(()=>{class e{constructor(n,r,i,o,s){this._ngZone=n,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Re,this._rootNodeFocusAndBlurListener=a=>{for(let l=td(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(n,r=!1){const i=Ku(n);if(!this._platform.isBrowser||1!==i.nodeType)return Yt();const o=function j6(e){if(function B6(){if(null==UI){const e=typeof document<"u"?document.head:null;UI=!(!e||!e.createShadowRoot&&!e.attachShadow)}return UI}()){const t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;const a={checkChildren:r,subject:new Re,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(n){const r=Ku(n),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(n,r,i){const o=Ku(n);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return 1===this._detectionMode||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused","touch"===r),n.classList.toggle("cdk-keyboard-focused","keyboard"===r),n.classList.toggle("cdk-mouse-focused","mouse"===r),n.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,r){const i=this._elementInfo.get(r),o=td(n);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(n,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const r=n.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,um),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,um)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ws(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(n){const r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,um),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,um),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,i){this._setClasses(n,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){const r=[];return this._elementInfo.forEach((i,o)=>{(o===n||i.checkChildren&&o.contains(n))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(n){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===n||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName||n.disabled)return!1;const o=n.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||e)(nt(vn),nt(Bs),nt(T8),nt(Mr,8),nt(N8,8))};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const TN="cdk-high-contrast-black-on-white",SN="cdk-high-contrast-white-on-black",YI="cdk-high-contrast-active";let k8=(()=>{class e{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=an(f8).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(n):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(n.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(YI,TN,SN),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?n.add(YI,TN):2===r&&n.add(YI,SN)}}static#e=this.\u0275fac=function(r){return new(r||e)(nt(Bs),nt(Mr))};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const O8=new tt("mat-sanity-checks",{providedIn:"root",factory:function P8(){return!0}});let Cc=(()=>{class e{constructor(n,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!function z6(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}static#e=this.\u0275fac=function(r){return new(r||e)(nt(k8),nt(O8,8),nt(Mr))};static#t=this.\u0275mod=Ea({type:e});static#n=this.\u0275inj=Ct({imports:[uN,uN]})}return e})();function R8(e,t){return class extends e{get color(){return this._color}set color(n){const r=n||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...n){super(...n),this.defaultColor=t,this.color=t}}}class F8{constructor(t,n,r,i=!1){this._renderer=t,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const PN=cm({passive:!0,capture:!0});class B8{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const n=td(t);n&&this._events.get(t.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(o=>o.handleEvent(t))})}}addHandler(t,n,r,i){const o=this._events.get(n);if(o){const s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,PN)})}removeHandler(t,n,r){const i=this._events.get(t);if(!i)return;const o=i.get(n);o&&(o.delete(r),0===o.size&&i.delete(n),0===i.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,PN)))}}const ON={enterDuration:225,exitDuration:150},RN=cm({passive:!0,capture:!0}),LN=["mousedown","touchstart"],FN=["mouseup","mouseleave","touchend","touchcancel"];class dm{static#e=this._eventManager=new B8;constructor(t,n,r,i){this._target=t,this._ngZone=n,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Ku(r))}fadeInRipple(t,n,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...ON,...r.animation};r.centered&&(t=i.left+i.width/2,n=i.top+i.height/2);const s=r.radius||function z8(e,t,n){const r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),i=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+i*i)}(t,n,i),a=t-i.left,c=n-i.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=c-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),g=d.transitionDuration,v="none"===d.transitionProperty||"0s"===g||"0s, 0s"===g||0===i.width&&0===i.height,w=new F8(this,u,r,v);u.style.transform="scale3d(1, 1, 1)",w.state=0,r.persistent||(this._mostRecentTransientRipple=w);let E=null;return!v&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const N=()=>this._finishRippleTransition(w),P=()=>this._destroyRipple(w);u.addEventListener("transitionend",N),u.addEventListener("transitioncancel",P),E={onTransitionEnd:N,onTransitionCancel:P}}),this._activeRipples.set(w,E),(v||!l)&&this._finishRippleTransition(w),w}fadeOutRipple(t){if(2===t.state||3===t.state)return;const n=t.element,r={...ON,...t.config.animation};n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const n=Ku(t);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,LN.forEach(r=>{dm._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{FN.forEach(n=>{this._triggerElement.addEventListener(n,this,RN)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const n=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!n||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const n=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==n&&(t.element.removeEventListener("transitionend",n.onTransitionEnd),t.element.removeEventListener("transitioncancel",n.onTransitionCancel)),t.element.remove()}_onMousedown(t){const n=DN(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!EN(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=t.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(LN.forEach(n=>dm._eventManager.removeHandler(n,t,this)),this._pointerUpEventsRegistered&&FN.forEach(n=>t.removeEventListener(n,this,RN)))}}const BN=new tt("mat-ripple-global-options");let V8=(()=>{class e{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,r,i,o,s){this._elementRef=n,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new dm(this,r,n,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,i){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...n})}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(fo),Qe(vn),Qe(Bs),Qe(BN,8),Qe(eu,8))};static#t=this.\u0275dir=ao({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){2&r&&sa("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return e})(),G8=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ea({type:e});static#n=this.\u0275inj=Ct({imports:[Cc,Cc]})}return e})();const jN={capture:!0},zN=["focus","click","mouseenter","touchstart"],XI="mat-ripple-loader-uninitialized",$I="mat-ripple-loader-class-name",VN="mat-ripple-loader-centered",fm="mat-ripple-loader-disabled";let U8=(()=>{class e{constructor(){this._document=an(Mr,{optional:!0}),this._animationMode=an(eu,{optional:!0}),this._globalRippleOptions=an(BN,{optional:!0}),this._platform=an(Bs),this._ngZone=an(vn),this._hosts=new Map,this._onInteraction=n=>{if(!(n.target instanceof HTMLElement))return;const i=n.target.closest(`[${XI}]`);i&&this._createRipple(i)},this._ngZone.runOutsideAngular(()=>{for(const n of zN)this._document?.addEventListener(n,this._onInteraction,jN)})}ngOnDestroy(){const n=this._hosts.keys();for(const r of n)this.destroyRipple(r);for(const r of zN)this._document?.removeEventListener(r,this._onInteraction,jN)}configureRipple(n,r){n.setAttribute(XI,""),(r.className||!n.hasAttribute($I))&&n.setAttribute($I,r.className||""),r.centered&&n.setAttribute(VN,""),r.disabled&&n.setAttribute(fm,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,r){const i=this._hosts.get(n);i?i.disabled=r:r?n.setAttribute(fm,""):n.removeAttribute(fm)}_createRipple(n){if(!this._document)return;const r=this._hosts.get(n);if(r)return r;n.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",n.getAttribute($I)),n.append(i);const o=new V8(new fo(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=n,o.centered=n.hasAttribute(VN),o.disabled=n.hasAttribute(fm),this.attachRipple(n,o),o}attachRipple(n,r){n.removeAttribute(XI),this._hosts.set(n,r)}destroyRipple(n){const r=this._hosts.get(n);r&&(r.ngOnDestroy(),this._hosts.delete(n))}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function GN(e){return pt(()=>e)}const Va="*";function H8(e,t){return{type:7,name:e,definitions:t,options:{}}}function UN(e,t=null){return{type:4,styles:t,timings:e}}function hm(e){return{type:6,styles:e,offset:null}}function HN(e,t,n){return{type:0,name:e,styles:t,options:n}}function ZN(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}class th{constructor(t=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class WN{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let n=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const n=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}const YN=["*"],$8=["content"];function q8(e,t){if(1&e){const n=df();ho(0,"div",1),el("click",function(){return bd(n),Id(tl()._onBackdropClicked())}),$o()}2&e&&sa("mat-drawer-shown",tl()._isShowingBackdrop())}function J8(e,t){1&e&&(ho(0,"mat-drawer-content"),ks(1,2),$o())}const K8=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Q8=["mat-drawer","mat-drawer-content","*"],eX={transformDrawer:H8("transform",[HN("open, open-instant",hm({transform:"none",visibility:"visible"})),HN("void",hm({"box-shadow":"none",visibility:"hidden"})),ZN("void => open-instant",UN("0ms")),ZN("void <=> open, open-instant => void",UN("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},tX=new tt("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function nX(){return!1}}),XN=new tt("MAT_DRAWER_CONTAINER");let JI=(()=>{class e extends HI{constructor(n,r,i,o,s){super(i,o,s),this._changeDetectorRef=n,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(Yd),Qe(yi(()=>qN)),Qe(fo),Qe(dN),Qe(vn))};static#t=this.\u0275cmp=Da({type:e,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(r,i){2&r&&Ty("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[fb([{provide:HI,useExisting:e}]),$d],ngContentSelectors:YN,decls:1,vars:0,template:function(r,i){1&r&&(nl(),ks(0))},encapsulation:2,changeDetection:0})}return e})(),$N=(()=>{class e{get position(){return this._position}set position(n){(n="end"===n?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(n),this._position=n,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(n){this._mode=n,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(n){this._disableClose=wc(n)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(n){("true"===n||"false"===n||null==n)&&(n=wc(n)),this._autoFocus=n}get opened(){return this._opened}set opened(n){this.toggle(wc(n))}constructor(n,r,i,o,s,a,c,l){this._elementRef=n,this._focusTrapFactory=r,this._focusMonitor=i,this._platform=o,this._ngZone=s,this._interactivityChecker=a,this._doc=c,this._container=l,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Re,this._animationEnd=new Re,this._animationState="void",this.openedChange=new No(!0),this._openedStream=this.openedChange.pipe(za(u=>u),pt(()=>{})),this.openedStart=this._animationStarted.pipe(za(u=>u.fromState!==u.toState&&0===u.toState.indexOf("open")),GN(void 0)),this._closedStream=this.openedChange.pipe(za(u=>!u),pt(()=>{})),this.closedStart=this._animationStarted.pipe(za(u=>u.fromState!==u.toState&&"void"===u.toState),GN(void 0)),this._destroyed=new Re,this.onPositionChanged=new No,this._modeChanged=new Re,this.openedChange.subscribe(u=>{u?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Xf(this._elementRef.nativeElement,"keydown").pipe(za(u=>27===u.keyCode&&!this.disableClose&&!function e8(e,...t){return t.length?t.some(n=>e[n]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}(u)),ws(this._destroyed)).subscribe(u=>this._ngZone.run(()=>{this.close(),u.stopPropagation(),u.preventDefault()}))}),this._animationEnd.pipe(xi((u,d)=>u.fromState===d.fromState&&u.toState===d.toState)).subscribe(u=>{const{fromState:d,toState:p}=u;(0===p.indexOf("open")&&"void"===d||"void"===p&&0===d.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(n,r){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{n.removeEventListener("blur",i),n.removeEventListener("mousedown",i),n.removeAttribute("tabindex")};n.addEventListener("blur",i),n.addEventListener("mousedown",i)})),n.focus(r)}_focusByCssSelector(n,r){let i=this._elementRef.nativeElement.querySelector(n);i&&this._forceFocus(i,r)}_takeFocus(){if(!this._focusTrap)return;const n=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{!r&&"function"==typeof this._elementRef.nativeElement.focus&&n.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(n){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,n):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const n=this._doc.activeElement;return!!n&&this._elementRef.nativeElement.contains(n)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(n){return this.toggle(!0,n)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(n=!this.opened,r){n&&r&&(this._openedVia=r);const i=this._setOpen(n,!n&&this._isFocusWithinDrawer(),this._openedVia||"program");return n||(this._openedVia=null),i}_setOpen(n,r,i){return this._opened=n,n?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(i)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Qf(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(n){const r=this._elementRef.nativeElement,i=r.parentNode;"end"===n?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),i.insertBefore(this._anchor,r)),i.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(fo),Qe(E8),Qe(MN),Qe(Bs),Qe(vn),Qe(CN),Qe(Mr,8),Qe(XN,8))};static#t=this.\u0275cmp=Da({type:e,selectors:[["mat-drawer"]],viewQuery:function(r,i){if(1&r&&bf($8,5),2&r){let o;il(o=ol())&&(i._content=o.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(r,i){1&r&&rb("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&r&&(Kd("align",null),Qy("@transform",i._animationState),sa("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:YN,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(r,i){1&r&&(nl(),ho(0,"div",0,1),ks(2),$o())},dependencies:[HI],encapsulation:2,data:{animation:[eX.transformDrawer]},changeDetection:0})}return e})(),qN=(()=>{class e{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(n){this._autosize=wc(n)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(n){this._backdropOverride=null==n?null:wc(n)}get scrollable(){return this._userContent||this._content}constructor(n,r,i,o,s,a=!1,c){this._dir=n,this._element=r,this._ngZone=i,this._changeDetectorRef=o,this._animationMode=c,this._drawers=new Gp,this.backdropClick=new No,this._destroyed=new Re,this._doCheckSubject=new Re,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Re,n&&n.change.pipe(ws(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(ws(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}ngAfterContentInit(){this._allDrawers.changes.pipe(WI(this._allDrawers),ws(this._destroyed)).subscribe(n=>{this._drawers.reset(n.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(WI(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(n=>{this._watchDrawerToggle(n),this._watchDrawerPosition(n),this._watchDrawerMode(n)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(vN(10),ws(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(n=>n.open())}close(){this._drawers.forEach(n=>n.close())}updateContentMargins(){let n=0,r=0;if(this._left&&this._left.opened)if("side"==this._left.mode)n+=this._left._getWidth();else if("push"==this._left.mode){const i=this._left._getWidth();n+=i,r-=i}if(this._right&&this._right.opened)if("side"==this._right.mode)r+=this._right._getWidth();else if("push"==this._right.mode){const i=this._right._getWidth();r+=i,n-=i}n=n||null,r=r||null,(n!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:n,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(n){n._animationStarted.pipe(za(r=>r.fromState!==r.toState),ws(this._drawers.changes)).subscribe(r=>{"open-instant"!==r.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==n.mode&&n.openedChange.pipe(ws(this._drawers.changes)).subscribe(()=>this._setContainerClass(n.opened))}_watchDrawerPosition(n){n&&n.onPositionChanged.pipe(ws(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Qf(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(n){n&&n._modeChanged.pipe(ws(Be(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(n){const r=this._element.nativeElement.classList,i="mat-drawer-container-has-open";n?r.add(i):r.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(n=>{"end"==n.position?this._end=n:this._start=n}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(n=>n&&!n.disableClose&&this._drawerHasBackdrop(n)).forEach(n=>n._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(n){return null!=n&&n.opened}_drawerHasBackdrop(n){return null==this._backdropOverride?!!n&&"side"!==n.mode:this._backdropOverride}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(lN,8),Qe(fo),Qe(vn),Qe(Yd),Qe(Y6),Qe(tX),Qe(eu,8))};static#t=this.\u0275cmp=Da({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(r,i,o){if(1&r&&(wb(o,JI,5),wb(o,$N,5)),2&r){let s;il(s=ol())&&(i._content=s.first),il(s=ol())&&(i._allDrawers=s)}},viewQuery:function(r,i){if(1&r&&bf(JI,5),2&r){let o;il(o=ol())&&(i._userContent=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(r,i){2&r&&sa("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[fb([{provide:XN,useExisting:e}])],ngContentSelectors:Q8,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,i){1&r&&(nl(K8),ua(0,q8,1,2,"div",0),ks(1),ks(2,1),ua(3,J8,2,0,"mat-drawer-content")),2&r&&(Mp(0,i.hasBackdrop?0:-1),lu(3),Mp(3,i._content?-1:3))},dependencies:[JI],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return e})(),rX=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ea({type:e});static#n=this.\u0275inj=Ct({imports:[Cc,fN,fN,Cc]})}return e})();const iX=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],oX=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],sX=["mat-fab",""],aX=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let cX=(()=>{class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}constructor(n,r,i,o){this._elementRef=n,this._platform=r,this._ngZone=i,this._animationMode=o,this._focusMonitor=an(MN),this._rippleLoader=an(U8),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=this._elementRef.nativeElement,a=s.classList;for(const{attribute:c,mdcClasses:l}of aX)s.hasAttribute(c)&&a.add(...l)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",r){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,r):this._elementRef.nativeElement.focus(r)}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(r){!function TA(){throw new Error("invalid")}()};static#t=this.\u0275dir=ao({type:e,inputs:{color:"color",disableRipple:["disableRipple","disableRipple",Vb],disabled:["disabled","disabled",Vb]},features:[qd]})}return e})();const lX=new tt("mat-mdc-fab-default-options",{providedIn:"root",factory:JN});function JN(){return{color:"accent"}}const KN=JN();let QN=(()=>{class e extends cX{constructor(n,r,i,o,s){super(n,r,i,o),this._options=s,this._isFab=!0,this._options=this._options||KN,this.color=this._options.color||KN.color}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(fo),Qe(Bs),Qe(vn),Qe(eu,8),Qe(lX,8))};static#t=this.\u0275cmp=Da({type:e,selectors:[["button","mat-fab",""]],hostVars:13,hostBindings:function(r,i){2&r&&(Kd("disabled",i.disabled||null),AD(i.color?"mat-"+i.color:""),sa("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0)("mdc-fab--extended",i.extended)("mat-mdc-extended-fab",i.extended))},inputs:{extended:["extended","extended",Vb]},exportAs:["matButton"],features:[qd,$d],attrs:sX,ngContentSelectors:oX,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(nl(iX),Tu(0,"span",0),ks(1),ho(2,"span",1),ks(3,1),$o(),ks(4,2),Tu(5,"span",2)(6,"span",3)),2&r&&sa("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab:hover{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab.mdc-ripple-upgraded--background-focused,.mdc-fab:not(.mdc-ripple-upgraded):focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-button-font-family);font-size:var(--mdc-typography-button-font-size);line-height:var(--mdc-typography-button-line-height);font-weight:var(--mdc-typography-button-font-weight);letter-spacing:var(--mdc-typography-button-letter-spacing);text-decoration:var(--mdc-typography-button-text-decoration);text-transform:var(--mdc-typography-button-text-transform);border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab,.mat-mdc-mini-fab{background-color:var(--mdc-fab-container-color)}.mat-mdc-fab .mdc-fab__icon,.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-extended-fab{font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);flex-shrink:0;color:var(--mat-fab-foreground-color, inherit)}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return e})(),ek=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ea({type:e});static#n=this.\u0275inj=Ct({imports:[Cc,G8,Cc]})}return e})();function KI(e,t,n){const r=Fe(e)||t||n?{next:e,error:t,complete:n}:e;return r?Ye((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(et(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):J}function tk(e){return Ye((t,n)=>{let o,r=null,i=!1;r=t.subscribe(et(n,void 0,void 0,s=>{o=ii(e(s,tk(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}class QI{}class Ga{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ga?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new Ga;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ga?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=t.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class pX{encodeKey(t){return nk(t)}encodeValue(t){return nk(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const mX=/%(\d[a-f0-9])/gi,vX={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nk(e){return encodeURIComponent(e).replace(mX,(t,n)=>vX[n]??t)}function pm(e){return`${e}`}class _c{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new pX,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function gX(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],i=Array.isArray(r)?r.map(pm):[pm(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new _c({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(pm(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(pm(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class yX{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function rk(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function ik(e){return typeof Blob<"u"&&e instanceof Blob}function ok(e){return typeof FormData<"u"&&e instanceof FormData}class nh{constructor(t,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function bX(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new Ga),this.context||(this.context=new yX),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new _c,this.urlWithParams=n}serializeBody(){return null===this.body?null:rk(this.body)||ik(this.body)||ok(this.body)||function IX(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _c?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ok(this.body)?null:ik(this.body)?this.body.type||null:rk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _c?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,l=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((d,p)=>d.set(p,t.setHeaders[p]),c)),t.setParams&&(l=Object.keys(t.setParams).reduce((d,p)=>d.set(p,t.setParams[p]),l)),new nh(n,r,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}}var tw=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(tw||{});class wX{constructor(t,n=200,r="OK"){this.headers=t.headers||new Ga,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class rh extends wX{constructor(t={}){super(t),this.type=tw.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new rh({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function nw(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let rw=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof nh)o=n;else{let c,l;c=i.headers instanceof Ga?i.headers:new Ga(i.headers),i.params&&(l=i.params instanceof _c?i.params:new _c({fromObject:i.params})),o=new nh(n,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const s=Yt(o).pipe(function hX(e,t){return Fe(t)?os(e,t,1):os(e,1)}(c=>this.handler.handle(c)));if(n instanceof nh||"events"===i.observe)return s;const a=s.pipe(za(c=>c instanceof rh));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(pt(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(pt(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(pt(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(pt(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new _c).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,nw(i,r))}post(n,r,i={}){return this.request("POST",n,nw(i,r))}put(n,r,i={}){return this.request("PUT",n,nw(i,r))}static#e=this.\u0275fac=function(r){return new(r||e)(nt(QI))};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac})}return e})();class UX extends C9{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class sw extends UX{static makeCurrent(){!function w9(e){bI||(bI=e)}(new sw)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function HX(){return ih=ih||document.querySelector("base"),ih?ih.getAttribute("href"):null}();return null==n?null:function ZX(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){ih=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function cY(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let ih=null,YX=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac})}return e})();const aw=new tt("EventManagerPlugins");let Ik=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new ke(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(nt(aw),nt(vn))};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac})}return e})();class wk{constructor(t){this._doc=t}}const cw="ng-app-id";let Ck=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=tN(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${cw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(cw),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(cw,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(nt(Mr),nt(Ev),nt(xv,8),nt(Zc))};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac})}return e})();const lw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},uw=/%COMP%/g,JX=new tt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function Ak(e,t){return t.map(n=>n.replace(uw,e))}let dw=(()=>{class e{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=tN(a),this.defaultRenderer=new fw(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ds.ShadowDom&&(r={...r,encapsulation:Ds.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof Ek?i.applyToHost(n):i instanceof hw&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ds.Emulated:o=new Ek(c,l,r,this.appId,u,s,a,d);break;case Ds.ShadowDom:return new t$(c,l,n,r,s,a,this.nonce,d);default:o=new hw(c,l,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(nt(Ik),nt(Ck),nt(Ev),nt(JX),nt(Mr),nt(Zc),nt(vn),nt(xv))};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac})}return e})();class fw{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(lw[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Dk(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Dk(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new ke(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=lw[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=lw[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(uc.DashCase|uc.Important)?t.style.setProperty(n,r,i&uc.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&uc.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=II().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function Dk(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class t$ extends fw{constructor(t,n,r,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ak(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class hw extends fw{constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Ak(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ek extends hw{constructor(t,n,r,i,o,s,a,c){const l=i+"-"+r.id;super(t,n,r,o,s,a,c,l),this.contentAttr=function KX(e){return"_ngcontent-%COMP%".replace(uw,e)}(l),this.hostAttr=function QX(e){return"_nghost-%COMP%".replace(uw,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let n$=(()=>{class e extends wk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(nt(Mr))};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac})}return e})();const xk=["alt","control","meta","shift"],r$={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},i$={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let o$=(()=>{class e extends wk{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>II().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),xk.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=r$[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),xk.forEach(s=>{s!==i&&(0,i$[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(nt(Mr))};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac})}return e})();function Mk(e){return{appProviders:[...f$,...e?.providers??[]],platformProviders:u$}}const u$=[{provide:Zc,useValue:eN},{provide:f_,useValue:function a$(){sw.makeCurrent()},multi:!0},{provide:Mr,useFactory:function l$(){return function AR(e){Dv=e}(document),document},deps:[]}],f$=[{provide:bv,useValue:"root"},{provide:ss,useFactory:function c$(){return new ss},deps:[]},{provide:aw,useClass:n$,multi:!0,deps:[Mr,vn,Zc]},{provide:aw,useClass:o$,multi:!0,deps:[Mr]},dw,Ck,Ik,{provide:iy,useExisting:dw},{provide:class HY{},useClass:YX,deps:[]},[]];typeof window<"u"&&window;let gw=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Me({token:e,factory:function(r){let i=null;return i=r?new(r||e):nt(Nk),i},providedIn:"root"})}return e})(),Nk=(()=>{class e extends gw{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case Ni.NONE:return r;case Ni.HTML:return ra(r,"HTML")?Yo(r):rA(this._doc,String(r)).toString();case Ni.STYLE:return ra(r,"Style")?Yo(r):r;case Ni.SCRIPT:if(ra(r,"Script"))return Yo(r);throw new ke(5200,!1);case Ni.URL:return ra(r,"URL")?Yo(r):rp(String(r));case Ni.RESOURCE_URL:if(ra(r,"ResourceURL"))return Yo(r);throw new ke(5201,!1);default:throw new ke(5202,!1)}}bypassSecurityTrustHtml(n){return function I2(e){return new p2(e)}(n)}bypassSecurityTrustStyle(n){return function w2(e){return new g2(e)}(n)}bypassSecurityTrustScript(n){return function C2(e){return new m2(e)}(n)}bypassSecurityTrustUrl(n){return function _2(e){return new v2(e)}(n)}bypassSecurityTrustResourceUrl(n){return function A2(e){return new y2(e)}(n)}static#e=this.\u0275fac=function(r){return new(r||e)(nt(Mr))};static#t=this.\u0275prov=Me({token:e,factory:function(r){let i=null;return i=r?new r:function y$(e){return new Nk(e.get(Mr))}(nt(To)),i},providedIn:"root"})}return e})();const b$=["*"];let vm;function oh(e){return function I$(){if(void 0===vm&&(vm=null,typeof window<"u")){const e=window;void 0!==e.trustedTypes&&(vm=e.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return vm}()?.createHTML(e)||e}function Pk(e){return Error(`Unable to find icon with the name "${e}"`)}function Ok(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function Rk(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class Cl{constructor(t,n,r){this.url=t,this.svgText=n,this.options=r}}let ym=(()=>{class e{constructor(n,r,i,o){this._httpClient=n,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(n,r,i){return this.addSvgIconInNamespace("",n,r,i)}addSvgIconLiteral(n,r,i){return this.addSvgIconLiteralInNamespace("",n,r,i)}addSvgIconInNamespace(n,r,i,o){return this._addSvgIconConfig(n,r,new Cl(i,null,o))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,r,i,o){const s=this._sanitizer.sanitize(Ni.HTML,i);if(!s)throw Rk(i);const a=oh(s);return this._addSvgIconConfig(n,r,new Cl("",a,o))}addSvgIconSet(n,r){return this.addSvgIconSetInNamespace("",n,r)}addSvgIconSetLiteral(n,r){return this.addSvgIconSetLiteralInNamespace("",n,r)}addSvgIconSetInNamespace(n,r,i){return this._addSvgIconSetConfig(n,new Cl(r,null,i))}addSvgIconSetLiteralInNamespace(n,r,i){const o=this._sanitizer.sanitize(Ni.HTML,r);if(!o)throw Rk(r);const s=oh(o);return this._addSvgIconSetConfig(n,new Cl("",s,i))}registerFontClassAlias(n,r=n){return this._fontCssClassesByAlias.set(n,r),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){const r=this._sanitizer.sanitize(Ni.RESOURCE_URL,n);if(!r)throw Ok(n);const i=this._cachedIconsByUrl.get(r);return i?Yt(bm(i)):this._loadSvgIconFromConfig(new Cl(n,null)).pipe(KI(o=>this._cachedIconsByUrl.set(r,o)),pt(o=>bm(o)))}getNamedSvgIcon(n,r=""){const i=Lk(r,n);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,n),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(n,s):function uX(e,t){const n=Fe(e)?e:()=>e,r=i=>i.error(n());return new at(t?i=>t.schedule(r,0,i):r)}(Pk(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?Yt(bm(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe(pt(r=>bm(r)))}_getSvgFromIconSetConfigs(n,r){const i=this._extractIconWithNameFromAnySet(n,r);return i?Yt(i):function dX(...e){const t=f(e),{args:n,keys:r}=pN(e),i=new at(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let d=!1;ii(n[u]).subscribe(et(o,p=>{d||(d=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?gN(r,a):a),o.complete())}))}});return t?i.pipe(FI(t)):i}(r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(tk(a=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(Ni.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),Yt(null)})))).pipe(pt(()=>{const s=this._extractIconWithNameFromAnySet(n,r);if(!s)throw Pk(n);return s}))}_extractIconWithNameFromAnySet(n,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(n)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,n,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(KI(r=>n.svgText=r),pt(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?Yt(null):this._fetchIcon(n).pipe(KI(r=>n.svgText=r))}_extractSvgIconFromSet(n,r,i){const o=n.querySelector(`[id="${r}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,i);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),i);const a=this._svgElementFromString(oh("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(n){const r=this._document.createElement("DIV");r.innerHTML=n;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(n){const r=this._svgElementFromString(oh("<svg></svg>")),i=n.attributes;for(let o=0;o<i.length;o++){const{name:s,value:a}=i[o];"id"!==s&&r.setAttribute(s,a)}for(let o=0;o<n.childNodes.length;o++)n.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(n.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(n,r){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),r&&r.viewBox&&n.setAttribute("viewBox",r.viewBox),n}_fetchIcon(n){const{url:r,options:i}=n,o=i?.withCredentials??!1;if(!this._httpClient)throw function w$(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const s=this._sanitizer.sanitize(Ni.RESOURCE_URL,r);if(!s)throw Ok(r);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(pt(l=>oh(l)),function fX(e){return Ye((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}(()=>this._inProgressUrlFetches.delete(s)),Gt());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(n,r,i){return this._svgIconConfigs.set(Lk(n,r),i),this}_addSvgIconSetConfig(n,r){const i=this._iconSetConfigs.get(n);return i?i.push(r):this._iconSetConfigs.set(n,[r]),this}_svgElementFromConfig(n){if(!n.svgElement){const r=this._svgElementFromString(n.svgText);this._setSvgAttributes(r,n.options),n.svgElement=r}return n.svgElement}_getIconConfigFromResolvers(n,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,n);if(o)return _$(o)?new Cl(o.url,null,o.options):new Cl(o,null)}}static#e=this.\u0275fac=function(r){return new(r||e)(nt(rw,8),nt(gw),nt(Mr,8),nt(ss))};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bm(e){return e.cloneNode(!0)}function Lk(e,t){return e+":"+t}function _$(e){return!(!e.url||!e.options)}const A$=R8(class{constructor(e){this._elementRef=e}}),D$=new tt("MAT_ICON_DEFAULT_OPTIONS"),E$=new tt("mat-icon-location",{providedIn:"root",factory:function x$(){const e=an(Mr),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Fk=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],M$=Fk.map(e=>`[${e}]`).join(", "),T$=/^url\(['"]?#(.*?)['"]?\)$/;let Bk=(()=>{class e extends A${get inline(){return this._inline}set inline(n){this._inline=wc(n)}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){const r=this._cleanupFontValue(n);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){const r=this._cleanupFontValue(n);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(n,r,i,o,s,a){super(n),this._iconRegistry=r,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ut.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),i||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];const r=n.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const n=this._elementsWithExternalReferences;if(n&&n.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){const n=this._elementRef.nativeElement;let r=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=n.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const n=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>n.classList.remove(i)),r.forEach(i=>n.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return"string"==typeof n?n.trim().split(" ")[0]:n}_prependPathToReferences(n){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${n}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(n){const r=n.querySelectorAll(M$),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)Fk.forEach(s=>{const a=r[o],c=a.getAttribute(s),l=c?c.match(T$):null;if(l){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:s,value:l[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){const[r,i]=this._splitIconName(n);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Qf(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}static#e=this.\u0275fac=function(r){return new(r||e)(Qe(fo),Qe(ym),function Oh(e){return function RO(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if($w(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(nr(),e)}("aria-hidden"),Qe(E$),Qe(ss),Qe(D$,8))};static#t=this.\u0275cmp=Da({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(r,i){2&r&&(Kd("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),sa("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[$d],ngContentSelectors:b$,decls:1,vars:0,template:function(r,i){1&r&&(nl(),ks(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return e})(),jk=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ea({type:e});static#n=this.\u0275inj=Ct({imports:[Cc,Cc]})}return e})();const S$=["editor"],N$=["toolbox"];function k$(e,t){1&e&&Tu(0,"div",null,7)}function P$(e,t){if(1&e){const n=df();ho(0,"button",8),el("click",function(){return bd(n),tl(),Id(ob(2).toggle())}),ho(1,"mat-icon"),Bp(2),$o()()}if(2&e){tl();const n=ob(2);lu(2),sb(n.opened?"close":"menu")}}let O$=(()=>{class e{set inputId(n){this._inputId.set(n)}set diagram(n){this._inputDiagram.set(n)}constructor(){this.allowEdit=!1,this.diagramChanged=new No,this._inputId=Vd(null),this._inputDiagram=Vd(null),this._diagram=Vd(null),this._jointJsPapers=Vd(null),this.jointJsNameSpace=(()=>{const e={...Zt};return yI(e,(new vI).defaults().type,vI),yI(e,(new Wg).defaults().type,Wg),yI(e,(new Zg).defaults().type,Zg),e})(),Iy(()=>{const n=this._inputDiagram(),r=this._jointJsPapers();if(!n||!r)return;const i=function Z5(e){const t=function H5(e){return decodeURIComponent(e).replace(/ /g,"%20").replace(/!/g,"%21").replace(/#/g,"%23").replace(/\$/g,"%24").replace(/%/g,"%25")}(e);return JSON.parse(t)}(n);try{r.paperEditor.model.fromJSON(i)}catch(o){console.error("error while decoding diagram",o,n),r.paperEditor.model.clear()}}),Iy(()=>{const n=this._diagram(),r=this._inputId();if(!r||!n)return void console.warn("inputId or diagram not set");const i=function W5(e){return function U5(e){return encodeURIComponent(e).replace(/%20/g," ").replace(/%21/g,"!").replace(/%23/g,"#").replace(/%24/g,"$").replace(/%25/g,"%")}(JSON.stringify(e))}(n);i!==this._inputDiagram()?this.diagramChanged.emit({inputId:r,diagram:i}):console.warn("diagram not changed")})}ngAfterViewInit(){const n=F1(this.editorRef.nativeElement,this.jointJsNameSpace,y9,!0);let r=null;this.toolBoxRef&&(r=F1(this.toolBoxRef.nativeElement,this.jointJsNameSpace,b9,!1)),this.subscribeToEvents(n,r),this._jointJsPapers.set({paperEditor:n,paperToolbox:r})}subscribeToEvents(n,r){n.model.on("change",()=>{this._diagram.set(n.model.toJSON())}),r?.on("element:pointerup",(i,o,s,a)=>{const c=i.model.clone();let l=Math.floor(481*Math.random())+20,u=Math.floor(481*Math.random())+20;c.position(l,u),n.model.addCell(c)}),n.on("cell:mouseenter",function(i){const o=new bH({tools:[new IH({padding:3,rotate:!0,useModelGeometry:!0}),new DH({scale:1.2,distance:15})]});i.addTools(o)}),n.on("element:pointerdblclick",function(i,o){if(i.model instanceof Wg){const a=i.model.userInput(o,n);null!=a&&n.model.addCell(a)}else if(!(i.model instanceof Zg))throw new Error("elementView.model is not instanceof UmlClass")}),n.on("cell:mouseleave",function(i){i.removeTools()})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Da({type:e,selectors:[["app-uml-editor"]],viewQuery:function(r,i){if(1&r&&(bf(S$,7),bf(N$,5)),2&r){let o;il(o=ol())&&(i.editorRef=o.first),il(o=ol())&&(i.toolBoxRef=o.first)}},inputs:{inputId:"inputId",allowEdit:["allowEdit","allowEdit",wc],diagram:"diagram"},outputs:{diagramChanged:"diagramChanged"},standalone:!0,features:[qd,jp],decls:7,vars:2,consts:[["autosize","",1,"uml-editor"],["mode","side",1,"uml-editor__menu"],["drawer",""],[4,"ngIf"],["type","button","mat-fab","","color","accent","class","uml-editor__toggle",3,"click",4,"ngIf"],[1,"uml-editor__canvas"],["editor",""],["toolbox",""],["type","button","mat-fab","","color","accent",1,"uml-editor__toggle",3,"click"]],template:function(r,i){1&r&&(ho(0,"mat-drawer-container",0)(1,"mat-drawer",1,2),ua(3,k$,2,0,"div",3),$o(),ua(4,P$,3,1,"button",4),Tu(5,"div",5,6),$o()),2&r&&(lu(3),Cp("ngIf",i.allowEdit),lu(1),Cp("ngIf",i.allowEdit))},dependencies:[q1,rX,$N,qN,ek,QN,jk,Bk],styles:["[_nghost-%COMP%]{display:block;height:100%;width:100%}[_nghost-%COMP%]   .uml-editor[_ngcontent-%COMP%]{height:100%;width:100%}[_nghost-%COMP%]   .uml-editor__toggle[_ngcontent-%COMP%]{position:absolute;top:16px;left:16px}[_nghost-%COMP%]   .uml-editor__menu[_ngcontent-%COMP%]{width:30%}"],changeDetection:0})}return e})();function R$(e,t){if(1&e){const n=df();ho(0,"button",2),el("click",function(){return bd(n),Id(tl().toggleFullscreen())}),ho(1,"mat-icon"),Bp(2,"fullscreen_exit"),$o()()}}function L$(e,t){if(1&e){const n=df();ho(0,"button",2),el("click",function(){return bd(n),Id(tl().toggleFullscreen())}),ho(1,"mat-icon"),Bp(2,"fullscreen"),$o()()}}const F$=["*"];let B$=(()=>{class e{set fullscreen(n){this._inFullScreen.set(n)}constructor(){this._inFullScreen=Vd(!1),this.inFullScreen=this._inFullScreen.asReadonly()}toggleFullscreen(){this._inFullScreen.set(!this._inFullScreen())}closeFullscreen(n){this._inFullScreen()&&(this._inFullScreen.set(!1),n.preventDefault())}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Da({type:e,selectors:[["app-fullscreen-view"]],hostVars:2,hostBindings:function(r,i){1&r&&el("keydown.escape",function(s){return i.closeFullscreen(s)},0,h_),2&r&&sa("--fullscreen",i.inFullScreen())},inputs:{fullscreen:["fullscreen","fullscreen",wc]},standalone:!0,features:[qd,jp],ngContentSelectors:F$,decls:4,vars:1,consts:[[1,"fullscreen-view__fab-section"],["type","button","mat-fab","","color","primary"],["type","button","mat-fab","","color","primary",3,"click"]],template:function(r,i){1&r&&(nl(),ho(0,"div",0),ua(1,R$,3,0,"button",1)(2,L$,3,0),$o(),ks(3)),2&r&&(lu(1),Mp(1,i.inFullScreen()?1:2))},dependencies:[ek,QN,jk,Bk],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;position:relative;overflow:hidden;background-color:#fff;border-radius:8px;border:1px solid rgba(0,0,0,.08)}.--fullscreen[_nghost-%COMP%]{width:100%!important;height:100%!important;position:fixed;top:0;left:0;z-index:9999}[_nghost-%COMP%]   .fullscreen-view__fab-section[_ngcontent-%COMP%]{position:absolute;bottom:16px;right:16px;z-index:9999}"],changeDetection:0})}return e})(),j$=(()=>{class e{constructor(){this.injector=an(To),Hb("fullscreen-view",B$,this.injector),Hb("uml-editor",O$,this.injector)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Da({type:e,selectors:[["uml-elements"]],standalone:!0,features:[jp],decls:0,vars:0,template:function(r,i){},encapsulation:2,changeDetection:0})}return e})();function zk(e){return new ke(3e3,!1)}function Ec(e){switch(e.length){case 0:return new th;case 1:return e[0];default:return new WN(e)}}function Vk(e,t,n=new Map,r=new Map){const i=[],o=[];let s=-1,a=null;if(t.forEach(c=>{const l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((p,g)=>{let v=g,w=p;if("offset"!==g)switch(v=e.normalizePropertyName(v,i),w){case"!":w=n.get(g);break;case Va:w=r.get(g);break;default:w=e.normalizeStyleValue(g,v,w,i)}d.set(v,w)}),u||o.push(d),a=d,s=l}),i.length)throw function cq(e){return new ke(3502,!1)}();return o}function mw(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&vw(n,"start",e)));break;case"done":e.onDone(()=>r(n&&vw(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&vw(n,"destroy",e)))}}function vw(e,t,n){const o=yw(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n.totalTime??e.totalTime,!!n.disabled),s=e._data;return null!=s&&(o._data=s),o}function yw(e,t,n,r,i="",o=0,s){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Qo(e,t,n){let r=e.get(t);return r||e.set(t,r=n),r}function Gk(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}const Iq=(()=>typeof document>"u"?null:document.documentElement)();function bw(e){const t=e.parentNode||e.host||null;return t===Iq?null:t}let _l=null,Uk=!1;function Hk(e,t){for(;t;){if(t===e)return!0;t=bw(t)}return!1}function Zk(e,t,n){if(n)return Array.from(e.querySelectorAll(t));const r=e.querySelector(t);return r?[r]:[]}let Iw=(()=>{class e{validateStyleProperty(n){return function Cq(e){_l||(_l=function _q(){return typeof document<"u"?document.body:null}()||{},Uk=!!_l.style&&"WebkitAppearance"in _l.style);let t=!0;return _l.style&&!function wq(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in _l.style,!t&&Uk&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in _l.style)),t}(n)}matchesElement(n,r){return!1}containsElement(n,r){return Hk(n,r)}getParentElement(n){return bw(n)}query(n,r,i){return Zk(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,o,s,a=[],c){return new th(i,o)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac})}return e})(),ww=(()=>{class e{static#e=this.NOOP=new Iw}return e})();class Cw{}const Dq=1e3,_w="ng-enter",Im="ng-leave",wm="ng-trigger",Cm=".ng-trigger",Yk="ng-animating",Aw=".ng-animating";function Ua(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Dw(parseFloat(t[1]),t[2])}function Dw(e,t){return"s"===t?e*Dq:e}function _m(e,t,n){return e.hasOwnProperty("duration")?e:function xq(e,t,n){let i,o=0,s="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(zk()),{duration:0,delay:0,easing:""};i=Dw(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=Dw(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else i=e;if(!n){let a=!1,c=t.length;i<0&&(t.push(function z$(){return new ke(3100,!1)}()),a=!0),o<0&&(t.push(function V$(){return new ke(3101,!1)}()),a=!0),a&&t.splice(c,0,zk())}return{duration:i,delay:o,easing:s}}(e,t,n)}function sh(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function Xk(e){const t=new Map;return Object.keys(e).forEach(n=>{t.set(n,e[n])}),t}function xc(e,t=new Map,n){if(n)for(let[r,i]of n)t.set(r,i);for(let[r,i]of e)t.set(r,i);return t}function ma(e,t,n){t.forEach((r,i)=>{const o=xw(i);n&&!n.has(i)&&n.set(i,e.style[o]),e.style[o]=r})}function Al(e,t){t.forEach((n,r)=>{const i=xw(r);e.style[i]=""})}function ah(e){return Array.isArray(e)?1==e.length?e[0]:function Z8(e,t=null){return{type:2,steps:e,options:t}}(e):e}const Ew=new RegExp("{{\\s*(.+?)\\s*}}","g");function qk(e){let t=[];if("string"==typeof e){let n;for(;n=Ew.exec(e);)t.push(n[1]);Ew.lastIndex=0}return t}function ch(e,t,n){const r=e.toString(),i=r.replace(Ew,(o,s)=>{let a=t[s];return null==a&&(n.push(function U$(e){return new ke(3003,!1)}()),a=""),a.toString()});return i==r?e:i}function Am(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const Sq=/-+([a-z0-9])/g;function xw(e){return e.replace(Sq,(...t)=>t[1].toUpperCase())}function es(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw function H$(e){return new ke(3004,!1)}()}}function Jk(e,t){return window.getComputedStyle(e)[t]}const Pq=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Kk extends Cw{normalizePropertyName(t,n){return xw(t)}normalizeStyleValue(t,n,r,i){let o="";const s=r.toString().trim();if(Pq.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Z$(e,t){return new ke(3005,!1)}())}return s+o}}const Dm="*";function Oq(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function Rq(e,t,n){if(":"==e[0]){const c=function Lq(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return t.push(function iq(e){return new ke(3016,!1)}()),"* => *"}}(e,n);if("function"==typeof c)return void t.push(c);e=c}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function rq(e){return new ke(3015,!1)}()),t;const i=r[1],o=r[2],s=r[3];t.push(Qk(i,s));"<"==o[0]&&!(i==Dm&&s==Dm)&&t.push(Qk(s,i))}(r,n,t)):n.push(e),n}const Em=new Set(["true","1"]),xm=new Set(["false","0"]);function Qk(e,t){const n=Em.has(e)||xm.has(e),r=Em.has(t)||xm.has(t);return(i,o)=>{let s=e==Dm||e==i,a=t==Dm||t==o;return!s&&n&&"boolean"==typeof i&&(s=i?Em.has(e):xm.has(e)),!a&&r&&"boolean"==typeof o&&(a=o?Em.has(t):xm.has(t)),s&&a}}const Fq=new RegExp("s*:selfs*,?","g");function Mw(e,t,n,r){return new Bq(e).build(t,n,r)}class Bq{constructor(t){this._driver=t}build(t,n,r){const i=new Vq(n);return this._resetContextStyleTimingState(i),es(this,ah(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,n){let r=n.queryCount=0,i=n.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&n.errors.push(function W$(){return new ke(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,n))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,s.push(c)}else n.errors.push(function Y$(){return new ke(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(t,n){const r=this.visitStyle(t.styles,n),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{qk(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&(Am(o.values()),n.errors.push(function X$(e,t){return new ke(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;const r=es(this,ah(t.animation),n);return{type:1,matchers:Oq(t.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Dl(t.options)}}visitSequence(t,n){return{type:2,steps:t.steps.map(r=>es(this,r,n)),options:Dl(t.options)}}visitGroup(t,n){const r=n.currentTime;let i=0;const o=t.steps.map(s=>{n.currentTime=r;const a=es(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:o,options:Dl(t.options)}}visitAnimate(t,n){const r=function Uq(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return Tw(_m(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Tw(0,0,"");return o.dynamic=!0,o.strValue=n,o}const i=_m(n,t);return Tw(i.duration,i.delay,i.easing)}(t.timings,n.errors);n.currentAnimateTimings=r;let i,o=t.styles?t.styles:hm({});if(5==o.type)i=this.visitKeyframes(o,n);else{let s=t.styles,a=!1;if(!s){a=!0;const l={};r.easing&&(l.easing=r.easing),s=hm(l)}n.currentTime+=r.duration+r.delay;const c=this.visitStyle(s,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,n){const r=this._makeStyleAst(t,n);return this._validateStyleAst(r,n),r}_makeStyleAst(t,n){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)"string"==typeof a?a===Va?r.push(a):n.errors.push(new ke(3002,!1)):r.push(Xk(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,n){const r=n.currentAnimateTimings;let i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=n.collectedStyles.get(n.currentQuerySelector),u=l.get(c);let d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(n.errors.push(function q$(e,t,n,r,i){return new ke(3010,!1)}()),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),n.options&&function Tq(e,t,n){const r=t.params||{},i=qk(e);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(function G$(e){return new ke(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(t,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function J$(){return new ke(3011,!1)}()),r;let o=0;const s=[];let a=!1,c=!1,l=0;const u=t.steps.map(N=>{const P=this._makeStyleAst(N,n);let W=null!=P.offset?P.offset:function Gq(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}(P.styles),K=0;return null!=W&&(o++,K=P.offset=W),c=c||K<0||K>1,a=a||K<l,l=K,s.push(K),P});c&&n.errors.push(function K$(){return new ke(3012,!1)}()),a&&n.errors.push(function Q$(){return new ke(3200,!1)}());const d=t.steps.length;let p=0;o>0&&o<d?n.errors.push(function eq(){return new ke(3202,!1)}()):0==o&&(p=1/(d-1));const g=d-1,v=n.currentTime,w=n.currentAnimateTimings,E=w.duration;return u.forEach((N,P)=>{const W=p>0?P==g?1:p*P:s[P],K=W*E;n.currentTime=v+w.delay+K,w.duration=K,this._validateStyleAst(N,n),N.offset=W,r.styles.push(N)}),r}visitReference(t,n){return{type:8,animation:es(this,ah(t.animation),n),options:Dl(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:9,options:Dl(t.options)}}visitAnimateRef(t,n){return{type:10,animation:this.visitReference(t.animation,n),options:Dl(t.options)}}visitQuery(t,n){const r=n.currentQuerySelector,i=t.options||{};n.queryCount++,n.currentQuery=t;const[o,s]=function jq(e){const t=!!e.split(/\s*,\s*/).find(n=>":self"==n);return t&&(e=e.replace(Fq,"")),e=e.replace(/@\*/g,Cm).replace(/@\w+/g,n=>Cm+"-"+n.slice(1)).replace(/:animating/g,Aw),[e,t]}(t.selector);n.currentQuerySelector=r.length?r+" "+o:o,Qo(n.collectedStyles,n.currentQuerySelector,new Map);const a=es(this,ah(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Dl(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push(function tq(){return new ke(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:_m(t.timings,n.errors,!0);return{type:12,animation:es(this,ah(t.animation),n),timings:r,options:null}}}class Vq{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Dl(e){return e?(e=sh(e)).params&&(e.params=function zq(e){return e?sh(e):null}(e.params)):e={},e}function Tw(e,t,n){return{duration:e,delay:t,easing:n}}function Sw(e,t,n,r,i,o,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Mm{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,n){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Wq=new RegExp(":enter","g"),Xq=new RegExp(":leave","g");function Nw(e,t,n,r,i,o=new Map,s=new Map,a,c,l=[]){return(new $q).buildKeyframes(e,t,n,r,i,o,s,a,c,l)}class $q{buildKeyframes(t,n,r,i,o,s,a,c,l,u=[]){l=l||new Mm;const d=new kw(t,n,l,i,o,u,[]);d.options=c;const p=c.delay?Ua(c.delay):0;d.currentTimeline.delayNextStep(p),d.currentTimeline.setStyles([s],null,d.errors,c),es(this,r,d);const g=d.timelines.filter(v=>v.containsAnimation());if(g.length&&a.size){let v;for(let w=g.length-1;w>=0;w--){const E=g[w];if(E.element===n){v=E;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,d.errors,c)}return g.length?g.map(v=>v.buildKeyframes()):[Sw(n,[],[],[],0,p,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(t.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=t}visitAnimateRef(t,n){const r=n.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],n,r),this.visitReference(t.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=t}_applyAnimationRefDelays(t,n,r){for(const i of t){const o=i?.delay;if(o){const s="number"==typeof o?o:Ua(ch(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(t,n,r){let o=n.currentTimeline.currentTime;const s=null!=r.duration?Ua(r.duration):null,a=null!=r.delay?Ua(r.delay):null;return 0!==s&&t.forEach(c=>{const l=n.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(t,n){n.updateOptions(t.options,!0),es(this,t.animation,n),n.previousNode=t}visitSequence(t,n){const r=n.subContextCount;let i=n;const o=t.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Tm);const s=Ua(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>es(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){const r=[];let i=n.currentTimeline.currentTime;const o=t.options&&t.options.delay?Ua(t.options.delay):0;t.steps.forEach(s=>{const a=n.createSubContext(t.options);o&&a.delayNextStep(o),es(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){const r=t.strValue;return _m(n.params?ch(r,n.params,n.errors):r,n.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){const r=n.currentAnimateTimings=this._visitTiming(t.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=t}visitQuery(t,n){const r=n.currentTimeline.currentTime,i=t.options||{},o=i.delay?Ua(i.delay):0;o&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Tm);let s=r;const a=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{n.currentQueryIndex=u;const d=n.createSubContext(t.options,l);o&&d.delayNextStep(o),l===n.element&&(c=d.currentTimeline),es(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){const r=n.parentContext,i=n.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1);let c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const u=n.currentTimeline;c&&u.delayNextStep(c);const d=u.currentTime;es(this,t.animation,n),n.previousNode=t,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Tm={};class kw{constructor(t,n,r,i,o,s,a,c){this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Tm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Sm(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=Ua(r.duration)),null!=r.delay&&(i.delay=Ua(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=ch(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const n=this.options.params;if(n){const r=t.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return t}createSubContext(t=null,n,r){const i=n||this.element,o=new kw(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Tm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,r){const i={duration:n??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new qq(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,r,i,o,s){let a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(Wq,"."+this._enterClassName)).replace(Xq,"."+this._leaveClassName);let l=this._driver.query(this.element,t,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&0==a.length&&s.push(function nq(e){return new ke(3014,!1)}()),a}}class Sm{constructor(t,n,r,i){this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new Sm(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Va),this._currentKeyframe.set(n,Va);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,r,i){n&&this._previousKeyframe.set("easing",n);const o=i&&i.params||{},s=function Jq(e,t){const n=new Map;let r;return e.forEach(i=>{if("*"===i){r=r||t.keys();for(let o of r)n.set(o,Va)}else xc(i,n)}),n}(t,this._globalTimelineStyles);for(let[a,c]of s){const l=ch(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Va),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t)}))}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const l=xc(a,new Map,this._backFill);l.forEach((u,d)=>{"!"===u?t.add(d):u===Va&&n.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});const o=t.size?Am(t.values()):[],s=n.size?Am(n.values()):[];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return Sw(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class qq extends Sm{constructor(t,n,r,i,o,s,a=!1){super(t,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const o=[],s=r+n,a=n/s,c=xc(t[0]);c.set("offset",0),o.push(c);const l=xc(t[0]);l.set("offset",nP(a)),o.push(l);const u=t.length-1;for(let d=1;d<=u;d++){let p=xc(t[d]);const g=p.get("offset");p.set("offset",nP((n+g*r)/s)),o.push(p)}r=s,n=0,i="",t=o}return Sw(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function nP(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}function rP(e,t,n,r,i,o,s,a,c,l,u,d,p){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:p}}const Pw={};class iP{constructor(t,n,r){this._triggerName=t,this.ast=n,this._stateStyles=r}match(t,n,r,i){return function Kq(e,t,n,r,i){return e.some(o=>o(t,n,r,i))}(this.ast.matchers,t,n,r,i)}buildStyles(t,n,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(n,r):new Map}build(t,n,r,i,o,s,a,c,l,u){const d=[],p=this.ast.options&&this.ast.options.params||Pw,v=this.buildStyles(r,a&&a.params||Pw,d),w=c&&c.params||Pw,E=this.buildStyles(i,w,d),N=new Set,P=new Map,W=new Map,K="void"===i,de={params:Qq(w,p),delay:this.ast.options?.delay},ye=u?[]:Nw(t,n,this.ast.animation,o,s,v,E,de,l,d);let b=0;if(ye.forEach(k=>{b=Math.max(k.duration+k.delay,b)}),d.length)return rP(n,this._triggerName,r,i,K,v,E,[],[],P,W,b,d);ye.forEach(k=>{const R=k.element,X=Qo(P,R,new Set);k.preStyleProps.forEach(he=>X.add(he));const ce=Qo(W,R,new Set);k.postStyleProps.forEach(he=>ce.add(he)),R!==n&&N.add(R)});const M=Am(N.values());return rP(n,this._triggerName,r,i,K,v,E,ye,M,P,W,b)}}function Qq(e,t){const n=sh(t);for(const r in e)e.hasOwnProperty(r)&&null!=e[r]&&(n[r]=e[r]);return n}class eJ{constructor(t,n,r){this.styles=t,this.defaultParams=n,this.normalizer=r}buildStyles(t,n){const r=new Map,i=sh(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=ch(s,i,n));const c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),r.set(a,s)})}),r}}class nJ{constructor(t,n,r){this.name=t,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new eJ(i.style,i.options&&i.options.params||{},r))}),oP(this.states,"true","1"),oP(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new iP(t,i,this.states))}),this.fallbackTransition=function rJ(e,t,n){return new iP(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,r,i){return this.transitionFactories.find(s=>s.match(t,n,r,i))||null}matchStyles(t,n,r){return this.fallbackTransition.buildStyles(t,n,r)}}function oP(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}const iJ=new Mm;class oJ{constructor(t,n,r){this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,n){const r=[],o=Mw(this._driver,n,r,[]);if(r.length)throw function lq(e){return new ke(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,n,r){const i=t.element,o=Vk(this._normalizer,t.keyframes,n,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,n,r={}){const i=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=Nw(this._driver,n,o,_w,Im,new Map,new Map,r,iJ,i),s.forEach(u=>{const d=Qo(a,u.element,new Map);u.postStyleProps.forEach(p=>d.set(p,null))})):(i.push(function uq(){return new ke(3300,!1)}()),s=[]),i.length)throw function dq(e){return new ke(3504,!1)}();a.forEach((u,d)=>{u.forEach((p,g)=>{u.set(g,this._driver.computeStyle(d,g,Va))})});const l=Ec(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,l),l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(t){const n=this._playersById.get(t);if(!n)throw function fq(e){return new ke(3301,!1)}();return n}listen(t,n,r,i){const o=yw(n,"","","");return mw(this._getPlayer(t),r,o,i),()=>{}}command(t,n,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,n,i[0]||{});const o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const sP="ng-animate-queued",Ow="ng-animate-disabled",uJ=[],aP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dJ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},js="__ng_removed";class Rw{get params(){return this.options.params}constructor(t,n=""){this.namespaceId=n;const r=t&&t.hasOwnProperty("value");if(this.value=function gJ(e){return e??null}(r?t.value:t),r){const o=sh(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const n=t.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const lh="void",Lw=new Rw(lh);class fJ{constructor(t,n,r){this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Cs(n,this._hostClassName)}listen(t,n,r,i){if(!this._triggers.has(n))throw function hq(e,t){return new ke(3302,!1)}();if(null==r||0==r.length)throw function pq(e){return new ke(3303,!1)}();if(!function mJ(e){return"start"==e||"done"==e}(r))throw function gq(e,t){return new ke(3400,!1)}();const o=Qo(this._elementListeners,t,[]),s={name:n,phase:r,callback:i};o.push(s);const a=Qo(this._engine.statesByElement,t,new Map);return a.has(n)||(Cs(t,wm),Cs(t,wm+"-"+n),a.set(n,Lw)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(t,n){return!this._triggers.has(t)&&(this._triggers.set(t,n),!0)}_getTrigger(t){const n=this._triggers.get(t);if(!n)throw function mq(e){return new ke(3401,!1)}();return n}trigger(t,n,r,i=!0){const o=this._getTrigger(n),s=new Fw(this.id,n,t);let a=this._engine.statesByElement.get(t);a||(Cs(t,wm),Cs(t,wm+"-"+n),this._engine.statesByElement.set(t,a=new Map));let c=a.get(n);const l=new Rw(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=Lw),l.value!==lh&&c.value===l.value){if(!function bJ(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(c.params,l.params)){const w=[],E=o.matchStyles(c.value,c.params,w),N=o.matchStyles(l.value,l.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Al(t,E),ma(t,N)})}return}const p=Qo(this._engine.playersByElement,t,[]);p.forEach(w=>{w.namespaceId==this.id&&w.triggerName==n&&w.queued&&w.destroy()});let g=o.matchTransition(c.value,l.value,t,l.params),v=!1;if(!g){if(!i)return;g=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:g,fromState:c,toState:l,player:s,isFallbackTransition:v}),v||(Cs(t,sP),s.onStart(()=>{rd(t,sP)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);const E=this._engine.playersByElement.get(t);if(E){let N=E.indexOf(s);N>=0&&E.splice(N,1)}}),this.players.push(s),p.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const n=this._engine.playersByElement.get(t);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){const r=this._engine.driver.query(t,Cm,!0);r.forEach(i=>{if(i[js])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,n,r,i){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const u=this.trigger(t,l,lh,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,s),r&&Ec(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const n=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(n&&r){const i=new Set;n.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const c=this._triggers.get(s).fallbackTransition,l=r.get(s)||Lw,u=new Rw(lh),d=new Fw(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,n){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,n);else{const o=t[js];(!o||o===aP)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,n))}}insertNode(t,n){Cs(t,this._hostClassName)}drainQueuedTransitions(t){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const c=yw(o,r.triggerName,r.fromState.value,r.toState.value);c._data=t,mw(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class hJ{_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}constructor(t,n,r){this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,n){const r=new fJ(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){const c=i.get(a);if(c){const l=r.indexOf(c);r.splice(l+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(t)}else r.push(t);return i.set(n,t),t}register(t,n){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,n)),r}registerTrigger(t,n,r){let i=this._namespaceLookup[t];i&&i.register(n,r)&&this.totalAnimations++}destroy(t,n){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(t);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const n=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}return n}trigger(t,n,r,i){if(Nm(n)){const o=this._fetchNamespace(t);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(t,n,r,i){if(!Nm(n))return;const o=n[js];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Cs(t,Ow)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),rd(t,Ow))}removeNode(t,n,r){if(Nm(n)){const i=t?this._fetchNamespace(t):null;i?i.removeNode(n,r):this.markElementAsRemoved(t,n,!1,r);const o=this.namespacesByHostElement.get(n);o&&o.id!==t&&o.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(t,n,r,i,o){this.collectedLeaveElements.push(n),n[js]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,n,r,i,o){return Nm(n)?this._fetchNamespace(t).listen(n,r,i,o):()=>{}}_buildInstruction(t,n,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,n,o)}destroyInnerAnimations(t){let n=this.driver.query(t,Cm,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,Aw,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const n=this.playersByElement.get(t);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const n=this.playersByQueriedElement.get(t);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ec(this.players).onDone(()=>t());t()})}processLeaveNode(t){const n=t[js];if(n&&n.setForRemoval){if(t[js]=aP,n.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}t.classList?.contains(Ow)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Cs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?Ec(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function vq(e){return new ke(3402,!1)}()}_flushAnimations(t,n){const r=new Mm,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(U=>{u.add(U);const ne=this.driver.query(U,".ng-animate-queued",!0);for(let re=0;re<ne.length;re++)u.add(ne[re])});const d=this.bodyNode,p=Array.from(this.statesByElement.keys()),g=uP(p,this.collectedEnterElements),v=new Map;let w=0;g.forEach((U,ne)=>{const re=_w+w++;v.set(ne,re),U.forEach(le=>Cs(le,re))});const E=[],N=new Set,P=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){const ne=this.collectedLeaveElements[U],re=ne[js];re&&re.setForRemoval&&(E.push(ne),N.add(ne),re.hasAnimation?this.driver.query(ne,".ng-star-inserted",!0).forEach(le=>N.add(le)):P.add(ne))}const W=new Map,K=uP(p,Array.from(N));K.forEach((U,ne)=>{const re=Im+w++;W.set(ne,re),U.forEach(le=>Cs(le,re))}),t.push(()=>{g.forEach((U,ne)=>{const re=v.get(ne);U.forEach(le=>rd(le,re))}),K.forEach((U,ne)=>{const re=W.get(ne);U.forEach(le=>rd(le,re))}),E.forEach(U=>{this.processLeaveNode(U)})});const de=[],ye=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(n).forEach(re=>{const le=re.player,ft=re.element;if(de.push(le),this.collectedEnterElements.length){const be=ft[js];if(be&&be.setForMove){if(be.previousTriggersValues&&be.previousTriggersValues.has(re.triggerName)){const ze=be.previousTriggersValues.get(re.triggerName),tn=this.statesByElement.get(re.element);if(tn&&tn.has(re.triggerName)){const Dn=tn.get(re.triggerName);Dn.value=ze,tn.set(re.triggerName,Dn)}}return void le.destroy()}}const vt=!d||!this.driver.containsElement(d,ft),_n=W.get(ft),zn=v.get(ft),Ze=this._buildInstruction(re,r,zn,_n,vt);if(Ze.errors&&Ze.errors.length)return void ye.push(Ze);if(vt)return le.onStart(()=>Al(ft,Ze.fromStyles)),le.onDestroy(()=>ma(ft,Ze.toStyles)),void i.push(le);if(re.isFallbackTransition)return le.onStart(()=>Al(ft,Ze.fromStyles)),le.onDestroy(()=>ma(ft,Ze.toStyles)),void i.push(le);const Mt=[];Ze.timelines.forEach(be=>{be.stretchStartingKeyframe=!0,this.disabledNodes.has(be.element)||Mt.push(be)}),Ze.timelines=Mt,r.append(ft,Ze.timelines),s.push({instruction:Ze,player:le,element:ft}),Ze.queriedElements.forEach(be=>Qo(a,be,[]).push(le)),Ze.preStyleProps.forEach((be,ze)=>{if(be.size){let tn=c.get(ze);tn||c.set(ze,tn=new Set),be.forEach((Dn,Ht)=>tn.add(Ht))}}),Ze.postStyleProps.forEach((be,ze)=>{let tn=l.get(ze);tn||l.set(ze,tn=new Set),be.forEach((Dn,Ht)=>tn.add(Ht))})});if(ye.length){const U=[];ye.forEach(ne=>{U.push(function yq(e,t){return new ke(3505,!1)}())}),de.forEach(ne=>ne.destroy()),this.reportError(U)}const b=new Map,M=new Map;s.forEach(U=>{const ne=U.element;r.has(ne)&&(M.set(ne,ne),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,b))}),i.forEach(U=>{const ne=U.element;this._getPreviousPlayers(ne,!1,U.namespaceId,U.triggerName,null).forEach(le=>{Qo(b,ne,[]).push(le),le.destroy()})});const k=E.filter(U=>fP(U,c,l)),R=new Map;lP(R,this.driver,P,l,Va).forEach(U=>{fP(U,c,l)&&k.push(U)});const ce=new Map;g.forEach((U,ne)=>{lP(ce,this.driver,new Set(U),c,"!")}),k.forEach(U=>{const ne=R.get(U),re=ce.get(U);R.set(U,new Map([...ne?.entries()??[],...re?.entries()??[]]))});const he=[],Se=[],Ge={};s.forEach(U=>{const{element:ne,player:re,instruction:le}=U;if(r.has(ne)){if(u.has(ne))return re.onDestroy(()=>ma(ne,le.toStyles)),re.disabled=!0,re.overrideTotalTime(le.totalTime),void i.push(re);let ft=Ge;if(M.size>1){let _n=ne;const zn=[];for(;_n=_n.parentNode;){const Ze=M.get(_n);if(Ze){ft=Ze;break}zn.push(_n)}zn.forEach(Ze=>M.set(Ze,ft))}const vt=this._buildAnimation(re.namespaceId,le,b,o,ce,R);if(re.setRealPlayer(vt),ft===Ge)he.push(re);else{const _n=this.playersByElement.get(ft);_n&&_n.length&&(re.parentPlayer=Ec(_n)),i.push(re)}}else Al(ne,le.fromStyles),re.onDestroy(()=>ma(ne,le.toStyles)),Se.push(re),u.has(ne)&&i.push(re)}),Se.forEach(U=>{const ne=o.get(U.element);if(ne&&ne.length){const re=Ec(ne);U.setRealPlayer(re)}}),i.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<E.length;U++){const ne=E[U],re=ne[js];if(rd(ne,Im),re&&re.hasAnimation)continue;let le=[];if(a.size){let vt=a.get(ne);vt&&vt.length&&le.push(...vt);let _n=this.driver.query(ne,Aw,!0);for(let zn=0;zn<_n.length;zn++){let Ze=a.get(_n[zn]);Ze&&Ze.length&&le.push(...Ze)}}const ft=le.filter(vt=>!vt.destroyed);ft.length?vJ(this,ne,ft):this.processLeaveNode(ne)}return E.length=0,he.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();const ne=this.players.indexOf(U);this.players.splice(ne,1)}),U.play()}),he}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,r,i,o){let s=[];if(n){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const c=!o||o==lh;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(t,n,r){const o=n.element,s=n.isRemovalTransition?void 0:t,a=n.isRemovalTransition?void 0:n.triggerName;for(const c of n.timelines){const l=c.element,u=l!==o,d=Qo(r,l,[]);this._getPreviousPlayers(l,u,s,a,n.toState).forEach(g=>{const v=g.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),g.destroy(),d.push(g)})}Al(o,n.fromStyles)}_buildAnimation(t,n,r,i,o,s){const a=n.triggerName,c=n.element,l=[],u=new Set,d=new Set,p=n.timelines.map(v=>{const w=v.element;u.add(w);const E=w[js];if(E&&E.removedBeforeQueried)return new th(v.duration,v.delay);const N=w!==c,P=function yJ(e){const t=[];return dP(e,t),t}((r.get(w)||uJ).map(b=>b.getRealPlayer())).filter(b=>!!b.element&&b.element===w),W=o.get(w),K=s.get(w),de=Vk(this._normalizer,v.keyframes,W,K),ye=this._buildPlayer(v,de,P);if(v.subTimeline&&i&&d.add(w),N){const b=new Fw(t,a,w);b.setRealPlayer(ye),l.push(b)}return ye});l.forEach(v=>{Qo(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function pJ(e,t,n){let r=e.get(t);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}return r}(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>Cs(v,Yk));const g=Ec(p);return g.onDestroy(()=>{u.forEach(v=>rd(v,Yk)),ma(c,n.toStyles)}),d.forEach(v=>{Qo(i,v,[]).push(g)}),g}_buildPlayer(t,n,r){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,r):new th(t.duration,t.delay)}}class Fw{constructor(t,n,r){this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new th,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>mw(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){Qo(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const n=this._player;n.triggerCallback&&n.triggerCallback(t)}}function Nm(e){return e&&1===e.nodeType}function cP(e,t){const n=e.style.display;return e.style.display=t??"none",n}function lP(e,t,n,r,i){const o=[];n.forEach(c=>o.push(cP(c)));const s=[];r.forEach((c,l)=>{const u=new Map;c.forEach(d=>{const p=t.computeStyle(l,d,i);u.set(d,p),(!p||0==p.length)&&(l[js]=dJ,s.push(l))}),e.set(l,u)});let a=0;return n.forEach(c=>cP(c,o[a++])),s}function uP(e,t){const n=new Map;if(e.forEach(a=>n.set(a,[])),0==t.length)return n;const i=new Set(t),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=n.has(l)?l:i.has(l)?1:s(l),o.set(a,c),c}return t.forEach(a=>{const c=s(a);1!==c&&n.get(c).push(a)}),n}function Cs(e,t){e.classList?.add(t)}function rd(e,t){e.classList?.remove(t)}function vJ(e,t,n){Ec(n).onDone(()=>e.processLeaveNode(t))}function dP(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof WN?dP(r.players,t):t.push(r)}}function fP(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(o=>i.add(o)):t.set(e,r),n.delete(e),!0}class uh{constructor(t,n,r){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new hJ(t.body,n,r),this._timelineEngine=new oJ(t.body,n,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,n,r,i,o){const s=t+"-"+i;let a=this._triggerCache[s];if(!a){const c=[],u=Mw(this._driver,o,c,[]);if(c.length)throw function aq(e,t){return new ke(3404,!1)}();a=function tJ(e,t,n){return new nJ(e,t,n)}(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,r,i){this._transitionEngine.insertNode(t,n,r,i)}onRemove(t,n,r){this._transitionEngine.removeNode(t,n,r)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,r,i){if("@"==r.charAt(0)){const[o,s]=Gk(r);this._timelineEngine.command(o,n,s,i)}else this._transitionEngine.trigger(t,n,r,i)}listen(t,n,r,i,o){if("@"==r.charAt(0)){const[s,a]=Gk(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(t,n,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let wJ=(()=>{class e{static#e=this.initialStylesByElement=new WeakMap;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let o=e.initialStylesByElement.get(n);o||e.initialStylesByElement.set(n,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ma(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ma(this._element,this._initialStyles),this._endStyles&&(ma(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Al(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Al(this._element,this._endStyles),this._endStyles=null),ma(this._element,this._initialStyles),this._state=3)}}return e})();function Bw(e){let t=null;return e.forEach((n,r)=>{(function CJ(e){return"display"===e||"position"===e})(r)&&(t=t||new Map,t.set(r,n))}),t}class hP{constructor(t,n,r,i){this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const n=[];return t.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(t,n,r){return t.animate(this._convertKeyframesToObject(n),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:Jk(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const n="start"===t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class pP{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,n){return!1}containsElement(t,n){return Hk(t,n)}getParentElement(t){return bw(t)}query(t,n,r){return Zk(t,n,r)}computeStyle(t,n,r){return window.getComputedStyle(t)[n]}animate(t,n,r,i,o,s=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(c.easing=o);const l=new Map,u=s.filter(g=>g instanceof hP);(function Nq(e,t){return 0===e||0===t})(r,i)&&u.forEach(g=>{g.currentSnapshot.forEach((v,w)=>l.set(w,v))});let d=function Mq(e){return e.length?e[0]instanceof Map?e:e.map(t=>Xk(t)):[]}(n).map(g=>xc(g));d=function kq(e,t,n){if(n.size&&t.length){let r=t[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<t.length;o++){let s=t[o];i.forEach(a=>s.set(a,Jk(e,a)))}}return t}(t,d,l);const p=function IJ(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=Bw(t[0]),t.length>1&&(r=Bw(t[t.length-1]))):t instanceof Map&&(n=Bw(t)),n||r?new wJ(e,n,r):null}(t,d);return new hP(t,d,c,p)}}const gP="@.disabled";class mP{constructor(t,n,r,i){this.namespaceId=t,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,r,i=!0){this.delegate.insertBefore(t,n,r),this.engine.onInsert(this.namespaceId,n,t,i)}removeChild(t,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,r,i){this.delegate.setAttribute(t,n,r,i)}removeAttribute(t,n,r){this.delegate.removeAttribute(t,n,r)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,r,i){this.delegate.setStyle(t,n,r,i)}removeStyle(t,n,r){this.delegate.removeStyle(t,n,r)}setProperty(t,n,r){"@"==n.charAt(0)&&n==gP?this.disableAnimations(t,!!r):this.delegate.setProperty(t,n,r)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,r){return this.delegate.listen(t,n,r)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}}class _J extends mP{constructor(t,n,r,i,o){super(n,r,i,o),this.factory=t,this.namespaceId=n}setProperty(t,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==gP?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,n.slice(1),r):this.delegate.setProperty(t,n,r)}listen(t,n,r){if("@"==n.charAt(0)){const i=function AJ(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let o=n.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function DJ(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(t,n,r)}}class EJ{constructor(t,n,r){this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,o)=>{const s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(t,n){const i=this.delegate.createRenderer(t,n);if(!t||!n?.data?.animation){const l=this._rendererCache;let u=l.get(i);return u||(u=new mP("",i,this.engine,()=>l.delete(i)),l.set(i,u)),u}const o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,t,l.name,l)};return n.data.animation.forEach(a),new _J(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,r){if(t>=0&&t<this._microtaskId)return void this._zone.run(()=>n(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let xJ=(()=>{class e extends uh{constructor(n,r,i,o){super(n,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||e)(nt(Mr),nt(ww),nt(Cw),nt(sl))};static#t=this.\u0275prov=Me({token:e,factory:e.\u0275fac})}return e})();const vP=[{provide:Cw,useFactory:function MJ(){return new Kk}},{provide:uh,useClass:xJ},{provide:iy,useFactory:function TJ(e,t,n){return new EJ(e,t,n)},deps:[dw,uh,vn]}],SJ=[{provide:ww,useFactory:()=>new pP},{provide:eu,useValue:"BrowserAnimations"},...vP];(function s$(e,t){return g5({rootComponent:e,...Mk(t)})})(j$,{providers:[function kJ(){return[...SJ]}()]}).catch(e=>console.error(e))})()})();